!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){function t(t){for(var r,i,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)i=a[s],n[i]&&u.push(n[i][0]),n[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(l&&l(t);u.length;)u.shift()()}var r={},n={0:0};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,i){r=n[e]=[t,i]});t.push(r[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({}[e]||e)+".chunk.js"}(e),o=function(t){s.onerror=s.onload=null,clearTimeout(l);var r=n[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");o.type=i,o.request=a,r[1](o)}n[e]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://unpkg.com/indigo-player@1.0.0/lib/",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=o;return i(i.s=146)}([function(e,t,r){"use strict";var n,i,a,o,s,l;r.d(t,"a",function(){return n}),r.d(t,"d",function(){return i}),r.d(t,"c",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"e",function(){return s}),r.d(t,"f",function(){return l}),function(e){e.PREROLL="preroll",e.MIDROLL="midroll",e.POSTROLL="postroll"}(n||(n={})),function(e){e.MP4="mp4",e.MOV="mov",e.DASH="dash",e.HLS="hls"}(i||(i={})),function(e){e.ERROR="error",e.DESTROY="destroy",e.READY="ready",e.PLAYER_STATE_PLAY="player-state:play",e.PLAYER_STATE_PAUSE="player-state:pause",e.PLAYER_STATE_PLAYING="player-state:playing",e.PLAYER_STATE_ENDED="player-state:ended",e.PLAYER_STATE_SEEKED="player-state:seeked",e.PLAYER_STATE_TIMEUPDATE="player-state:timeupdate",e.PLAYER_STATE_READY="player-state:ready",e.PLAYER_STATE_WAITING="player-state:waiting",e.PLAYER_STATE_VOLUMECHANGE="player-state:volumechange",e.SHAKA_INSTANCE="shaka:instance",e.ADBREAKS="ad:adbreaks",e.ADBREAK_STARTED="ad:adbreak-started",e.ADBREAK_ENDED="ad:adbreak-ended",e.ADBREAK_STATE_TIMEUPDATE="ad-state:adbreak-timeupdate",e.ADBREAK_STATE_PLAY="ad-state:adbreak-play",e.ADBREAK_STATE_PAUSE="ad-state:adbreak-pause",e.ADBREAK_STATE_PLAYING="ad-state:adbreak-playing",e.AD_STARTED="ad:ad-started",e.AD_ENDED="ad:ad-ended",e.FULLSCREEN_SUPPORTED="fullscreen:supported",e.FULLSCREEN_CHANGE="fullscreen:change"}(a||(a={})),function(e){e[e.NO_SUPPORTED_FORMAT_FOUND=1001]="NO_SUPPORTED_FORMAT_FOUND"}(o||(o={})),function(e){e[e.ABORT=0]="ABORT",e[e.CONTINUE=1]="CONTINUE"}(s||(s={})),function(e){e[e.EXTENSION=0]="EXTENSION",e[e.CONTROLLER=1]="CONTROLLER",e[e.MEDIA=2]="MEDIA",e[e.PLAYER=3]="PLAYER"}(l||(l={}))},function(e,t,r){"use strict";var n=r(0),i=function(){function e(){this.hooks=[]}return e.prototype.create=function(e){this.hooks.push(e)},e.prototype.canExecute=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var i=0,a=this.hooks.filter(function(t){return t.name===e});i<a.length;i++){var o=a[i];if(o.method.apply(o,t)===n.e.ABORT)return!1}return!0},e}();r.d(t,"a",function(){return a});var a=function(){function e(e){this.name="unknown",this.hooks=new i,this.instance=e}return e.prototype.on=function(e,t){this.instance.on(e,t)},e.prototype.once=function(e,t){this.instance.on(e,t)},e.prototype.emit=function(e,t){this.instance.emit(e,t)},e}()},function(e,t,r){var n=r(31),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(66),i=r(71);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){
/*!
* screenfull
* v4.0.0 - 2018-12-15
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},r=e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=r.length,a={};n<i;n++)if((e=r[n])&&e[1]in t){for(n=0;n<e.length;n++)a[r[0][n]]=e[n];return a}return!1}(),a={change:i.fullscreenchange,error:i.fullscreenerror},o={request:function(e){return new Promise(function(r){var a=i.requestFullscreen,o=function(){this.off("change",o),r()}.bind(this);e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[a]():e[a](n?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",o)}.bind(this))},exit:function(){return new Promise(function(e){var r=function(){this.off("change",r),e()}.bind(this);t[i.exitFullscreen](),this.on("change",r)}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,r){var n=a[e];n&&t.addEventListener(n,r,!1)},off:function(e,r){var n=a[e];n&&t.removeEventListener(n,r,!1)},raw:i};i?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[i.fullscreenEnabled])}}}),r?e.exports=o:window.screenfull=o):r?e.exports=!1:window.screenfull=!1}()},function(e,t,r){var n=r(12),i=r(67),a=r(68),o="[object Null]",s="[object Undefined]",l=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:l&&l in Object(e)?i(e):a(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(16),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t,r){var n=r(56),i=r(57),a=r(58),o=r(59),s=r(60);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(20);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(2).Symbol;e.exports=n},function(e,t,r){var n=r(4)(Object,"create");e.exports=n},function(e,t,r){var n=r(80);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(3),i=r(28),a=r(113),o=r(116);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(o(e))}},function(e,t,r){var n=r(7),i=r(8),a="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&n(e)==a}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n,i=r(1),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.load=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return[2]})})},t.prototype.unload=function(){},t.prototype.play=function(){this.instance.player.play()},t.prototype.pause=function(){this.instance.player.pause()},t.prototype.seekTo=function(e){this.instance.player.seekTo(e)},t.prototype.setVolume=function(e){this.instance.player.setVolume(e)},t}(i.a)},function(e,t,r){var n=r(53)(r(125));e.exports=n},function(e,t,r){var n=r(54),i=r(111),a=r(121),o=r(3),s=r(122);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):s(e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(4)(r(2),"Map");e.exports=n},function(e,t,r){var n=r(72),i=r(79),a=r(81),o=r(82),s=r(83);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(39),i=r(103),a=r(26);e.exports=function(e){return a(e)?n(e):i(e)}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){var n=r(30),i=r(25);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){var n=r(15),i=r(9);e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},function(e,t,r){var n=r(3),i=r(16),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},function(e,t,r){var n=r(10),i=r(61),a=r(62),o=r(63),s=r(64),l=r(65);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,r){var n=r(7),i=r(5),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==o||t==s||t==a||t==l}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(52))},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(84),i=r(8);e.exports=function e(t,r,a,o,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,a,o,e,s))}},function(e,t,r){var n=r(85),i=r(88),a=r(89),o=1,s=2;e.exports=function(e,t,r,l,u,c){var d=r&o,f=e.length,h=t.length;if(f!=h&&!(d&&h>f))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var g=-1,v=!0,y=r&s?new n:void 0;for(c.set(e,t),c.set(t,e);++g<f;){var m=e[g],b=t[g];if(l)var E=d?l(b,m,g,t,e,c):l(m,b,g,e,t,c);if(void 0!==E){if(E)continue;v=!1;break}if(y){if(!i(t,function(e,t){if(!a(y,t)&&(m===e||u(m,e,r,l,c)))return y.push(t)})){v=!1;break}}else if(m!==b&&!u(m,b,r,l,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},function(e,t,r){var n=r(36),i=r(3);e.exports=function(e,t,r){var a=t(e);return i(e)?a:n(a,r(e))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t,r){var n=r(96),i=r(38),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),function(t){return a.call(e,t)}))}:i;e.exports=s},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(97),i=r(40),a=r(3),o=r(41),s=r(24),l=r(43),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),c=!r&&i(e),d=!r&&!c&&o(e),f=!r&&!c&&!d&&l(e),h=r||c||d||f,p=h?n(e.length,String):[],g=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(e,t,r){var n=r(98),i=r(8),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,r){(function(e){var n=r(2),i=r(99),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,r(42)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(100),i=r(101),a=r(102),o=a&&a.isTypedArray,s=o?i(o):n;e.exports=s},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(5);e.exports=function(e){return e==e&&!n(e)}},function(e,t){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){var n;"undefined"!=typeof window&&(n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,n||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=new Array(a);n<a;n++)o[n]=r[n].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},"./node_modules/node-libs-browser/node_modules/events/events.js":
/*!**********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),o=(u=r.slice()).length,l=0;l<o;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,a,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,a=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){var n,i,a,o,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var c=o.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=s.normalizePath(d)}else u.path=o.path,a.params||(u.params=o.params,a.query||(u.query=o.query));return null===u.path&&(u.path=r.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){function n(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var n=r(r.s=ENTRY_MODULE);return n.default||n}var i="[\\.|\\-|\\+|\\w|/|@]+",a="\\((/\\*.*?\\*/)?s?.*?("+i+").*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,n){var s={};s[n]=[];var l=t.toString(),u=l.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return s;for(var c,d=u[1],f=new RegExp("(\\\\n|\\W)"+o(d)+a,"g");c=f.exec(l);)"dll-reference"!==c[3]&&s[n].push(c[3]);for(f=new RegExp("\\("+o(d)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+a,"g");c=f.exec(l);)e[c[2]]||(s[n].push(c[1]),e[c[2]]=r(c[1]).m),s[c[2]]=s[c[2]]||[],s[c[2]].push(c[4]);for(var h,p=Object.keys(s),g=0;g<p.length;g++)for(var v=0;v<s[p[g]].length;v++)h=s[p[g]][v],isNaN(1*h)||(s[p[g]][v]=1*s[p[g]][v]);return s}function l(e){return Object.keys(e).reduce(function(t,r){return t||e[r].length>0},!1)}e.exports=function(e,t){t=t||{};var i={main:r.m},a=t.all?{main:Object.keys(i.main)}:function(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};l(r);)for(var a=Object.keys(r),o=0;o<a.length;o++){var u=a[o],c=r[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,n[u]=n[u]||[],n[u].push(c);for(var d=s(e,e[u][c],u),f=Object.keys(d),h=0;h<f.length;h++)r[f[h]]=r[f[h]]||[],r[f[h]]=r[f[h]].concat(d[f[h]])}}return n}(i,e),o="";Object.keys(a).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;a[e][t];)t++;a[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a[e].map(function(t){return JSON.stringify(t)+": "+i[e][t].toString()}).join(",")+"});\n"}),o=o+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a.main.map(function(e){return JSON.stringify(e)+": "+i.main[e].toString()}).join(",")+"}))(self);";var u=new window.Blob([o],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(c);return d.objectURL=c,d}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./controller/abr-controller */"./src/controller/abr-controller.js"),i=r(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.js"),a=r(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.js"),o=r(/*! ./controller/fps-controller */"./src/controller/fps-controller.js"),s=r(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.js"),l=r(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.js"),u=r(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.js"),c=r(/*! ./utils/cues */"./src/utils/cues.js"),d=r(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.js"),f=r(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.js"),h=r(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.js"),p=r(/*! ./controller/eme-controller */"./src/controller/eme-controller.js"),g=r(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:n.default,bufferController:i.default,capLevelController:a.default,fpsController:o.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=h.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=f.default,t.hlsDefaultConfig.timelineController=d.default,t.hlsDefaultConfig.cueHandler=c,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=u.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=p.default},"./src/controller/abr-controller.js":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=r(/*! ../errors */"./src/errors.js"),u=r(/*! ../utils/logger */"./src/utils/logger.js"),c=r(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.js"),d=window.performance,f=function(t){function r(e){var r=t.call(this,e,a.default.FRAG_LOADING,a.default.FRAG_LOADED,a.default.FRAG_BUFFERED,a.default.ERROR)||this;return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return i(r,t),r.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},r.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,n=r.config,i=t.level,a=void 0,o=void 0;r.levels[i].details.live?(a=n.abrEwmaFastLive,o=n.abrEwmaSlowLive):(a=n.abrEwmaFastVoD,o=n.abrEwmaSlowVoD),this._bwEstimator=new c.default(r,o,a,n.abrEwmaDefaultEstimate)}},r.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var n=r.loader,i=e.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=n.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var l=d.now()-o.trequest,c=Math.abs(t.playbackRate);if(l>500*r.duration/c){var f=e.levels,h=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/l),p=f[r.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,v=o.total?o.total:Math.max(o.loaded,Math.round(r.duration*g/8)),y=t.currentTime,m=(v-o.loaded)/h,b=(s.BufferHelper.bufferInfo(t,y,e.config.maxBufferHole).end-y)/c;if(b<2*r.duration/c&&m>b){var E=void 0,_=void 0;for(_=r.level-1;_>i;_--){var T=f[_].realBitrate?Math.max(f[_].realBitrate,f[_].bitrate):f[_].bitrate;if((E=r.duration*T/(6.4*h))<b)break}E<m&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+_+":fragLoadedDelay["+_+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+E.toFixed(1)+"<"+m.toFixed(1)+":"+b.toFixed(1)),e.nextLoadLevel=_,this._bwEstimator.sample(l,o.loaded),n.abort(),this.clearTimer(),e.trigger(a.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:o}))}}}}},r.prototype.onFragLoaded=function(t){var r=t.frag;if("main"===r.type&&e.isFinite(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[r.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,a=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:a},n.realBitrate=Math.round(8*i/a)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},r.prototype.onFragBuffered=function(t){var r=t.stats,n=t.frag;if(!0!==r.aborted&&"main"===n.type&&e.isFinite(n.sn)&&(!n.bitrateTest||r.tload===r.tbuffered)){var i=r.tparsed-r.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(r.tfirst-r.trequest)+"/"+Math.round(r.tload-r.tfirst)+"/"+Math.round(r.tparsed-r.tload)+"/"+Math.round(r.tbuffered-r.tparsed)+"/"+Math.round(8*r.loaded/(r.tbuffered-r.trequest))),this._bwEstimator.sample(i,r.loaded),r.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},r.prototype.onError=function(e){switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},r.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(r.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,n=e.config,i=e.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=a?a.currentTime:0,d=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,h=(s.BufferHelper.bufferInfo(a,c,n.maxBufferHole).end-c)/d,p=this._findBestLevel(o,l,f,i,t,h,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,n.maxStarvationDelay):n.maxStarvationDelay,v=n.abrBandWidthFactor,y=n.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;if(m)g=(l?Math.min(l,n.maxLoadingDelay):n.maxLoadingDelay)-m,u.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=y=1}return p=this._findBestLevel(o,l,f,i,t,h+g,v,y,r),Math.max(p,0)},enumerable:!0,configurable:!0}),r.prototype._findBestLevel=function(e,t,r,n,i,a,o,s,l){for(var c=i;c>=n;c--){var d=l[c];if(d){var f=d.details,h=f?f.totalduration/f.fragments.length:t,p=!!f&&f.live,g=void 0;g=c<=e?o*r:s*r;var v=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,y=v*h/g;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+v+"/"+h+"/"+a+"/"+y),g>v&&(!y||p&&!this.bitrateTestDelay||y<a))return c}}return-1},r}(o.default);t.default=f}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.js ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=r(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ./level-helper */"./src/controller/level-helper.js"),c=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),d=r(/*! ../errors */"./src/errors.js"),f=r(/*! ../utils/logger */"./src/utils/logger.js"),h=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),p=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),g=r(/*! ../loader/fragment */"./src/loader/fragment.js"),v=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),y=window.performance,m=function(t){function r(e,r){var n=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.AUDIO_TRACKS_UPDATED,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.BUFFER_RESET,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED,l.default.INIT_PTS_FOUND)||this;return n.fragmentTracker=r,n.config=e.config,n.audioCodecSwap=!1,n._state=v.State.STOPPED,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return i(r,t),r.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=v.State.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,n=e.initPTS;"main"===t&&(this.initPTS[r]=n,this.videoTrackCC=r,f.logger.log("InitPTS for cc: "+r+" found from video track: "+n),this.state===v.State.WAITING_INIT_PTS&&this.tick())},r.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(f.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=v.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=v.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=v.State.STOPPED},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v.State.STOPPED},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),r.prototype.doTick=function(){var t,r,n,i=this.hls,s=i.config;switch(this.state){case v.State.ERROR:case v.State.PAUSED:case v.State.BUFFER_FLUSHING:break;case v.State.STARTING:this.state=v.State.WAITING_TRACK,this.loadedmetadata=!1;break;case v.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,d=this.videoBuffer?this.videoBuffer:this.media,g=o.BufferHelper.bufferInfo(c,t,s.maxBufferHole),m=o.BufferHelper.bufferInfo(d,t,s.maxBufferHole),b=g.len,E=g.end,_=this.fragPrevious,T=Math.min(s.maxBufferLength,s.maxMaxBufferLength),S=Math.max(T,m.len),A=this.audioSwitch,R=this.trackId;if((b<S||A)&&R<u.length){if(void 0===(n=u[R].details)){this.state=v.State.WAITING_TRACK;break}if(!A&&this._streamEnded(g,n))return this.hls.trigger(l.default.BUFFER_EOS,{type:"audio"}),void(this.state=v.State.ENDED);var w=n.fragments,L=w.length,D=w[0].start,O=w[L-1].start+w[L-1].duration,k=void 0;if(A)if(n.live&&!n.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),E=0;else if(E=t,n.PTSKnown&&t<D){if(!(g.end>D||g.nextStart))return;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=D+.05}if(n.initSegment&&!n.initSegment.data)k=n.initSegment;else if(E<=D){if(k=w[0],null!==this.videoTrackCC&&k.cc!==this.videoTrackCC&&(k=h.findFragWithCC(w,this.videoTrackCC)),n.live&&k.loadIdx&&k.loadIdx===this.fragLoadIdx){var P=g.nextStart?g.nextStart:D;return f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(P+.05)),void(this.media.currentTime=P+.05)}}else{var x=void 0,I=s.maxFragLookUpTolerance,C=_?w[_.sn-w[0].sn+1]:void 0,M=function(e){var t=Math.min(I,e.duration);return e.start+e.duration-t<=E?1:e.start-t>E&&e.start?-1:0};E<O?(E>O-I&&(I=0),x=C&&!M(C)?C:a.default.search(w,M)):x=w[L-1],x&&(k=x,D=x.start,_&&k.level===_.level&&k.sn===_.sn&&(k.sn<n.endSN?(k=w[k.sn+1-n.startSN],f.logger.log("SN just loaded, load next one: "+k.sn)):k=null))}k&&(k.encrypted?(f.logger.log("Loading key for "+k.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+R),this.state=v.State.KEY_LOADING,i.trigger(l.default.KEY_LOADING,{frag:k})):(f.logger.log("Loading "+k.sn+", cc: "+k.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+R+", currentTime:"+t+",bufferEnd:"+E.toFixed(3)),this.fragCurrent=k,(A||this.fragmentTracker.getState(k)===p.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(k.sn)&&(this.nextLoadPosition=k.start+k.duration),i.trigger(l.default.FRAG_LOADING,{frag:k}),this.state=v.State.FRAG_LOADING)))}break;case v.State.WAITING_TRACK:(r=this.tracks[this.trackId])&&r.details&&(this.state=v.State.IDLE);break;case v.State.FRAG_LOADING_WAITING_RETRY:var F=y.now(),j=this.retryDate,N=(c=this.media)&&c.seeking;(!j||F>=j||N)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=v.State.IDLE);break;case v.State.WAITING_INIT_PTS:var U=this.videoTrackCC;if(void 0===this.initPTS[U])break;var B=this.waitingFragment;if(B){var G=B.frag.cc;U!==G?(r=this.tracks[this.trackId]).details&&r.details.live&&(f.logger.warn("Waiting fragment CC ("+G+") does not match video track CC ("+U+")"),this.waitingFragment=null,this.state=v.State.IDLE):(this.state=v.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=v.State.IDLE;break;case v.State.STOPPED:case v.State.FRAG_LOADING:case v.State.PARSING:case v.State.PARSED:case v.State.ENDED:}},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onAudioTracksUpdated=function(e){f.logger.log("audio tracks updated"),this.tracks=e.audioTracks},r.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=v.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=v.State.IDLE),this.tick()},r.prototype.onAudioTrackLoaded=function(t){var r=t.details,n=t.id,i=this.tracks[n],a=r.totalduration,o=0;if(f.logger.log("track "+n+" loaded ["+r.startSN+","+r.endSN+"],duration:"+a),r.live){var s=i.details;s&&r.fragments.length>0?(u.mergeDetails(s,r),o=r.fragments[0].start,r.PTSKnown?f.logger.log("live audio playlist sliding:"+o.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(r.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding"))}else r.PTSKnown=!1;if(i.details=r,!this.startFragRequested){if(-1===this.startPosition){var l=r.startTimeOffset;e.isFinite(l)?(f.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===v.State.WAITING_TRACK&&(this.state=v.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===v.State.KEY_LOADING&&(this.state=v.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===v.State.FRAG_LOADING&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var n=this.tracks[this.trackId],i=n.details,a=i.totalduration,o=t.level,u=t.sn,c=t.cc,d=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",h=this.stats=e.stats;if("initSegment"===u)this.state=v.State.IDLE,h.tparsed=h.tbuffered=y.now(),i.initSegment.data=e.payload,this.hls.trigger(l.default.FRAG_BUFFERED,{stats:h,frag:t,id:"audio"}),this.tick();else{this.state=v.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new s.default(this.hls,"audio"));var p=this.initPTS[c],g=i.initSegment?i.initSegment.data:[];if(i.initSegment||void 0!==p){this.pendingBuffering=!0,f.logger.log("Demuxing "+u+" of ["+i.startSN+" ,"+i.endSN+"],track "+o);this.demuxer.push(e.payload,g,d,null,t,a,!1,p)}else f.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+u+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.waitingFragment=e,this.state=v.State.WAITING_INIT_PTS}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===v.State.PARSING){var n=e.tracks,i=void 0;if(n.video&&delete n.video,i=n.audio){i.levelCodec=i.codec,i.id=e.id,this.hls.trigger(l.default.BUFFER_CODECS,n),f.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,o))}this.tick()}}},r.prototype.onFragParsingData=function(t){var r=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===v.State.PARSING){var a=this.trackId,o=this.tracks[a],s=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),n.addElementaryStream(g.default.ElementaryStreamTypes.AUDIO),f.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),u.updateFragPTSDTS(o.details,n,t.startPTS,t.endPTS);var c=this.audioSwitch,h=this.media,p=!1;if(c&&h)if(h.readyState){var y=h.currentTime;f.logger.log("switching audio track : currentTime:"+y),y>=t.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state=v.State.BUFFER_FLUSHING,s.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),p=!0,this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:a}))}else this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:a});var m=this.pendingData;if(!m)return f.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void s.trigger(l.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&m.push({type:t.type,data:e,parent:"audio",content:"data"})}),!p&&m.length&&(m.forEach(function(e){r.state===v.State.PARSING&&(r.pendingBuffering=!0,r.hls.trigger(l.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===v.State.PARSING&&(this.stats.tparsed=y.now(),this.state=v.State.PARSED,this._checkAppendedParsed())},r.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},r.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==v.State.PARSING&&t!==v.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==v.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=y.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("audio buffered : "+c.default.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=v.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag;if(!r||"audio"===r.type)switch(t.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=t.frag;if(n&&"audio"!==n.type)break;if(!t.fatal){var i=this.fragLoadError;if(i?i++:i=1,i<=(s=this.config).fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*s.fragLoadingRetryDelay,s.fragLoadingMaxRetryTimeout);f.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=y.now()+a,this.state=v.State.FRAG_LOADING_WAITING_RETRY}else f.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=v.State.ERROR}break;case d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case d.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==v.State.ERROR&&(this.state=t.fatal?v.State.ERROR:v.State.IDLE,f.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case d.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===v.State.PARSING||this.state===v.State.PARSED)){var s,u=this.mediaBuffer,c=this.media.currentTime;if(u&&o.BufferHelper.isBuffered(u,c)&&o.BufferHelper.isBuffered(u,c+.5))(s=this.config).maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,f.logger.warn("AudioStreamController: reduce max buffer length to "+s.maxMaxBufferLength+"s")),this.state=v.State.IDLE;else f.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=v.State.BUFFER_FLUSHING,this.hls.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"})}}},r.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(f.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(l.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=v.State.PARSED):(this.state=v.State.IDLE,this.fragPrevious=null,this.tick())},r}(v.default);t.default=m}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../task-loop */"./src/task-loop.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../errors */"./src/errors.js"),u=function(e){function t(t){var r=e.call(this,t,a.default.MANIFEST_LOADING,a.default.MANIFEST_PARSED,a.default.AUDIO_TRACK_LOADED,a.default.AUDIO_TRACK_SWITCHED,a.default.LEVEL_LOADED,a.default.ERROR)||this;return r._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return i(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(a.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)s.logger.warn("Invalid audio track id:",e.id);else{if(s.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var r=t.audioGroupIds[t.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===l.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(s.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)s.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)s.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];s.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var r=t.url,n=t.type,i=t.id;this.hls.trigger(a.default.AUDIO_TRACK_SWITCHING,{id:i,type:n,url:r}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var r=this.tracks[this._trackId],n=null;if(r&&(n=r.name),this._selectDefaultTrack){var i=t.filter(function(e){return e.default});i.length?t=i:s.logger.warn("No default audio tracks defined")}var o=!1,u=function(){t.forEach(function(t){o||e.audioGroupId&&t.groupId!==e.audioGroupId||n&&n!==t.name||(e._setAudioTrack(t.id),o=!0)})};u(),o||(n=null,u()),o||(s.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,r=e.url;return!(t&&!t.live)&&!!r},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,r=e.id;s.logger.log("loading audio-track playlist for id: "+r),this.hls.trigger(a.default.AUDIO_TRACK_LOADING,{url:t,id:r})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,s.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],r=t.name,n=t.language,i=t.groupId;s.logger.warn("Loading failed on audio track id: "+e+", group-id: "+i+', name/language: "'+r+'" / "'+n+'"');for(var a=e,o=0;o<this.tracks.length;o++){if(!this.trackIdBlacklist[o])if(this.tracks[o].name===r){a=o;break}}a!==e?(s.logger.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):s.logger.warn('No fallback audio-track found for name/language: "'+r+'" / "'+n+'"')},t}(o.default);t.default=u},"./src/controller/base-stream-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../task-loop */"./src/task-loop.js"),o=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js");t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(r){function n(){return null!==r&&r.apply(this,arguments)||this}return i(n,r),n.prototype.doTick=function(){},n.prototype._streamEnded=function(e,t){var r=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var i=n.getState(r);return i===o.FragmentState.PARTIAL||i===o.FragmentState.OK}return!1},n.prototype.onMediaSeeking=function(){var r=this.config,n=this.media,i=this.mediaBuffer,a=this.state,o=n?n.currentTime:null,u=s.BufferHelper.bufferInfo(i||n,o,this.config.maxBufferHole);if(e.isFinite(o)&&l.logger.log("media seeking to "+o.toFixed(3)),a===t.State.FRAG_LOADING){var c=this.fragCurrent;if(0===u.len&&c){var d=r.maxFragLookUpTolerance,f=c.start-d,h=c.start+c.duration+d;o<f||o>h?(c.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else a===t.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);n&&(this.lastCurrentTime=o),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=o),this.tick()},n.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},n}(a.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../errors */"./src/errors.js"),u=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js").getMediaSource(),c=function(t){function r(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_RESET,a.default.BUFFER_APPENDING,a.default.BUFFER_CODECS,a.default.BUFFER_EOS,a.default.BUFFER_FLUSHING,a.default.LEVEL_PTS_UPDATED,a.default.LEVEL_UPDATED)||this;return r._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r.bufferCodecEventsExpected=0,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return i(r,t),r.prototype.destroy=function(){o.default.prototype.destroy.call(this)},r.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-e.start)>.1){var i=n.updating;try{n.abort()}catch(e){s.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(s.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},r.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,s.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},r.prototype.onMediaDetaching=function(){s.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){s.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):s.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(a.default.MEDIA_DETACHED)},r.prototype.onMediaSourceOpen=function(){s.logger.log("media source opened"),this.hls.trigger(a.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},r.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},r.prototype.onMediaSourceClose=function(){s.logger.log("media source closed")},r.prototype.onMediaSourceEnded=function(){s.logger.log("media source ended")},r.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;s.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0),n={},i=this.sourceBuffer;for(var o in i)n[o]=i[o].buffered;this.hls.trigger(a.default.BUFFER_APPENDED,{parent:t,pending:r,timeRanges:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===r&&this.flushLiveBackBuffer()},r.prototype.onSBUpdateError=function(e){s.logger.error("sourceBuffer error:",e),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach(function(r){t.pendingTracks[r]=e[r]});var r=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),r&&"open"===r.readyState&&this.checkPendingTracks()}},r.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var n in e)if(!t[n]){var i=e[n],o=i.levelCodec||i.codec,u=i.container+";codecs="+o;s.logger.log("creating sourceBuffer("+u+")");try{var c=t[n]=r.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[n]={codec:o,container:i.container},i.buffer=c}catch(e){s.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:u})}}this.hls.trigger(a.default.BUFFER_CREATED,{tracks:e})},r.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},r.prototype.onBufferAppendFail=function(e){s.logger.error("sourceBuffer error:",e.event),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var n in t)r&&n!==r||t[n].ended||(t[n].ended=!0,s.logger.log(n+" sourceBuffer now EOS"));this.checkEos()},r.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var n=e[r];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}s.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){s.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},r.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),i=t-Math.max(e,this._levelTargetDuration),a=n.length-1;a>=0;a--){var o=n[a],s=r[o].buffered;s.length>0&&i>s.start(0)&&this.removeBufferRange(o,r[o],0,i)}}},r.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},r.prototype.updateMediaElementDuration=function(){var t,r=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===r.liveDurationInfinity?(s.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(s.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r)t+=r[n].buffered.length}catch(e){s.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(a.default.BUFFER_FLUSHED)}},r.prototype.doAppending=function(){var e=this.hls,t=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void s.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var n=t.shift();try{var i=r[n.type];i?i.updating?t.unshift(n):(i.ended=!1,this.parent=n.parent,i.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(r){s.logger.error("error while trying to append buffer:"+r.message),t.unshift(n);var o={type:l.ErrorTypes.MEDIA_ERROR,parent:n.parent};22!==r.code?(this.appendError?this.appendError++:this.appendError=1,o.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(s.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0,e.trigger(a.default.ERROR,o)):(o.fatal=!1,e.trigger(a.default.ERROR,o))):(this.segments=[],o.details=l.ErrorDetails.BUFFER_FULL_ERROR,o.fatal=!1,e.trigger(a.default.ERROR,o))}}}},r.prototype.flushBuffer=function(e,t,r){var n,i=this.sourceBuffer;if(Object.keys(i).length){if(s.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var a in i)if(!r||a===r){if((n=i[a]).ended=!1,n.updating)return s.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(a,n,e,t))return this.flushBufferCounter++,!1}}else s.logger.warn("abort flushing too many retries");s.logger.log("buffer flushed")}return!0},r.prototype.removeBufferRange=function(e,t,r,n){try{for(var i=0;i<t.buffered.length;i++){var a=t.buffered.start(i),o=t.buffered.end(i),l=Math.max(a,r),u=Math.min(o,n);if(Math.min(u,o)-l>.5)return s.logger.log("sb remove "+e+" ["+l+","+u+"], of ["+a+","+o+"], pos:"+this.media.currentTime),t.remove(l,u),!0}}catch(e){s.logger.warn("removeBufferRange failed",e)}return!1},r}(o.default);t.default=c}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=function(t){function r(r){var n=t.call(this,r,a.default.FPS_DROP_LEVEL_CAPPING,a.default.MEDIA_ATTACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_CODECS,a.default.MEDIA_DETACHING)||this;return n.autoLevelCapping=e.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n}return i(r,t),r.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},r.prototype.onFpsDropLevelCapping=function(e){r.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},r.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},r.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onLevelsUpdated=function(e){this.levels=e.levels},r.prototype.onMediaDetaching=function(){this._stopCapping()},r.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},r.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,i){return r.isLevelAllowed(i,t.restrictedLevels)&&i<=e});return r.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},r.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(r.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),r.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},r.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var n,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=r)&&(n=s,!(i=e[o+1])||n.width!==i.width||n.height!==i.height)){a=o;break}}return a},r}(r(/*! ../event-handler */"./src/event-handler.js").default);t.default=o}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../events */"./src/events.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=window.XMLHttpRequest,c="com.widevine.alpha",d="com.microsoft.playready",f=function(e){function t(t){var r=e.call(this,t,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return r._widevineLicenseUrl=t.config.widevineLicenseUrl,r._licenseXhrSetup=t.config.licenseXhrSetup,r._emeEnabled=t.config.emeEnabled,r._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return i(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case c:t=this._widevineLicenseUrl;break;default:t=null}return t||(l.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,r){var n=this,i=function(e,t,r){switch(e){case c:return function(e,t,r){var n={videoCapabilities:[]};return t.forEach(function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[n]}(0,r);default:throw Error("Unknown key-system: "+e)}}(e,0,r);i?(l.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,i).then(function(t){n._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){l.logger.error('Failed to obtain key-system "'+e+'" access:',t)})):l.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(t.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var r=this;l.logger.log('Access for key-system "'+e+'" obtained');var n={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(n),t.createMediaKeys().then(function(t){n.mediaKeys=t,l.logger.log('Media-keys created for key-system "'+e+'"'),r._onMediaKeysCreated()}).catch(function(e){l.logger.error("Failed to create media-keys:",e)})},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},t.prototype._onNewMediaKeySession=function(e){var t=this;l.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",function(r){t._onKeySessionMessage(e,r.message)},!1)},t.prototype._onKeySessionMessage=function(e,t){l.logger.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){l.logger.log("Received license data, updating key-session"),e.update(t)})},t.prototype._onMediaEncrypted=function(e,t){l.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return l.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});l.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return l.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)l.logger.warn("Key-Session already initialized but requested again");else{var r=t.mediaKeysSession;r||(l.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var n=this._mediaEncryptionInitDataType,i=this._mediaEncryptionInitData;l.logger.log('Generating key-session request for "'+n+'" init data type'),t.mediaKeysSessionInitialized=!0,r.generateRequest(n,i).then(function(){l.logger.debug("Key-session generation succeeded")}).catch(function(t){l.logger.error("Error generating key-session request:",t),e.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},t.prototype._createLicenseXhr=function(e,t,r){var n=new u,i=this._licenseXhrSetup;try{if(i)try{i(n,e)}catch(t){n.open("POST",e,!0),i(n,e)}n.readyState||n.open("POST",e,!0)}catch(e){return l.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,e,t,r),n},t.prototype._onLicenseRequestReadyStageChange=function(e,t,r,n){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,l.logger.log("License request succeeded"),n(e.response);else{if(l.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var i=3-this._requestLicenseFailureCount+1;return l.logger.warn("Retrying license request, "+i+" attempts left"),void this._requestLicense(r,n)}this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var r;return e.mediaKeySystemDomain===d?l.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===c?r=t:l.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),r},t.prototype._requestLicense=function(e,t){l.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return l.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var n=this.getLicenseServerUrl(r.mediaKeySystemDomain),i=this._createLicenseXhr(n,e,t);l.logger.log("Sending license request to URL: "+n),i.send(this._generateLicenseRequestChallenge(r,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener("encrypted",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),r=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(c,t,r)}},t}(a.default);t.default=f},"./src/controller/fps-controller.js":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=window.performance,u=function(e){function t(t){return e.call(this,t,a.default.MEDIA_ATTACHING)||this}return i(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,r){var n=l.now();if(t){if(this.lastTime){var i=n-this.lastTime,o=r-this.lastDroppedFrames,u=t-this.lastDecodedFrames,c=1e3*o/i,d=this.hls;if(d.trigger(a.default.FPS_DROP,{currentDropped:o,currentDecoded:u,totalDroppedFrames:r}),c>0&&o>d.config.fpsDroppedMonitoringThreshold*u){var f=d.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=f)&&(f-=1,d.trigger(a.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:d.currentLevel}),d.autoLevelCapping=f,d.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(o.default);t.default=u},"./src/controller/fragment-finders.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/binary-search */"./src/utils/binary-search.js");function i(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function a(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-n>e}t.findFragmentByPDT=function(t,r,n){if(!Array.isArray(t)||!t.length||!e.isFinite(r))return null;if(r<t[0].programDateTime)return null;if(r>=t[t.length-1].endProgramDateTime)return null;n=n||0;for(var i=0;i<t.length;++i){var o=t[i];if(a(r,n,o))return o}return null},t.findFragmentByPTS=function(e,t,r,a){void 0===r&&(r=0),void 0===a&&(a=0);var o=e?t[e.sn-t[0].sn+1]:null;return o&&!i(r,a,o)?o:n.default.search(t,i.bind(null,r,a))},t.fragmentWithinToleranceTest=i,t.pdtWithinToleranceTest=a}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../events */"./src/events.js");t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var s=function(r){function n(e){var t=r.call(this,e,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return i(n,r),n.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,a.default.prototype.destroy.call(this),r.prototype.destroy.call(this)},n.prototype.getBufferedFrag=function(e,t){var r=this.fragments,n=Object.keys(r).filter(function(n){var i=r[n];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var a=i.body;return a.startPTS<=e&&e<=a.endPTS});if(0===n.length)return null;var i=n.pop();return r[i].body},n.prototype.detectEvictedFragments=function(e,t){var r,n,i=this;Object.keys(this.fragments).forEach(function(a){var o=i.fragments[a];if(!0===o.buffered){var s=o.range[e];if(s){r=s.time;for(var l=0;l<r.length;l++)if(n=r[l],!1===i.isTimeBuffered(n.startPTS,n.endPTS,t)){i.removeFragment(o.body);break}}}})},n.prototype.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach(function(r){if(e.hasElementaryStream(r)){var i=t.timeRanges[r];n.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}}))},n.prototype.getBufferedTimes=function(e,t,r){for(var n,i,a=[],o=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,e>=n&&t<=i){a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<i&&t>n)a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),o=!0;else if(t<=n)break}return{time:a,partial:o}},n.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},n.prototype.getPartialFragment=function(e){var t,r,n,i=this,a=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=i.fragments[s];i.isPartial(l)&&(r=l.body.startPTS-i.bufferPadding,n=l.body.endPTS+i.bufferPadding,e>=r&&e<=n&&(t=Math.min(e-r,n-e),o<=t&&(a=l.body,o=t)))}),a},n.prototype.getState=function(e){var r=this.getFragmentKey(e),n=this.fragments[r],i=t.FragmentState.NOT_LOADED;return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),i},n.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},n.prototype.isTimeBuffered=function(e,t,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},n.prototype.onFragLoaded=function(t){var r=t.frag;e.isFinite(r.sn)&&!r.bitrateTest&&(this.fragments[this.getFragmentKey(r)]={body:r,range:Object.create(null),buffered:!1})},n.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)})},n.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},n.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},n.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},n.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},n}(a.default);t.FragmentTracker=s}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),i=r(/*! ../errors */"./src/errors.js"),a=r(/*! ../events */"./src/events.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),s=function(){function e(e,t,r,n){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n,this.stallReported=!1}return e.prototype.poll=function(e,t){var r=this.config,i=this.media,a=i.currentTime,s=window.performance.now();if(a!==e)return this.stallReported&&(o.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(i.ended||!i.buffered.length||i.readyState>2||i.seeking&&n.BufferHelper.isBuffered(i,a))){var l=s-this.stalled,u=n.BufferHelper.bufferInfo(i,a,r.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=s}},e.prototype._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,a=n.getPartialFragment(i);a&&this._trySkipBufferHole(a),e.len>.5&&t>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,r=this.media,n=r.currentTime,s=0,l=0;l<r.buffered.length;l++){var u=r.buffered.start(l);if(n>=s&&n<u)return r.currentTime=Math.max(u,r.currentTime+.1),o.logger.warn("skipping hole, adjusting currentTime from "+n+" to "+r.currentTime),this.stalled=null,void t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+n+" to "+r.currentTime,frag:e});s=r.buffered.end(l)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=r.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=n+s*e.nudgeOffset;o.logger.log("adjust currentTime from "+n+" to "+l),r.currentTime=l,t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("still stuck in high buffer @"+n+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=s},"./src/controller/id3-track-controller.js":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../demux/id3 */"./src/demux/id3.js"),l=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),u=function(e){function t(t){var r=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_METADATA)||this;return r.id3Track=void 0,r.media=void 0,r}return i(t,e),t.prototype.destroy=function(){o.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return l.sendAddTrackEvent(r,this.media),r}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var a=s.default.getID3Frames(r[i].data);if(a){var o=r[i].pts,l=i<r.length-1?r[i+1].pts:t.endPTS;o===l&&(l+=1e-4);for(var u=0;u<a.length;u++){var c=a[u];if(!s.default.isTimeStampFrame(c)){var d=new n(o,l,"");d.value=c,this.id3Track.addCue(d)}}}}},t}(o.default);t.default=u},"./src/controller/level-controller.js":
/*!********************************************!*\
  !*** ./src/controller/level-controller.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,o=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../errors */"./src/errors.js"),c=r(/*! ../utils/codecs */"./src/utils/codecs.js"),d=r(/*! ./level-helper */"./src/controller/level-helper.js"),f=window.performance,h=function(e){function t(t){var r=e.call(this,t,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,a=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}return i(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,r=[],n=[],i={},s=null,f=!1,h=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,f=f||!!e.videoCodec,h=h||!!e.audioCodec,a&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(s=i[e.bitrate])?s.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(h=!0,d.addGroupId(s||e,"audio",t.AUDIO)),t.SUBTITLES&&d.addGroupId(s||e,"text",t.SUBTITLES))}),f&&h&&(r=r.filter(function(e){return!!e.videoCodec})),r=r.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||c.isCodecSupportedInMp4(t,"audio"))&&(!r||c.isCodecSupportedInMp4(r,"video"))}),e.audioTracks&&(n=e.audioTracks.filter(function(e){return!e.audioCodec||c.isCodecSupportedInMp4(e.audioCodec,"audio")})).forEach(function(e,t){e.id=t}),r.length>0){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var p=0;p<r.length;p++)if(r[p].bitrate===t){this._firstLevel=p,l.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:e.stats,audio:h,video:f,altAudio:n.some(function(e){return!!e.url})})}else this.hls.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,r.trigger(o.default.LEVEL_SWITCHING,n)}var i=t[e],a=i.details;if(!a||a.live){var s=i.urlId;r.trigger(o.default.LEVEL_LOADING,{url:i.url[s],level:e,id:s})}}else r.trigger(o.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,n=!1;switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,n=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,n)}},t.prototype.recoverLevel=function(e,t,r,n){var i,a,o,s=this,u=this.hls.config,c=e.details,d=this._levels[t];if(d.loadError++,d.fragmentError=n,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},a),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+c+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((i=d.url.length)>1&&d.loadError<i?(d.urlId=(d.urlId+1)%i,d.details=void 0,l.logger.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,l.logger.warn("level controller, "+c+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):n&&(l.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,r=e.level;if(r===this.currentLevelIndex){var n=this._levels[r];n.fragmentError||(n.loadError=0,this.levelRetryCount=0);var i=e.details;if(i.live){var a=1e3*(i.averagetargetduration?i.averagetargetduration:i.targetduration),o=a,s=n.details;s&&i.endSN===s.endSN&&(o/=2,l.logger.log("same live playlist, reload twice faster")),o-=f.now()-e.stats.trequest,o=Math.max(a/2,Math.round(o)),l.logger.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},o)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){var n=r.audioGroupIds.findIndex(function(e){return e===t});n!==r.urlId&&(r.urlId=n,this.startLoad())}},t.prototype.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,n=e.url[r];l.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(o.default.LEVEL_LOADING,{url:n,level:t,id:r})}}},Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(s.default);t.default=h},"./src/controller/level-helper.js":
/*!****************************************!*\
  !*** ./src/controller/level-helper.js ***!
  \****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js");function i(t,r,i){var a=t[r],o=t[i],s=o.startPTS;e.isFinite(s)?i>r?(a.duration=s-a.start,a.duration<0&&n.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):(o.duration=a.start-s,o.duration<0&&n.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):o.start=i>r?a.start+a.duration:Math.max(a.start-o.duration,0)}function a(t,r,n,a,o,s){var l=n;if(e.isFinite(r.startPTS)){var u=Math.abs(r.startPTS-n);e.isFinite(r.deltaPTS)?r.deltaPTS=Math.max(u,r.deltaPTS):r.deltaPTS=u,l=Math.max(n,r.startPTS),n=Math.min(n,r.startPTS),a=Math.max(a,r.endPTS),o=Math.min(o,r.startDTS),s=Math.max(s,r.endDTS)}var c=n-r.start;r.start=r.startPTS=n,r.maxStartPTS=l,r.endPTS=a,r.startDTS=o,r.endDTS=s,r.duration=a-n;var d,f,h,p=r.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for(d=p-t.startSN,(f=t.fragments)[d]=r,h=d;h>0;h--)i(f,h,h-1);for(h=d;h<f.length-1;h++)i(f,h,h+1);return t.PTSKnown=!0,c}t.addGroupId=function(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}},t.updatePTS=i,t.updateFragPTSDTS=a,t.mergeDetails=function(t,r){var i,o=Math.max(t.startSN,r.startSN)-r.startSN,s=Math.min(t.endSN,r.endSN)-r.startSN,l=r.startSN-t.startSN,u=t.fragments,c=r.fragments,d=0;if(r.initSegment&&t.initSegment&&(r.initSegment=t.initSegment),s<o)r.PTSKnown=!1;else{for(var f=o;f<=s;f++){var h=u[l+f],p=c[f];p&&h&&(d=h.cc-p.cc,e.isFinite(h.startPTS)&&(p.start=p.startPTS=h.startPTS,p.endPTS=h.endPTS,p.duration=h.duration,p.backtracked=h.backtracked,p.dropped=h.dropped,i=p))}if(d)for(n.logger.log("discontinuity sliding from playlist, take drift into account"),f=0;f<c.length;f++)c[f].cc+=d;if(i)a(r,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS);else if(l>=0&&l<u.length){var g=u[l].start;for(f=0;f<c.length;f++)c[f].start+=g}r.PTSKnown=t.PTSKnown}}}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=r(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),c=r(/*! ../loader/fragment */"./src/loader/fragment.js"),d=r(/*! ../loader/playlist-loader */"./src/loader/playlist-loader.js"),f=r(/*! ./level-helper */"./src/controller/level-helper.js"),h=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),p=r(/*! ../errors */"./src/errors.js"),g=r(/*! ../utils/logger */"./src/utils/logger.js"),v=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),y=r(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),m=r(/*! ./gap-controller */"./src/controller/gap-controller.js"),b=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),E=function(t){function r(e,r){var n=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this;return n.fragmentTracker=r,n.config=e.config,n.audioCodecSwap=!1,n._state=b.State.STOPPED,n.stallReported=!1,n.gapController=null,n}return i(r,t),r.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=b.State.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(g.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=b.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=b.State.STOPPED},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=b.State.STOPPED,this.forceStartLoad=!1},r.prototype.doTick=function(){switch(this.state){case b.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case b.State.IDLE:this._doTickIdle();break;case b.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=b.State.IDLE);break;case b.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=b.State.IDLE);break;case b.State.ERROR:case b.State.STOPPED:case b.State.FRAG_LOADING:case b.State.PARSING:case b.State.PARSED:case b.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},r.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,a=this.levels[i];if(a){var s,u=a.bitrate;s=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var c=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,t.maxBufferHole),d=c.len;if(!(d>=s)){g.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var f=a.details;if(!f||f.live&&this.levelLastLoaded!==i)this.state=b.State.WAITING_LEVEL;else{if(this._streamEnded(c,f)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(l.default.BUFFER_EOS,h),void(this.state=b.State.ENDED)}this._fetchPayloadOrEos(n,c,f)}}}}},r.prototype._fetchPayloadOrEos=function(e,t,r){var n=this.fragPrevious,i=this.level,a=r.fragments,o=a.length;if(0!==o){var s,l=a[0].start,u=a[o-1].start+a[o-1].duration,c=t.end;if(r.initSegment&&!r.initSegment.data)s=r.initSegment;else if(r.live){var d=this.config.initialLiveManifestSize;if(o<d)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+d);if(null===(s=this._ensureFragmentAtLivePoint(r,c,l,u,n,a,o)))return}else c<l&&(s=a[0]);s||(s=this._findFragment(l,n,o,a,c,u,r)),s&&(s.encrypted?(g.logger.log("Loading key for "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i),this._loadKey(s)):(g.logger.log("Loading "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i+", currentTime:"+e.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},r.prototype._ensureFragmentAtLivePoint=function(e,t,r,n,i,o,s){var l,u=this.hls.config,c=this.media,d=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-u.maxFragLookUpTolerance,n-d)){var f=this.liveSyncPosition=this.computeLivePosition(r,e);g.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),t=f,c&&c.readyState&&c.duration>f&&(c.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>n&&c&&c.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i)if(e.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),l=y.findFragmentByPDT(o,i.endProgramDateTime,u.maxFragLookUpTolerance);else{var h=i.sn+1;if(h>=e.startSN&&h<=e.endSN){var p=o[h-e.startSN];i.cc===p.cc&&(l=p,g.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=a.default.search(o,function(e){return i.cc-e.cc}))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=o[Math.min(s-1,Math.round(s/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},r.prototype._findFragment=function(e,t,r,n,i,a,o){var s,l=this.hls.config;if(i<a){var u=i>a-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=y.findFragmentByPTS(t,n,i,u)}else s=n[r-1];if(s){var c=s.sn-o.startSN,d=t&&s.level===t.level,f=n[c-1],h=n[c+1];if(t&&s.sn===t.sn)if(d&&!s.backtracked)if(s.sn<o.endSN){var p=t.deltaPTS;p&&p>l.maxBufferHole&&t.dropped&&c?(s=f,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=h,g.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(h&&h.backtracked?(g.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+h.sn),s=h):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,f?(s=f).backtracked=!0:c&&(s=null)))}return s},r.prototype._loadKey=function(e){this.state=b.State.KEY_LOADING,this.hls.trigger(l.default.KEY_LOADING,{frag:e})},r.prototype._loadFragment=function(t){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===u.FragmentState.NOT_LOADED||r===u.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new s.default(this.hls,"main")),this.state=b.State.FRAG_LOADING):r===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,g.logger.log("main stream:"+t+"->"+e),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),r.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,d.default.LevelType.MAIN)},Object.defineProperty(r.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),r.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(r.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),r.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),o.BufferHelper.isBuffered(r,t)?e=this.getBufferedFrag(t):o.BufferHelper.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:n});var i=n.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=n}}},r.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,r=void 0;t?(r=t.paused,t.pause()):r=!0,this.previouslyPaused=r}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},r.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},r.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var r,n=void 0,i=void 0;if((r=this.getBufferedFrag(t.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)n=0;else{var a=this.hls.nextLoadLevel,o=this.levels[a],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if((i=this.getBufferedFrag(t.currentTime+n))&&(i=this.followingBufferedFrag(i))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,e.POSITIVE_INFINITY)}}},r.prototype.flushMainBuffer=function(e,t){this.state=b.State.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,r)},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new m.default(r,t,this.fragmentTracker,this.hls)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onMediaSeeked=function(){var t=this.media,r=t?t.currentTime:void 0;e.isFinite(r)&&g.logger.log("media seeked to "+r.toFixed(3)),this.tick()},r.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},r.prototype.onManifestParsed=function(e){var t,r=!1,n=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},r.prototype.onLevelLoaded=function(t){var r=t.details,n=t.level,i=this.levels[this.levelLastLoaded],a=this.levels[n],o=r.totalduration,s=0;if(g.logger.log("level "+n+" loaded ["+r.startSN+","+r.endSN+"],duration:"+o),r.live){var u=a.details;u&&r.fragments.length>0?(f.mergeDetails(u,r),s=r.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),r.PTSKnown&&e.isFinite(s)?g.logger.log("live playlist sliding:"+s.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),v.alignStream(this.fragPrevious,i,r))):(g.logger.log("live playlist - first load, unknown sliding"),r.PTSKnown=!1,v.alignStream(this.fragPrevious,i,r))}else r.PTSKnown=!1;if(a.details=r,this.levelLastLoaded=n,this.hls.trigger(l.default.LEVEL_UPDATED,{details:r,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=r.startTimeOffset;e.isFinite(c)?(c<0&&(g.logger.log("negative start time offset "+c+", count from end of last fragment"),c=s+o+c),g.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):r.live?(this.startPosition=this.computeLivePosition(s,r),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===b.State.WAITING_LEVEL&&(this.state=b.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===b.State.KEY_LOADING&&(this.state=b.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,n=this.levels,i=this.media,a=e.frag;if(this.state===b.State.FRAG_LOADING&&t&&"main"===a.type&&a.level===t.level&&a.sn===t.sn){var o=e.stats,u=n[t.level],c=u.details;if(this.bitrateTest=!1,this.stats=o,g.logger.log("Loaded "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level),a.bitrateTest&&r.nextLoadLevel)this.state=b.State.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=b.State.IDLE,o.tparsed=o.tbuffered=window.performance.now(),c.initSegment.data=e.payload,r.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else{g.logger.log("Parsing "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level+", cc "+t.cc),this.state=b.State.PARSING,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var d=!(i&&i.seeking)&&(c.PTSKnown||!c.live),f=c.initSegment?c.initSegment.data:[],h=this._getAudioCodec(u);(this.demuxer=this.demuxer||new s.default(this.hls,"main")).push(e.payload,f,h,u.videoCodec,t,c.totalduration,d)}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===b.State.PARSING){var n=e.tracks,i=void 0,a=void 0;if(n.audio&&this.altAudio&&delete n.audio,a=n.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==a.container&&(o="mp4a.40.2",g.logger.log("Android: force audio codec to "+o)),a.levelCodec=o,a.id=e.id}for(i in(a=n.video)&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=e.id),this.hls.trigger(l.default.BUFFER_CODECS,n),n){a=n[i],g.logger.log("main track:"+i+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var u=a.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:i,data:u,parent:"main",content:"initSegment"}))}this.tick()}},r.prototype.onFragParsingData=function(t){var r=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===b.State.PARSING){var a=this.levels[this.level],o=n;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),!0===t.hasAudio&&o.addElementaryStream(c.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&o.addElementaryStream(c.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var s=a.details;if(!s||o.sn!==s.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=b.State.IDLE,this.fragPrevious=o,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var u=f.updateFragPTSDTS(a.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),d=this.hls;d.trigger(l.default.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:u,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&r.state===b.State.PARSING&&(r.appended=!0,r.pendingBuffering=!0,d.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===b.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=b.State.PARSED,this._checkAppendedParsed())},r.prototype.onAudioTrackSwitching=function(t){var r=!!t.url,n=t.id;if(!r){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=b.State.IDLE}var a=this.hls;a.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),a.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},r.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},r.prototype.onBufferCreated=function(e){var t,r,n=e.tracks,i=!1;for(var a in n){var o=n[a];"main"===o.id?(r=a,t=o,"video"===a&&(this.videoBuffer=n[a].buffer)):i=!0}i&&t?(g.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},r.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==b.State.PARSING&&t!==b.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==b.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+h.default.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=b.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag||this.fragCurrent;if(!r||"main"===r.type){var n=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=b.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=b.State.ERROR;break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==b.State.ERROR&&(t.fatal?(this.state=b.State.ERROR,g.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==b.State.WAITING_LEVEL||(this.state=b.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==b.State.PARSING&&this.state!==b.State.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=b.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},r.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},r.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},r.prototype.onFragLoadEmergencyAborted=function(){this.state=b.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},r.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(c.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=b.State.IDLE,this.fragPrevious=null},r.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},r.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+t+" "),e.currentTime=r)},r.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(r.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),r}(b.default);t.default=E}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.js ***!
  \******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),s=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),l=r(/*! ../task-loop */"./src/task-loop.js"),u=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),c=r(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),d=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),f=window.performance;t.SubtitleStreamControllerState={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"};var h=t.SubtitleStreamControllerState,p=function(e){function t(t,r){var n=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.ERROR,a.default.KEY_LOADED,a.default.FRAG_LOADED,a.default.SUBTITLE_TRACKS_UPDATED,a.default.SUBTITLE_TRACK_SWITCH,a.default.SUBTITLE_TRACK_LOADED,a.default.SUBTITLE_FRAG_PROCESSED)||this;return n.fragmentTracker=r,n.config=t.config,n.state=h.STOPPED,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new s.default(t,t.config),n}return i(t,e),t.prototype.onHandlerDestroyed=function(){this.fragmentTracker=null,this.state=h.STOPPED,e.prototype.onHandlerDestroyed.call(this)},t.prototype.onSubtitleFragProcessed=function(e){if(this.state=h.IDLE,e.success){var t=this.tracksBuffered[this.currentTrackId],r=e.frag;if(this.fragPrevious=r,t){for(var n,i=0;i<t.length;i++)if(r.start>=t[i].start&&r.start<=t[i].end){n=t[i];break}n?n.end=r.start+r.duration:t.push({start:r.start,end:r.start+r.duration})}}},t.prototype.onMediaAttached=function(e){this.media=e.media,this.state=h.IDLE},t.prototype.onMediaDetaching=function(){this.media=null,this.state=h.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=h.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;o.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,r=e.details;this.tracks?(this.tracks[t]&&(o.logger.log("Updating subtitle track details"),this.tracks[t].details=r),this.setInterval(500)):o.logger.warn("Can not update subtitle details, no tracks found")},t.prototype.onKeyLoaded=function(){this.state===h.KEY_LOADING&&(this.state=h.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag.decryptdata,n=e.frag,i=this.hls;if(this.state===h.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var o=f.now();this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,function(e){var t=f.now();i.trigger(a.default.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:o,tdecrypt:t}})})}},t.prototype.doTick=function(){if(this.media)switch(this.state){case h.IDLE:var e=this.tracks,t=this.currentTrackId;if(!e||!e[t]||!e[t].details)break;var r=e[t].details,n=this.config,i=n.maxBufferHole,s=Math.min(n.maxBufferLength,n.maxMaxBufferLength),l=n.maxFragLookUpTolerance,f=u.BufferHelper.bufferedInfo(this._getBuffered(),this.media.currentTime,i),p=f.end,g=f.len,v=r.fragments,y=v.length,m=v[y-1].start+v[y-1].duration,b=void 0;g<s&&p<m?b=c.findFragmentByPTS(this.fragPrevious,v,p,l):r.hasProgramDateTime&&this.fragPrevious&&(b=c.findFragmentByPDT(v,this.fragPrevious.endProgramDateTime,l)),b&&b.encrypted?(o.logger.log("Loading key for "+b.sn),this.state=h.KEY_LOADING,this.hls.trigger(a.default.KEY_LOADING,{frag:b})):b&&this.fragmentTracker.getState(b)===d.FragmentState.NOT_LOADED&&(b.trackId=t,this.fragCurrent=b,this.state=h.FRAG_LOADING,this.hls.trigger(a.default.FRAG_LOADING,{frag:b}))}else this.state=h.IDLE},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t}(l.default);t.SubtitleStreamController=p},"./src/controller/subtitle-track-controller.js":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js");function l(e){for(var t=[],r=0;r<e.length;r++)"subtitles"===e[r].kind&&t.push(e[r]);return t}var u=function(e){function t(t){var r=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.MANIFEST_LOADING,a.default.MANIFEST_LOADED,a.default.SUBTITLE_TRACK_LOADED)||this;return r.tracks=[],r.trackId=-1,r.media=null,r.subtitleDisplay=!0,r}return i(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=l(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack=e}},t.prototype.destroy=function(){o.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.trackId=-1,this.hls.trigger(a.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var r=t.details;r&&!r.live||(s.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(a.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(s.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&this._stopTimer())},Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this.setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setSubtitleTrackInternal=function(e){var t=this.hls,r=this.tracks;if(!("number"!=typeof e||e<-1||e>=r.length)&&(this._stopTimer(),this.trackId=e,s.logger.log("switching to subtitle track "+e),t.trigger(a.default.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e)){var n=r[e],i=n.details;i&&!i.live||(s.logger.log("(re)loading playlist for subtitle track "+e),t.trigger(a.default.SUBTITLE_TRACK_LOADING,{url:n.url,id:e}))}},t.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.prototype._toggleTrackModes=function(e){var t=this.media,r=this.subtitleDisplay,n=this.trackId;if(t){var i=l(t.textTracks);if(-1===e)[].slice.call(i).forEach(function(e){e.mode="disabled"});else{var a=i[n];a&&(a.mode="disabled")}var o=i[e];o&&(o.mode=r?"showing":"hidden")}},t}(o.default);t.default=u},"./src/controller/timeline-controller.js":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.js"),l=r(/*! ../utils/output-filter */"./src/utils/output-filter.js"),u=r(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.js"),c=r(/*! ../utils/logger */"./src/utils/logger.js"),d=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js");var f=function(t){function r(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_USERDATA,a.default.FRAG_DECRYPTED,a.default.MANIFEST_LOADING,a.default.MANIFEST_LOADED,a.default.FRAG_LOADED,a.default.LEVEL_SWITCHING,a.default.INIT_PTS_FOUND)||this;if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=[],r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var n=new l.default(r,"textTrack1"),i=new l.default(r,"textTrack2");r.cea608Parser=new s.default(0,n,i)}return r}return i(r,t),r.prototype.addCues=function(e,t,r,n){for(var i,a,o,s,l=this.cueRanges,u=!1,c=l.length;c--;){var d=l[c],f=(i=d[0],a=d[1],o=t,s=r,Math.min(a,s)-Math.max(i,o));if(f>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],r),u=!0,f/(r-t)>.5))return}u||l.push([t,r]),this.Cues.newCue(this.captionsTracks[e],t,r,n)},r.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var r=this.unparsedVttFrags;this.unparsedVttFrags=[],r.forEach(function(e){t.onFragLoaded(e)})}},r.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r];if(n[e])return n}return null},r.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],r=t.label,n=t.languageCode,i=this.captionsTracks;if(!i[e]){var a=this.getExistingTrack(e);if(a)i[e]=a,d.clearCurrentCues(i[e]),d.sendAddTrackEvent(i[e],this.media);else{var o=this.createTextTrack("captions",r,n);o&&(o[e]=!0,i[e]=o)}}},r.prototype.createTextTrack=function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)},r.prototype.destroy=function(){o.default.prototype.destroy.call(this)},r.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},r.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){d.clearCurrentCues(e[t]),delete e[t]})},r.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},r.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)d.clearCurrentCues(t[r])}},r.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,n){var i;if(n<r.length){var a=[].slice.call(r).find(function(t){return function(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}(t,e)});a&&(i=a)}i||(i=t.createTextTrack("subtitles",e.name,e.lang)),e.default?i.mode=t.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",t.textTracks.push(i)})}},r.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},r.prototype.onFragLoaded=function(t){var r=t.frag,n=t.payload;if("main"===r.type){var i=r.sn;if(i!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=i}else if("subtitle"===r.type)if(n.byteLength){if(!e.isFinite(this.initPTS[r.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}));var s=r.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(r,n)}else this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})},r.prototype._parseVTTs=function(e,t){var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var n=this.textTracks,i=this.hls;u.default.parse(t,this.initPTS[e.cc],r,e.cc,function(t){var r=n[e.trackId];"disabled"!==r.mode?(t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(n){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},function(t){c.logger.log("Failed to parse VTT cue: "+t),i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},r.prototype.onFragDecrypted=function(t){var r=t.payload,n=t.frag;if("subtitle"===n.type){if(!e.isFinite(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(n,r)}},r.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},r.prototype.extractCea608Data=function(e){for(var t,r,n,i=31&e[0],a=2,o=[],s=0;s<i;s++)t=e[a++],r=127&e[a++],n=127&e[a++],0===r&&0===n||0!=(4&t)&&0===(3&t)&&(o.push(r),o.push(n));return o},r}(o.default);t.default=f}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.default=n},"./src/crypt/aes-decryptor.js":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";function n(e){var t=e.byteLength,r=t&&new DataView(e).getUint8(t-1);return r?e.slice(0,t-r):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=n;var i=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,e[h]=v,t[v]=h;var y=f[h],m=f[y],b=f[m],E=257*f[v]^16843008*v;n[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,a[h]=E<<8|E>>>24,o[h]=E,E=16843009*b^65537*m^257*y^16843008*h,l[v]=E<<24|E>>>8,u[v]=E<<16|E>>>16,c[v]=E<<8|E>>>24,d[v]=E,h?(h=y^f[f[f[b^y]]],p^=f[f[p]]):h=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],v=p[1],y=p[2],m=p[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[a/i|0]<<24):i>6&&a%i==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:g[f[l>>>24]]^v[f[l>>>16&255]]^y[f[l>>>8&255]]^m[f[255&l]],d[o]=d[o]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r,i){for(var a,o,s,l,u,c,d,f,h,p,g,v,y,m,b=this.keySize+6,E=this.invKeySchedule,_=this.invSBox,T=this.invSubMix,S=T[0],A=T[1],R=T[2],w=T[3],L=this.uint8ArrayToUint32Array_(r),D=L[0],O=L[1],k=L[2],P=L[3],x=new Int32Array(e),I=new Int32Array(x.length),C=this.networkToHostOrderSwap;t<x.length;){for(h=C(x[t]),p=C(x[t+1]),g=C(x[t+2]),v=C(x[t+3]),u=h^E[0],c=v^E[1],d=g^E[2],f=p^E[3],y=4,m=1;m<b;m++)a=S[u>>>24]^A[c>>16&255]^R[d>>8&255]^w[255&f]^E[y],o=S[c>>>24]^A[d>>16&255]^R[f>>8&255]^w[255&u]^E[y+1],s=S[d>>>24]^A[f>>16&255]^R[u>>8&255]^w[255&c]^E[y+2],l=S[f>>>24]^A[u>>16&255]^R[c>>8&255]^w[255&d]^E[y+3],u=a,c=o,d=s,f=l,y+=4;a=_[u>>>24]<<24^_[c>>16&255]<<16^_[d>>8&255]<<8^_[255&f]^E[y],o=_[c>>>24]<<24^_[d>>16&255]<<16^_[f>>8&255]<<8^_[255&u]^E[y+1],s=_[d>>>24]<<24^_[f>>16&255]<<16^_[u>>8&255]<<8^_[255&c]^E[y+2],l=_[f>>>24]<<24^_[u>>16&255]<<16^_[c>>8&255]<<8^_[255&d]^E[y+3],y+=3,I[t]=C(a^D),I[t+1]=C(l^O),I[t+2]=C(s^k),I[t+3]=C(o^P),D=h,O=p,k=g,P=v,t+=4}return i?n(I.buffer):I.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=i},"./src/crypt/decrypter.js":
/*!********************************!*\
  !*** ./src/crypt/decrypter.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./aes-crypto */"./src/crypt/aes-crypto.js"),i=r(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.js"),a=r(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.js"),o=r(/*! ../errors */"./src/errors.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope(),c=function(){function e(e,t,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=u.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,r,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new a.default),u.expandKey(t),o(u.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new i.default(c,t)),this.fastAesKey.expandKey().then(function(i){new n.default(c,r).decrypt(e,i).catch(function(n){l.onWebCryptoError(n,e,t,r,o)}).then(function(e){o(e)})}).catch(function(n){l.onWebCryptoError(n,e,t,r,o)})}},e.prototype.onWebCryptoError=function(e,t,r,n,i){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,n,i)):(s.logger.error("decrypting error : "+e.message),this.observer.trigger(l.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=c},"./src/crypt/fast-aes-key.js":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.default=n},"./src/demux/aacdemuxer.js":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./adts */"./src/demux/adts.js"),i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=r(/*! ../demux/id3 */"./src/demux/id3.js"),o=function(){function t(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(a.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(n.probe(e,t))return i.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,r,o,s){for(var l=this._audioTrack,u=a.default.getID3Data(t,0)||[],c=a.default.getTimeStamp(u),d=e.isFinite(c)?90*c:9e4*r,f=0,h=d,p=t.length,g=u.length,v=[{pts:h,dts:h,data:u}];g<p-1;)if(n.isHeader(t,g)&&g+5<p){n.initTrackConfig(l,this.observer,t,g,l.manifestCodec);var y=n.appendFrame(l,t,g,d,f);if(!y){i.logger.log("Unable to parse AAC frame");break}g+=y.length,h=y.sample.pts,f++}else a.default.isHeader(t,g)?(u=a.default.getID3Data(t,g),v.push({pts:h,dts:h,data:u}),g+=u.length):g++;this.remuxer.remux(l,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},r,o,s)},t.prototype.destroy=function(){},t}();t.default=o}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/adts.js":
/*!***************************!*\
  !*** ./src/demux/adts.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=r(/*! ../errors */"./src/errors.js"),a=r(/*! ../events */"./src/events.js");function o(e,t,r,o){var s,l,u,c,d,f=navigator.userAgent.toLowerCase(),h=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&t[r+2])>>>6),!((l=(60&t[r+2])>>>2)>p.length-1))return c=(1&t[r+2])<<2,c|=(192&t[r+3])>>>6,n.logger.log("manifest codec:"+o+",ADTS data:type:"+s+",sampleingIndex:"+l+"["+p[l]+"Hz],channelConfig:"+c),/firefox/i.test(f)?l>=6?(s=5,d=new Array(4),u=l-3):(s=2,d=new Array(2),u=l):-1!==f.indexOf("android")?(s=2,d=new Array(2),u=l):(s=5,d=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&l>=6?u=l-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(l>=6&&1===c||/vivaldi/i.test(f))||!o&&1===c)&&(s=2,d=new Array(2)),u=l)),d[0]=s<<3,d[0]|=(14&l)>>1,d[1]|=(1&l)<<7,d[1]|=c<<3,5===s&&(d[1]|=(14&u)>>1,d[2]=(1&u)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:p[l],channelCount:c,codec:"mp4a.40."+s,manifestCodec:h};e.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e){return 9216e4/e}function d(e,t,r,n,i){var a,o,s=e.length;if(a=l(e,t),o=u(e,t),(o-=a)>0&&t+a+o<=s)return{headerLength:a,frameLength:o,stamp:r+n*i}}t.getAudioConfig=o,t.isHeaderPattern=s,t.getHeaderLength=l,t.getFullFrameLength=u,t.isHeader=function(e,t){return!!(t+1<e.length&&s(e,t))},t.probe=function(e,t){if(t+1<e.length&&s(e,t)){var r=l(e,t);t+5<e.length&&(r=u(e,t));var n=t+r;if(n===e.length||n+1<e.length&&s(e,n))return!0}return!1},t.initTrackConfig=function(e,t,r,i,a){if(!e.samplerate){var s=o(t,r,i,a);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,n.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},t.getFrameDuration=c,t.parseFrameHeader=d,t.appendFrame=function(e,t,r,n,i){var a=d(t,r,n,i,c(e.samplerate));if(a){var o=a.stamp,s=a.headerLength,l=a.frameLength,u={unit:t.subarray(r+s,r+s+l),pts:o,dts:o};return e.samples.push(u),e.len+=l,{sample:u,length:l+s}}}},"./src/demux/demuxer-inline.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-inline.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(/*! ../events */"./src/events.js"),a=r(/*! ../errors */"./src/errors.js"),o=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),s=r(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.js"),l=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),u=r(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.js"),c=r(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.js"),d=r(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.js"),f=r(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.js"),h=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),p=r(/*! ../utils/logger */"./src/utils/logger.js"),g=h.getSelfScope();try{n=g.performance.now.bind(g.performance)}catch(e){p.logger.debug("Unable to use Performance API on this environment"),n=g.Date.now}var v=function(){function e(e,t,r,n){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,r,a,s,l,u,c,d,f,h,p){var g=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var v=this.decrypter;null==v&&(v=this.decrypter=new o.default(this.observer,this.config));var y=n();v.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var o=n();g.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:y,tdecrypt:o}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,s,l,u,c,d,f,h,p)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,s,l,u,c,d,f,h,p)},e.prototype.pushDecrypted=function(e,t,r,n,o,h,p,g,v,y,m,b){var E=this.demuxer;if(!E||(p||g)&&!this.probe(e)){for(var _=this.observer,T=this.typeSupported,S=this.config,A=[{demux:u.default,remux:d.default},{demux:l.default,remux:f.default},{demux:s.default,remux:d.default},{demux:c.default,remux:d.default}],R=0,w=A.length;R<w;R++){var L=A[R],D=L.demux.probe;if(D(e)){var O=this.remuxer=new L.remux(_,S,T,this.vendor);E=new L.demux(_,O,S,T),this.probe=D;break}}if(!E)return void _.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=E}var k=this.remuxer;(p||g)&&(E.resetInitSegment(r,n,o,y),k.resetInitSegment()),p&&(E.resetTimeStamp(b),k.resetTimeStamp(b)),"function"==typeof E.setDecryptData&&E.setDecryptData(t),E.append(e,h,v,m)},e}();t.default=v},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),i=r(/*! ../events */"./src/events.js"),a=r(/*! ../utils/logger */"./src/utils/logger.js"),o=r(/*! events */"./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(e){var t=new o.EventEmitter;t.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];t.removeListener.apply(t,[e].concat(r))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new n.default(t,o.typeSupported,s,o.vendor),a.enableLogs(s.debug),r("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),t.on(i.default.FRAG_DECRYPTED,r),t.on(i.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(i.default.FRAG_PARSED,r),t.on(i.default.ERROR,r),t.on(i.default.FRAG_PARSING_METADATA,r),t.on(i.default.FRAG_PARSING_USERDATA,r),t.on(i.default.INIT_PTS_FOUND,r),t.on(i.default.FRAG_PARSING_DATA,function(t,r){var n=[],i={event:t,data:r};r.data1&&(i.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),e.postMessage(i,n)})}},"./src/demux/demuxer.js":
/*!******************************!*\
  !*** ./src/demux/demuxer.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),i=r(/*! ../events */"./src/events.js"),a=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js"),u=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),c=r(/*! ../observer */"./src/observer.js"),d=u.getSelfScope(),f=l.getMediaSource(),h=function(){function t(e,t){var r=this;this.hls=e,this.id=t;var l=this.observer=new c.Observer,u=e.config,h=function(t,n){(n=n||{}).frag=r.frag,n.id=r.id,e.trigger(t,n)};l.on(i.default.FRAG_DECRYPTED,h),l.on(i.default.FRAG_PARSING_INIT_SEGMENT,h),l.on(i.default.FRAG_PARSING_DATA,h),l.on(i.default.FRAG_PARSED,h),l.on(i.default.ERROR,h),l.on(i.default.FRAG_PARSING_METADATA,h),l.on(i.default.FRAG_PARSING_USERDATA,h),l.on(i.default.INIT_PTS_FOUND,h);var p={mp4:f.isTypeSupported("video/mp4"),mpeg:f.isTypeSupported("audio/mpeg"),mp3:f.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){o.logger.log("demuxing in webworker");var v=void 0;try{v=this.w=n(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(t){e.trigger(i.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},v.postMessage({cmd:"init",typeSupported:p,vendor:g,id:t,config:JSON.stringify(u)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),v&&d.URL.revokeObjectURL(v.objectURL),this.demuxer=new a.default(l,p,u,g),this.w=void 0}}else this.demuxer=new a.default(l,p,u,g)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,r,n,i,a,s,l,u){var c=this.w,d=e.isFinite(a.startPTS)?a.startPTS:a.start,f=a.decryptdata,h=this.frag,p=!(h&&a.cc===h.cc),g=!(h&&a.level===h.level),v=h&&a.sn===h.sn+1,y=!g&&v;if(p&&o.logger.log(this.id+":discontinuity detected"),g&&o.logger.log(this.id+":switch detected"),this.frag=a,c)c.postMessage({cmd:"demux",data:t,decryptdata:f,initSegment:r,audioCodec:n,videoCodec:i,timeOffset:d,discontinuity:p,trackSwitch:g,contiguous:y,duration:s,accurateTimeOffset:l,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,f,r,n,i,d,p,g,y,s,l,u)}},t.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":d.URL.revokeObjectURL(this.w.objectURL);break;case i.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},t}();t.default=h}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,r=8,n=8;for(t=0;t<e;t++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},e.prototype.readSPS=function(){var e,t,r,n,i,a,o,s=0,l=0,u=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(d(),e=d(),f(5),g(3),d(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&g(1),y(),y(),g(1),p())for(a=3!==b?8:12,o=0;o<a;o++)p()&&m(o<6?16:64)}y();var E=h();if(0===E)h();else if(1===E)for(g(1),v(),v(),t=h(),o=0;o<t;o++)v();y(),g(1),r=h(),n=h(),0===(i=f(1))&&g(1),g(1),p()&&(s=h(),l=h(),u=h(),c=h());var _=[1,1];if(p()&&p())switch(d()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-i)*(n+1)*16-(i?2:4)*(u+c),pixelRatio:_}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=i},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var n=r,i=0;e.isHeader(t,r);){i+=10,i+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(i+=10),r+=i}if(i>0)return t.subarray(n,n+i)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),n=0;n<r.length;n++){var i=r[n];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),n=e._readSize(t,4);return{type:r,size:n,data:t.subarray(10,10+n)}},e.getID3Frames=function(t){for(var r=0,n=[];e.isHeader(t,r);){for(var i=e._readSize(t,r+6),a=(r+=10)+i;r+8<a;){var o=e._getFrameData(t.subarray(r)),s=e._decodeFrame(o);s&&n.push(s),r+=o.size+10}e.isFooter(t,r)&&(r+=10)}return n},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:n.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,n=e._utf8ArrayToStr(t.data.subarray(r));r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,n=e._utf8ArrayToStr(t.data.subarray(r));r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var r,n,i,a=e.length,o="",s=0;s<a;){if(0===(r=e[s++])&&t)return o;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:n=e[s++],o+=String.fromCharCode((31&r)<<6|63&n);break;case 14:n=e[s++],i=e[s++],o+=String.fromCharCode((15&r)<<12|(63&n)<<6|(63&i)<<0)}}return o},e}(),i=n._utf8ArrayToStr;t.utf8ArrayToStr=i,t.default=n},"./src/demux/mp3demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../demux/id3 */"./src/demux/id3.js"),i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=r(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),o=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,r,o=n.default.getID3Data(e,0);if(o&&void 0!==n.default.getTimeStamp(o))for(t=o.length,r=Math.min(e.length-1,t+100);t<r;t++)if(a.default.probe(e,t))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,r,i){for(var o=n.default.getID3Data(e,0),s=n.default.getTimeStamp(o),l=s?90*s:9e4*t,u=o.length,c=e.length,d=0,f=0,h=this._audioTrack,p=[{pts:l,dts:l,data:o}];u<c;)if(a.default.isHeader(e,u)){var g=a.default.appendFrame(h,e,u,l,d);if(!g)break;u+=g.length,f=g.sample.pts,d++}else n.default.isHeader(e,u)?(o=n.default.getID3Data(e,u),p.push({pts:f,dts:f,data:o}),u+=o.length):u++;this.remuxer.remux(h,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,i)},e.prototype.destroy=function(){},e}();t.default=o},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=r(/*! ../events */"./src/events.js"),a=Math.pow(2,32)-1,o=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,r,n,a){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:a?t:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:a?t:null}),o.video&&(s.video={container:"video/mp4",codec:n,initSegment:a?t:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),n&&(this.videoCodec=n)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var n,i,a,o,s,l,u=[];if(t.data?(s=t.start,a=t.end,t=t.data):(s=0,a=t.byteLength),!r.length)return null;for(n=s;n<a;)l=(i=e.readUint32(t,n))>1?n+i:a,e.bin2str(t.subarray(n+4,n+8))===r[0]&&(1===r.length?u.push({data:t,start:n+8,end:l}):(o=e.findBox({data:t,start:n+8,end:l},r.slice(1))).length&&(u=u.concat(o))),n=l;return u},e.parseSegmentIndex=function(t){var r,n=e.findBox(t,["moov"])[0],i=n?n.end:null,a=0,o=e.findBox(t,["sidx"]);if(!o||!o[0])return null;r=[];var s=(o=o[0]).data[0];a=0===s?8:16;var l=e.readUint32(o,a);a+=4;a+=0===s?8:16,a+=2;var u=o.end+0,c=e.readUint16(o,a);a+=2;for(var d=0;d<c;d++){var f=a,h=e.readUint32(o,f);f+=4;var p=2147483647&h;if(1===(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(o,f);f+=4,r.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+p-1}}),u+=p,a=f+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:c,references:r,moovEndOffset:i}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var a=i.data[i.start],o=0===a?12:20,s=e.readUint32(i,o),l=e.findBox(t,["mdia","mdhd"])[0];if(l){o=0===(a=l.data[l.start])?12:20;var u=e.readUint32(l,o),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var f=e.findBox(t,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var h=e.bin2str(f.data.subarray(f.start+12,f.start+16));n.logger.log("MP4Demuxer:"+d+":"+h+" found")}r[s]={timescale:u,type:d},r[d]={timescale:u,id:s}}}}}}),r},e.getStartDTS=function(t,r){var n,i,a;return n=e.findBox(r,["moof","traf"]),i=[].concat.apply([],n.map(function(r){return e.findBox(r,["tfhd"]).map(function(n){var i,a;return i=e.readUint32(n,4),a=t[i].timescale||9e4,e.findBox(r,["tfdt"]).map(function(t){var r,n;return r=t.data[t.start],n=e.readUint32(t,4),1===r&&(n*=Math.pow(2,32),n+=e.readUint32(t,8)),n})[0]/a})})),a=Math.min.apply(null,i),isFinite(a)?a:0},e.offsetStartDTS=function(t,r,n){e.findBox(r,["moof","traf"]).map(function(r){return e.findBox(r,["tfhd"]).map(function(i){var o=e.readUint32(i,4),s=t[o].timescale||9e4;e.findBox(r,["tfdt"]).map(function(t){var r=t.data[t.start],i=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,i-n*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=n*s,i=Math.max(i,0);var o=Math.floor(i/(a+1)),l=Math.floor(i%(a+1));e.writeUint32(t,4,o),e.writeUint32(t,8,l)}})})})},e.prototype.append=function(t,r,n,a){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(o,t);this.initPTS=l=u-r,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(o,t,l),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,n,a,t)},e.prototype.destroy=function(){},e}();t.default=o},"./src/demux/mpegaudio.js":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,n,i){if(!(r+24>t.length)){var a=this.parseHeader(t,r);if(a&&r+a.frameLength<=t.length){var o=n+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(r,r+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),e.len+=a.frameLength,{sample:s,length:a.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,i=e[t+1]>>1&3,a=e[t+2]>>4&15,o=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==r&&0!==a&&15!==a&&3!==o){var l=3===r?3-i:3===i?3:4,u=1e3*n.BitratesMap[14*l+a-1],c=3===r?0:2===r?1:2,d=n.SamplingRateMap[3*c+o],f=e[t+3]>>6==3?1:2,h=n.SamplesCoefficients[r][i],p=n.BytesInSlot[i],g=8*h*p;return{sampleRate:d,channelCount:f,frameLength:parseInt(h*u/d+s,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),n=4;r&&r.frameLength&&(n=r.frameLength);var i=t+n;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}};t.default=n},"./src/demux/sample-aes.js":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),i=function(){function e(e,t,r,i){this.decryptdata=r,this.discardEPB=i,this.decrypter=new n.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,r,n){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),i.set(a,16),n||s.decryptAacSamples(e,t+1,r)})},e.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,n=32;n<=e.length-16;n+=160,r+=16)e.set(t.subarray(r,r+16),n);return e},e.prototype.decryptAvcSample=function(e,t,r,n,i,a){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){i.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(e,t,r+1,n)})},e.prototype.decryptAvcSamples=function(e,t,r,n){for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var a=i[r];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,a,o),!o)return}}}},e}();t.default=i},"./src/demux/tsdemuxer.js":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./adts */"./src/demux/adts.js"),i=r(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),a=r(/*! ../events */"./src/events.js"),o=r(/*! ./exp-golomb */"./src/demux/exp-golomb.js"),s=r(/*! ./sample-aes */"./src/demux/sample-aes.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../errors */"./src/errors.js"),c={video:1,audio:2,id3:3,text:4},d=function(){function e(e,t,r,n){this.observer=e,this.config=r,this.typeSupported=n,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new s.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0)&&(r&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:c[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",i),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3",i),this._txtTrack=e.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,r,n,i){var o,s,c,d,f,h=t.length,p=!1;this.contiguous=n;var g=this.pmtParsed,v=this._avcTrack,y=this._audioTrack,m=this._id3Track,b=v.pid,E=y.pid,_=m.pid,T=this._pmtId,S=v.pesData,A=y.pesData,R=m.pesData,w=this._parsePAT,L=this._parsePMT,D=this._parsePES,O=this._parseAVCPES.bind(this),k=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),x=this._parseID3PES.bind(this),I=e._syncOffset(t);for(h-=(h+I)%188,o=I;o<h;o+=188)if(71===t[o]){if(s=!!(64&t[o+1]),c=((31&t[o+1])<<8)+t[o+2],(48&t[o+3])>>4>1){if((d=o+5+t[o+4])===o+188)continue}else d=o+4;switch(c){case b:s&&(S&&(f=D(S))&&void 0!==f.pts&&O(f,!1),S={data:[],size:0}),S&&(S.data.push(t.subarray(d,o+188)),S.size+=o+188-d);break;case E:s&&(A&&(f=D(A))&&void 0!==f.pts&&(y.isAAC?k(f):P(f)),A={data:[],size:0}),A&&(A.data.push(t.subarray(d,o+188)),A.size+=o+188-d);break;case _:s&&(R&&(f=D(R))&&void 0!==f.pts&&x(f),R={data:[],size:0}),R&&(R.data.push(t.subarray(d,o+188)),R.size+=o+188-d);break;case 0:s&&(d+=t[d]+1),T=this._pmtId=w(t,d);break;case T:s&&(d+=t[d]+1);var C=L(t,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=C.avc)>0&&(v.pid=b),(E=C.audio)>0&&(y.pid=E,y.isAAC=C.isAAC),(_=C.id3)>0&&(m.pid=_),p&&!g&&(l.logger.log("reparse from beginning"),p=!1,o=I-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});S&&(f=D(S))&&void 0!==f.pts?(O(f,!0),v.pesData=null):v.pesData=S,A&&(f=D(A))&&void 0!==f.pts?(y.isAAC?k(f):P(f),y.pesData=null):(A&&A.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=A),R&&(f=D(R))&&void 0!==f.pts?(x(f),m.pesData=null):m.pesData=R,null==this.sampleAes?this.remuxer.remux(y,v,m,this._txtTrack,r,n,i):this.decryptAndRemux(y,v,m,this._txtTrack,r,n,i)},e.prototype.decryptAndRemux=function(e,t,r,n,i,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,r,n,i,a,o)})}else this.decryptAndRemuxAvc(e,t,r,n,i,a,o)},e.prototype.decryptAndRemuxAvc=function(e,t,r,n,i,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,r,n,i,a,o)})}else this.remuxer.remux(e,t,r,n,i,a,o)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,r,n){var i,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){l.logger.log("unkown stream type:"+e[t]);break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!n){l.logger.log("unkown stream type:"+e[t]);break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:r?-1===o.audio&&(o.audio=a,o.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},e.prototype._parsePES=function(e){var t,r,n,i,a,o,s,u,c=0,d=e.data;if(!e||0===e.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((t=d[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;192&(r=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&r?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),o-s>54e5&&(l.logger.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),u=(i=t[8])+9,e.size-=u,a=new Uint8Array(e.size);for(var h=0,p=d.length;h<p;h++){var g=(t=d[h]).byteLength;if(u){if(u>g){u-=g;continue}t=t.subarray(u),g-=u,u=0}a.set(t,c),c+=g}return n&&(n-=i+3),{data:a,pts:o,dts:s,len:n}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,n=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,r.push(e)):t.dropped++}e.debug.length&&l.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var r,n,i,a=this,s=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,c=!1,d=this.pushAccesUnit.bind(this),f=function(e,t,r,n){return{key:e,pts:t,dts:r,units:[],debug:n}};e.data=null,u&&l.length&&!s.audFound&&(d(u,s),u=this.avcSample=f(!1,e.pts,e.dts,"")),l.forEach(function(t){switch(t.type){case 1:n=!0,u||(u=a.avcSample=f(!0,e.pts,e.dts,"")),u.frame=!0;var l=t.data;if(c&&l.length>4){var h=new o.default(l).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(u.key=!0)}break;case 5:n=!0,u||(u=a.avcSample=f(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,(r=new o.default(a.discardEPB(t.data))).readUByte();for(var p=0,g=0,v=!1,y=0;!v&&r.bytesAvailable>1;){p=0;do{p+=y=r.readUByte()}while(255===y);g=0;do{g+=y=r.readUByte()}while(255===y);if(4===p&&0!==r.bytesAvailable){if(v=!0,181===r.readUByte())if(49===r.readUShort())if(1195456820===r.readUInt())if(3===r.readUByte()){var m=r.readUByte(),b=31&m,E=[m,r.readUByte()];for(i=0;i<b;i++)E.push(r.readUByte()),E.push(r.readUByte()),E.push(r.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:E})}}else if(g<r.bytesAvailable)for(i=0;i<g;i++)r.readUByte()}break;case 7:if(n=!0,c=!0,!s.sps){var _=(r=new o.default(t.data)).readSPS();s.width=_.width,s.height=_.height,s.pixelRatio=_.pixelRatio,s.sps=[t.data],s.duration=a._duration;var T=t.data.subarray(1,4),S="avc1.";for(i=0;i<3;i++){var A=T[i].toString(16);A.length<2&&(A="0"+A),S+=A}s.codec=S}break;case 8:n=!0,s.pps||(s.pps=[t.data]);break;case 9:n=!1,s.audFound=!0,u&&d(u,s),u=a.avcSample=f(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&n&&u.units.push(t)}),t&&u&&(d(u,s),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,r,n,i,a=0,o=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],d=-1;for(-1===l&&(d=0,i=31&e[0],l=0,a=1);a<o;)if(t=e[a++],l)if(1!==l)if(t)if(1===t){var f,h;if(d>=0)n={data:e.subarray(d,a-l-1),type:i},c.push(n);else if(f=this._getLastNalUnit())if(u&&a<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),(r=a-l-1)>0)(h=new Uint8Array(f.data.byteLength+r)).set(f.data,0),h.set(e.subarray(0,r),f.data.byteLength),f.data=h;a<o?(d=a,i=31&e[a],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;(d>=0&&l>=0&&(n={data:e.subarray(d,o),type:i,state:l},c.push(n)),0===c.length)&&((f=this._getLastNalUnit())&&((h=new Uint8Array(f.data.byteLength+e.byteLength)).set(f.data,0),h.set(e,f.data.byteLength),f.data=h));return s.naluState=l,c},e.prototype.discardEPB=function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},e.prototype._parseAACPES=function(e){var t,r,i,o,s,c=this._audioTrack,d=e.data,f=e.pts,h=this.aacOverFlow,p=this.aacLastPTS;if(h){var g=new Uint8Array(h.byteLength+d.byteLength);g.set(h,0),g.set(d,h.byteLength),d=g}for(i=0,s=d.length;i<s-1&&!n.isHeader(d,i);i++);if(i){var v=void 0,y=void 0;if(i<s-1?(v="AAC PES did not start with ADTS header,offset:"+i,y=!1):(v="no ADTS header found in AAC PES",y=!0),l.logger.warn("parsing error:"+v),this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:y,reason:v}),y)return}if(n.initTrackConfig(c,this.observer,d,i,this.audioCodec),r=0,t=n.getFrameDuration(c.samplerate),h&&p){var m=p+t;Math.abs(m-f)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((m-f)/90)),f=m)}for(;i<s;)if(n.isHeader(d,i)&&i+5<s){var b=n.appendFrame(c,d,i,f,r);if(!b)break;i+=b.length,o=b.sample.pts,r++}else i++;h=i<s?d.subarray(i,s):null,this.aacOverFlow=h,this.aacLastPTS=o},e.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,n=0,a=0,o=e.pts;a<r;)if(i.default.isHeader(t,a)){var s=i.default.appendFrame(this._audioTrack,t,a,o,n);if(!s)break;a+=s.length,n++}else a++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=d},"./src/errors.js":
/*!***********************!*\
  !*** ./src/errors.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":
/*!******************************!*\
  !*** ./src/event-handler.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./utils/logger */"./src/utils/logger.js"),i=r(/*! ./errors */"./src/errors.js"),a=r(/*! ./events */"./src/events.js"),o={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(o[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){n.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(a.default.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.default=s},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":
/*!********************!*\
  !*** ./src/hls.js ***!
  \********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=r(/*! ./errors */"./src/errors.js"),s=r(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.js"),l=r(/*! ./loader/fragment-loader */"./src/loader/fragment-loader.js"),u=r(/*! ./loader/key-loader */"./src/loader/key-loader.js"),c=r(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.js"),d=r(/*! ./controller/stream-controller */"./src/controller/stream-controller.js"),f=r(/*! ./controller/level-controller */"./src/controller/level-controller.js"),h=r(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.js"),p=r(/*! ./is-supported */"./src/is-supported.js"),g=r(/*! ./utils/logger */"./src/utils/logger.js"),v=r(/*! ./config */"./src/config.js"),y=r(/*! ./events */"./src/events.js"),m=function(e){function t(r){void 0===r&&(r={});var n=e.call(this)||this,i=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var a in i)a in r||(r[a]=i[a]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');g.enableLogs(r.debug),n.config=r,n._autoLevelCapping=-1;var o=n.abrController=new r.abrController(n),p=new r.bufferController(n),v=new r.capLevelController(n),y=new r.fpsController(n),m=new s.default(n),b=new l.default(n),E=new u.default(n),_=new h.default(n),T=n.levelController=new f.default(n),S=new c.FragmentTracker(n),A=[T,n.streamController=new d.default(n,S)],R=r.audioStreamController;R&&A.push(new R(n,S)),n.networkControllers=A;var w=[m,b,E,o,p,v,y,_,S];if(R=r.audioTrackController){var L=new R(n);n.audioTrackController=L,w.push(L)}if(R=r.subtitleTrackController){var D=new R(n);n.subtitleTrackController=D,w.push(D)}if(R=r.emeController){var O=new R(n);n.emeController=O,w.push(O)}return(R=r.subtitleStreamController)&&w.push(new R(n,S)),(R=r.timelineController)&&w.push(new R(n)),n.coreComponents=w,n}return i(t,e),Object.defineProperty(t,"version",{get:function(){return"0.12.2"},enumerable:!0,configurable:!0}),t.isSupported=function(){return p.isSupported()},Object.defineProperty(t,"Events",{get:function(){return y.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorTypes",{get:function(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorDetails",{get:function(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DefaultConfig",{get:function(){return t.defaultConfig?t.defaultConfig:v.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){g.logger.log("destroy"),this.trigger(y.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){g.logger.log("attachMedia"),this.media=e,this.trigger(y.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(y.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.logger.log("loadSource:"+e),this.url=e,this.trigger(y.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),g.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},t.prototype.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},t.prototype.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){g.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){g.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){g.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){g.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){g.logger.log("set startLevel:"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){g.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,n=0;n<r;n++){if((e[n].realBitrate?Math.max(e[n].realBitrate,e[n].bitrate):e[n].bitrate)>t)return n}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(r(/*! ./observer */"./src/observer.js").Observer);t.default=m},"./src/is-supported.js":
/*!*****************************!*\
  !*** ./src/is-supported.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.js");t.isSupported=function(){var e=n.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!i}},"./src/loader/fragment-loader.js":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=function(t){function r(e){var r=t.call(this,e,a.default.FRAG_LOADING)||this;return r.loaders={},r}return i(r,t),r.prototype.destroy=function(){var e=this.loaders;for(var r in e){var n=e[r];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.prototype.onFragLoading=function(t){var r=t.frag,n=r.type,i=this.loaders,a=this.hls.config,o=a.fLoader,s=a.loader;r.loaded=0;var u,c,d,f=i[n];f&&(l.logger.warn("abort previous fragment loader for type: "+n),f.abort()),f=i[n]=r.loader=a.fLoader?new o(a):new s(a),u={url:r.url,frag:r,responseType:"arraybuffer",progressData:!1};var h=r.byteRangeStartOffset,p=r.byteRangeEndOffset;e.isFinite(h)&&e.isFinite(p)&&(u.rangeStart=h,u.rangeEnd=p),c={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(u,c,d)},r.prototype.loadsuccess=function(e,t,r,n){void 0===n&&(n=null);var i=e.data,o=r.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(a.default.FRAG_LOADED,{payload:i,frag:o,stats:t,networkDetails:n})},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},r.prototype.loadprogress=function(e,t,r,n){void 0===n&&(n=null);var i=t.frag;i.loaded=e.loaded,this.hls.trigger(a.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:n})},r}(o.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/fragment.js":
/*!********************************!*\
  !*** ./src/loader/fragment.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=r(/*! ./level-key */"./src/loader/level-key.js"),a=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=n.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new i.default).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},t}();t.default=a}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":
/*!**********************************!*\
  !*** ./src/loader/key-loader.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=function(e){function t(t){var r=e.call(this,t,a.default.KEY_LOADING)||this;return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return i(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r],i=t.decryptdata,o=i.uri;if(o!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;n&&(l.logger.warn("abort previous key loader for type:"+r),n.abort()),t.loader=this.loaders[r]=new s.loader(s),this.decrypturl=o,this.decryptkey=null;var u,c,d;u={url:o,frag:t,responseType:"arraybuffer"},c={timeout:s.fragLoadingTimeOut,maxRetry:0,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(u,c,d)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(a.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,r){var n=r.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(a.default.KEY_LOADED,{frag:n})},t.prototype.loaderror=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.prototype.loadtimeout=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}(o.default);t.default=u},"./src/loader/level-key.js":
/*!*********************************!*\
  !*** ./src/loader/level-key.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=n.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=i},"./src/loader/level.js":
/*!*****************************!*\
  !*** ./src/loader/level.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=r}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=r(/*! ./fragment */"./src/loader/fragment.js"),a=r(/*! ./level */"./src/loader/level.js"),o=r(/*! ./level-key */"./src/loader/level-key.js"),s=r(/*! ../utils/attr-list */"./src/utils/attr-list.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../utils/codecs */"./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,d=/#EXT-X-MEDIA:(.*)/g,f=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,p=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var r=null,n=0;n<e.length;n++){var i=e[n];i.id===t&&(r=i)}return r},t.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return n.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var n,i=[];function a(e,t){["video","audio"].forEach(function(r){var n=e.filter(function(e){return u.isCodecType(e,r)});if(n.length){var i=n.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter(function(e){return-1===n.indexOf(e)})}}),t.unknownCodecs=e}for(c.lastIndex=0;null!=(n=c.exec(e));){var o={},l=o.attrs=new s.default(n[1]);o.url=t.resolve(n[2],r);var d=l.decimalResolution("RESOLUTION");d&&(o.width=d.width,o.height=d.height),o.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),o.name=l.NAME,a([].concat((l.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),i.push(o)}return i},t.parseMasterPlaylistMedia=function(e,r,n,i){var a;void 0===i&&(i=[]);var o=[],l=0;for(d.lastIndex=0;null!==(a=d.exec(e));){var u={},c=new s.default(a[1]);if(c.TYPE===n){if(u.groupId=c["GROUP-ID"],u.name=c.NAME,u.type=n,u.default="YES"===c.DEFAULT,u.autoselect="YES"===c.AUTOSELECT,u.forced="YES"===c.FORCED,c.URI&&(u.url=t.resolve(c.URI,r)),u.lang=c.LANGUAGE,u.name||(u.name=u.lang),i.length){var f=t.findGroup(i,u.groupId);u.audioCodec=f?f.codec:i[0].codec}u.id=l++,o.push(u)}}return o},t.parseLevelPlaylist=function(t,r,n,u,c){var d,g,y=0,m=0,b=new a.default(r),E=new o.default,_=0,T=null,S=new i.default,A=null;for(f.lastIndex=0;null!==(d=f.exec(t));){var R=d[1];if(R){S.duration=parseFloat(R);var w=(" "+d[2]).slice(1);S.title=w||null,S.tagList.push(w?["INF",R,w]:["INF",R])}else if(d[3]){if(e.isFinite(S.duration)){var L=y++;S.type=u,S.start=m,S.levelkey=E,S.sn=L,S.level=n,S.cc=_,S.urlId=c,S.baseurl=r,S.relurl=(" "+d[3]).slice(1),v(S,T),b.fragments.push(S),T=S,m+=S.duration,S=new i.default}}else if(d[4]){if(S.rawByteRange=(" "+d[4]).slice(1),T){var D=T.byteRangeEndOffset;D&&(S.lastByteRangeEndOffset=D)}}else if(d[5])S.rawProgramDateTime=(" "+d[5]).slice(1),S.tagList.push(["PROGRAM-DATE-TIME",S.rawProgramDateTime]),null===A&&(A=b.fragments.length);else{for(d=d[0].match(h),g=1;g<d.length&&void 0===d[g];g++);var O=(" "+d[g+1]).slice(1),k=(" "+d[g+2]).slice(1);switch(d[g]){case"#":S.tagList.push(k?[O,k]:[O]);break;case"PLAYLIST-TYPE":b.type=O.toUpperCase();break;case"MEDIA-SEQUENCE":y=b.startSN=parseInt(O);break;case"TARGETDURATION":b.targetduration=parseFloat(O);break;case"VERSION":b.version=parseInt(O);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"DIS":_++,S.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":_=parseInt(O);break;case"KEY":var P=O,x=new s.default(P),I=x.enumeratedString("METHOD"),C=x.URI,M=x.hexadecimalInteger("IV");I&&(E=new o.default,C&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(I)>=0&&(E.method=I,E.baseuri=r,E.reluri=C,E.key=null,E.iv=M));break;case"START":var F=O,j=new s.default(F).decimalFloatingPoint("TIME-OFFSET");e.isFinite(j)&&(b.startTimeOffset=j);break;case"MAP":var N=new s.default(O);S.relurl=N.URI,S.rawByteRange=N.BYTERANGE,S.baseurl=r,S.level=n,S.type=u,S.sn="initSegment",b.initSegment=S,(S=new i.default).rawProgramDateTime=b.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+d)}}}return(S=T)&&!S.relurl&&(b.fragments.pop(),m-=S.duration),b.totalduration=m,b.averagetargetduration=m/b.fragments.length,b.endSN=y-1,b.startCC=b.fragments[0]?b.fragments[0].cc:0,b.endCC=_,!b.initSegment&&b.fragments.length&&b.fragments.every(function(e){return p.test(e.relurl)})&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(S=new i.default).relurl=b.fragments[0].relurl,S.baseurl=r,S.level=n,S.type=u,S.sn="initSegment",b.initSegment=S,b.needSidxRanges=!0),A&&function(e,t){for(var r=e[t],n=t-1;n>=0;n--){var i=e[n];i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(b.fragments,A),b},t}();function v(t,r){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):r&&r.programDateTime&&(t.programDateTime=r.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=g}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),c=r(/*! ./m3u8-parser */"./src/loader/m3u8-parser.js"),d=window.performance,f={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},h={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},p=function(t){function r(e){var r=t.call(this,e,a.default.MANIFEST_LOADING,a.default.LEVEL_LOADING,a.default.AUDIO_TRACK_LOADING,a.default.SUBTITLE_TRACK_LOADING)||this;return r.loaders={},r}return i(r,t),Object.defineProperty(r,"ContextType",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(r,"LevelType",{get:function(){return h},enumerable:!0,configurable:!0}),r.canHaveQualityLevels=function(e){return e!==f.AUDIO_TRACK&&e!==f.SUBTITLE_TRACK},r.mapContextToLevelType=function(e){switch(e.type){case f.AUDIO_TRACK:return h.AUDIO;case f.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},r.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r},r.prototype.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return e.loader=i,this.loaders[e.type]=i,i},r.prototype.getInternalLoader=function(e){return this.loaders[e.type]},r.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},r.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},r.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},r.prototype.onManifestLoading=function(e){this.load(e.url,{type:f.MANIFEST,level:0,id:null})},r.prototype.onLevelLoading=function(e){this.load(e.url,{type:f.LEVEL,level:e.level,id:e.id})},r.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:f.AUDIO_TRACK,level:null,id:e.id})},r.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:f.SUBTITLE_TRACK,level:null,id:e.id})},r.prototype.load=function(e,t){var r=this.hls.config;l.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n,i,a,o,s=this.getInternalLoader(t);if(s){var u=s.context;if(u&&u.url===e)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case f.MANIFEST:n=r.manifestLoadingMaxRetry,i=r.manifestLoadingTimeOut,a=r.manifestLoadingRetryDelay,o=r.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:n=0,i=r.levelLoadingTimeOut;break;default:n=r.levelLoadingMaxRetry,i=r.levelLoadingTimeOut,a=r.levelLoadingRetryDelay,o=r.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var c={timeout:i,maxRetry:n,retryDelay:a,maxRetryDelay:o},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+e),s.load(t,c,d),!0},r.prototype.loadsuccess=function(e,t,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,n);this.resetInternalLoader(r.type);var i=e.data;t.tload=d.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,n):this._handleMasterPlaylist(e,t,r,n):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},r.prototype._handleMasterPlaylist=function(e,t,n,i){var o=this.hls,s=e.data,u=r.getResponseUrl(e,n),d=c.default.parseMasterPlaylist(s,u);if(d.length){var f=d.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),h=c.default.parseMasterPlaylistMedia(s,u,"AUDIO",f),p=c.default.parseMasterPlaylistMedia(s,u,"SUBTITLES");if(h.length){var g=!1;h.forEach(function(e){e.url||(g=!0)}),!1===g&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}o.trigger(a.default.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:p,url:u,stats:t,networkDetails:i})}else this._handleManifestParsingError(e,n,"no level found in manifest",i)},r.prototype._handleTrackOrLevelPlaylist=function(t,n,i,o){var s=this.hls,l=i.id,u=i.level,h=i.type,p=r.getResponseUrl(t,i),g=e.isFinite(l)?l:0,v=e.isFinite(u)?u:g,y=r.mapContextToLevelType(i),m=c.default.parseLevelPlaylist(t.data,p,v,y,g);if(m.tload=n.tload,h===f.MANIFEST){var b={url:p,details:m};s.trigger(a.default.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:p,stats:n,networkDetails:o})}if(n.tparsed=d.now(),m.needSidxRanges){var E=m.initSegment.url;this.load(E,{isSidxRequest:!0,type:h,level:u,levelDetails:m,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else i.levelDetails=m,this._handlePlaylistLoaded(t,n,i,o)},r.prototype._handleSidxRequest=function(e,t){var r=u.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var n=r.references,i=t.levelDetails;n.forEach(function(e,t){var r=e.info,n=i.fragments[t];0===n.byteRange.length&&(n.rawByteRange=String(1+r.end-r.start)+"@"+String(r.start))}),i.initSegment.rawByteRange=String(r.moovEndOffset)+"@0"}},r.prototype._handleManifestParsingError=function(e,t,r,n){this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:n})},r.prototype._handleNetworkError=function(e,t,r,n){var i,o;void 0===r&&(r=!1),void 0===n&&(n=null),l.logger.info("A network error occured while loading a "+e.type+"-type playlist");var u=this.getInternalLoader(e);switch(e.type){case f.MANIFEST:i=r?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case f.LEVEL:i=r?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case f.AUDIO_TRACK:i=r?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var c={type:s.ErrorTypes.NETWORK_ERROR,details:i,fatal:o,url:u.url,loader:u,context:e,networkDetails:t};n&&(c.response=n),this.hls.trigger(a.default.ERROR,c)},r.prototype._handlePlaylistLoaded=function(e,t,n,i){var o=n.type,s=n.level,l=n.id,u=n.levelDetails;if(u.targetduration)if(r.canHaveQualityLevels(n.type))this.hls.trigger(a.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:t,networkDetails:i});else switch(o){case f.AUDIO_TRACK:this.hls.trigger(a.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:i});break;case f.SUBTITLE_TRACK:this.hls.trigger(a.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:i})}else this._handleManifestParsingError(e,n,"invalid target duration",i)},r}(o.default);t.default=p}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/observer.js":
/*!*************************!*\
  !*** ./src/observer.js ***!
  \*************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(t))},t}(r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js").EventEmitter);t.Observer=a},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope().Number;t.Number=n,n.isFinite=n.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=n},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,a=i;i--;)n+=r[i].byteLength;for((t=new Uint8Array(n))[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;i<a;i++)t.set(r[i],n),n+=r[i].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var i=Math.floor(r/(n+1)),a=Math.floor(r%(n+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var i=Math.floor(r/(n+1)),a=Math.floor(r%(n+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var r,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,a=[],o=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,i=t.duration*t.timescale,a=t.width,o=t.height,s=Math.floor(i/(n+1)),l=Math.floor(i%(n+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,r){var i=e.sdtp(t),a=t.id,o=Math.floor(r/(n+1)),s=Math.floor(r%(n+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)a=(i=u[n]).duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r,n=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+n.byteLength)).set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();t.default=i},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./aac-helper */"./src/remux/aac-helper.js"),i=r(/*! ./mp4-generator */"./src/remux/mp4-generator.js"),a=r(/*! ../events */"./src/events.js"),o=r(/*! ../errors */"./src/errors.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=function(){function e(e,t,r,n){this.observer=e,this.config=t,this.typeSupported=r;var i=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,r,n,i,o,l){if(this.ISGenerated||this.generateIS(e,t,i),this.ISGenerated){var u=e.samples.length,c=t.samples.length,d=i,f=i;if(u&&c){var h=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;d+=Math.max(0,h),f+=Math.max(0,-h)}if(u){e.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,i));var p=this.remuxAudio(e,d,o,l);if(c){var g=void 0;p&&(g=p.endPTS-p.startPTS),t.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,i)),this.remuxVideo(t,f,o,g,l)}}else if(c){var v=this.remuxVideo(t,f,o,0,l);v&&e.codec&&this.remuxEmptyAudio(e,d,o,v)}}r.samples.length&&this.remuxID3(r,i),n.samples.length&&this.remuxText(n,i),this.observer.trigger(a.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,r){var n,l,u=this.observer,c=e.samples,d=t.samples,f=this.typeSupported,h="audio/mp4",p={},g={tracks:p},v=void 0===this._initPTS;if(v&&(n=l=1/0),e.config&&c.length&&(e.timescale=e.samplerate,s.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(f.mpeg?(h="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),p.audio={container:h,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:i.default.initSegment([e]),metadata:{channelCount:e.channelCount}},v&&(n=l=c[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&d.length){var y=t.inputTimeScale;t.timescale=y,p.video={container:"video/mp4",codec:t.codec,initSegment:i.default.initSegment([t]),metadata:{width:t.width,height:t.height}},v&&(n=Math.min(n,d[0].pts-y*r),l=Math.min(l,d[0].dts-y*r),this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(p).length?(u.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,v&&(this._initPTS=n,this._initDTS=l)):u.trigger(a.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,r,n,l){var u,c,d,f,h,p,g,v=8,y=e.timescale,m=e.samples,b=[],E=m.length,_=this._PTSNormalize,T=this._initPTS,S=this.nextAvcDts,A=this.isSafari;if(0!==E){A&&(r|=m.length&&S&&(l&&Math.abs(t-S/y)<.1||Math.abs(m[0].pts-S-T)<y/5)),r||(S=t*y),m.forEach(function(e){e.pts=_(e.pts-T,S),e.dts=_(e.dts-T,S)}),m.sort(function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n||e.id-t.id});var R=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(R<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(R/90)+" ms to overcome this issue");for(var w=0;w<m.length;w++)m[w].dts+=R}var L=m[0];h=Math.max(L.dts,0),f=Math.max(L.pts,0);var D=Math.round((h-S)/90);r&&D&&(D>1?s.logger.log("AVC:"+D+" ms hole between fragments detected,filling it"):D<-1&&s.logger.log("AVC:"+-D+" ms overlapping between fragments detected"),h=S,m[0].dts=h,f=Math.max(f-D,S),m[0].pts=f,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(f/90)+"/"+Math.round(h/90)+",delta:"+D+" ms")),L=m[m.length-1],g=Math.max(L.dts,0),p=Math.max(L.pts,0,g),A&&(u=Math.round((g-h)/(m.length-1)));var O=0,k=0;for(w=0;w<E;w++){for(var P=m[w],x=P.units,I=x.length,C=0,M=0;M<I;M++)C+=x[M].data.length;k+=C,O+=I,P.length=C,P.dts=A?h+w*u:Math.max(P.dts,h),P.pts=Math.max(P.pts,P.dts)}var F=k+4*O+8;try{c=new Uint8Array(F)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating video mdat "+F})}var j=new DataView(c.buffer);j.setUint32(0,F),c.set(i.default.types.mdat,4);for(w=0;w<E;w++){var N=m[w],U=N.units,B=0,G=void 0;for(M=0,I=U.length;M<I;M++){var K=U[M],H=K.data,Y=K.data.byteLength;j.setUint32(v,Y),v+=4,c.set(H,v),v+=Y,B+=4+Y}if(A)G=Math.max(0,u*Math.round((N.pts-N.dts)/u));else{if(w<E-1)u=m[w+1].dts-N.dts;else{var V=this.config,W=N.dts-m[w>0?w-1:w].dts;if(V.stretchShortVideoTrack){var q=V.maxBufferHole,z=Math.floor(q*y),X=(n?f+n*y:this.nextAudioPts)-N.pts;X>z?((u=X-W)<0&&(u=W),s.logger.log("It is approximately "+X/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=W}else u=W}G=Math.round(N.pts-N.dts)}b.push({size:B,duration:u,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:N.key?2:1,isNonSync:N.key?0:1}})}this.nextAvcDts=g+u;var $=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Q=b[0].flags;Q.dependsOn=2,Q.isNonSync=0}e.samples=b,d=i.default.moof(e.sequenceNumber++,h,e),e.samples=[];var J={data1:d,data2:c,startPTS:f/y,endPTS:(p+u)/y,startDTS:h/y,endDTS:this.nextAvcDts/y,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:$};return this.observer.trigger(a.default.FRAG_PARSING_DATA,J),J}},e.prototype.remuxAudio=function(e,t,r,l){var u,c,d,f,h,p,g,v=e.inputTimeScale,y=e.timescale,m=v/y,b=(e.isAAC?1024:1152)*m,E=this._PTSNormalize,_=this._initPTS,T=!e.isAAC&&this.typeSupported.mpeg,S=e.samples,A=[],R=this.nextAudioPts;if(r|=S.length&&R&&(l&&Math.abs(t-R/v)<.1||Math.abs(S[0].pts-R-_)<20*b),S.forEach(function(e){e.pts=e.dts=E(e.pts-_,t*v)}),0!==(S=S.filter(function(e){return e.pts>=0})).length){if(r||(R=l?t*v:S[0].pts),e.isAAC)for(var w=this.config.maxAudioFramesDrift,L=0,D=R;L<S.length;){var O,k=S[L];O=(N=k.pts)-D;var P=Math.abs(1e3*O/v);if(O<=-w*b)s.logger.warn("Dropping 1 audio frame @ "+(D/v).toFixed(3)+"s due to "+Math.round(P)+" ms overlap."),S.splice(L,1),e.len-=k.unit.length;else if(O>=w*b&&P<1e4&&D){var x=Math.round(O/b);s.logger.warn("Injecting "+x+" audio frame @ "+(D/v).toFixed(3)+"s due to "+Math.round(1e3*O/v)+" ms gap.");for(var I=0;I<x;I++){var C=Math.max(D,0);(d=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),d=k.unit.subarray()),S.splice(L,0,{unit:d,pts:C,dts:C}),e.len+=d.length,D+=b,L++}k.pts=k.dts=D,D+=b,L++}else Math.abs(O),k.pts=k.dts=D,D+=b,L++}I=0;for(var M=S.length;I<M;I++){var F=S[I],j=F.unit,N=F.pts;if(void 0!==g)c.duration=Math.round((N-g)/m);else{var U=Math.round(1e3*(N-R)/v),B=0;if(r&&e.isAAC&&U){if(U>0&&U<1e4)B=Math.round((N-R)/b),s.logger.log(U+" ms hole between AAC samples detected,filling it"),B>0&&((d=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(d=j.subarray()),e.len+=B*d.length);else if(U<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(R/v).toFixed(3)+"s/"+(N/v).toFixed(3)+"s/"+-U+"ms"),e.len-=j.byteLength;continue}N=R}if(p=N,!(e.len>0))return;var G=T?e.len:e.len+8;u=T?0:8;try{f=new Uint8Array(G)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}T||(new DataView(f.buffer).setUint32(0,G),f.set(i.default.types.mdat,4));for(L=0;L<B;L++)(d=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),d=j.subarray()),f.set(d,u),u+=d.byteLength,c={size:d.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},A.push(c)}f.set(j,u);var K=j.byteLength;u+=K,c={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},A.push(c),g=N}var H=0,Y=A.length;if(Y>=2&&(H=A[Y-2].duration,c.duration=H),Y){this.nextAudioPts=R=g+m*H,e.len=0,e.samples=A,h=T?new Uint8Array:i.default.moof(e.sequenceNumber++,p/m,e),e.samples=[];var V=p/v,W=R/v,q={data1:h,data2:f,startPTS:V,endPTS:W,startDTS:V,endDTS:W,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.observer.trigger(a.default.FRAG_PARSING_DATA,q),q}return null}},e.prototype.remuxEmptyAudio=function(e,t,r,i){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),l=this.nextAudioPts,u=(void 0!==l?l:i.startDTS*a)+this._initDTS,c=i.endDTS*a+this._initDTS,d=1024*o,f=Math.ceil((c-u)/d),h=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn("remux empty Audio"),h){for(var p=[],g=0;g<f;g++){var v=u+g*d;p.push({unit:h,pts:v,dts:v}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,r)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e){var t,r=e.samples.length,n=e.inputTimeScale,i=this._initPTS,o=this._initDTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-i)/n,t.dts=(t.dts-o)/n;this.observer.trigger(a.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,r=e.samples.length,n=e.inputTimeScale,i=this._initPTS;if(r){for(var o=0;o<r;o++)(t=e.samples[o]).pts=(t.pts-i)/n;this.observer.trigger(a.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}();t.default=l},"./src/remux/passthrough-remuxer.js":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),i=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,r,i,a,o,s,l){var u=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),u.trigger(n.default.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(n.default.FRAG_PARSED)},e}();t.default=i},"./src/task-loop.js":
/*!**************************!*\
  !*** ./src/task-loop.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=e.apply(this,[t].concat(r))||this;return i._tickInterval=null,i._tickTimer=null,i._tickCallCount=0,i._boundTick=i.tick.bind(i),i}return i(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(r(/*! ./event-handler */"./src/event-handler.js").default);t.default=a},"./src/utils/attr-list.js":
/*!********************************!*\
  !*** ./src/utils/attr-list.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=/^(\d+)x(\d+)$/,n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function t(e){for(var r in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var r=parseInt(this[t],10);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var r=parseInt(this[t],16);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,r={};for(n.lastIndex=0;null!==(t=n.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[t[1]]=i}return r},t}();t.default=i}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":
/*!************************************!*\
  !*** ./src/utils/binary-search.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={search:function(e,t){for(var r=0,n=e.length-1,i=null,a=null;r<=n;){var o=t(a=e[i=(r+n)/2|0]);if(o>0)r=i+1;else{if(!(o<0))return a;n=i-1}}return null}}},"./src/utils/buffer-helper.js":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var n=e.buffered,i=[],a=void 0;for(a=0;a<n.length;a++)i.push({start:n.start(a),end:n.end(a)});return this.bufferedInfo(i,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){var n,i,a,o,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),s=0;s<e.length;s++){var u=l.length;if(u){var c=l[u-1].end;e[s].start-c<r?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,n=0,i=a=t;s<l.length;s++){var d=l[s].start,f=l[s].end;if(t+r>=d&&t<f)i=d,n=(a=f)-t;else if(t+r<d){o=d;break}}return{len:n,start:i,end:a,nextStart:o}},e}();t.BufferHelper=n},"./src/utils/cea-608-parser.js":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i=function(e){var t=e;return n.hasOwnProperty(e)&&(t=n[e]),String.fromCharCode(t)},a=15,o=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},h=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},p=function(){function e(e,t,r,n,i){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),g=function(){function e(e,t,r,n,i,a){this.uchar=e||" ",this.penState=new p(t,r,n,i,a)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),v=function(){function e(){this.chars=[];for(var e=0;e<o;e++)this.chars.push(new g);this.pos=0,this.currPenState=new p}return e.prototype.equals=function(e){for(var t=!0,r=0;r<o;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<o;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<o;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>o&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=o)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=i(e);this.pos>=o?f.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<o;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<o;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),y=function(){function e(){this.rows=[];for(var e=0;e<a;e++)this.rows.push(new v);this.currRow=a-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<a;e++)this.rows[e].clear();this.currRow=a-1},e.prototype.equals=function(e){for(var t=!0,r=0;r<a;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<a;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<a;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){f.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){f.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<a;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[n].cueStartTime;if(o&&o<f.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(i.rows[n+r])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[u].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},e.prototype.setBkgData=function(e){f.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<a;i++){var o=this.rows[i].getTextString();o&&(n=i+1,e?t.push("Row "+n+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},e.prototype.getTextAndFormat=function(){return this.rows},e}(),m=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,f.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){f.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){f.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}f.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=f.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),b=function(){function e(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new m(1,t),new m(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var r,n,i,a=!1;this.lastTime=e,f.setTime(e);for(var o=0;o<t.length;o+=2)if(n=127&t[o],i=127&t[o+1],0!==n||0!==i){if(f.log("DATA","["+h([t[o],t[o+1]])+"] -> ("+h([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r)if(a=this.parseChars(n,i))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(a);else f.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+h([n,i])+" orig: "+h([t[o],t[o+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var r=null;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+h([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var n=this.channels[r-1];return 20===e||28===e?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.parseMidrow=function(e,t){var r=null;return(17===e||25===e)&&t>=32&&t<=47&&((r=17===e?1:2)!==this.currChNr?(f.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(t),f.log("DEBUG","MIDROW ("+h([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var r,n=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,n=t>=64&&t<=95?1===r?s[e]:u[e]:1===r?l[e]:c[e];var i=this.interpretPAC(n,t);return this.channels[r-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.interpretPAC=function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},e.prototype.parseChars=function(e,t){var r=null,n=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),a>=17&&a<=19){var o=t;o=17===a?t+80:18===a?t+112:t+144,f.log("INFO","Special char '"+i(o)+"' in channel "+r),n=[o]}else e>=32&&e<=127&&(n=0===t?[e]:[e,t]);if(n){var s=h(n);f.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},e.prototype.parseBackgroundAttributes=function(e,t){var r,n,i;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=d[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=b},"./src/utils/codecs.js":
/*!*****************************!*\
  !*** ./src/utils/codecs.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var r=n[t];return!!r&&!0===r[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":
/*!***************************!*\
  !*** ./src/utils/cues.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./vttparser */"./src/utils/vttparser.js");t.newCue=function(e,t,r,i){for(var a,o,s,l,u,c=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(s=!0,l=0,u="",!(a=i.rows[d]).isEmpty()){for(var f=0;f<a.chars.length;f++)a.chars[f].uchar.match(/\s/)&&s?l++:(u+=a.chars[f].uchar,s=!1);a.cueStartTime=t,t===r&&(r+=1e-4),o=new c(t,r,n.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?o.line=d+1:o.line=d>7?d-2:d+1,o.align="left",o.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(o)}}},"./src/utils/discontinuities.js":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./binary-search */"./src/utils/binary-search.js"),i=r(/*! ../utils/logger */"./src/utils/logger.js");function a(e,t){for(var r=null,n=0;n<e.length;n+=1){var i=e[n];if(i&&i.cc===t){r=i;break}}return r}function o(e,t,r){var n=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(n=!0),n}function s(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var o=a(r,n[0].cc);if(o&&(!o||o.startPTS))return o;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function l(e,t){t.fragments.forEach(function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}),t.PTSKnown=!0}function u(e,t,r){if(o(e,r,t)){var n=s(r.details,t);n&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level"),l(n.start,t))}}function c(t,r){if(r&&r.fragments.length){if(!t.hasProgramDateTime||!r.hasProgramDateTime)return;var n=r.fragments[0].programDateTime,a=(t.fragments[0].programDateTime-n)/1e3+r.fragments[0].start;e.isFinite(a)&&(i.logger.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),l(a,t))}}t.findFirstFragWithCC=a,t.findFragWithCC=function(e,t){return n.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})},t.shouldAlignOnDiscontinuities=o,t.findDiscontinuousReferenceFrag=s,t.adjustPts=l,t.alignStream=function(e,t,r){u(e,r,t),!r.PTSKnown&&t&&c(r,t.details)},t.alignDiscontinuities=u,t.alignPDT=c}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/ewma */"./src/utils/ewma.js"),i=function(){function e(e,t,r,i){this.hls=e,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(t),this.fast_=new n.default(r)}return e.prototype.sample=function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),n=e/1e3;this.fast_.sample(n,r),this.slow_.sample(n,r)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=i},"./src/utils/ewma.js":
/*!***************************!*\
  !*** ./src/utils/ewma.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=n},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function i(){}var a={trace:i,debug:i,log:i,warn:i,info:i,error:i},o=a;var s=n.getSelfScope();function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];t.forEach(function(t){o[t]=e[t]?e[t].bind(e):function(e){var t=s.console[e];return t?function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r[0]&&(r[0]=function(e,t){return t="["+e+"] > "+t}(e,r[0])),t.apply(s.console,r)}:i}(t)})}t.enableLogs=function(e){if(!0===e||"object"==typeof e){l(e,"debug","log","info","warn","error");try{o.log()}catch(e){o=a}}else o=a},t.logger=o},"./src/utils/mediakeys-helper.js":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=n},"./src/utils/mediasource-helper.js":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.js ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":
/*!************************************!*\
  !*** ./src/utils/output-filter.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=n},"./src/utils/texttrack-utils.js":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":
/*!*****************************!*\
  !*** ./src/utils/vttcue.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e="auto",t={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function a(r,a,o){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=r,h=a,p=o,g=null,v="",y=!0,m="auto",b="start",E=50,_="middle",T=50,S="middle";if(Object.defineProperty(s,"id",i({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return v},set:function(e){var r=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return b},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return _},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return S},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}return a.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},a}()},"./src/utils/vttparser.js":
/*!********************************!*\
  !*** ./src/utils/vttparser.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./vttcue */"./src/utils/vttcue.js"),i=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function a(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[]}function o(){this.values=Object.create(null)}function s(e,t,r,n){var i=n?e.split(n):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(r);if(2===o.length)t(o[0],o[1])}}o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=new n.default(0,0,0),u="middle"===l.align?"middle":"center";function c(e,t,r){var n=e;function i(){var t=function(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),a(),t.endTime=i(),a(),function(e,t){var n=new o;s(e,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];n.integer(e,o),n.percent(e,o)&&n.set("snapToLines",!1),n.alt(e,o,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start",u,"end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",u,"end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",u);var a=n.get("position","auto");"auto"===a&&50===l.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function d(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=d,a.prototype={parse:function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=d(e);r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var a=(i=r()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:i=r(),t.state){case"HEADER":/:/.test(i)?s(i,function(e,t){},/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new n.default(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{c(i,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(o=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=a},"./src/utils/webvtt-parser.js":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./vttparser */"./src/utils/vttparser.js"),i=r(/*! ../demux/id3 */"./src/demux/id3.js"),a=function(e,t,r){return e.substr(r||0,t.length)===t},o=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},s={parse:function(t,r,s,l,u,c){var d,f=i.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),h="00:00.000",p=0,g=0,v=0,y=[],m=!0,b=new n.default;b.oncue=function(e){var t=s[l],r=s.ccOffset;t&&t.new&&(void 0!==g?r=s.ccOffset=t.start:function(e,t,r){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;i&&i.new;)e.ccOffset+=n.start-i.start,n.new=!1,i=e[(n=i).prevCC];e.presentationOffset=r}(s,l,v)),v&&(r=v-s.presentationOffset),e.startTime+=r-g,e.endTime+=r-g,e.id=o(e.startTime.toString())+o(e.endTime.toString())+o(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&y.push(e)},b.onparsingerror=function(e){d=e},b.onflush=function(){d&&c?c(d):u(y)},f.forEach(function(t){if(m){if(a(t,"X-TIMESTAMP-MAP=")){m=!1,t.substr(16).split(",").forEach(function(e){a(e,"LOCAL:")?h=e.substr(6):a(e,"MPEGTS:")&&(p=parseInt(e.substr(7)))});try{r+(9e4*s[l].start||0)<0&&(r+=8589934592),p-=r,n=h,i=parseInt(n.substr(-3)),o=parseInt(n.substr(-6,2)),u=parseInt(n.substr(-9,2)),c=n.length>9?parseInt(n.substr(0,n.indexOf(":"))):0,g=(e.isFinite(i)&&e.isFinite(o)&&e.isFinite(u)&&e.isFinite(c)?(i+=1e3*o,i+=6e4*u,i+=36e5*c):-1)/1e3,v=p/9e4,-1===g&&(d=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){d=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(m=!1)}var n,i,o,u,c;b.parse(t+"\n")}),b.flush()}};t.default=s}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=window.performance,a=window.XMLHttpRequest,o=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:i.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new a;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(r){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,a=this.stats,o=this.context,s=this.config;if(!a.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===a.tfirst&&(a.tfirst=Math.max(i.now(),a.trequest)),4===r){var l=t.status;if(l>=200&&l<300){a.tload=Math.max(a.tfirst,i.now());var u=void 0,c=void 0;c="arraybuffer"===o.responseType?(u=t.response).byteLength:(u=t.responseText).length,a.loaded=a.total=c;var d={url:t.responseURL,data:u};this.callbacks.onSuccess(d,a,o,t)}else a.retry>=s.maxRetry||l>=400&&l<499?(n.logger.error(l+" while loading "+o.url),this.callbacks.onError({code:l,text:t.statusText},o,t)):(n.logger.warn(l+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),a.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},e.prototype.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,t)},e}();t.default=o}}).default},e.exports=n())},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,n||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=new Array(a);n<a;n++)o[n]=r[n].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},function(e,t,r){var n=r(48),i=r(19),a=r(135),o=r(140);e.exports=function(e,t){if(null==e)return{};var r=n(o(e),function(e){return[e]});return t=i(t),a(e,r,function(e,r){return t(e,r[0])})}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(19),i=r(26),a=r(23);e.exports=function(e){return function(t,r,o){var s=Object(t);if(!i(t)){var l=n(r,3);t=a(t),r=function(e){return l(s[e],e,s)}}var u=e(t,r,o);return u>-1?s[l?t[u]:u]:void 0}}},function(e,t,r){var n=r(55),i=r(110),a=r(47);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(29),i=r(33),a=1,o=2;e.exports=function(e,t,r,s){var l=r.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var d=r[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){var f=(d=r[l])[0],h=e[f],p=d[1];if(c&&d[2]){if(void 0===h&&!(f in e))return!1}else{var g=new n;if(s)var v=s(h,p,f,e,t,g);if(!(void 0===v?i(p,h,a|o,s,g):v))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(11),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():i.call(t,r,1),--this.size,0))}},function(e,t,r){var n=r(11);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(11);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(11);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(10);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(10),i=r(21),a=r(22),o=200;e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(30),i=r(69),a=r(5),o=r(32),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?f:s).test(o(e))}},function(e,t,r){var n=r(12),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n,i=r(70),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},function(e,t,r){var n=r(2)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(73),i=r(10),a=r(21);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},function(e,t,r){var n=r(74),i=r(75),a=r(76),o=r(77),s=r(78);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(13);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(13),i="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return a.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(13),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(13),i="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}},function(e,t,r){var n=r(14);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(14);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(14);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(14);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t,r){var n=r(29),i=r(34),a=r(90),o=r(94),s=r(105),l=r(3),u=r(41),c=r(43),d=1,f="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,y,m){var b=l(e),E=l(t),_=b?h:s(e),T=E?h:s(t),S=(_=_==f?p:_)==p,A=(T=T==f?p:T)==p,R=_==T;if(R&&u(e)){if(!u(t))return!1;b=!0,S=!1}if(R&&!S)return m||(m=new n),b||c(e)?i(e,t,r,v,y,m):a(e,t,_,r,v,y,m);if(!(r&d)){var w=S&&g.call(e,"__wrapped__"),L=A&&g.call(t,"__wrapped__");if(w||L){var D=w?e.value():e,O=L?t.value():t;return m||(m=new n),y(D,O,r,v,m)}}return!!R&&(m||(m=new n),o(e,t,r,v,y,m))}},function(e,t,r){var n=r(22),i=r(86),a=r(87);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},function(e,t){var r="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,r),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,r){var n=r(12),i=r(91),a=r(20),o=r(34),s=r(92),l=r(93),u=1,c=2,d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",y="[object Set]",m="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",_="[object DataView]",T=n?n.prototype:void 0,S=T?T.valueOf:void 0;e.exports=function(e,t,r,n,T,A,R){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!A(new i(e),new i(t)));case d:case f:case g:return a(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case m:return e==t+"";case p:var w=s;case y:var L=n&u;if(w||(w=l),e.size!=t.size&&!L)return!1;var D=R.get(e);if(D)return D==t;n|=c,R.set(e,t);var O=o(w(e),w(t),n,T,A,R);return R.delete(e),O;case b:if(S)return S.call(e)==S.call(t)}return!1}},function(e,t,r){var n=r(2).Uint8Array;e.exports=n},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},function(e,t,r){var n=r(95),i=1,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,s,l){var u=r&i,c=n(e),d=c.length;if(d!=n(t).length&&!u)return!1;for(var f=d;f--;){var h=c[f];if(!(u?h in t:a.call(t,h)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var g=!0;l.set(e,t),l.set(t,e);for(var v=u;++f<d;){var y=e[h=c[f]],m=t[h];if(o)var b=u?o(m,y,h,t,e,l):o(y,m,h,e,t,l);if(!(void 0===b?y===m||s(y,m,r,o,l):b)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return l.delete(e),l.delete(t),g}},function(e,t,r){var n=r(35),i=r(37),a=r(23);e.exports=function(e){return n(e,a,i)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(7),i=r(8),a="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==a}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(7),i=r(25),a=r(8),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(31),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&n.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,r(42)(e))},function(e,t,r){var n=r(44),i=r(104),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t,r){var n=r(45)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(106),i=r(21),a=r(107),o=r(108),s=r(109),l=r(7),u=r(32),c=u(n),d=u(i),f=u(a),h=u(o),p=u(s),g=l;(n&&"[object DataView]"!=g(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||a&&"[object Promise]"!=g(a.resolve())||o&&"[object Set]"!=g(new o)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case c:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,r){var n=r(4)(r(2),"DataView");e.exports=n},function(e,t,r){var n=r(4)(r(2),"Promise");e.exports=n},function(e,t,r){var n=r(4)(r(2),"Set");e.exports=n},function(e,t,r){var n=r(4)(r(2),"WeakMap");e.exports=n},function(e,t,r){var n=r(46),i=r(23);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var a=t[r],o=e[a];t[r]=[a,o,n(o)]}return t}},function(e,t,r){var n=r(33),i=r(112),a=r(118),o=r(28),s=r(46),l=r(47),u=r(9),c=1,d=2;e.exports=function(e,t){return o(e)&&s(t)?l(u(e),t):function(r){var o=i(r,e);return void 0===o&&o===t?a(r,e):n(t,o,c|d)}}},function(e,t,r){var n=r(27);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){var n=r(114),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)}),t});e.exports=o},function(e,t,r){var n=r(115),i=500;e.exports=function(e){var t=n(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}},function(e,t,r){var n=r(22),i="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},function(e,t,r){var n=r(117);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(12),i=r(48),a=r(3),o=r(16),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},function(e,t,r){var n=r(119),i=r(120);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(15),i=r(40),a=r(3),o=r(24),s=r(25),l=r(9);e.exports=function(e,t,r){for(var u=-1,c=(t=n(t,e)).length,d=!1;++u<c;){var f=l(t[u]);if(!(d=null!=e&&r(e,f)))break;e=e[f]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&o(f,c)&&(a(e)||i(e))}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(123),i=r(124),a=r(28),o=r(9);e.exports=function(e){return a(e)?n(o(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){var n=r(27);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,r){var n=r(126),i=r(19),a=r(127),o=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var l=null==r?0:a(r);return l<0&&(l=o(s+l,0)),n(e,i(t,3),l)}},function(e,t){e.exports=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},function(e,t,r){var n=r(128);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},function(e,t,r){var n=r(129),i=1/0,a=1.7976931348623157e308;e.exports=function(e){return e?(e=n(e))===i||e===-i?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}},function(e,t,r){var n=r(5),i=r(16),a=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?a:+e}},function(e,t,r){var n=r(131);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(133)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(132)(!1)).push([e.i,".ig-container {\n  position: relative;\n  padding-top: 56.25%;\n  background-color: #000;\n}\n\n.ig-player,\n.ig-ads,\n.ig-ui {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}",""])},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(a).concat([i]).join("\n")}var o;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(n[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t,r){var n,i,a={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,c=[],d=r(134);function f(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=a[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(m(n.parts[o],t))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(m(n.parts[o],t));a[n.id]={id:n.id,refs:1,parts:s}}}}function h(e,t){for(var r=[],n={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(s):r.push(n[o]={id:o,parts:[s]})}return r}function p(e,t){var r=s(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,r);r.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return y(t,e.attrs),p(e,t),t}function y(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function m(e,t){var r,n,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=u++;r=l||(l=v(t)),n=_.bind(null,r,o,!1),i=_.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),p(e,t),t}(t),n=function(e,t,r){var n=r.css,i=r.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(n=d(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,r,t),i=function(){g(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(t),n=function(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){g(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=h(e,t);return f(r,t),function(e){for(var n=[],i=0;i<r.length;i++){var o=r[i];(s=a[o.id]).refs--,n.push(s)}e&&f(h(e,t),t);for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var b,E=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function _(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?r+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,r){var n=r(27),i=r(136),a=r(15);e.exports=function(e,t,r){for(var o=-1,s=t.length,l={};++o<s;){var u=t[o],c=n(e,u);r(c,u)&&i(l,a(u,e),c)}return l}},function(e,t,r){var n=r(137),i=r(15),a=r(24),o=r(5),s=r(9);e.exports=function(e,t,r,l){if(!o(e))return e;for(var u=-1,c=(t=i(t,e)).length,d=c-1,f=e;null!=f&&++u<c;){var h=s(t[u]),p=r;if(u!=d){var g=f[h];void 0===(p=l?l(g,h,f):void 0)&&(p=o(g)?g:a(t[u+1])?[]:{})}n(f,h,p),f=f[h]}return e}},function(e,t,r){var n=r(138),i=r(20),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(139);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(4),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){var n=r(35),i=r(141),a=r(143);e.exports=function(e){return n(e,a,i)}},function(e,t,r){var n=r(36),i=r(142),a=r(37),o=r(38),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,a(e)),e=i(e);return t}:o;e.exports=s},function(e,t,r){var n=r(45)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(39),i=r(144),a=r(26);e.exports=function(e){return a(e)?n(e,!0):i(e)}},function(e,t,r){var n=r(5),i=r(44),a=r(145),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&r.push(s);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){"use strict";r.r(t);var n,i=r(1),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.boot=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return[2]})})},t.prototype.load=function(){this.instance.player.load(),this.instance.media.load()},t.prototype.unload=function(){this.instance.media&&this.instance.media.unload(),this.instance.player&&this.instance.player.unload()},t.prototype.play=function(){this.hooks.canExecute("play")&&this.instance.media.play()},t.prototype.pause=function(){this.hooks.canExecute("pause")&&this.instance.media.pause()},t.prototype.seekTo=function(e){this.hooks.canExecute("seekTo",e)&&this.instance.media.seekTo(e)},t.prototype.setVolume=function(e){this.hooks.canExecute("setVolume",e)&&this.instance.media.setVolume(e)},t}(i.a),u=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="base",t}return u(t,e),t}(l),d=r(0),f={type:d.f.CONTROLLER,create:function(e){return new c(e)},isSupported:function(e){return e.sources.length>0}},h=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),p=performance.now(),g=function(e){function t(t){var r=e.call(this,t)||this;return r.name="benchmark",r.startupTimeExtension=performance.now()-p,r.once(d.c.PLAYER_STATE_READY,function(){r.startupTimePlayer=performance.now()-p}),r.once(d.c.READY,function(){r.startupTimeInstance=performance.now()-p}),t.canAutoplay()&&r.once(d.c.PLAYER_STATE_PLAYING,function(){r.startupTimeWithAutoplay=performance.now()-p}),r}return h(t,e),t}(i.a),v=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},y=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},m={type:d.f.EXTENSION,create:function(e){return v(void 0,void 0,void 0,function(){return y(this,function(t){return[2,new g(e)]})})},isSupported:function(e){return!0}},b=r(18),E=r.n(b),_=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(e){function t(t){var r=e.call(this,t)||this;return r.name="freewheel",r.adBreaks=[],window.tv.freewheel.SDK?(r.sdk=window.tv.freewheel.SDK,r.sdk.setLogLevel(r.sdk.LOG_LEVEL_QUIET),t.controller.hooks.create({name:"play",method:r.onHookControllerPlay.bind(r)}),t.controller.hooks.create({name:"pause",method:r.onHookControllerPause.bind(r)}),t.controller.hooks.create({name:"setVolume",method:r.onHookControllerSetVolume.bind(r)}),r.once(d.c.READY,r.onReady.bind(r)),r.on(d.c.PLAYER_STATE_TIMEUPDATE,r.onPlayerTimeUpdate.bind(r)),r):r}return _(t,e),t.prototype.onHookControllerPlay=function(){return this.adsRequested?d.e.CONTINUE:(this.adContext.submitRequest(),d.e.ABORT)},t.prototype.onHookControllerPause=function(){return this.currentAdBreak?(this.mediaElement.pause(),d.e.ABORT):d.e.CONTINUE},t.prototype.onHookControllerSetVolume=function(e){return this.mediaElement.volume=e,d.e.CONTINUE},t.prototype.createMediaElement=function(){var e=this;this.mediaElement=document.createElement("video"),this.mediaElement.style.width="100%",this.mediaElement.style.height="100%",this.mediaElement.addEventListener("play",function(){e.emit(d.c.ADBREAK_STATE_PLAY)}),this.mediaElement.addEventListener("pause",function(){e.emit(d.c.ADBREAK_STATE_PAUSE)}),this.mediaElement.addEventListener("playing",function(){e.emit(d.c.ADBREAK_STATE_PLAYING)}),this.mediaElement.addEventListener("timeupdate",function(){e.emit(d.c.ADBREAK_STATE_TIMEUPDATE,{currentTime:e.mediaElement.currentTime})})},t.prototype.onReady=function(){var e=this;this.createMediaElement(),this.instance.adsContainer.appendChild(this.mediaElement);var t=this.sdk.AdManager;this.adManager=new t,this.adContext=this.adManager.newContext(),this.adContext.addEventListener(this.sdk.EVENT_REQUEST_COMPLETE,this.onAdRequestComplete.bind(this)),this.adContext.addEventListener(this.sdk.EVENT_SLOT_STARTED,this.onSlotStarted.bind(this)),this.adContext.addEventListener(this.sdk.EVENT_SLOT_ENDED,this.onSlotEnded.bind(this));var r=this.instance.config.freewheel;this.adManager.setNetwork(r.network),this.adManager.setServer(r.server),this.adContext.setVideoAsset(r.videoAsset,r.duration,r.network),this.adContext.setSiteSection(r.siteSection),this.adContext.setProfile(r.profile),r.cuepoints.forEach(function(t){if(t===d.a.PREROLL)e.adContext.addTemporalSlot("preroll",e.sdk.ADUNIT_PREROLL,0);else if(t===d.a.POSTROLL)e.adContext.addTemporalSlot("postroll",e.sdk.ADUNIT_POSTROLL,r.duration);else{var n=t;e.adContext.addTemporalSlot("midroll-"+n,e.sdk.ADUNIT_MIDROLL,n)}}),this.instance.adsContainer.id="freewheelAdsContainer",this.adContext.registerVideoDisplayBase(this.instance.adsContainer.id)},t.prototype.onAdRequestComplete=function(e){if(this.adsRequested=!0,e.success){var t=this.adContext.getTemporalSlots();this.adBreaks=t.map(function(e){return{id:e.getCustomId(),type:e.getAdUnit(),startsAt:e.getTimePosition(),hasBeenWatched:!1,freewheelSlot:e}})}this.emit(d.c.ADBREAKS,{adBreaks:this.adBreaks});var r=E()(this.adBreaks,{type:d.a.PREROLL});r?this.playAdBreak(r):this.instance.media.play()},t.prototype.onSlotStarted=function(e){var t=e.slot;this.instance.media.pause();var r=this.slotToAdBreak(t);this.currentAdBreak=r,this.emit(d.c.ADBREAK_STARTED,{adBreak:r})},t.prototype.onSlotEnded=function(e){var t=e.slot,r=this.slotToAdBreak(t);r.hasBeenWatched=!0,this.currentAdBreak=null,this.emit(d.c.ADBREAK_ENDED,{adBreak:r}),this.instance.media.play(),this.instance.adsContainer.style.display="none"},t.prototype.onPlayerTimeUpdate=function(e){var t=e.currentTime,r=E()(this.adBreaks,function(e){return e.type===d.a.MIDROLL&&e.startsAt<=t&&!e.hasBeenWatched});r&&this.playAdBreak(r)},t.prototype.slotToAdBreak=function(e){return E()(this.adBreaks,{id:e.getCustomId()})},t.prototype.playAdBreak=function(e){try{e.freewheelSlot.play()}catch(e){this.instance.media.play()}this.instance.adsContainer.style.display="block"},t}(i.a),S=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},A=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},R={type:d.f.EXTENSION,create:function(e){return S(void 0,void 0,void 0,function(){return A(this,function(t){return[2,new T(e)]})})},isSupported:function(e){return e.freewheel&&e.freewheel.clientSide}},w=r(17),L=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},O=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="base",t}return L(t,e),t.prototype.load=function(){return D(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,e.prototype.load.call(this)];case 1:return t.sent(),this.instance.player.setSource(this.instance.format.src),[2]}})})},t}(w.a),P={type:d.f.MEDIA,create:function(e){return new k(e)},isSupported:function(e){return e.type===d.d.MP4||e.type===d.d.MOV}};var x=function(){return!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach&&!!window.MediaSource&&!!MediaSource.isTypeSupported&&!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)},I=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},C=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},M=[["widevine","com.widevine.alpha"],["playready","com.microsoft.playready"],["playready","com.youtube.playready"],["clearkey","webkit-org.w3.clearkey"],["clearkey","org.w3.clearkey"],["primetime","com.adobe.primetime"],["primetime","com.adobe.access"],["fairplay","com.apple.fairplay"]],F=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},j=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},N={type:d.f.MEDIA,create:function(e){return Promise.all([r.e(2),r.e(1)]).then(r.bind(null,148)).then(function(t){return new(0,t.DashMedia)(e)})},isSupported:function(e){return F(void 0,void 0,void 0,function(){var t;return j(this,function(r){switch(r.label){case 0:return e.type!==d.d.DASH?[2,!1]:x()?e.drm?[4,I(void 0,void 0,void 0,function(){var e,t,r,n=this;return C(this,function(i){switch(i.label){case 0:return document.createElement("video").mediaKeys?[2,!1]:(e=function(e){return I(n,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:if(!window.navigator.requestMediaKeySystemAccess||"function"!=typeof window.navigator.requestMediaKeySystemAccess)return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,window.navigator.requestMediaKeySystemAccess(e,[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.42E01E"',robustness:"SW_SECURE_CRYPTO"}]}])];case 2:return t.sent(),[2,!0];case 3:return t.sent(),[2,!1];case 4:return[2]}})})},t={},r=[],[4,Promise.all(M.map(function(i){var a=i[0],o=i[1];return I(n,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return[4,e(o)];case 1:return n.sent()&&(r.push(o),t[a]||(t[a]=!0)),[2]}})})}))]);case 1:return i.sent(),[2,{drmSupport:t,keySystemsSupported:r}]}})})]:[3,2]:[2,!1];case 1:if(!(t=r.sent()).drmSupport.widevine&&!t.drmSupport.playready)return[2,!1];r.label=2;case 2:return[2,!0]}})})}},U=r(49),B=r.n(U),G=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},H=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="hlsjs",t}return G(t,e),t.prototype.load=function(){return K(this,void 0,void 0,function(){var t,r,n;return H(this,function(i){switch(i.label){case 0:return[4,e.prototype.load.call(this)];case 1:return i.sent(),this.player=new B.a({autoStartLoad:!1}),t=this.instance.player.mediaElement,n=new Promise(function(e){r=e}),this.once(d.c.PLAYER_STATE_READY,r),this.player.attachMedia(t),this.player.loadSource(this.instance.format.src),this.player.startLoad(),[4,n];case 2:return i.sent(),[2]}})})},t.prototype.unload=function(){this.player.destroy(),this.player=null},t}(w.a),V={type:d.f.MEDIA,create:function(e){return new Y(e)},isSupported:function(e){return e.type===d.d.HLS}},W=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.load=function(){},t.prototype.unload=function(){},t.prototype.play=function(){},t.prototype.pause=function(){},t.prototype.seekTo=function(e){},t.prototype.setVolume=function(e){},t.prototype.setSource=function(e){},t}(i.a),z=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="html5",t}return z(t,e),t.prototype.load=function(){var t=this;e.prototype.load.call(this),this.mediaElement=document.createElement("video"),this.mediaElement.style.width="100%",this.mediaElement.style.height="100%",this.instance.playerContainer.appendChild(this.mediaElement),this.instance.config.showNativeControls&&(this.mediaElement.controls=!0),this.mediaElement.addEventListener("play",function(){t.emit(d.c.PLAYER_STATE_PLAY)}),this.mediaElement.addEventListener("pause",function(){t.emit(d.c.PLAYER_STATE_PAUSE)}),this.mediaElement.addEventListener("playing",function(){t.emit(d.c.PLAYER_STATE_PLAYING)}),this.mediaElement.addEventListener("ended",function(){t.emit(d.c.PLAYER_STATE_ENDED)}),this.mediaElement.addEventListener("seeked",function(){t.emit(d.c.PLAYER_STATE_SEEKED)}),this.mediaElement.addEventListener("timeupdate",function(){t.emit(d.c.PLAYER_STATE_TIMEUPDATE,{currentTime:t.mediaElement.currentTime})}),this.mediaElement.addEventListener("loadedmetadata",function(){t.emit(d.c.PLAYER_STATE_READY)}),this.mediaElement.addEventListener("waiting",function(){t.emit(d.c.PLAYER_STATE_WAITING)}),this.mediaElement.addEventListener("volumechange",function(){t.emit(d.c.PLAYER_STATE_VOLUMECHANGE,{volume:t.mediaElement.volume})})},t.prototype.unload=function(){this.mediaElement&&(this.mediaElement.pause(),this.mediaElement.removeAttribute("src"),this.mediaElement.load(),this.mediaElement.remove()),e.prototype.unload.call(this)},t.prototype.setSource=function(e){this.mediaElement.src=e},t.prototype.play=function(){this.mediaElement.play()},t.prototype.pause=function(){this.mediaElement.pause()},t.prototype.seekTo=function(e){this.mediaElement.currentTime=e},t.prototype.setVolume=function(e){this.mediaElement.volume=e},t}(q),$={type:d.f.PLAYER,create:function(e){return new X(e)},isSupported:function(){return!0}},Q=r(6),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z=function(e){function t(t){var r=e.call(this,t)||this;return r.name="fullscreen",Q.enabled&&(r.emit(d.c.FULLSCREEN_SUPPORTED),Q.on("change",function(){r.emit(d.c.FULLSCREEN_CHANGE,{fullscreen:Q.isFullscreen})})),r}return J(t,e),t.prototype.toggleFullscreen=function(){Q.enabled&&Q.toggle(this.instance.container)},t}(i.a),ee=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},te=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},re={type:d.f.EXTENSION,create:function(e){return ee(void 0,void 0,void 0,function(){return te(this,function(t){return[2,new Z(e)]})})},isSupported:function(){return!0}},ne=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},ie=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},ae=[f,P,N,V,$,m,R,re];function oe(e,t,r){return ne(this,void 0,void 0,function(){var n,i,a,o;return ie(this,function(s){switch(s.label){case 0:n=ae.filter(function(t){return t.type===e}),i=0,a=n,s.label=1;case 1:return i<a.length?[4,(o=a[i]).isSupported(r)]:[3,5];case 2:return s.sent()?[4,o.create(t)]:[3,4];case 3:return[2,s.sent()];case 4:return i++,[3,1];case 5:return[2,null]}})})}function se(e,t,r){return ne(this,void 0,void 0,function(){var n,i,a,o,s,l,u;return ie(this,function(c){switch(c.label){case 0:n=ae.filter(function(t){return t.type===e}),i=[],a=0,o=n,c.label=1;case 1:return a<o.length?[4,(s=o[a]).isSupported(r)]:[3,5];case 2:return c.sent()?(u=(l=i).push,[4,s.create(t)]):[3,4];case 3:u.apply(l,[c.sent()]),c.label=4;case 4:return a++,[3,1];case 5:return[2,i]}})})}var le=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ue=function(e){function t(t){var r=e.call(this)||this;return r.code=t,r}return le(t,e),t}(Error),ce=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},de=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function fe(e,t){return ce(this,void 0,void 0,function(){var r,n,i,a;return de(this,function(o){switch(o.label){case 0:r=0,n=t,o.label=1;case 1:return r<n.length?(i=n[r],[4,oe(d.f.MEDIA,e,i)]):[3,4];case 2:if(a=o.sent())return[2,[i,a]];o.label=3;case 3:return r++,[3,1];case 4:return[2,[null,null]]}})})}r(130);var he=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),pe=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function ge(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function ve(e,t){var r=e.muted,n=e.timeout,i=e.inline,a=t(),o=a.element,s=a.source,l=void 0,u=void 0,c=void 0;return o.muted=r,!0===r&&o.setAttribute("muted","muted"),!0===i&&o.setAttribute("playsinline","playsinline"),o.src=s,new Promise(function(e){l=o.play(),u=setTimeout(function(){c(!1,new Error("Timeout "+n+" ms has been reached"))},n),c=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(u),e({result:t,error:r})},void 0!==l?l.then(function(){return c(!0)}).catch(function(e){return c(!1,e)}):c(!0)})}var ye={audio:function(e){return ve(e=ge(e),function(){return{element:document.createElement("audio"),source:URL.createObjectURL(he)}})},video:function(e){return ve(e=ge(e),function(){return{element:document.createElement("video"),source:URL.createObjectURL(pe)}})}},me=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},be=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function Ee(){return me(this,void 0,void 0,function(){var e,t,r,n,i,a,o,s,l;return be(this,function(u){switch(u.label){case 0:return e=navigator.userAgent,[4,ye.video()];case 1:return t=u.sent().result,r=/safari/i.test(e)&&-1===e.indexOf("Chrome"),n=/edge/i.test(e),i=Boolean(window.ActiveXObject)||/trident.*rv:1\d/i.test(e),a=/chrome/i.test(e)&&!n,o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Opera Mini/i.test(e),s=/iPad|iPhone|iPod/i.test(e),l=/FBAN/i.test(e)&&/FBAV/i.test(e),[2,{isSafari:r,isEdge:n,isIE:i,isChrome:a,isMobile:o,isIOS:s,isFacebook:l,canAutoplay:t}]}})})}var _e=r(50),Te=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},Se=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Ae=function(){function e(e,t){var r=this;this.on=function(e,t){return r.emitter.on(e,t)},this.once=function(e,t){return r.emitter.once(e,t)},this.emit=function(e,t){return r.emitter.emit(e,t)},this.config=t,this.createContainers(e),this.init(t)}return e.prototype.createContainers=function(e){this.container=document.createElement("div"),this.container.classList.add("ig-container"),this.playerContainer=document.createElement("div"),this.playerContainer.classList.add("ig-player"),this.container.appendChild(this.playerContainer),this.adsContainer=document.createElement("div"),this.adsContainer.classList.add("ig-ads"),this.adsContainer.style.display="none",this.container.appendChild(this.adsContainer),this.uiContainer=document.createElement("div"),this.uiContainer.classList.add("ig-ui"),this.uiContainer.style.display="none",this.container.appendChild(this.uiContainer),e.appendChild(this.container)},e.prototype.init=function(e){return Te(this,void 0,void 0,function(){var t,r,n,i,a,o,s,l=this;return Se(this,function(u){switch(u.label){case 0:return this.emitter=new _e,t=this,[4,Ee()];case 1:return t.env=u.sent(),this.canAutoplay()&&this.once(d.c.PLAYER_STATE_READY,function(){return l.play()}),r=this,[4,oe(d.f.CONTROLLER,this,this.config)];case 2:return r.controller=u.sent(),[4,this.controller.boot()];case 3:return u.sent(),n=this,[4,se(d.f.EXTENSION,this,this.config)];case 4:return n.extensions=u.sent(),i=this,[4,oe(d.f.PLAYER,this)];case 5:return i.player=u.sent(),[4,fe(this,e.sources)];case 6:return a=u.sent(),o=a[0],s=a[1],o?(this.format=o,this.media=s,[4,this.controller.load()]):(this.setError(new ue(d.b.NO_SUPPORTED_FORMAT_FOUND)),[2]);case 7:return u.sent(),this.emit(d.c.READY),[2]}})})},e.prototype.play=function(){this.controller.play()},e.prototype.pause=function(){this.controller.pause()},e.prototype.seekTo=function(e){this.controller.seekTo(e)},e.prototype.setVolume=function(e){this.controller.setVolume(e)},e.prototype.setError=function(e){this.controller.unload(),this.emit(d.c.ERROR,{error:e})},e.prototype.canAutoplay=function(){return this.config.autoplay&&this.env.canAutoplay},e.prototype.destroy=function(){this.emit(d.c.DESTROY),this.emitter.removeAllListeners(),this.controller.unload(),this.controller=null,this.player=null,this.format=null,this.media=null;for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild);this.container.remove()},e}(),Re=r(51),we=r.n(Re);r.d(t,"IndigoPlayer",function(){return De});var Le,De={VERSION:"experimental",setChunksPath:function(e){r.p=e},init:function(e,t){return new Ae(e,t)},addModuleLoader:function(e){ae.push(e)},ModuleLoaderTypes:(Le=d.f,we()(Le,function(e){return"number"==typeof e}))}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0hvb2tzLnRzIiwid2VicGFjazovLy8uL3NyYy9Nb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TmF0aXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NjcmVlbmZ1bGwvZGlzdC9zY3JlZW5mdWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXRUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9LZXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTGlzdENhY2hlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc29jSW5kZXhPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbmF0aXZlQ3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE1hcERhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2FzdFBhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1N5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEvTWVkaWEudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9maW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJdGVyYXRlZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX01hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19NYXBDYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNJbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0tleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TdGFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b1NvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNFcXVhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19lcXVhbEFycmF5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0QWxsS2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheVB1c2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0U3ltYm9scy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3N0dWJBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheUxpa2VLZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcmd1bWVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0J1ZmZlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNUeXBlZEFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzUHJvdG90eXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJBcmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNTdHJpY3RDb21wYXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hdGNoZXNTdHJpY3RDb21wYXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9obHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9waWNrQnkuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jcmVhdGVGaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VNYXRjaGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc01hdGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUNsZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZURlbGV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVHZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlSGFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZVNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zdGFja0NsZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrRGVsZXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrR2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrSGFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrU2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc05hdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNNYXNrZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29yZUpzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUNsZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX0hhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaENsZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hEZWxldGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaEdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoSGFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hTZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVEZWxldGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXlhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlR2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlSGFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlU2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0VxdWFsRGVlcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TZXRDYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRDYWNoZUFkZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRDYWNoZUhhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheVNvbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2FjaGVIYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxCeVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19VaW50OEFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2V0VG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19lcXVhbE9iamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0QWxsS2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVGltZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzQXJndW1lbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvc3R1YkZhbHNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc1R5cGVkQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVVuYXJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25vZGVVdGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VLZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX0RhdGFWaWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1dlYWtNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TWF0Y2hEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VNYXRjaGVzUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9nZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RyaW5nVG9QYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21lbW9pemVDYXBwZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9tZW1vaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaGFzSW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUhhc0luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc1BhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3Byb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUHJvcGVydHlEZWVwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZmluZEluZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VGaW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b0ludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b0Zpbml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvTnVtYmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzPzUyZjYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUGlja0J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VTZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXNzaWduVmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnblZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldEFsbEtleXNJbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRTeW1ib2xzSW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gva2V5c0luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VLZXlzSW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbmF0aXZlS2V5c0luLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXJMb2FkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4dGVuc2lvbnMvQmVuY2htYXJrRXh0ZW5zaW9uL0JlbmNobWFya0V4dGVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXh0ZW5zaW9ucy9CZW5jaG1hcmtFeHRlbnNpb24vQmVuY2htYXJrRXh0ZW5zaW9uTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9leHRlbnNpb25zL0ZyZWVXaGVlbEV4dGVuc2lvbi9GcmVlV2hlZWxFeHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4dGVuc2lvbnMvRnJlZVdoZWVsRXh0ZW5zaW9uL0ZyZWVXaGVlbEV4dGVuc2lvbkxvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEvQmFzZU1lZGlhL0Jhc2VNZWRpYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEvQmFzZU1lZGlhL0Jhc2VNZWRpYUxvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEvRGFzaE1lZGlhL2lzQnJvd3NlclN1cHBvcnRlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZ2V0RHJtU3VwcG9ydC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEvRGFzaE1lZGlhL0Rhc2hNZWRpYUxvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWVkaWEvSGxzTWVkaWEvSGxzTWVkaWEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21lZGlhL0hsc01lZGlhL0hsc01lZGlhTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9wbGF5ZXIvUGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9wbGF5ZXIvSFRNTDVQbGF5ZXIvSFRNTDVQbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYXllci9IVE1MNVBsYXllci9IVE1MNVBsYXllckxvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXh0ZW5zaW9ucy9GdWxsc2NyZWVuRXh0ZW5zaW9uL0Z1bGxzY3JlZW5FeHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4dGVuc2lvbnMvRnVsbHNjcmVlbkV4dGVuc2lvbi9GdWxsc2NyZWVuRXh0ZW5zaW9uTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Nb2R1bGVMb2FkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BsYXllckVycm9yLnRzIiwid2VicGFjazovLy8uL3NyYy9zZWxlY3RNZWRpYS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2FuLWF1dG9wbGF5L2J1aWxkL2Nhbi1hdXRvcGxheS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZ2V0RW52LnRzIiwid2VicGFjazovLy8uL3NyYy9JbnN0YW5jZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2V4cG9zZUVudW0udHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ3aW5kb3ciLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImwiLCJlIiwicHJvbWlzZXMiLCJpbnN0YWxsZWRDaHVua0RhdGEiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvblNjcmlwdENvbXBsZXRlIiwic2NyaXB0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsInRpbWVvdXQiLCJuYyIsInNldEF0dHJpYnV0ZSIsInNyYyIsInAiLCJqc29ucFNjcmlwdFNyYyIsImV2ZW50Iiwib25lcnJvciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsImNodW5rIiwiZXJyb3JUeXBlIiwidHlwZSIsInJlYWxTcmMiLCJ0YXJnZXQiLCJlcnJvciIsIkVycm9yIiwicmVxdWVzdCIsInVuZGVmaW5lZCIsInNldFRpbWVvdXQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5Iiwib2UiLCJlcnIiLCJjb25zb2xlIiwianNvbnBBcnJheSIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsInMiLCJBZFR5cGUiLCJGb3JtYXRUeXBlcyIsIkV2ZW50cyIsIkVycm9yQ29kZXMiLCJIb29rQWN0aW9ucyIsIk1vZHVsZUxvYWRlclR5cGVzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIkhvb2tzX0hvb2tzIiwiSG9va3MiLCJ0aGlzIiwiaG9va3MiLCJob29rIiwiY2FuRXhlY3V0ZSIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsIl9hIiwic2VsZWN0ZWRIb29rc18xIiwiZmlsdGVyIiwibWV0aG9kIiwiYXBwbHkiLCJ0eXBlcyIsIkFCT1JUIiwiTW9kdWxlX01vZHVsZSIsIk1vZHVsZSIsImluc3RhbmNlIiwib24iLCJjYWxsYmFjayIsIm9uY2UiLCJlbWl0IiwiZXZlbnREYXRhIiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsIkZ1bmN0aW9uIiwiaXNBcnJheSIsIkFycmF5IiwiYmFzZUlzTmF0aXZlIiwiZ2V0VmFsdWUiLCJpc0NvbW1vbmpzIiwia2V5Ym9hcmRBbGxvd2VkIiwiRWxlbWVudCIsImZuIiwidmFsIiwiZm5NYXAiLCJyZXQiLCJldmVudE5hbWVNYXAiLCJjaGFuZ2UiLCJmdWxsc2NyZWVuY2hhbmdlIiwiZnVsbHNjcmVlbmVycm9yIiwic2NyZWVuZnVsbCIsImVsZW0iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm9uRnVsbFNjcmVlbkVudGVyZWQiLCJvZmYiLCJkb2N1bWVudEVsZW1lbnQiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiQUxMT1dfS0VZQk9BUkRfSU5QVVQiLCJleGl0Iiwib25GdWxsU2NyZWVuRXhpdCIsImV4aXRGdWxsc2NyZWVuIiwidG9nZ2xlIiwiaXNGdWxsc2NyZWVuIiwib25jaGFuZ2UiLCJldmVudE5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJhdyIsImRlZmluZVByb3BlcnRpZXMiLCJCb29sZWFuIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJlbGVtZW50IiwiZW5hYmxlZCIsImZ1bGxzY3JlZW5FbmFibGVkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJudWxsVGFnIiwidW5kZWZpbmVkVGFnIiwic3ltVG9TdHJpbmdUYWciLCJpc1N5bWJvbCIsIklORklOSVRZIiwicmVzdWx0IiwibGlzdENhY2hlQ2xlYXIiLCJsaXN0Q2FjaGVEZWxldGUiLCJsaXN0Q2FjaGVHZXQiLCJsaXN0Q2FjaGVIYXMiLCJsaXN0Q2FjaGVTZXQiLCJMaXN0Q2FjaGUiLCJlbnRyaWVzIiwiaW5kZXgiLCJjbGVhciIsImVudHJ5Iiwic2V0IiwiaGFzIiwiZXEiLCJhcnJheSIsIm5hdGl2ZUNyZWF0ZSIsImdldE5hdGl2ZSIsImlzS2V5YWJsZSIsIm1hcCIsIl9fZGF0YV9fIiwiaXNLZXkiLCJzdHJpbmdUb1BhdGgiLCJ0b1N0cmluZyIsImJhc2VHZXRUYWciLCJpc09iamVjdExpa2UiLCJzeW1ib2xUYWciLCJNZWRpYSIsIl9zdXBlciIsIl9fZXh0ZW5kcyIsImxvYWQiLCJ1bmxvYWQiLCJwbGF5IiwicGxheWVyIiwicGF1c2UiLCJzZWVrVG8iLCJ0aW1lIiwic2V0Vm9sdW1lIiwidm9sdW1lIiwiX3NyY19Nb2R1bGVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImZpbmQiLCJjcmVhdGVGaW5kIiwiYmFzZU1hdGNoZXMiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiaWRlbnRpdHkiLCJvdGhlciIsIk1hcCIsIm1hcENhY2hlQ2xlYXIiLCJtYXBDYWNoZURlbGV0ZSIsIm1hcENhY2hlR2V0IiwibWFwQ2FjaGVIYXMiLCJtYXBDYWNoZVNldCIsIk1hcENhY2hlIiwiYXJyYXlMaWtlS2V5cyIsImJhc2VLZXlzIiwiaXNBcnJheUxpa2UiLCJNQVhfU0FGRV9JTlRFR0VSIiwicmVJc1VpbnQiLCJpc0Z1bmN0aW9uIiwiaXNMZW5ndGgiLCJjYXN0UGF0aCIsInRvS2V5IiwicGF0aCIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJzdGFja0NsZWFyIiwic3RhY2tEZWxldGUiLCJzdGFja0dldCIsInN0YWNrSGFzIiwic3RhY2tTZXQiLCJTdGFjayIsInNpemUiLCJpc09iamVjdCIsImFzeW5jVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsInByb3h5VGFnIiwidGFnIiwiZ2xvYmFsIiwiZnVuY1RvU3RyaW5nIiwiZnVuYyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc0VxdWFsIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsIlNldENhY2hlIiwiYXJyYXlTb21lIiwiY2FjaGVIYXMiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsIkNPTVBBUkVfVU5PUkRFUkVEX0ZMQUciLCJlcXVhbEZ1bmMiLCJpc1BhcnRpYWwiLCJhcnJMZW5ndGgiLCJvdGhMZW5ndGgiLCJzdGFja2VkIiwic2VlbiIsImFyclZhbHVlIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm90aEluZGV4IiwiYXJyYXlQdXNoIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsInZhbHVlcyIsIm9mZnNldCIsImFycmF5RmlsdGVyIiwic3R1YkFycmF5IiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0U3ltYm9scyIsInN5bWJvbCIsImJhc2VUaW1lcyIsImlzQXJndW1lbnRzIiwiaXNCdWZmZXIiLCJpc0luZGV4IiwiaXNUeXBlZEFycmF5IiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiU3RyaW5nIiwiYmFzZUlzQXJndW1lbnRzIiwib2JqZWN0UHJvdG8iLCJzdHViRmFsc2UiLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIkJ1ZmZlciIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJiYXNlSXNUeXBlZEFycmF5IiwiYmFzZVVuYXJ5Iiwibm9kZVV0aWwiLCJub2RlSXNUeXBlZEFycmF5IiwiQ3RvciIsImNvbnN0cnVjdG9yIiwidHJhbnNmb3JtIiwiYXJnIiwic3JjVmFsdWUiLCJpdGVyYXRlZSIsIi4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJwcmVmaXgiLCJFRSIsImNvbnRleHQiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJUeXBlRXJyb3IiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiRXZlbnRFbWl0dGVyIiwiX19wcm90b19fIiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiY29uY2F0IiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJlZSIsImxpc3RlbmVyQ291bnQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwibGVuIiwicmVtb3ZlTGlzdGVuZXIiLCJqIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicHJlZml4ZWQiLCIuL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIl9tYXhMaXN0ZW5lcnMiLCJpc1VuZGVmaW5lZCIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJzZXRNYXhMaXN0ZW5lcnMiLCJpc05hTiIsImVyIiwiaGFuZGxlciIsIm5ld0xpc3RlbmVyIiwid2FybmVkIiwidHJhY2UiLCJmaXJlZCIsImciLCJsaXN0IiwicG9zaXRpb24iLCJzcGxpY2UiLCJldmxpc3RlbmVyIiwiLi9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzIiwiVVJMX1JFR0VYIiwiRklSU1RfU0VHTUVOVF9SRUdFWCIsIlNMQVNIX0RPVF9SRUdFWCIsIlNMQVNIX0RPVF9ET1RfUkVHRVgiLCJVUkxUb29sa2l0IiwiYnVpbGRBYnNvbHV0ZVVSTCIsImJhc2VVUkwiLCJyZWxhdGl2ZVVSTCIsIm9wdHMiLCJ0cmltIiwiYWx3YXlzTm9ybWFsaXplIiwiYmFzZVBhcnRzRm9yTm9ybWFsaXNlIiwicGFyc2VVUkwiLCJub3JtYWxpemVQYXRoIiwiYnVpbGRVUkxGcm9tUGFydHMiLCJyZWxhdGl2ZVBhcnRzIiwic2NoZW1lIiwiYmFzZVBhcnRzIiwibmV0TG9jIiwicGF0aFBhcnRzIiwiZXhlYyIsImJ1aWx0UGFydHMiLCJwYXJhbXMiLCJxdWVyeSIsImZyYWdtZW50IiwiYmFzZVVSTFBhdGgiLCJuZXdQYXRoIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJ1cmwiLCJwYXJ0cyIsInNwbGl0IiwicmV2ZXJzZSIsImpvaW4iLCJyZXBsYWNlIiwiLi9ub2RlX21vZHVsZXMvd2Vid29ya2lmeS13ZWJwYWNrL2luZGV4LmpzIiwid2VicGFja0Jvb3RzdHJhcEZ1bmMiLCJjb25maWd1cmFibGUiLCJmIiwiRU5UUllfTU9EVUxFIiwiZGVmYXVsdCIsIm1vZHVsZU5hbWVSZXFFeHAiLCJkZXBlbmRlbmN5UmVnRXhwIiwicXVvdGVSZWdFeHAiLCJzdHIiLCJnZXRNb2R1bGVEZXBlbmRlbmNpZXMiLCJzb3VyY2VzIiwicXVldWVOYW1lIiwicmV0dmFsIiwiZm5TdHJpbmciLCJ3cmFwcGVyU2lnbmF0dXJlIiwibWF0Y2giLCJ3ZWJwYWNrUmVxdWlyZU5hbWUiLCJyZSIsIlJlZ0V4cCIsImtleXMiLCJoYXNWYWx1ZXNJblF1ZXVlcyIsInF1ZXVlcyIsInJlZHVjZSIsImhhc1ZhbHVlcyIsIm9wdGlvbnMiLCJtYWluIiwicmVxdWlyZWRNb2R1bGVzIiwibW9kdWxlc1F1ZXVlIiwic2Vlbk1vZHVsZXMiLCJtb2R1bGVUb0NoZWNrIiwicG9wIiwibmV3TW9kdWxlcyIsIm5ld01vZHVsZXNLZXlzIiwiZ2V0UmVxdWlyZWRNb2R1bGVzIiwiZm9yRWFjaCIsImVudHJ5TW9kdWxlIiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwiYmxvYiIsIkJsb2IiLCJiYXJlIiwid29ya2VyVXJsIiwiVVJMIiwid2Via2l0VVJMIiwibW96VVJMIiwibXNVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJ3b3JrZXIiLCJXb3JrZXIiLCJvYmplY3RVUkwiLCIuL3NyYy9jb25maWcuanMiLCJhYnJfY29udHJvbGxlcl8xIiwiYnVmZmVyX2NvbnRyb2xsZXJfMSIsImNhcF9sZXZlbF9jb250cm9sbGVyXzEiLCJmcHNfY29udHJvbGxlcl8xIiwieGhyX2xvYWRlcl8xIiwiYXVkaW9fdHJhY2tfY29udHJvbGxlcl8xIiwiYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfMSIsIkN1ZXMiLCJ0aW1lbGluZV9jb250cm9sbGVyXzEiLCJzdWJ0aXRsZV90cmFja19jb250cm9sbGVyXzEiLCJzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl8xIiwiZW1lX2NvbnRyb2xsZXJfMSIsIm1lZGlha2V5c19oZWxwZXJfMSIsImhsc0RlZmF1bHRDb25maWciLCJhdXRvU3RhcnRMb2FkIiwic3RhcnRQb3NpdGlvbiIsImRlZmF1bHRBdWRpb0NvZGVjIiwiZGVidWciLCJjYXBMZXZlbE9uRlBTRHJvcCIsImNhcExldmVsVG9QbGF5ZXJTaXplIiwiaW5pdGlhbExpdmVNYW5pZmVzdFNpemUiLCJtYXhCdWZmZXJMZW5ndGgiLCJtYXhCdWZmZXJTaXplIiwibWF4QnVmZmVySG9sZSIsImxvd0J1ZmZlcldhdGNoZG9nUGVyaW9kIiwiaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kIiwibnVkZ2VPZmZzZXQiLCJudWRnZU1heFJldHJ5IiwibWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSIsImxpdmVTeW5jRHVyYXRpb25Db3VudCIsImxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCIsIkluZmluaXR5IiwibGl2ZVN5bmNEdXJhdGlvbiIsImxpdmVNYXhMYXRlbmN5RHVyYXRpb24iLCJsaXZlRHVyYXRpb25JbmZpbml0eSIsImxpdmVCYWNrQnVmZmVyTGVuZ3RoIiwibWF4TWF4QnVmZmVyTGVuZ3RoIiwiZW5hYmxlV29ya2VyIiwiZW5hYmxlU29mdHdhcmVBRVMiLCJtYW5pZmVzdExvYWRpbmdUaW1lT3V0IiwibWFuaWZlc3RMb2FkaW5nTWF4UmV0cnkiLCJtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5IiwibWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0Iiwic3RhcnRMZXZlbCIsImxldmVsTG9hZGluZ1RpbWVPdXQiLCJsZXZlbExvYWRpbmdNYXhSZXRyeSIsImxldmVsTG9hZGluZ1JldHJ5RGVsYXkiLCJsZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQiLCJmcmFnTG9hZGluZ1RpbWVPdXQiLCJmcmFnTG9hZGluZ01heFJldHJ5IiwiZnJhZ0xvYWRpbmdSZXRyeURlbGF5IiwiZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQiLCJzdGFydEZyYWdQcmVmZXRjaCIsImZwc0Ryb3BwZWRNb25pdG9yaW5nUGVyaW9kIiwiZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQiLCJhcHBlbmRFcnJvck1heFJldHJ5IiwibG9hZGVyIiwiZkxvYWRlciIsInBMb2FkZXIiLCJ4aHJTZXR1cCIsImxpY2Vuc2VYaHJTZXR1cCIsImFickNvbnRyb2xsZXIiLCJidWZmZXJDb250cm9sbGVyIiwiY2FwTGV2ZWxDb250cm9sbGVyIiwiZnBzQ29udHJvbGxlciIsInN0cmV0Y2hTaG9ydFZpZGVvVHJhY2siLCJtYXhBdWRpb0ZyYW1lc0RyaWZ0IiwiZm9yY2VLZXlGcmFtZU9uRGlzY29udGludWl0eSIsImFickV3bWFGYXN0TGl2ZSIsImFickV3bWFTbG93TGl2ZSIsImFickV3bWFGYXN0Vm9EIiwiYWJyRXdtYVNsb3dWb0QiLCJhYnJFd21hRGVmYXVsdEVzdGltYXRlIiwiYWJyQmFuZFdpZHRoRmFjdG9yIiwiYWJyQmFuZFdpZHRoVXBGYWN0b3IiLCJhYnJNYXhXaXRoUmVhbEJpdHJhdGUiLCJtYXhTdGFydmF0aW9uRGVsYXkiLCJtYXhMb2FkaW5nRGVsYXkiLCJtaW5BdXRvQml0cmF0ZSIsImVtZUVuYWJsZWQiLCJ3aWRldmluZUxpY2Vuc2VVcmwiLCJyZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jIiwicmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIiwic3VidGl0bGVTdHJlYW1Db250cm9sbGVyIiwiU3VidGl0bGVTdHJlYW1Db250cm9sbGVyIiwic3VidGl0bGVUcmFja0NvbnRyb2xsZXIiLCJ0aW1lbGluZUNvbnRyb2xsZXIiLCJjdWVIYW5kbGVyIiwiZW5hYmxlQ0VBNzA4Q2FwdGlvbnMiLCJlbmFibGVXZWJWVFQiLCJjYXB0aW9uc1RleHRUcmFjazFMYWJlbCIsImNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZSIsImNhcHRpb25zVGV4dFRyYWNrMkxhYmVsIiwiY2FwdGlvbnNUZXh0VHJhY2syTGFuZ3VhZ2VDb2RlIiwiYXVkaW9TdHJlYW1Db250cm9sbGVyIiwiYXVkaW9UcmFja0NvbnRyb2xsZXIiLCJlbWVDb250cm9sbGVyIiwiLi9zcmMvY29udHJvbGxlci9hYnItY29udHJvbGxlci5qcyIsIk51bWJlciIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsImIiLCJfXyIsImV2ZW50c18xIiwiZXZlbnRfaGFuZGxlcl8xIiwiYnVmZmVyX2hlbHBlcl8xIiwiZXJyb3JzXzEiLCJsb2dnZXJfMSIsImV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl8xIiwicGVyZm9ybWFuY2UiLCJBYnJDb250cm9sbGVyIiwiaGxzIiwiX3RoaXMiLCJGUkFHX0xPQURJTkciLCJGUkFHX0xPQURFRCIsIkZSQUdfQlVGRkVSRUQiLCJFUlJPUiIsImxhc3RMb2FkZWRGcmFnTGV2ZWwiLCJfbmV4dEF1dG9MZXZlbCIsInRpbWVyIiwiX2J3RXN0aW1hdG9yIiwib25DaGVjayIsIl9hYmFuZG9uUnVsZXNDaGVjayIsImRlc3Ryb3kiLCJjbGVhclRpbWVyIiwib25GcmFnTG9hZGluZyIsImZyYWciLCJmcmFnQ3VycmVudCIsInNldEludGVydmFsIiwiaGxzXzEiLCJjb25maWciLCJsZXZlbCIsImV3bWFGYXN0IiwiZXdtYVNsb3ciLCJsZXZlbHMiLCJkZXRhaWxzIiwibGl2ZSIsInZpZGVvIiwibWVkaWEiLCJtaW5BdXRvTGV2ZWwiLCJzdGF0cyIsImFib3J0ZWQiLCJsb2dnZXIiLCJ3YXJuIiwicGF1c2VkIiwicGxheWJhY2tSYXRlIiwicmVhZHlTdGF0ZSIsImF1dG9MZXZlbCIsInJlcXVlc3REZWxheSIsIm5vdyIsInRyZXF1ZXN0IiwiTWF0aCIsImFicyIsImR1cmF0aW9uIiwibG9hZFJhdGUiLCJtYXgiLCJidyIsImxvYWRlZCIsImxldmVsQml0cmF0ZSIsInJlYWxCaXRyYXRlIiwiYml0cmF0ZSIsImV4cGVjdGVkTGVuIiwidG90YWwiLCJyb3VuZCIsInBvcyIsImN1cnJlbnRUaW1lIiwiZnJhZ0xvYWRlZERlbGF5IiwiYnVmZmVyU3RhcnZhdGlvbkRlbGF5IiwiQnVmZmVySGVscGVyIiwiYnVmZmVySW5mbyIsImVuZCIsImZyYWdMZXZlbE5leHRMb2FkZWREZWxheSIsIm5leHRMb2FkTGV2ZWwiLCJsZXZlbE5leHRCaXRyYXRlIiwidG9GaXhlZCIsInNhbXBsZSIsImFib3J0IiwidHJpZ2dlciIsIkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCIsIm9uRnJhZ0xvYWRlZCIsImlzRmluaXRlIiwic24iLCJsb2FkZWRCeXRlcyIsImJ5dGVzIiwibG9hZGVkRHVyYXRpb24iLCJiaXRyYXRlVGVzdCIsInRwYXJzZWQiLCJ0YnVmZmVyZWQiLCJ0bG9hZCIsIm9uRnJhZ0J1ZmZlcmVkIiwiZnJhZ0xvYWRpbmdQcm9jZXNzaW5nTXMiLCJsb2ciLCJ0Zmlyc3QiLCJid0VzdGltYXRlIiwiZ2V0RXN0aW1hdGUiLCJiaXRyYXRlVGVzdERlbGF5Iiwib25FcnJvciIsIkVycm9yRGV0YWlscyIsIkZSQUdfTE9BRF9FUlJPUiIsIkZSQUdfTE9BRF9USU1FT1VUIiwiY2xlYXJJbnRlcnZhbCIsImZvcmNlZEF1dG9MZXZlbCIsImJ3RXN0aW1hdG9yIiwiY2FuRXN0aW1hdGUiLCJuZXh0QUJSQXV0b0xldmVsIiwiX25leHRBQlJBdXRvTGV2ZWwiLCJtaW4iLCJuZXh0TGV2ZWwiLCJtYXhBdXRvTGV2ZWwiLCJjdXJyZW50TGV2ZWwiLCJjdXJyZW50RnJhZ0R1cmF0aW9uIiwiYXZnYnciLCJiZXN0TGV2ZWwiLCJfZmluZEJlc3RMZXZlbCIsImJ3RmFjdG9yIiwiYndVcEZhY3RvciIsImN1cnJlbnRCdyIsIm1heEZldGNoRHVyYXRpb24iLCJsZXZlbEluZm8iLCJsZXZlbERldGFpbHMiLCJhdmdEdXJhdGlvbiIsInRvdGFsZHVyYXRpb24iLCJmcmFnbWVudHMiLCJhZGp1c3RlZGJ3IiwiZmV0Y2hEdXJhdGlvbiIsIi4vc3JjL2NvbnRyb2xsZXIvYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIuanMiLCJiaW5hcnlfc2VhcmNoXzEiLCJkZW11eGVyXzEiLCJMZXZlbEhlbHBlciIsInRpbWVfcmFuZ2VzXzEiLCJkaXNjb250aW51aXRpZXNfMSIsImZyYWdtZW50X3RyYWNrZXJfMSIsImZyYWdtZW50XzEiLCJiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEiLCJBdWRpb1N0cmVhbUNvbnRyb2xsZXIiLCJmcmFnbWVudFRyYWNrZXIiLCJNRURJQV9BVFRBQ0hFRCIsIk1FRElBX0RFVEFDSElORyIsIkFVRElPX1RSQUNLU19VUERBVEVEIiwiQVVESU9fVFJBQ0tfU1dJVENISU5HIiwiQVVESU9fVFJBQ0tfTE9BREVEIiwiS0VZX0xPQURFRCIsIkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQiLCJGUkFHX1BBUlNJTkdfREFUQSIsIkZSQUdfUEFSU0VEIiwiQlVGRkVSX1JFU0VUIiwiQlVGRkVSX0NSRUFURUQiLCJCVUZGRVJfQVBQRU5ERUQiLCJCVUZGRVJfRkxVU0hFRCIsIklOSVRfUFRTX0ZPVU5EIiwiYXVkaW9Db2RlY1N3YXAiLCJfc3RhdGUiLCJTdGF0ZSIsIlNUT1BQRUQiLCJpbml0UFRTIiwid2FpdGluZ0ZyYWdtZW50IiwidmlkZW9UcmFja0NDIiwib25IYW5kbGVyRGVzdHJveWluZyIsInN0b3BMb2FkIiwib25IYW5kbGVyRGVzdHJveWVkIiwic3RhdGUiLCJvbkluaXRQdHNGb3VuZCIsImRlbXV4ZXJJZCIsImNjIiwiV0FJVElOR19JTklUX1BUUyIsInRpY2siLCJzdGFydExvYWQiLCJ0cmFja3MiLCJsYXN0Q3VycmVudFRpbWUiLCJmcmFnTG9hZEVycm9yIiwiSURMRSIsIlNUQVJUSU5HIiwibmV4dExvYWRQb3NpdGlvbiIsInJlbW92ZUZyYWdtZW50IiwiZnJhZ1ByZXZpb3VzIiwiZGVtdXhlciIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGUiLCJkb1RpY2siLCJ0cmFjayIsInRyYWNrRGV0YWlscyIsIlBBVVNFRCIsIkJVRkZFUl9GTFVTSElORyIsIldBSVRJTkdfVFJBQ0siLCJsb2FkZWRtZXRhZGF0YSIsInN0YXJ0RnJhZ1JlcXVlc3RlZCIsIm1lZGlhQnVmZmVyIiwidmlkZW9CdWZmZXIiLCJtYWluQnVmZmVySW5mbyIsImJ1ZmZlckxlbiIsImJ1ZmZlckVuZF8xIiwibWF4Q29uZmlnQnVmZmVyIiwibWF4QnVmTGVuIiwiYXVkaW9Td2l0Y2giLCJ0cmFja0lkIiwiX3N0cmVhbUVuZGVkIiwiQlVGRkVSX0VPUyIsIkVOREVEIiwiZnJhZ0xlbiIsInN0YXJ0IiwiUFRTS25vd24iLCJuZXh0U3RhcnQiLCJpbml0U2VnbWVudCIsImZpbmRGcmFnV2l0aENDIiwibG9hZElkeCIsImZyYWdMb2FkSWR4IiwibmV4dEJ1ZmZlcmVkIiwiZm91bmRGcmFnIiwibWF4RnJhZ0xvb2tVcFRvbGVyYW5jZV8xIiwiZnJhZ05leHQiLCJmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QiLCJjYW5kaWRhdGUiLCJjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UiLCJzZWFyY2giLCJlbmRTTiIsInN0YXJ0U04iLCJlbmNyeXB0ZWQiLCJLRVlfTE9BRElORyIsImdldFN0YXRlIiwiRnJhZ21lbnRTdGF0ZSIsIk5PVF9MT0FERUQiLCJGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWSIsInJldHJ5RGF0ZSIsImlzU2Vla2luZyIsInNlZWtpbmciLCJ3YWl0aW5nRnJhZyIsIndhaXRpbmdGcmFnQ0MiLCJQQVJTSU5HIiwiUEFSU0VEIiwib25NZWRpYUF0dGFjaGVkIiwib252c2Vla2luZyIsIm9uTWVkaWFTZWVraW5nIiwib252ZW5kZWQiLCJvbk1lZGlhRW5kZWQiLCJvbk1lZGlhRGV0YWNoaW5nIiwiZW5kZWQiLCJvbnZzZWVrZWQiLCJvbkF1ZGlvVHJhY2tzVXBkYXRlZCIsImF1ZGlvVHJhY2tzIiwib25BdWRpb1RyYWNrU3dpdGNoaW5nIiwiYWx0QXVkaW8iLCJvbkF1ZGlvVHJhY2tMb2FkZWQiLCJuZXdEZXRhaWxzIiwic2xpZGluZyIsImN1ckRldGFpbHMiLCJtZXJnZURldGFpbHMiLCJzdGFydFRpbWVPZmZzZXQiLCJvbktleUxvYWRlZCIsImZyYWdMb2FkZWQiLCJhdWRpb0NvZGVjIiwicGF5bG9hZCIsImFwcGVuZGVkIiwiaW5pdFNlZ21lbnREYXRhIiwicGVuZGluZ0J1ZmZlcmluZyIsIm9uRnJhZ1BhcnNpbmdJbml0U2VnbWVudCIsImZyYWdOZXciLCJhdWRpbyIsImxldmVsQ29kZWMiLCJjb2RlYyIsIkJVRkZFUl9DT0RFQ1MiLCJjb250YWluZXIiLCJhcHBlbmRPYmoiLCJwYXJlbnQiLCJjb250ZW50IiwicGVuZGluZ0RhdGEiLCJCVUZGRVJfQVBQRU5ESU5HIiwib25GcmFnUGFyc2luZ0RhdGEiLCJlbmRQVFMiLCJzdGFydFBUUyIsImVuZERUUyIsInN0YXJ0RFRTIiwiYWRkRWxlbWVudGFyeVN0cmVhbSIsIkVsZW1lbnRhcnlTdHJlYW1UeXBlcyIsIkFVRElPIiwibmIiLCJ1cGRhdGVGcmFnUFRTRFRTIiwiYXBwZW5kT25CdWZmZXJGbHVzaCIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJBVURJT19UUkFDS19TV0lUQ0hFRCIsInBlbmRpbmdEYXRhXzEiLCJFcnJvclR5cGVzIiwiTUVESUFfRVJST1IiLCJmYXRhbCIsImRhdGExIiwiZGF0YTIiLCJidWZmZXIiLCJvbkZyYWdQYXJzZWQiLCJfY2hlY2tBcHBlbmRlZFBhcnNlZCIsIm9uQnVmZmVyUmVzZXQiLCJvbkJ1ZmZlckNyZWF0ZWQiLCJhdWRpb1RyYWNrIiwib25CdWZmZXJBcHBlbmRlZCIsInBlbmRpbmciLCJobHNfMiIsImJ1ZmZlcmVkIiwiZnJhZ18xIiwibG9hZEVycm9yIiwiZGVsYXkiLCJwb3ciLCJBVURJT19UUkFDS19MT0FEX0VSUk9SIiwiQVVESU9fVFJBQ0tfTE9BRF9USU1FT1VUIiwiS0VZX0xPQURfRVJST1IiLCJLRVlfTE9BRF9USU1FT1VUIiwiQlVGRkVSX0ZVTExfRVJST1IiLCJpc0J1ZmZlcmVkIiwib25CdWZmZXJGbHVzaGVkIiwiLi9zcmMvY29udHJvbGxlci9hdWRpby10cmFjay1jb250cm9sbGVyLmpzIiwidGFza19sb29wXzEiLCJBdWRpb1RyYWNrQ29udHJvbGxlciIsIk1BTklGRVNUX0xPQURJTkciLCJNQU5JRkVTVF9QQVJTRUQiLCJMRVZFTF9MT0FERUQiLCJfdHJhY2tJZCIsIl9zZWxlY3REZWZhdWx0VHJhY2siLCJ0cmFja0lkQmxhY2tsaXN0IiwiYXVkaW9Hcm91cElkIiwib25NYW5pZmVzdExvYWRpbmciLCJvbk1hbmlmZXN0UGFyc2VkIiwiaGFzSW50ZXJ2YWwiLCJ1cGRhdGVQZXJpb2RNcyIsInRhcmdldGR1cmF0aW9uIiwib25BdWRpb1RyYWNrU3dpdGNoZWQiLCJncm91cElkIiwib25MZXZlbExvYWRlZCIsImF1ZGlvR3JvdXBJZHMiLCJ1cmxJZCIsIl9zZWxlY3RJbml0aWFsQXVkaW9UcmFjayIsIk5FVFdPUktfRVJST1IiLCJfaGFuZGxlTG9hZEVycm9yIiwibmV3SWQiLCJfc2V0QXVkaW9UcmFjayIsIl9sb2FkVHJhY2tEZXRhaWxzSWZOZWVkZWQiLCJfdXBkYXRlVHJhY2siLCJjdXJyZW50QXVkaW9UcmFjayIsImRlZmF1bHRUcmFja3MiLCJ0cmFja0ZvdW5kIiwidHJhdmVyc2VUcmFja3MiLCJfbmVlZHNUcmFja0xvYWRpbmciLCJBVURJT19UUkFDS19MT0FESU5HIiwicHJldmlvdXNJZCIsImxhbmd1YWdlIiwiLi9zcmMvY29udHJvbGxlci9iYXNlLXN0cmVhbS1jb250cm9sbGVyLmpzIiwiV0FJVElOR19MRVZFTCIsIkJhc2VTdHJlYW1Db250cm9sbGVyIiwiYmFja3RyYWNrZWQiLCJmcmFnU3RhdGUiLCJQQVJUSUFMIiwiT0siLCJ0b2xlcmFuY2UiLCJmcmFnU3RhcnRPZmZzZXQiLCJmcmFnRW5kT2Zmc2V0IiwiLi9zcmMvY29udHJvbGxlci9idWZmZXItY29udHJvbGxlci5qcyIsIk1lZGlhU291cmNlIiwiZ2V0TWVkaWFTb3VyY2UiLCJCdWZmZXJDb250cm9sbGVyIiwiTUVESUFfQVRUQUNISU5HIiwiTEVWRUxfUFRTX1VQREFURUQiLCJMRVZFTF9VUERBVEVEIiwiX21zRHVyYXRpb24iLCJfbGV2ZWxEdXJhdGlvbiIsIl9sZXZlbFRhcmdldER1cmF0aW9uIiwiX2xpdmUiLCJfb2JqZWN0VXJsIiwiYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCIsIm9uc2J1ZSIsIm9uU0JVcGRhdGVFbmQiLCJvbnNiZSIsIm9uU0JVcGRhdGVFcnJvciIsInBlbmRpbmdUcmFja3MiLCJvbkxldmVsUHRzVXBkYXRlZCIsImF1ZGlvQnVmZmVyIiwic291cmNlQnVmZmVyIiwidGltZXN0YW1wT2Zmc2V0IiwidXBkYXRpbmciLCJhdWRpb1RpbWVzdGFtcE9mZnNldCIsIm9uTWVkaWFBdHRhY2hpbmciLCJtcyIsIm1lZGlhU291cmNlIiwib25tc28iLCJvbk1lZGlhU291cmNlT3BlbiIsIm9ubXNlIiwib25NZWRpYVNvdXJjZUVuZGVkIiwib25tc2MiLCJvbk1lZGlhU291cmNlQ2xvc2UiLCJlbmRPZlN0cmVhbSIsIm1lc3NhZ2UiLCJyZXZva2VPYmplY3RVUkwiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmbHVzaFJhbmdlIiwic2VnbWVudHMiLCJNRURJQV9ERVRBQ0hFRCIsImNoZWNrUGVuZGluZ1RyYWNrcyIsInBlbmRpbmdUcmFja3NDb3VudCIsImNyZWF0ZVNvdXJjZUJ1ZmZlcnMiLCJkb0FwcGVuZGluZyIsIl9uZWVkc0ZsdXNoIiwiZG9GbHVzaCIsIl9uZWVkc0VvcyIsImNoZWNrRW9zIiwiYXBwZW5kaW5nIiwiY291bnRlciIsInNlZ21lbnQiLCJ0aW1lUmFuZ2VzIiwic3RyZWFtVHlwZSIsInVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uIiwiZmx1c2hMaXZlQmFja0J1ZmZlciIsIkJVRkZFUl9BUFBFTkRJTkdfRVJST1IiLCJzYiIsInJlbW92ZVNvdXJjZUJ1ZmZlciIsIm9uQnVmZmVyQ29kZWNzIiwidHJhY2tOYW1lIiwibWltZVR5cGUiLCJhZGRTb3VyY2VCdWZmZXIiLCJCVUZGRVJfQUREX0NPREVDX0VSUk9SIiwib25CdWZmZXJBcHBlbmRpbmciLCJvbkJ1ZmZlckFwcGVuZEZhaWwiLCJvbkJ1ZmZlckVvcyIsImRhdGFUeXBlIiwic2JvYmoiLCJvbkJ1ZmZlckZsdXNoaW5nIiwiZmx1c2hCdWZmZXJDb3VudGVyIiwiYnVmZmVyVHlwZXMiLCJ0YXJnZXRCYWNrQnVmZmVyUG9zaXRpb24iLCJidWZmZXJUeXBlIiwicmVtb3ZlQnVmZmVyUmFuZ2UiLCJvbkxldmVsVXBkYXRlZCIsImF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiIsInJhbmdlIiwiZmx1c2hCdWZmZXIiLCJ1bnNoaWZ0IiwiYXBwZW5kQnVmZmVyIiwiYXBwZW5kRXJyb3IiLCJldmVudF8xIiwiY29kZSIsIkJVRkZFUl9BUFBFTkRfRVJST1IiLCJ0eXBlSW4iLCJidWZTdGFydCIsImJ1ZkVuZCIsInJlbW92ZVN0YXJ0IiwicmVtb3ZlRW5kIiwicmVtb3ZlIiwiLi9zcmMvY29udHJvbGxlci9jYXAtbGV2ZWwtY29udHJvbGxlci5qcyIsIkNhcExldmVsQ29udHJvbGxlciIsIkZQU19EUk9QX0xFVkVMX0NBUFBJTkciLCJhdXRvTGV2ZWxDYXBwaW5nIiwiZmlyc3RMZXZlbCIsInJlc3RyaWN0ZWRMZXZlbHMiLCJfc3RvcENhcHBpbmciLCJvbkZwc0Ryb3BMZXZlbENhcHBpbmciLCJpc0xldmVsQWxsb3dlZCIsImRyb3BwZWRMZXZlbCIsIkhUTUxWaWRlb0VsZW1lbnQiLCJfc3RhcnRDYXBwaW5nIiwib25MZXZlbHNVcGRhdGVkIiwiZGV0ZWN0UGxheWVyU2l6ZSIsImxldmVsc0xlbmd0aCIsImdldE1heExldmVsIiwic3RyZWFtQ29udHJvbGxlciIsIm5leHRMZXZlbFN3aXRjaCIsImNhcExldmVsSW5kZXgiLCJ2YWxpZExldmVscyIsImdldE1heExldmVsQnlNZWRpYVNpemUiLCJtZWRpYVdpZHRoIiwibWVkaWFIZWlnaHQiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjb250ZW50U2NhbGVGYWN0b3IiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJwaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImluZGV4T2YiLCJjdXJMZXZlbCIsIm1heExldmVsSW5kZXgiLCIuL3NyYy9jb250cm9sbGVyL2VtZS1jb250cm9sbGVyLmpzIiwiWE1MSHR0cFJlcXVlc3QiLCJLZXlTeXN0ZW1zIiwiRU1FQ29udHJvbGxlciIsIl93aWRldmluZUxpY2Vuc2VVcmwiLCJfbGljZW5zZVhoclNldHVwIiwiX2VtZUVuYWJsZWQiLCJfcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIiwiX21lZGlhS2V5c0xpc3QiLCJfbWVkaWEiLCJfaGFzU2V0TWVkaWFLZXlzIiwiX2lzTWVkaWFFbmNyeXB0ZWQiLCJfcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQiLCJnZXRMaWNlbnNlU2VydmVyVXJsIiwia2V5U3lzdGVtIiwiS0VZX1NZU1RFTV9FUlJPUiIsIktFWV9TWVNURU1fTElDRU5TRV9SRVFVRVNUX0ZBSUxFRCIsIl9hdHRlbXB0S2V5U3lzdGVtQWNjZXNzIiwiYXVkaW9Db2RlY3MiLCJ2aWRlb0NvZGVjcyIsIm1lZGlhS2V5U3lzdGVtQ29uZmlncyIsImRybVN5c3RlbU9wdGlvbnMiLCJiYXNlQ29uZmlnIiwidmlkZW9DYXBhYmlsaXRpZXMiLCJjb250ZW50VHlwZSIsImNyZWF0ZVdpZGV2aW5lTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9ucyIsImdldFN1cHBvcnRlZE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMiLCJ0aGVuIiwibWVkaWFLZXlTeXN0ZW1BY2Nlc3MiLCJfb25NZWRpYUtleVN5c3RlbUFjY2Vzc09idGFpbmVkIiwiY2F0Y2giLCJtZWRpYUtleXNMaXN0SXRlbSIsIm1lZGlhS2V5cyIsIm1lZGlhS2V5c1Nlc3Npb24iLCJtZWRpYUtleXNTZXNzaW9uSW5pdGlhbGl6ZWQiLCJtZWRpYUtleVN5c3RlbURvbWFpbiIsImNyZWF0ZU1lZGlhS2V5cyIsIl9vbk1lZGlhS2V5c0NyZWF0ZWQiLCJjcmVhdGVTZXNzaW9uIiwiX29uTmV3TWVkaWFLZXlTZXNzaW9uIiwia2V5U2Vzc2lvbiIsInNlc3Npb25JZCIsIl9vbktleVNlc3Npb25NZXNzYWdlIiwiX3JlcXVlc3RMaWNlbnNlIiwidXBkYXRlIiwiX29uTWVkaWFFbmNyeXB0ZWQiLCJpbml0RGF0YVR5cGUiLCJpbml0RGF0YSIsIl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YVR5cGUiLCJfbWVkaWFFbmNyeXB0aW9uSW5pdERhdGEiLCJfYXR0ZW1wdFNldE1lZGlhS2V5cyIsIl9nZW5lcmF0ZVJlcXVlc3RXaXRoUHJlZmVycmVkS2V5U2Vzc2lvbiIsImtleXNMaXN0SXRlbSIsIktFWV9TWVNURU1fTk9fS0VZUyIsInNldE1lZGlhS2V5cyIsIktFWV9TWVNURU1fTk9fQUNDRVNTIiwiS0VZX1NZU1RFTV9OT19TRVNTSU9OIiwiZ2VuZXJhdGVSZXF1ZXN0IiwiX2NyZWF0ZUxpY2Vuc2VYaHIiLCJrZXlNZXNzYWdlIiwieGhyIiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIl9vbkxpY2Vuc2VSZXF1ZXN0UmVhZHlTdGFnZUNoYW5nZSIsInN0YXR1cyIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsImF0dGVtcHRzTGVmdCIsIl9nZW5lcmF0ZUxpY2Vuc2VSZXF1ZXN0Q2hhbGxlbmdlIiwiY2hhbGxlbmdlIiwic2VuZCIsInZpZGVvQ29kZWMiLCIuL3NyYy9jb250cm9sbGVyL2Zwcy1jb250cm9sbGVyLmpzIiwiRlBTQ29udHJvbGxlciIsImlzVmlkZW9QbGF5YmFja1F1YWxpdHlBdmFpbGFibGUiLCJnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSIsImNoZWNrRlBTSW50ZXJ2YWwiLCJjaGVja0ZQUyIsImRlY29kZWRGcmFtZXMiLCJkcm9wcGVkRnJhbWVzIiwibGFzdFRpbWUiLCJjdXJyZW50UGVyaW9kIiwiY3VycmVudERyb3BwZWQiLCJsYXN0RHJvcHBlZEZyYW1lcyIsImN1cnJlbnREZWNvZGVkIiwibGFzdERlY29kZWRGcmFtZXMiLCJkcm9wcGVkRlBTIiwiRlBTX0RST1AiLCJ0b3RhbERyb3BwZWRGcmFtZXMiLCJ2aWRlb1BsYXliYWNrUXVhbGl0eSIsInRvdGFsVmlkZW9GcmFtZXMiLCJkcm9wcGVkVmlkZW9GcmFtZXMiLCJ3ZWJraXREZWNvZGVkRnJhbWVDb3VudCIsIndlYmtpdERyb3BwZWRGcmFtZUNvdW50IiwiLi9zcmMvY29udHJvbGxlci9mcmFnbWVudC1maW5kZXJzLmpzIiwiYnVmZmVyRW5kIiwiZGVsdGFQVFMiLCJwZHRXaXRoaW5Ub2xlcmFuY2VUZXN0IiwicGR0QnVmZmVyRW5kIiwiZW5kUHJvZ3JhbURhdGVUaW1lIiwiZmluZEZyYWdtZW50QnlQRFQiLCJQRFRWYWx1ZSIsInByb2dyYW1EYXRlVGltZSIsInNlZyIsImZpbmRGcmFnbWVudEJ5UFRTIiwiLi9zcmMvY29udHJvbGxlci9mcmFnbWVudC10cmFja2VyLmpzIiwiQVBQRU5ESU5HIiwiRnJhZ21lbnRUcmFja2VyIiwiYnVmZmVyUGFkZGluZyIsImdldEJ1ZmZlcmVkRnJhZyIsImxldmVsVHlwZSIsImJ1ZmZlcmVkRnJhZ3MiLCJmcmFnbWVudEVudGl0eSIsImJvZHkiLCJidWZmZXJlZEZyYWdLZXkiLCJkZXRlY3RFdmljdGVkRnJhZ21lbnRzIiwiZWxlbWVudGFyeVN0cmVhbSIsInRpbWVSYW5nZSIsImZyYWdtZW50VGltZXMiLCJlc0RhdGEiLCJpc1RpbWVCdWZmZXJlZCIsImRldGVjdFBhcnRpYWxGcmFnbWVudHMiLCJmcmFnS2V5IiwiZ2V0RnJhZ21lbnRLZXkiLCJoYXNFbGVtZW50YXJ5U3RyZWFtIiwiZ2V0QnVmZmVyZWRUaW1lcyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJmcmFnbWVudFBhcnRpYWwiLCJwYXJ0aWFsIiwiZ2V0UGFydGlhbEZyYWdtZW50IiwidGltZVBhZGRpbmciLCJiZXN0RnJhZ21lbnQiLCJiZXN0T3ZlcmxhcCIsImhhc0ZyYWdtZW50IiwicmVtb3ZlQWxsRnJhZ21lbnRzIiwiLi9zcmMvY29udHJvbGxlci9nYXAtY29udHJvbGxlci5qcyIsIkdhcENvbnRyb2xsZXIiLCJzdGFsbFJlcG9ydGVkIiwicG9sbCIsInRub3ciLCJzdGFsbGVkIiwibnVkZ2VSZXRyeSIsInN0YWxsZWREdXJhdGlvbiIsIl9yZXBvcnRTdGFsbCIsIl90cnlGaXhCdWZmZXJTdGFsbCIsIl90cnlTa2lwQnVmZmVySG9sZSIsIl90cnlOdWRnZUJ1ZmZlciIsIkJVRkZFUl9TVEFMTEVEX0VSUk9SIiwibGFzdEVuZFRpbWUiLCJCVUZGRVJfU0VFS19PVkVSX0hPTEUiLCJyZWFzb24iLCJ0YXJnZXRUaW1lIiwiQlVGRkVSX05VREdFX09OX1NUQUxMIiwiLi9zcmMvY29udHJvbGxlci9pZDMtdHJhY2stY29udHJvbGxlci5qcyIsImlkM18xIiwidGV4dHRyYWNrX3V0aWxzXzEiLCJJRDNUcmFja0NvbnRyb2xsZXIiLCJGUkFHX1BBUlNJTkdfTUVUQURBVEEiLCJpZDNUcmFjayIsImNsZWFyQ3VycmVudEN1ZXMiLCJnZXRJRDNUcmFjayIsInRleHRUcmFja3MiLCJ0ZXh0VHJhY2siLCJraW5kIiwibGFiZWwiLCJzZW5kQWRkVHJhY2tFdmVudCIsImFkZFRleHRUcmFjayIsIm9uRnJhZ1BhcnNpbmdNZXRhZGF0YSIsInNhbXBsZXMiLCJDdWUiLCJXZWJLaXREYXRhQ3VlIiwiVlRUQ3VlIiwiVGV4dFRyYWNrQ3VlIiwiZnJhbWVzXzEiLCJnZXRJRDNGcmFtZXMiLCJwdHMiLCJmcmFtZSIsImlzVGltZVN0YW1wRnJhbWUiLCJjdWUiLCJhZGRDdWUiLCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWNvbnRyb2xsZXIuanMiLCJjaHJvbWVPckZpcmVmb3giLCJjb2RlY3NfMSIsImxldmVsX2hlbHBlcl8xIiwiTGV2ZWxDb250cm9sbGVyIiwiTUFOSUZFU1RfTE9BREVEIiwiY2FubG9hZCIsImN1cnJlbnRMZXZlbEluZGV4IiwibWFudWFsTGV2ZWxJbmRleCIsInRvTG93ZXJDYXNlIiwiX2xldmVscyIsImxldmVsUmV0cnlDb3VudCIsImxvYWRMZXZlbCIsIm9uTWFuaWZlc3RMb2FkZWQiLCJiaXRyYXRlU3RhcnQiLCJsZXZlbFNldCIsImxldmVsRnJvbVNldCIsInZpZGVvQ29kZWNGb3VuZCIsImF1ZGlvQ29kZWNGb3VuZCIsImF0dHJpYnV0ZXMiLCJhdHRycyIsImZyYWdtZW50RXJyb3IiLCJhZGRHcm91cElkIiwiU1VCVElUTEVTIiwiaXNDb2RlY1N1cHBvcnRlZEluTXA0Iiwic29ydCIsIl9maXJzdExldmVsIiwic29tZSIsIk1BTklGRVNUX0lOQ09NUEFUSUJMRV9DT0RFQ1NfRVJST1IiLCJuZXdMZXZlbCIsInNldExldmVsSW50ZXJuYWwiLCJsZXZlbFByb3BlcnRpZXMiLCJMRVZFTF9TV0lUQ0hJTkciLCJMRVZFTF9MT0FESU5HIiwiT1RIRVJfRVJST1IiLCJMRVZFTF9TV0lUQ0hfRVJST1IiLCJfc3RhcnRMZXZlbCIsImNvbmZpZ1N0YXJ0TGV2ZWwiLCJsZXZlbEluZGV4IiwibGV2ZWxFcnJvciIsIkxFVkVMX0xPQURfRVJST1IiLCJMRVZFTF9MT0FEX1RJTUVPVVQiLCJSRU1VWF9BTExPQ19FUlJPUiIsInJlY292ZXJMZXZlbCIsImVycm9yRXZlbnQiLCJyZWR1bmRhbnRMZXZlbHMiLCJlcnJvckRldGFpbHMiLCJsZXZlbFJldHJ5IiwibmV4dEF1dG9MZXZlbCIsImxldmVsSWQiLCJ0YXJnZXRkdXJhdGlvbk1zIiwicmVsb2FkSW50ZXJ2YWwiLCJmaW5kSW5kZXgiLCJsZXZlbE9iamVjdCIsIi4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtaGVscGVyLmpzIiwidXBkYXRlUFRTIiwiZnJvbUlkeCIsInRvSWR4IiwiZnJhZ0Zyb20iLCJmcmFnVG8iLCJmcmFnVG9QVFMiLCJtYXhTdGFydFBUUyIsImRyaWZ0IiwiZnJhZ0lkeCIsInRleHRHcm91cElkcyIsIm9sZERldGFpbHMiLCJQVFNGcmFnIiwiZGVsdGEiLCJvbGRmcmFnbWVudHMiLCJuZXdmcmFnbWVudHMiLCJjY09mZnNldCIsIm9sZEZyYWciLCJuZXdGcmFnIiwiZHJvcHBlZCIsIi4vc3JjL2NvbnRyb2xsZXIvc3RyZWFtLWNvbnRyb2xsZXIuanMiLCJwbGF5bGlzdF9sb2FkZXJfMSIsImZyYWdtZW50X2ZpbmRlcnNfMSIsImdhcF9jb250cm9sbGVyXzEiLCJTdHJlYW1Db250cm9sbGVyIiwiZ2FwQ29udHJvbGxlciIsImZvcmNlU3RhcnRMb2FkIiwiX2RvVGlja0lkbGUiLCJfY2hlY2tCdWZmZXIiLCJfY2hlY2tGcmFnbWVudENoYW5nZWQiLCJsZXZlbExhc3RMb2FkZWQiLCJfZmV0Y2hQYXlsb2FkT3JFb3MiLCJfZW5zdXJlRnJhZ21lbnRBdExpdmVQb2ludCIsIl9maW5kRnJhZ21lbnQiLCJfbG9hZEtleSIsIl9sb2FkRnJhZ21lbnQiLCJtYXhMYXRlbmN5IiwibGl2ZVN5bmNQb3NpdGlvbiIsImNvbXB1dGVMaXZlUG9zaXRpb24iLCJoYXNQcm9ncmFtRGF0ZVRpbWUiLCJ0YXJnZXRTTiIsImxvb2t1cFRvbGVyYW5jZSIsImN1clNOSWR4Iiwic2FtZUxldmVsIiwicHJldkZyYWciLCJuZXh0RnJhZyIsImF1dG9MZXZlbEVuYWJsZWQiLCJfcmVkdWNlTWF4QnVmZmVyTGVuZ3RoIiwiU1RSRUFNX1NUQVRFX1RSQU5TSVRJT04iLCJMZXZlbFR5cGUiLCJNQUlOIiwiZm9sbG93aW5nQnVmZmVyZWRGcmFnIiwibmV4dEJ1ZmZlcmVkRnJhZyIsImZyYWdQbGF5aW5nQ3VycmVudCIsImZyYWdQbGF5aW5nIiwiRlJBR19DSEFOR0VEIiwiZnJhZ1BsYXlpbmdMZXZlbCIsIkxFVkVMX1NXSVRDSEVEIiwiaW1tZWRpYXRlTGV2ZWxTd2l0Y2giLCJpbW1lZGlhdGVTd2l0Y2giLCJwcmV2aW91c2x5UGF1c2VkIiwiZmx1c2hNYWluQnVmZmVyIiwiaW1tZWRpYXRlTGV2ZWxTd2l0Y2hFbmQiLCJmZXRjaGRlbGF5IiwibmV4dExldmVsSWQiLCJmcmFnTGFzdEticHMiLCJmbHVzaFNjb3BlIiwib25NZWRpYVNlZWtlZCIsImFhYyIsImhlYWFjIiwiYXVkaW9Db2RlY1N3aXRjaCIsIm5ld0xldmVsSWQiLCJsYXN0TGV2ZWwiLCJhbGlnblN0cmVhbSIsImFjY3VyYXRlVGltZU9mZnNldCIsIl9nZXRBdWRpb0NvZGVjIiwidWEiLCJtZXRhZGF0YSIsImNoYW5uZWxDb3VudCIsImhhc0F1ZGlvIiwiaGFzVmlkZW8iLCJWSURFTyIsImhsc18zIiwibWVkaWFUcmFjayIsImFsdGVybmF0ZSIsIm1lZGlhQnVmZmVyZWQiLCJtaW5MZW5ndGgiLCJfc2Vla1RvU3RhcnRQb3MiLCJvbkZyYWdMb2FkRW1lcmdlbmN5QWJvcnRlZCIsInN3YXBBdWRpb0NvZGVjIiwidGFyZ2V0TGF0ZW5jeSIsIl9saXZlU3luY1Bvc2l0aW9uIiwiLi9zcmMvY29udHJvbGxlci9zdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlci5qcyIsImRlY3J5cHRlcl8xIiwiU3VidGl0bGVTdHJlYW1Db250cm9sbGVyU3RhdGUiLCJTVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCIsIlNVQlRJVExFX1RSQUNLX1NXSVRDSCIsIlNVQlRJVExFX1RSQUNLX0xPQURFRCIsIlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VEIiwidHJhY2tzQnVmZmVyZWQiLCJjdXJyZW50VHJhY2tJZCIsImRlY3J5cHRlciIsIm9uU3VidGl0bGVGcmFnUHJvY2Vzc2VkIiwic3VjY2VzcyIsIm9uU3VidGl0bGVUcmFja3NVcGRhdGVkIiwic3VidGl0bGVUcmFja3MiLCJvblN1YnRpdGxlVHJhY2tTd2l0Y2giLCJjdXJyZW50VHJhY2siLCJvblN1YnRpdGxlVHJhY2tMb2FkZWQiLCJkZWNyeXB0RGF0YSIsImRlY3J5cHRkYXRhIiwiYnl0ZUxlbmd0aCIsInN0YXJ0VGltZV8xIiwiZGVjcnlwdCIsIml2IiwiZGVjcnlwdGVkRGF0YSIsIkZSQUdfREVDUllQVEVEIiwidHN0YXJ0IiwidGRlY3J5cHQiLCJidWZmZXJlZEluZm8iLCJfZ2V0QnVmZmVyZWQiLCIuL3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIuanMiLCJmaWx0ZXJTdWJ0aXRsZVRyYWNrcyIsInRleHRUcmFja0xpc3QiLCJTdWJ0aXRsZVRyYWNrQ29udHJvbGxlciIsInN1YnRpdGxlRGlzcGxheSIsIl9vblRleHRUcmFja3NDaGFuZ2VkIiwic3VidGl0bGVUcmFjayIsInF1ZXVlZERlZmF1bHRUcmFjayIsInRyYWNrQ2hhbmdlTGlzdGVuZXIiLCJ1c2VUZXh0VHJhY2tQb2xsaW5nIiwic3VidGl0bGVQb2xsaW5nSW50ZXJ2YWwiLCJzdWJ0aXRsZXMiLCJvblRpY2siLCJTVUJUSVRMRV9UUkFDS19MT0FESU5HIiwiX3N0b3BUaW1lciIsInN1YnRpdGxlVHJhY2tJZCIsIl90b2dnbGVUcmFja01vZGVzIiwic2V0U3VidGl0bGVUcmFja0ludGVybmFsIiwib2xkVHJhY2siLCJuZXh0VHJhY2siLCIuL3NyYy9jb250cm9sbGVyL3RpbWVsaW5lLWNvbnRyb2xsZXIuanMiLCJjZWFfNjA4X3BhcnNlcl8xIiwib3V0cHV0X2ZpbHRlcl8xIiwid2VidnR0X3BhcnNlcl8xIiwiVGltZWxpbmVDb250cm9sbGVyIiwiRlJBR19QQVJTSU5HX1VTRVJEQVRBIiwidW5wYXJzZWRWdHRGcmFncyIsImN1ZVJhbmdlcyIsImNhcHRpb25zVHJhY2tzIiwiY2FwdGlvbnNQcm9wZXJ0aWVzIiwidGV4dFRyYWNrMSIsImxhbmd1YWdlQ29kZSIsInRleHRUcmFjazIiLCJjaGFubmVsMSIsImNoYW5uZWwyIiwiY2VhNjA4UGFyc2VyIiwiYWRkQ3VlcyIsInNjcmVlbiIsIngxIiwieDIiLCJ5MSIsInkyIiwicmFuZ2VzIiwibWVyZ2VkIiwiY3VlUmFuZ2UiLCJvdmVybGFwIiwibmV3Q3VlIiwiZ2V0RXhpc3RpbmdUcmFjayIsImNyZWF0ZUNhcHRpb25zVHJhY2siLCJleGlzdGluZ1RyYWNrIiwiY3JlYXRlVGV4dFRyYWNrIiwibGFuZyIsIl9jbGVhblRyYWNrcyIsImxhc3RTbiIsInByZXZDQyIsInZ0dENDcyIsInByZXNlbnRhdGlvbk9mZnNldCIsIm5ldyIsImluVXNlVHJhY2tzXzEiLCJpblVzZVRyYWNrIiwibWFuaWZlc3RUcmFjayIsImNhblJldXNlVnR0VGV4dFRyYWNrIiwib25MZXZlbFN3aXRjaGluZyIsImNsb3NlZENhcHRpb25zIiwicmVzZXQiLCJfcGFyc2VWVFRzIiwicGFyc2UiLCJjdWVzIiwiZ2V0Q3VlQnlJZCIsInRleHRUcmFja0N1ZSIsInRleHQiLCJvbkZyYWdEZWNyeXB0ZWQiLCJvbkZyYWdQYXJzaW5nVXNlcmRhdGEiLCJjY2RhdGFzIiwiZXh0cmFjdENlYTYwOERhdGEiLCJhZGREYXRhIiwiYnl0ZUFycmF5IiwidG1wQnl0ZSIsImNjYnl0ZTEiLCJjY2J5dGUyIiwiY291bnQiLCJhY3R1YWxDQ0J5dGVzIiwiLi9zcmMvY3J5cHQvYWVzLWNyeXB0by5qcyIsIkFFU0NyeXB0byIsInN1YnRsZSIsImFlc0lWIiwiLi9zcmMvY3J5cHQvYWVzLWRlY3J5cHRvci5qcyIsInJlbW92ZVBhZGRpbmciLCJvdXRwdXRCeXRlcyIsInBhZGRpbmdCeXRlcyIsIkRhdGFWaWV3IiwiZ2V0VWludDgiLCJBRVNEZWNyeXB0b3IiLCJyY29uIiwic3ViTWl4IiwiVWludDMyQXJyYXkiLCJpbnZTdWJNaXgiLCJzQm94IiwiaW52U0JveCIsImluaXRUYWJsZSIsInVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyIsImFycmF5QnVmZmVyIiwidmlldyIsIm5ld0FycmF5IiwiZ2V0VWludDMyIiwic3ViTWl4MCIsInN1Yk1peDEiLCJzdWJNaXgyIiwic3ViTWl4MyIsImludlN1Yk1peDAiLCJpbnZTdWJNaXgxIiwiaW52U3ViTWl4MiIsImludlN1Yk1peDMiLCJ4IiwieGkiLCJzeCIsIng0IiwieDgiLCJleHBhbmRLZXkiLCJrZXlCdWZmZXIiLCJzYW1lS2V5Iiwia2V5U2l6ZSIsImtzUm93IiwiaW52S3NSb3ciLCJwcmV2Iiwia3NSb3dzIiwia2V5U2NoZWR1bGUiLCJpbnZLZXlTY2hlZHVsZSIsInNib3giLCJuZXR3b3JrVG9Ib3N0T3JkZXJTd2FwIiwid29yZCIsImlucHV0QXJyYXlCdWZmZXIiLCJyZW1vdmVQS0NTN1BhZGRpbmciLCJ0MCIsInQxIiwidDIiLCJ0MyIsInMwIiwiczEiLCJzMiIsInMzIiwiaW5wdXRXb3JkczAiLCJpbnB1dFdvcmRzMSIsImlucHV0V29yZHMyIiwiaW5wdXRXb3JkczMiLCJuUm91bmRzIiwiaW52U0JPWCIsImluaXRWZWN0b3IiLCJpbml0VmVjdG9yMCIsImluaXRWZWN0b3IxIiwiaW5pdFZlY3RvcjIiLCJpbml0VmVjdG9yMyIsImlucHV0SW50MzIiLCJJbnQzMkFycmF5Iiwib3V0cHV0SW50MzIiLCJzd2FwV29yZCIsIi4vc3JjL2NyeXB0L2RlY3J5cHRlci5qcyIsImFlc19jcnlwdG9fMSIsImZhc3RfYWVzX2tleV8xIiwiYWVzX2RlY3J5cHRvcl8xIiwiZ2V0U2VsZlNjb3BlIiwiRGVjcnlwdGVyIiwib2JzZXJ2ZXIiLCJfYiIsImxvZ0VuYWJsZWQiLCJicm93c2VyQ3J5cHRvIiwiY3J5cHRvIiwid2Via2l0U3VidGxlIiwiZGlzYWJsZVdlYkNyeXB0byIsImlzU3luYyIsImRlY3J5cHRvciIsInN1YnRsZV8xIiwiZmFzdEFlc0tleSIsImFlc0tleSIsIm9uV2ViQ3J5cHRvRXJyb3IiLCJGUkFHX0RFQ1JZUFRfRVJST1IiLCIuL3NyYy9jcnlwdC9mYXN0LWFlcy1rZXkuanMiLCJGYXN0QUVTS2V5IiwiaW1wb3J0S2V5IiwiLi9zcmMvZGVtdXgvYWFjZGVtdXhlci5qcyIsIkFEVFMiLCJBQUNEZW11eGVyIiwicmVtdXhlciIsInJlc2V0SW5pdFNlZ21lbnQiLCJfYXVkaW9UcmFjayIsInNlcXVlbmNlTnVtYmVyIiwiaXNBQUMiLCJtYW5pZmVzdENvZGVjIiwiaW5wdXRUaW1lU2NhbGUiLCJyZXNldFRpbWVTdGFtcCIsInByb2JlIiwiZ2V0SUQzRGF0YSIsImxlbmd0aF8xIiwiYXBwZW5kIiwidGltZU9mZnNldCIsImNvbnRpZ3VvdXMiLCJpZDNEYXRhIiwidGltZXN0YW1wIiwiZ2V0VGltZVN0YW1wIiwiZnJhbWVJbmRleCIsInN0YW1wIiwiaWQzU2FtcGxlcyIsImR0cyIsImlzSGVhZGVyIiwiaW5pdFRyYWNrQ29uZmlnIiwiYXBwZW5kRnJhbWUiLCJyZW11eCIsIi4vc3JjL2RlbXV4L2FkdHMuanMiLCJnZXRBdWRpb0NvbmZpZyIsImFkdHNPYmplY3RUeXBlIiwiYWR0c1NhbXBsZWluZ0luZGV4IiwiYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4IiwiYWR0c0NoYW5lbENvbmZpZyIsImFkdHNTYW1wbGVpbmdSYXRlcyIsInNhbXBsZXJhdGUiLCJGUkFHX1BBUlNJTkdfRVJST1IiLCJpc0hlYWRlclBhdHRlcm4iLCJnZXRIZWFkZXJMZW5ndGgiLCJnZXRGdWxsRnJhbWVMZW5ndGgiLCJnZXRGcmFtZUR1cmF0aW9uIiwicGFyc2VGcmFtZUhlYWRlciIsImZyYW1lRHVyYXRpb24iLCJoZWFkZXJMZW5ndGgiLCJmcmFtZUxlbmd0aCIsIm5ld09mZnNldCIsImhlYWRlciIsImFhY1NhbXBsZSIsInVuaXQiLCJzdWJhcnJheSIsIi4vc3JjL2RlbXV4L2RlbXV4ZXItaW5saW5lLmpzIiwiYWFjZGVtdXhlcl8xIiwibXA0ZGVtdXhlcl8xIiwidHNkZW11eGVyXzEiLCJtcDNkZW11eGVyXzEiLCJtcDRfcmVtdXhlcl8xIiwicGFzc3Rocm91Z2hfcmVtdXhlcl8xIiwiZ2V0X3NlbGZfc2NvcGVfMSIsIkRhdGUiLCJEZW11eGVySW5saW5lIiwidHlwZVN1cHBvcnRlZCIsInZlbmRvciIsImRpc2NvbnRpbnVpdHkiLCJ0cmFja1N3aXRjaCIsImRlZmF1bHRJbml0UFRTIiwicHVzaERlY3J5cHRlZCIsIlVpbnQ4QXJyYXkiLCJtdXhDb25maWciLCJkZW11eCIsIm11eCIsInJlbXV4ZXJfMSIsInNldERlY3J5cHREYXRhIiwiLi9zcmMvZGVtdXgvZGVtdXhlci13b3JrZXIuanMiLCJkZW11eGVyX2lubGluZV8xIiwiZXZlbnRzXzIiLCJmb3J3YXJkTWVzc2FnZSIsImV2IiwicG9zdE1lc3NhZ2UiLCJjbWQiLCJlbmFibGVMb2dzIiwidHJhbnNmZXJhYmxlIiwiLi9zcmMvZGVtdXgvZGVtdXhlci5qcyIsIndvcmsiLCJtZWRpYXNvdXJjZV9oZWxwZXJfMSIsIm9ic2VydmVyXzEiLCJEZW11eGVyIiwiT2JzZXJ2ZXIiLCJtcDQiLCJpc1R5cGVTdXBwb3J0ZWQiLCJtcGVnIiwibXAzIiwidyIsIm9ud21zZyIsIm9uV29ya2VyTWVzc2FnZSIsIklOVEVSTkFMX0VYQ0VQVElPTiIsImZpbGVuYW1lIiwibGluZW5vIiwidGVybWluYXRlIiwibGFzdEZyYWciLCJuZXh0U04iLCJBcnJheUJ1ZmZlciIsIi4vc3JjL2RlbXV4L2V4cC1nb2xvbWIuanMiLCJFeHBHb2xvbWIiLCJieXRlc0F2YWlsYWJsZSIsImJpdHNBdmFpbGFibGUiLCJsb2FkV29yZCIsIndvcmtpbmdCeXRlcyIsImF2YWlsYWJsZUJ5dGVzIiwic2tpcEJpdHMiLCJza2lwQnl0ZXMiLCJyZWFkQml0cyIsImJpdHMiLCJ2YWx1Iiwic2tpcExaIiwibGVhZGluZ1plcm9Db3VudCIsInNraXBVRUciLCJza2lwRUciLCJyZWFkVUVHIiwiY2x6IiwicmVhZEVHIiwicmVhZEJvb2xlYW4iLCJyZWFkVUJ5dGUiLCJyZWFkVVNob3J0IiwicmVhZFVJbnQiLCJza2lwU2NhbGluZ0xpc3QiLCJsYXN0U2NhbGUiLCJuZXh0U2NhbGUiLCJyZWFkU1BTIiwicHJvZmlsZUlkYyIsIm51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSIsInBpY1dpZHRoSW5NYnNNaW51czEiLCJwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxIiwiZnJhbWVNYnNPbmx5RmxhZyIsInNjYWxpbmdMaXN0Q291bnQiLCJmcmFtZUNyb3BMZWZ0T2Zmc2V0IiwiZnJhbWVDcm9wUmlnaHRPZmZzZXQiLCJmcmFtZUNyb3BUb3BPZmZzZXQiLCJmcmFtZUNyb3BCb3R0b21PZmZzZXQiLCJjaHJvbWFGb3JtYXRJZGMiLCJwaWNPcmRlckNudFR5cGUiLCJjZWlsIiwicmVhZFNsaWNlVHlwZSIsIi4vc3JjL2RlbXV4L2lkMy5qcyIsIklEMyIsImlzRm9vdGVyIiwiZnJvbnQiLCJfcmVhZFNpemUiLCJmcmFtZXMiLCJfcmVhZFRpbWVTdGFtcCIsImluZm8iLCJfZ2V0RnJhbWVEYXRhIiwiZnJvbUNoYXJDb2RlIiwiZnJhbWVEYXRhIiwiX2RlY29kZUZyYW1lIiwiX2RlY29kZVByaXZGcmFtZSIsIl9kZWNvZGVUZXh0RnJhbWUiLCJfZGVjb2RlVVJMRnJhbWUiLCJ0aW1lU3RhbXBGcmFtZSIsInB0czMzQml0Iiwib3duZXIiLCJfdXRmOEFycmF5VG9TdHIiLCJwcml2YXRlRGF0YSIsImRlc2NyaXB0aW9uIiwiZXhpdE9uTnVsbCIsImNoYXIyIiwiY2hhcjMiLCJvdXQiLCJ1dGY4QXJyYXlUb1N0ciIsIi4vc3JjL2RlbXV4L21wM2RlbXV4ZXIuanMiLCJtcGVnYXVkaW9fMSIsIk1QM0RlbXV4ZXIiLCIuL3NyYy9kZW11eC9tcDRkZW11eGVyLmpzIiwiVUlOVDMyX01BWCIsIk1QNERlbXV4ZXIiLCJwYXJzZUluaXRTZWdtZW50IiwiYXVkaW92aWRlbyIsImZpbmRCb3giLCJiaW4yc3RyIiwicmVhZFVpbnQxNiIsInJlYWRVaW50MzIiLCJ3cml0ZVVpbnQzMiIsInN1YnJlc3VsdHMiLCJlbmRib3giLCJyZXN1bHRzIiwicGFyc2VTZWdtZW50SW5kZXgiLCJyZWZlcmVuY2VzIiwibW9vdiIsIm1vb3ZFbmRPZmZzZXQiLCJzaWR4IiwidmVyc2lvbiIsInRpbWVzY2FsZSIsInN0YXJ0Qnl0ZSIsInJlZmVyZW5jZXNDb3VudCIsInJlZmVyZW5jZUluZGV4IiwicmVmZXJlbmNlSW5mbyIsInJlZmVyZW5jZVNpemUiLCJzdWJzZWdtZW50RHVyYXRpb24iLCJlYXJsaWVzdFByZXNlbnRhdGlvblRpbWUiLCJ0cmFrIiwidGtoZCIsIm1kaGQiLCJoZGxyIiwic291biIsInZpZGUiLCJjb2RlY0JveCIsImNvZGVjVHlwZSIsImdldFN0YXJ0RFRTIiwidHJhZnMiLCJ0cmFmIiwidGZoZCIsInNjYWxlIiwidGZkdCIsIm9mZnNldFN0YXJ0RFRTIiwiYmFzZU1lZGlhRGVjb2RlVGltZSIsInVwcGVyIiwiZmxvb3IiLCJsb3dlciIsInN0YXJ0RFRTXzEiLCIuL3NyYy9kZW11eC9tcGVnYXVkaW8uanMiLCJNcGVnQXVkaW8iLCJCaXRyYXRlc01hcCIsIlNhbXBsaW5nUmF0ZU1hcCIsIlNhbXBsZXNDb2VmZmljaWVudHMiLCJCeXRlc0luU2xvdCIsInBhcnNlSGVhZGVyIiwic2FtcGxlc1BlckZyYW1lIiwic2FtcGxlUmF0ZSIsImhlYWRlckIiLCJoZWFkZXJDIiwiaGVhZGVyRSIsImhlYWRlckYiLCJoZWFkZXJHIiwiY29sdW1uSW5CaXRyYXRlcyIsImJpdFJhdGUiLCJjb2x1bW5JblNhbXBsZVJhdGVzIiwic2FtcGxlQ29lZmZpY2llbnQiLCJieXRlc0luU2xvdCIsInBhcnNlSW50IiwiLi9zcmMvZGVtdXgvc2FtcGxlLWFlcy5qcyIsIlNhbXBsZUFlc0RlY3J5cHRlciIsImRpc2NhcmRFUEIiLCJkZWNyeXB0QnVmZmVyIiwiZW5jcnlwdGVkRGF0YSIsImRlY3J5cHRBYWNTYW1wbGUiLCJzYW1wbGVJbmRleCIsInN5bmMiLCJjdXJVbml0IiwiZW5jcnlwdGVkQnVmZmVyIiwiYnl0ZU9mZnNldCIsImxvY2FsdGhpcyIsImRlY3J5cHRBYWNTYW1wbGVzIiwiZ2V0QXZjRW5jcnlwdGVkRGF0YSIsImRlY29kZWREYXRhIiwiZW5jcnlwdGVkRGF0YUxlbiIsIkludDhBcnJheSIsIm91dHB1dFBvcyIsImlucHV0UG9zIiwiZ2V0QXZjRGVjcnlwdGVkVW5pdCIsImRlY3J5cHRBdmNTYW1wbGUiLCJ1bml0SW5kZXgiLCJkZWNyeXB0QXZjU2FtcGxlcyIsImN1clVuaXRzIiwidW5pdHMiLCIuL3NyYy9kZW11eC90c2RlbXV4ZXIuanMiLCJleHBfZ29sb21iXzEiLCJzYW1wbGVfYWVzXzEiLCJSZW11eGVyVHJhY2tJZENvbmZpZyIsImlkMyIsIlRTRGVtdXhlciIsInNhbXBsZUFlcyIsInN5bmNPZmZzZXQiLCJfc3luY09mZnNldCIsInNjYW53aW5kb3ciLCJjcmVhdGVUcmFjayIsInBpZCIsInBtdFBhcnNlZCIsIl9wbXRJZCIsIl9hdmNUcmFjayIsIl9pZDNUcmFjayIsIl90eHRUcmFjayIsImFhY092ZXJGbG93IiwiYWFjTGFzdFBUUyIsImF2Y1NhbXBsZSIsIl9kdXJhdGlvbiIsInN0dCIsInBlcyIsInVua25vd25QSURzIiwiYXZjVHJhY2siLCJhdmNJZCIsImF1ZGlvSWQiLCJpZDNJZCIsInBtdElkIiwiYXZjRGF0YSIsInBlc0RhdGEiLCJhdWRpb0RhdGEiLCJwYXJzZVBBVCIsIl9wYXJzZVBBVCIsInBhcnNlUE1UIiwiX3BhcnNlUE1UIiwicGFyc2VQRVMiLCJfcGFyc2VQRVMiLCJwYXJzZUFWQ1BFUyIsIl9wYXJzZUFWQ1BFUyIsInBhcnNlQUFDUEVTIiwiX3BhcnNlQUFDUEVTIiwicGFyc2VNUEVHUEVTIiwiX3BhcnNlTVBFR1BFUyIsInBhcnNlSUQzUEVTIiwiX3BhcnNlSUQzUEVTIiwicGFyc2VkUElEcyIsImF2YyIsImRlY3J5cHRBbmRSZW11eCIsInZpZGVvVHJhY2siLCJsb2NhbHRoaXNfMSIsImRlY3J5cHRBbmRSZW11eEF2YyIsImxvY2FsdGhpc18yIiwiX2luaXRQVFMiLCJfaW5pdERUUyIsIm1wZWdTdXBwb3J0ZWQiLCJpc1NhbXBsZUFlcyIsInRhYmxlRW5kIiwic3RyZWFtIiwicGVzRmxhZ3MiLCJwZXNMZW4iLCJwZXNIZHJMZW4iLCJwZXNQdHMiLCJwZXNEdHMiLCJwYXlsb2FkU3RhcnRPZmZzZXQiLCJuZXdEYXRhIiwiZGF0YUxlbiIsInB1c2hBY2Nlc1VuaXQiLCJuYlNhbXBsZXMiLCJzcHMiLCJsYXN0IiwiZXhwR29sb21iRGVjb2RlciIsIl9wYXJzZUFWQ05BTHUiLCJzcHNmb3VuZCIsImNyZWF0ZUFWQ1NhbXBsZSIsImF1ZEZvdW5kIiwic2xpY2VUeXBlIiwicGF5bG9hZFR5cGUiLCJwYXlsb2FkU2l6ZSIsImVuZE9mQ2FwdGlvbnMiLCJmaXJzdEJ5dGUiLCJ0b3RhbENDcyIsIl9pbnNlcnRTYW1wbGVJbk9yZGVyIiwiY29kZWNhcnJheSIsImNvZGVjc3RyaW5nIiwiaCIsInBwcyIsImFyciIsIl9nZXRMYXN0TmFsVW5pdCIsImxhc3RVbml0Iiwib3ZlcmZsb3ciLCJsYXN0VW5pdFR5cGUiLCJuYWx1U3RhdGUiLCJsYXN0U3RhdGUiLCJsYXN0VW5pdFN0YXJ0IiwidG1wIiwibmV3TGVuZ3RoIiwiRVBCUG9zaXRpb25zIiwic291cmNlSW5kZXgiLCJuZXdQVFMiLCIuL3NyYy9lcnJvcnMuanMiLCJNVVhfRVJST1IiLCJNQU5JRkVTVF9MT0FEX0VSUk9SIiwiTUFOSUZFU1RfTE9BRF9USU1FT1VUIiwiTUFOSUZFU1RfUEFSU0lOR19FUlJPUiIsIi4vc3JjL2V2ZW50LWhhbmRsZXIuanMiLCJGT1JCSURERU5fRVZFTlRfTkFNRVMiLCJobHNFdmVudEdlbmVyaWMiLCJobHNIYW5kbGVyRGVzdHJveWluZyIsImhsc0hhbmRsZXJEZXN0cm95ZWQiLCJFdmVudEhhbmRsZXIiLCJvbkV2ZW50IiwiaGFuZGxlZEV2ZW50cyIsInVzZUdlbmVyaWNIYW5kbGVyIiwicmVnaXN0ZXJMaXN0ZW5lcnMiLCJ1bnJlZ2lzdGVyTGlzdGVuZXJzIiwiaXNFdmVudEhhbmRsZXIiLCJvbkV2ZW50R2VuZXJpYyIsImZ1bmNOYW1lIiwiLi9zcmMvZXZlbnRzLmpzIiwiRlJBR19MT0FEX1BST0dSRVNTIiwiREVTVFJPWUlORyIsIi4vc3JjL2hscy5qcyIsImZyYWdtZW50X2xvYWRlcl8xIiwia2V5X2xvYWRlcl8xIiwic3RyZWFtX2NvbnRyb2xsZXJfMSIsImxldmVsX2NvbnRyb2xsZXJfMSIsImlkM190cmFja19jb250cm9sbGVyXzEiLCJpc19zdXBwb3J0ZWRfMSIsImNvbmZpZ18xIiwiSGxzIiwiZGVmYXVsdENvbmZpZyIsIkRlZmF1bHRDb25maWciLCJwcm9wIiwiX2F1dG9MZXZlbENhcHBpbmciLCJwbGF5TGlzdExvYWRlciIsImZyYWdtZW50TG9hZGVyIiwia2V5TG9hZGVyIiwiaWQzVHJhY2tDb250cm9sbGVyIiwibGV2ZWxDb250cm9sbGVyIiwibmV0d29ya0NvbnRyb2xsZXJzIiwiQ29udHJvbGxlciIsImNvcmVDb21wb25lbnRzIiwiaXNTdXBwb3J0ZWQiLCJkZXRhY2hNZWRpYSIsImNvbXBvbmVudCIsImF0dGFjaE1lZGlhIiwibG9hZFNvdXJjZSIsImxvY2F0aW9uIiwiaHJlZiIsImNvbnRyb2xsZXIiLCJyZWNvdmVyTWVkaWFFcnJvciIsIm1hbnVhbExldmVsIiwiYXVkaW9UcmFja0lkIiwiLi9zcmMvaXMtc3VwcG9ydGVkLmpzIiwiU291cmNlQnVmZmVyIiwiV2ViS2l0U291cmNlQnVmZmVyIiwic291cmNlQnVmZmVyVmFsaWRBUEkiLCIuL3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLmpzIiwiRnJhZ21lbnRMb2FkZXIiLCJsb2FkZXJzIiwibG9hZGVyTmFtZSIsIkZyYWdtZW50SUxvYWRlciIsIkRlZmF1bHRJTG9hZGVyIiwibG9hZGVyQ29udGV4dCIsImxvYWRlckNvbmZpZyIsImxvYWRlckNhbGxiYWNrcyIsInByb2dyZXNzRGF0YSIsImJ5dGVSYW5nZVN0YXJ0T2Zmc2V0IiwiYnl0ZVJhbmdlRW5kT2Zmc2V0IiwicmFuZ2VTdGFydCIsInJhbmdlRW5kIiwibWF4UmV0cnkiLCJyZXRyeURlbGF5IiwibWF4UmV0cnlEZWxheSIsIm9uU3VjY2VzcyIsImxvYWRzdWNjZXNzIiwibG9hZGVycm9yIiwib25UaW1lb3V0IiwibG9hZHRpbWVvdXQiLCJvblByb2dyZXNzIiwibG9hZHByb2dyZXNzIiwibmV0d29ya0RldGFpbHMiLCIuL3NyYy9sb2FkZXIvZnJhZ21lbnQuanMiLCJsZXZlbF9rZXlfMSIsIkZyYWdtZW50IiwiX3VybCIsIl9ieXRlUmFuZ2UiLCJfZGVjcnlwdGRhdGEiLCJ0YWdMaXN0IiwicmF3UHJvZ3JhbURhdGVUaW1lIiwiX2VsZW1lbnRhcnlTdHJlYW1zIiwicmVsdXJsIiwiYmFzZXVybCIsInJhd0J5dGVSYW5nZSIsImJ5dGVSYW5nZSIsImxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQiLCJmcmFnbWVudERlY3J5cHRkYXRhRnJvbUxldmVsa2V5IiwibGV2ZWxrZXkiLCJ1cmkiLCJjcmVhdGVJbml0aWFsaXphdGlvblZlY3RvciIsInNlZ21lbnROdW1iZXIiLCJ1aW50OFZpZXciLCJiYXNldXJpIiwicmVsdXJpIiwiLi9zcmMvbG9hZGVyL2tleS1sb2FkZXIuanMiLCJLZXlMb2FkZXIiLCJkZWNyeXB0a2V5IiwiZGVjcnlwdHVybCIsIm9uS2V5TG9hZGluZyIsIi4vc3JjL2xvYWRlci9sZXZlbC1rZXkuanMiLCJMZXZlbEtleSIsIl91cmkiLCIuL3NyYy9sb2FkZXIvbGV2ZWwuanMiLCJMZXZlbCIsImJhc2VVcmwiLCJlbmRDQyIsIm5lZWRTaWR4UmFuZ2VzIiwic3RhcnRDQyIsIi4vc3JjL2xvYWRlci9tM3U4LXBhcnNlci5qcyIsImxldmVsXzEiLCJhdHRyX2xpc3RfMSIsIk1BU1RFUl9QTEFZTElTVF9SRUdFWCIsIk1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWCIsIkxFVkVMX1BMQVlMSVNUX1JFR0VYX0ZBU1QiLCJzb3VyY2UiLCJMRVZFTF9QTEFZTElTVF9SRUdFWF9TTE9XIiwiTVA0X1JFR0VYX1NVRkZJWCIsIk0zVThQYXJzZXIiLCJmaW5kR3JvdXAiLCJncm91cHMiLCJtZWRpYUdyb3VwSWQiLCJtYXRjaGluZ0dyb3VwIiwiZ3JvdXAiLCJjb252ZXJ0QVZDMVRvQVZDT1RJIiwiYXZjZGF0YSIsInN1YnN0ciIsInBhcnNlTWFzdGVyUGxheWxpc3QiLCJzdHJpbmciLCJzZXRDb2RlY3MiLCJjb2RlY3MiLCJmaWx0ZXJlZCIsImlzQ29kZWNUeXBlIiwicHJlZmVycmVkIiwidW5rbm93bkNvZGVjcyIsImxhc3RJbmRleCIsInJlc29sdXRpb24iLCJkZWNpbWFsUmVzb2x1dGlvbiIsImRlY2ltYWxJbnRlZ2VyIiwiTkFNRSIsIkNPREVDUyIsInBhcnNlTWFzdGVyUGxheWxpc3RNZWRpYSIsImF1ZGlvR3JvdXBzIiwibWVkaWFzIiwiVFlQRSIsIkRFRkFVTFQiLCJhdXRvc2VsZWN0IiwiQVVUT1NFTEVDVCIsImZvcmNlZCIsIkZPUkNFRCIsIlVSSSIsIkxBTkdVQUdFIiwiZ3JvdXBDb2RlYyIsInBhcnNlTGV2ZWxQbGF5bGlzdCIsImxldmVsVXJsSWQiLCJjdXJyZW50U04iLCJmaXJzdFBkdEluZGV4IiwicGFyc2VGbG9hdCIsInRpdGxlIiwiYXNzaWduUHJvZ3JhbURhdGVUaW1lIiwidmFsdWUxIiwidmFsdWUyIiwidG9VcHBlckNhc2UiLCJkZWNyeXB0cGFyYW1zIiwia2V5QXR0cnMiLCJkZWNyeXB0bWV0aG9kIiwiZW51bWVyYXRlZFN0cmluZyIsImRlY3J5cHR1cmkiLCJkZWNyeXB0aXYiLCJoZXhhZGVjaW1hbEludGVnZXIiLCJzdGFydFBhcmFtcyIsImRlY2ltYWxGbG9hdGluZ1BvaW50IiwibWFwQXR0cnMiLCJCWVRFUkFOR0UiLCJldmVyeSIsInN0YXJ0SW5kZXgiLCJmcmFnUHJldiIsImJhY2tmaWxsUHJvZ3JhbURhdGVUaW1lcyIsIi4vc3JjL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIuanMiLCJtM3U4X3BhcnNlcl8xIiwiQ29udGV4dFR5cGUiLCJNQU5JRkVTVCIsIkxFVkVMIiwiQVVESU9fVFJBQ0siLCJTVUJUSVRMRV9UUkFDSyIsIlNVQlRJVExFIiwiUGxheWxpc3RMb2FkZXIiLCJjYW5IYXZlUXVhbGl0eUxldmVscyIsIm1hcENvbnRleHRUb0xldmVsVHlwZSIsImdldFJlc3BvbnNlVXJsIiwiY3JlYXRlSW50ZXJuYWxMb2FkZXIiLCJQTG9hZGVyIiwiTG9hZGVyIiwiZ2V0SW50ZXJuYWxMb2FkZXIiLCJyZXNldEludGVybmFsTG9hZGVyIiwiY29udGV4dFR5cGUiLCJkZXN0cm95SW50ZXJuYWxMb2FkZXJzIiwib25MZXZlbExvYWRpbmciLCJvbkF1ZGlvVHJhY2tMb2FkaW5nIiwib25TdWJ0aXRsZVRyYWNrTG9hZGluZyIsImlzU2lkeFJlcXVlc3QiLCJfaGFuZGxlU2lkeFJlcXVlc3QiLCJfaGFuZGxlUGxheWxpc3RMb2FkZWQiLCJfaGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QiLCJfaGFuZGxlTWFzdGVyUGxheWxpc3QiLCJfaGFuZGxlTWFuaWZlc3RQYXJzaW5nRXJyb3IiLCJfaGFuZGxlTmV0d29ya0Vycm9yIiwiZW1iZWRkZWRBdWRpb0ZvdW5kXzEiLCJzaW5nbGVMZXZlbCIsInNpZHhVcmwiLCJzaWR4SW5mbyIsInNpZHhSZWZlcmVuY2VzIiwic2VnbWVudFJlZiIsInNlZ1JlZkluZm8iLCJlcnJvckRhdGEiLCIuL3NyYy9vYnNlcnZlci5qcyIsIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanMiLCIuL3NyYy9yZW11eC9hYWMtaGVscGVyLmpzIiwiQUFDIiwiZ2V0U2lsZW50RnJhbWUiLCIuL3NyYy9yZW11eC9tcDQtZ2VuZXJhdG9yLmpzIiwiTVA0IiwiaW5pdCIsImF2YzEiLCJhdmNDIiwiYnRydCIsImRpbmYiLCJkcmVmIiwiZXNkcyIsImZ0eXAiLCJtZGF0IiwibWRpYSIsIm1maGQiLCJtaW5mIiwibW9vZiIsIm1wNGEiLCIubXAzIiwibXZleCIsIm12aGQiLCJwYXNwIiwic2R0cCIsInN0YmwiLCJzdGNvIiwic3RzYyIsInN0c2QiLCJzdHN6Iiwic3R0cyIsInRydW4iLCJ0cmV4Iiwidm1oZCIsInNtaGQiLCJjaGFyQ29kZUF0IiwidmlkZW9IZGxyIiwiYXVkaW9IZGxyIiwiSERMUl9UWVBFUyIsIlNUVFMiLCJTVFNDIiwiU1RDTyIsIlNUU1oiLCJWTUhEIiwiU01IRCIsIlNUU0QiLCJtYWpvckJyYW5kIiwiYXZjMUJyYW5kIiwibWlub3JWZXJzaW9uIiwiRlRZUCIsImJveCIsIkRJTkYiLCJ1cHBlcldvcmREdXJhdGlvbiIsImxvd2VyV29yZER1cmF0aW9uIiwiYm94ZXMiLCJmbGFncyIsImRlcGVuZHNPbiIsImlzRGVwZW5kZWRPbiIsImF2Y2MiLCJoU3BhY2luZyIsInZTcGFjaW5nIiwiY29uZmlnbGVuIiwic2FtcGxlRGVwZW5kZW5jeVRhYmxlIiwidXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSIsImxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUiLCJjdHMiLCJhcnJheWxlbiIsImlzTGVhZGluZyIsImhhc1JlZHVuZGFuY3kiLCJwYWRkaW5nVmFsdWUiLCJpc05vblN5bmMiLCJkZWdyYWRQcmlvIiwibW92aWUiLCIuL3NyYy9yZW11eC9tcDQtcmVtdXhlci5qcyIsImFhY19oZWxwZXJfMSIsIm1wNF9nZW5lcmF0b3JfMSIsIk1QNFJlbXV4ZXIiLCJpc1NhZmFyaSIsIklTR2VuZXJhdGVkIiwiZGVmYXVsdFRpbWVTdGFtcCIsImdlbmVyYXRlSVMiLCJuYkF1ZGlvU2FtcGxlcyIsIm5iVmlkZW9TYW1wbGVzIiwiYXVkaW9UaW1lT2Zmc2V0IiwidmlkZW9UaW1lT2Zmc2V0IiwiYXVkaW92aWRlb0RlbHRhRHRzIiwicmVtdXhBdWRpbyIsImF1ZGlvVHJhY2tMZW5ndGgiLCJyZW11eFZpZGVvIiwidmlkZW9EYXRhIiwicmVtdXhFbXB0eUF1ZGlvIiwicmVtdXhJRDMiLCJyZW11eFRleHQiLCJpbml0RFRTIiwiYXVkaW9TYW1wbGVzIiwidmlkZW9TYW1wbGVzIiwiY29tcHV0ZVBUU0RUUyIsIm1wNFNhbXBsZUR1cmF0aW9uIiwiZmlyc3RQVFMiLCJmaXJzdERUUyIsImxhc3RQVFMiLCJsYXN0RFRTIiwidGltZVNjYWxlIiwiaW5wdXRTYW1wbGVzIiwib3V0cHV0U2FtcGxlcyIsInB0c05vcm1hbGl6ZSIsIl9QVFNOb3JtYWxpemUiLCJuZXh0QXZjRHRzIiwiZGVsdGFkdHMiLCJkZWx0YXB0cyIsIlBUU0RUU3NoaWZ0IiwiY3VyciIsIm5iTmFsdSIsIm5hbHVMZW4iLCJzYW1wbGVfMSIsIm5iVW5pdHMiLCJzYW1wbGVMZW4iLCJtZGF0U2l6ZSIsInNldFVpbnQzMiIsImF2Y1NhbXBsZVVuaXRzIiwibXA0U2FtcGxlTGVuZ3RoIiwiY29tcG9zaXRpb25UaW1lT2Zmc2V0IiwidW5pdERhdGEiLCJ1bml0RGF0YUxlbiIsImxhc3RGcmFtZUR1cmF0aW9uIiwiZ2FwVG9sZXJhbmNlIiwiZGVsdGFUb0ZyYW1lRW5kIiwibmV4dEF1ZGlvUHRzIiwibXA0U2FtcGxlIiwiZmlsbEZyYW1lIiwibXA0dGltZVNjYWxlIiwic2NhbGVGYWN0b3IiLCJpbnB1dFNhbXBsZUR1cmF0aW9uIiwicmF3TVBFRyIsIm5leHRQdHMiLCJtaXNzaW5nIiwibmV3U3RhbXAiLCJuYlNhbXBsZXNfMSIsImF1ZGlvU2FtcGxlIiwiZGVsdGFfMSIsIm51bU1pc3NpbmdGcmFtZXMiLCJ1bml0TGVuIiwibGFzdFNhbXBsZUR1cmF0aW9uIiwic2lsZW50RnJhbWUiLCJyZWZlcmVuY2UiLCIuL3NyYy9yZW11eC9wYXNzdGhyb3VnaC1yZW11eGVyLmpzIiwiUGFzc1Rocm91Z2hSZW11eGVyIiwicmF3RGF0YSIsIi4vc3JjL3Rhc2stbG9vcC5qcyIsIlRhc2tMb29wIiwiX3RpY2tJbnRlcnZhbCIsIl90aWNrVGltZXIiLCJfdGlja0NhbGxDb3VudCIsIl9ib3VuZFRpY2siLCJjbGVhck5leHRUaWNrIiwiaGFzTmV4dFRpY2siLCJtaWxsaXMiLCIuL3NyYy91dGlscy9hdHRyLWxpc3QuanMiLCJERUNJTUFMX1JFU09MVVRJT05fUkVHRVgiLCJBVFRSX0xJU1RfUkVHRVgiLCJBdHRyTGlzdCIsImF0dHIiLCJwYXJzZUF0dHJMaXN0IiwiYXR0ck5hbWUiLCJpbnRWYWx1ZSIsInN0cmluZ1ZhbHVlIiwiaGV4YWRlY2ltYWxJbnRlZ2VyQXNOdW1iZXIiLCJyZXMiLCJpbnB1dCIsIi4vc3JjL3V0aWxzL2JpbmFyeS1zZWFyY2guanMiLCJjb21wYXJpc29uRnVuY3Rpb24iLCJtaW5JbmRleCIsIm1heEluZGV4IiwiY3VycmVudEluZGV4IiwiY3VycmVudEVsZW1lbnQiLCJjb21wYXJpc29uUmVzdWx0IiwiLi9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci5qcyIsIm1heEhvbGVEdXJhdGlvbiIsInZidWZmZXJlZCIsImJ1ZmZlclN0YXJ0IiwiYnVmZmVyU3RhcnROZXh0IiwiYnVmZmVyZWQyIiwiZGlmZiIsImJ1ZjJsZW4iLCJidWYyZW5kIiwiLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanMiLCJzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyIsIjQyIiwiOTIiLCI5NCIsIjk1IiwiOTYiLCIxMjMiLCIxMjQiLCIxMjUiLCIxMjYiLCIxMjciLCIxMjgiLCIxMjkiLCIxMzAiLCIxMzEiLCIxMzIiLCIxMzMiLCIxMzQiLCIxMzUiLCIxMzYiLCIxMzciLCIxMzgiLCIxMzkiLCIxNDAiLCIxNDEiLCIxNDIiLCIxNDMiLCIxNDQiLCIxNDUiLCIxNDYiLCIxNDciLCIxNDgiLCIxNDkiLCIxNTAiLCIxNTEiLCIxNTIiLCIxNTMiLCIxNTQiLCIxNTUiLCIxNTYiLCIxNTciLCIxNTgiLCIxNTkiLCIxNjAiLCIxNjEiLCIxNjIiLCIxNjMiLCIxNjQiLCIxNjUiLCIxNjYiLCIxNjciLCIxNjgiLCIxNjkiLCIxNzAiLCIxNzEiLCIxNzIiLCIxNzMiLCIxNzQiLCIxNzUiLCIxNzYiLCIxNzciLCIxNzgiLCIxNzkiLCIxODAiLCIxODEiLCIxODIiLCIxODMiLCIxODQiLCIxODUiLCIxODYiLCIxODciLCIxODgiLCIxODkiLCIxOTAiLCIxOTEiLCIxOTIiLCIxOTMiLCIxOTQiLCIxOTUiLCIxOTYiLCIxOTciLCIxOTgiLCIxOTkiLCIyMDAiLCIyMDEiLCIyMDIiLCIyMDMiLCIyMDQiLCIyMDUiLCIyMDYiLCIyMDciLCJnZXRDaGFyRm9yQnl0ZSIsImJ5dGUiLCJjaGFyQ29kZSIsIk5SX1JPV1MiLCJOUl9DT0xTIiwicm93c0xvd0NoMSIsIjE3IiwiMTgiLCIyMSIsIjIyIiwiMjMiLCIxNiIsIjE5IiwiMjAiLCJyb3dzSGlnaENoMSIsInJvd3NMb3dDaDIiLCIyNSIsIjI2IiwiMjkiLCIzMCIsIjMxIiwiMjQiLCIyNyIsIjI4Iiwicm93c0hpZ2hDaDIiLCJiYWNrZ3JvdW5kQ29sb3JzIiwidmVyYm9zZUZpbHRlciIsIkRBVEEiLCJERUJVRyIsIklORk8iLCJXQVJOSU5HIiwiVEVYVCIsInZlcmJvc2VMZXZlbCIsInNldFRpbWUiLCJuZXdUaW1lIiwic2V2ZXJpdHkiLCJtc2ciLCJudW1BcnJheVRvSGV4QXJyYXkiLCJudW1BcnJheSIsImhleEFycmF5IiwiUGVuU3RhdGUiLCJmb3JlZ3JvdW5kIiwidW5kZXJsaW5lIiwiaXRhbGljcyIsImJhY2tncm91bmQiLCJmbGFzaCIsInNldFN0eWxlcyIsInN0eWxlcyIsImF0dHJpYnMiLCJzdHlsZSIsImlzRGVmYXVsdCIsImVxdWFscyIsImNvcHkiLCJuZXdQZW5TdGF0ZSIsIlN0eWxlZFVuaWNvZGVDaGFyIiwidWNoYXIiLCJwZW5TdGF0ZSIsInNldENoYXIiLCJzZXRQZW5TdGF0ZSIsIm5ld0NoYXIiLCJpc0VtcHR5IiwiUm93IiwiY2hhcnMiLCJjdXJyUGVuU3RhdGUiLCJlcXVhbCIsImVtcHR5Iiwic2V0Q3Vyc29yIiwiYWJzUG9zIiwibW92ZUN1cnNvciIsInJlbFBvcyIsIm5ld1BvcyIsImJhY2tTcGFjZSIsImluc2VydENoYXIiLCJjaGFyIiwiY2xlYXJGcm9tUG9zIiwic3RhcnRQb3MiLCJjbGVhclRvRW5kT2ZSb3ciLCJnZXRUZXh0U3RyaW5nIiwic2V0UGVuU3R5bGVzIiwiQ2FwdGlvblNjcmVlbiIsInJvd3MiLCJjdXJyUm93IiwibnJSb2xsVXBSb3dzIiwic2V0UGVuIiwic2V0UEFDIiwicGFjRGF0YSIsIm5ld1JvdyIsInJvdyIsInRvcFJvd0luZGV4IiwibGFzdE91dHB1dFNjcmVlbiIsInByZXZMaW5lVGltZSIsImN1ZVN0YXJ0VGltZSIsImluZGVudCIsInByZXZQb3MiLCJjb2xvciIsInNldEJrZ0RhdGEiLCJia2dEYXRhIiwic2V0Um9sbFVwUm93cyIsIm5yUm93cyIsInJvbGxVcCIsImdldERpc3BsYXlUZXh0IiwidG9wUm93IiwiYXNPbmVSb3ciLCJkaXNwbGF5VGV4dCIsInJvd05yIiwicm93VGV4dCIsImdldFRleHRBbmRGb3JtYXQiLCJDZWE2MDhDaGFubmVsIiwiY2hhbm5lbE51bWJlciIsIm91dHB1dEZpbHRlciIsImNoTnIiLCJ2ZXJib3NlIiwiZGlzcGxheWVkTWVtb3J5Iiwibm9uRGlzcGxheWVkTWVtb3J5IiwiY3VyclJvbGxVcFJvdyIsIndyaXRlU2NyZWVuIiwibGFzdEN1ZUVuZFRpbWUiLCJnZXRIYW5kbGVyIiwic2V0SGFuZGxlciIsIm5ld0hhbmRsZXIiLCJzZXRNb2RlIiwibmV3TW9kZSIsImluc2VydENoYXJzIiwib3V0cHV0RGF0YVVwZGF0ZSIsImNjUkNMIiwiY2NCUyIsImNjQU9GIiwiY2NBT04iLCJjY0RFUiIsImNjUlUiLCJjY0ZPTiIsImNjUkRDIiwiY2NUUiIsImNjUlREIiwiY2NFRE0iLCJjY0NSIiwiY2NFTk0iLCJjY0VPQyIsImNjVE8iLCJuckNvbHMiLCJjY01JRFJPVyIsInNlY29uZEJ5dGUiLCJjb2xvckluZGV4IiwiZGlzcGF0Y2giLCJkaXNwYXRjaEN1ZSIsImN1ZVNwbGl0QXRUaW1lIiwiQ2VhNjA4UGFyc2VyIiwiZmllbGQiLCJvdXQxIiwib3V0MiIsIm91dHB1dHMiLCJjaGFubmVscyIsImN1cnJDaE5yIiwibGFzdENtZEEiLCJsYXN0Q21kQiIsImJ1ZmZlcmVkRGF0YSIsImRhdGFDb3VudGVycyIsInBhZGRpbmciLCJieXRlTGlzdCIsImNtZEZvdW5kIiwiY2hhcnNGb3VuZCIsInBhcnNlQ21kIiwicGFyc2VNaWRyb3ciLCJwYXJzZVBBQyIsInBhcnNlQmFja2dyb3VuZEF0dHJpYnV0ZXMiLCJwYXJzZUNoYXJzIiwiY2hhbm5lbCIsImludGVycHJldFBBQyIsInBhY0luZGV4IiwiY2hhbm5lbE5yIiwiY2hhckNvZGVzIiwiY2hhckNvZGUxIiwib25lQ29kZSIsImhleENvZGVzIiwiLi9zcmMvdXRpbHMvY29kZWNzLmpzIiwic2FtcGxlRW50cnlDb2Rlc0lTTyIsImEzZHMiLCJhYy0zIiwiYWMtNCIsImFsYWMiLCJhbGF3IiwiZHJhMSIsImR0cysiLCJkdHMtIiwiZHRzYyIsImR0c2UiLCJkdHNoIiwiZWMtMyIsImVuY2EiLCJnNzE5IiwiZzcyNiIsIm00YWUiLCJtaGExIiwibWhhMiIsIm1obTEiLCJtaG0yIiwibWxwYSIsInJhdyAiLCJPcHVzIiwic2FtciIsInNhd2IiLCJzYXdwIiwic2V2YyIsInNxY3AiLCJzc212IiwidHdvcyIsInVsYXciLCJhdmMyIiwiYXZjMyIsImF2YzQiLCJhdmNwIiwiZHJhYyIsImR2YXYiLCJkdmhlIiwiZW5jdiIsImhldjEiLCJodmMxIiwibWpwMiIsIm1wNHYiLCJtdmMxIiwibXZjMiIsIm12YzMiLCJtdmM0IiwicmVzdiIsInJ2NjAiLCJzMjYzIiwic3ZjMSIsInN2YzIiLCJ2Yy0xIiwidnAwOCIsInZwMDkiLCJ0eXBlQ29kZXMiLCIuL3NyYy91dGlscy9jdWVzLmpzIiwidnR0cGFyc2VyXzEiLCJjYXB0aW9uU2NyZWVuIiwiaW5kZW50aW5nIiwiZml4TGluZUJyZWFrcyIsImxpbmUiLCJhbGlnbiIsIi4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qcyIsImZpbmRGaXJzdEZyYWdXaXRoQ0MiLCJmaXJzdEZyYWciLCJjdXJyZW50RnJhZyIsInNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXMiLCJzaG91bGRBbGlnbiIsImZpbmREaXNjb250aW51b3VzUmVmZXJlbmNlRnJhZyIsInByZXZEZXRhaWxzIiwicHJldkZyYWdzIiwiY3VyRnJhZ3MiLCJwcmV2U3RhcnRGcmFnIiwiYWRqdXN0UHRzIiwiYWxpZ25EaXNjb250aW51aXRpZXMiLCJyZWZlcmVuY2VGcmFnIiwiYWxpZ25QRFQiLCJsYXN0RGV0YWlscyIsImxhc3RQRFQiLCJDQyIsIi4vc3JjL3V0aWxzL2V3bWEtYmFuZHdpZHRoLWVzdGltYXRvci5qcyIsImV3bWFfMSIsIkV3bWFCYW5kV2lkdGhFc3RpbWF0b3IiLCJzbG93IiwiZmFzdCIsImRlZmF1bHRFc3RpbWF0ZSIsImRlZmF1bHRFc3RpbWF0ZV8iLCJtaW5XZWlnaHRfIiwibWluRGVsYXlNc18iLCJzbG93XyIsImZhc3RfIiwiZHVyYXRpb25NcyIsIm51bUJ5dGVzIiwiYmFuZHdpZHRoIiwid2VpZ2h0IiwiZ2V0VG90YWxXZWlnaHQiLCIuL3NyYy91dGlscy9ld21hLmpzIiwiRVdNQSIsImhhbGZMaWZlIiwiYWxwaGFfIiwiZXhwIiwiZXN0aW1hdGVfIiwidG90YWxXZWlnaHRfIiwiYWRqQWxwaGEiLCJ6ZXJvRmFjdG9yIiwiLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanMiLCIuL3NyYy91dGlscy9sb2dnZXIuanMiLCJub29wIiwiZmFrZUxvZ2dlciIsImV4cG9ydGVkTG9nZ2VyIiwiZXhwb3J0TG9nZ2VyRnVuY3Rpb25zIiwiZGVidWdDb25maWciLCJmdW5jdGlvbnMiLCJmb3JtYXRNc2ciLCJjb25zb2xlUHJpbnRGbiIsIi4vc3JjL3V0aWxzL21lZGlha2V5cy1oZWxwZXIuanMiLCIuL3NyYy91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIuanMiLCJXZWJLaXRNZWRpYVNvdXJjZSIsIi4vc3JjL3V0aWxzL291dHB1dC1maWx0ZXIuanMiLCJPdXRwdXRGaWx0ZXIiLCIuL3NyYy91dGlscy90ZXh0dHJhY2stdXRpbHMuanMiLCJ2aWRlb0VsIiwiRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJyZW1vdmVDdWUiLCIuL3NyYy91dGlscy90aW1lLXJhbmdlcy5qcyIsIi4vc3JjL3V0aWxzL3Z0dGN1ZS5qcyIsImF1dG9LZXl3b3JkIiwiZGlyZWN0aW9uU2V0dGluZyIsIiIsImxyIiwicmwiLCJhbGlnblNldHRpbmciLCJtaWRkbGUiLCJsZWZ0IiwicmlnaHQiLCJmaW5kQWxpZ25TZXR0aW5nIiwiZXh0ZW5kIiwib2JqIiwiY29iaiIsImlzSUU4IiwiYmFzZU9iaiIsImhhc0JlZW5SZXNldCIsIl9pZCIsIl9wYXVzZU9uRXhpdCIsIl9zdGFydFRpbWUiLCJfZW5kVGltZSIsIl90ZXh0IiwiX3JlZ2lvbiIsIl92ZXJ0aWNhbCIsIl9zbmFwVG9MaW5lcyIsIl9saW5lIiwiX2xpbmVBbGlnbiIsIl9wb3NpdGlvbiIsIl9wb3NpdGlvbkFsaWduIiwiX3NpemUiLCJfYWxpZ24iLCJzZXR0aW5nIiwiZmluZERpcmVjdGlvblNldHRpbmciLCJTeW50YXhFcnJvciIsImRpc3BsYXlTdGF0ZSIsImdldEN1ZUFzSFRNTCIsIldlYlZUVCIsImNvbnZlcnRDdWVUb0RPTVRyZWUiLCIuL3NyYy91dGlscy92dHRwYXJzZXIuanMiLCJ2dHRjdWVfMSIsIlN0cmluZ0RlY29kZXIiLCJkZWNvZGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJWVFRQYXJzZXIiLCJkZWNvZGVyIiwicmVnaW9uTGlzdCIsIlNldHRpbmdzIiwicGFyc2VPcHRpb25zIiwia2V5VmFsdWVEZWxpbSIsImdyb3VwRGVsaW0iLCJrdiIsImsiLCJ2IiwiZGZsdCIsImRlZmF1bHRLZXkiLCJhbHQiLCJpbnRlZ2VyIiwicGVyY2VudCIsImRlZmF1bHRzIiwiY2VudGVyIiwicGFyc2VDdWUiLCJvSW5wdXQiLCJjb25zdW1lVGltZVN0YW1wIiwidHMiLCJjb21wdXRlU2Vjb25kcyIsInBhcnNlVGltZVN0YW1wIiwic2tpcFdoaXRlc3BhY2UiLCJzZXR0aW5ncyIsInJlZ2lvbiIsInZhbHMiLCJ2YWxzMCIsInZlcnRpY2FsIiwibGluZUFsaWduIiwic25hcFRvTGluZXMiLCJjb25zdW1lQ3VlU2V0dGluZ3MiLCJjb2xsZWN0TmV4dExpbmUiLCJhbHJlYWR5Q29sbGVjdGVkTGluZSIsImhhc1N1YnN0cmluZyIsIm9uY3VlIiwiZmx1c2giLCJvbmZsdXNoIiwiLi9zcmMvdXRpbHMvd2VidnR0LXBhcnNlci5qcyIsInN0YXJ0c1dpdGgiLCJpbnB1dFN0cmluZyIsInNlYXJjaFN0cmluZyIsImhhc2giLCJXZWJWVFRQYXJzZXIiLCJ2dHRCeXRlQXJyYXkiLCJzeW5jUFRTIiwiY2FsbEJhY2siLCJlcnJvckNhbGxCYWNrIiwicGFyc2luZ0Vycm9yIiwidnR0TGluZXMiLCJjdWVUaW1lIiwibXBlZ1RzIiwibG9jYWxUaW1lIiwicHJlc2VudGF0aW9uVGltZSIsImluSGVhZGVyIiwicGFyc2VyIiwiY3VyckNDIiwiY3VlT2Zmc2V0IiwiY2FsY3VsYXRlT2Zmc2V0Iiwib25wYXJzaW5nZXJyb3IiLCJ0aW1lU3RyaW5nIiwic2VjcyIsIm1pbnMiLCJob3VycyIsIi4vc3JjL3V0aWxzL3hoci1sb2FkZXIuanMiLCJYaHJMb2FkZXIiLCJyZXF1ZXN0VGltZW91dCIsInJldHJ5VGltZW91dCIsImNhbGxiYWNrcyIsInJldHJ5IiwibG9hZEludGVybmFsIiwic2V0UmVxdWVzdEhlYWRlciIsInJlYWR5c3RhdGVjaGFuZ2UiLCJvbnByb2dyZXNzIiwiY3VycmVudFRhcmdldCIsInN0YXR1c18xIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VVUkwiLCJsZW5ndGhDb21wdXRhYmxlIiwiYXJyYXlNYXAiLCJiYXNlSXRlcmF0ZWUiLCJiYXNlUGlja0J5IiwiZ2V0QWxsS2V5c0luIiwicHJlZGljYXRlIiwicHJvcHMiLCJmaW5kSW5kZXhGdW5jIiwiY29sbGVjdGlvbiIsImZyb21JbmRleCIsIml0ZXJhYmxlIiwiYmFzZUlzTWF0Y2giLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsIm1hdGNoRGF0YSIsIm5vQ3VzdG9taXplciIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiTEFSR0VfQVJSQVlfU0laRSIsInBhaXJzIiwiaXNNYXNrZWQiLCJ0b1NvdXJjZSIsInJlSXNIb3N0Q3RvciIsImZ1bmNQcm90byIsInJlSXNOYXRpdmUiLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsImlzT3duIiwidW5tYXNrZWQiLCJ1aWQiLCJjb3JlSnNEYXRhIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwiSGFzaCIsImhhc2hDbGVhciIsImhhc2hEZWxldGUiLCJoYXNoR2V0IiwiaGFzaEhhcyIsImhhc2hTZXQiLCJIQVNIX1VOREVGSU5FRCIsImdldE1hcERhdGEiLCJlcXVhbEFycmF5cyIsImVxdWFsQnlUYWciLCJlcXVhbE9iamVjdHMiLCJnZXRUYWciLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJvYmplY3RUYWciLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsInNldENhY2hlQWRkIiwic2V0Q2FjaGVIYXMiLCJhZGQiLCJjYWNoZSIsIm1hcFRvQXJyYXkiLCJzZXRUb0FycmF5IiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwiY29udmVydCIsImdldEFsbEtleXMiLCJvYmpQcm9wcyIsIm9iakxlbmd0aCIsInNraXBDdG9yIiwib2JqQ3RvciIsIm90aEN0b3IiLCJiYXNlR2V0QWxsS2V5cyIsInJlc0luZGV4IiwidHlwZWRBcnJheVRhZ3MiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJyZXF1aXJlIiwiYmluZGluZyIsImlzUHJvdG90eXBlIiwibmF0aXZlS2V5cyIsIm92ZXJBcmciLCJTZXQiLCJXZWFrTWFwIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwiY3RvclN0cmluZyIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZUdldCIsImRlZmF1bHRWYWx1ZSIsIm1lbW9pemVDYXBwZWQiLCJyZVByb3BOYW1lIiwicmVFc2NhcGVDaGFyIiwibnVtYmVyIiwicXVvdGUiLCJzdWJTdHJpbmciLCJtZW1vaXplIiwiTUFYX01FTU9JWkVfU0laRSIsIkZVTkNfRVJST1JfVEVYVCIsInJlc29sdmVyIiwibWVtb2l6ZWQiLCJDYWNoZSIsImJhc2VUb1N0cmluZyIsInN5bWJvbFRvU3RyaW5nIiwiYmFzZUhhc0luIiwiaGFzUGF0aCIsImhhc0Z1bmMiLCJiYXNlUHJvcGVydHkiLCJiYXNlUHJvcGVydHlEZWVwIiwiYmFzZUZpbmRJbmRleCIsInRvSW50ZWdlciIsIm5hdGl2ZU1heCIsImZyb21SaWdodCIsInRvRmluaXRlIiwicmVtYWluZGVyIiwidG9OdW1iZXIiLCJNQVhfSU5URUdFUiIsIk5BTiIsInJlVHJpbSIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc09jdGFsIiwiZnJlZVBhcnNlSW50IiwiaXNCaW5hcnkiLCJobXIiLCJpbnNlcnRJbnRvIiwibG9jYWxzIiwidXNlU291cmNlTWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwic291cmNlVVJMcyIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYXRvYiIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJyZWZzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsImluc2VydFN0eWxlRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJub25jZSIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJvbGRTcmMiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCIkMSIsImJhc2VTZXQiLCJhc3NpZ25WYWx1ZSIsIm5lc3RlZCIsIm5ld1ZhbHVlIiwiYmFzZUFzc2lnblZhbHVlIiwid3JpdGFibGUiLCJnZXRTeW1ib2xzSW4iLCJrZXlzSW4iLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYm9vdCIsIkJhc2VDb250cm9sbGVyIiwiQmFzZUNvbnRyb2xsZXJfZXh0ZW5kcyIsIkJhc2VDb250cm9sbGVyTG9hZGVyIiwiQ09OVFJPTExFUiIsIkJlbmNobWFya0V4dGVuc2lvbl9CZW5jaG1hcmtFeHRlbnNpb24iLCJCZW5jaG1hcmtFeHRlbnNpb24iLCJzdGFydHVwVGltZUV4dGVuc2lvbiIsIlBMQVlFUl9TVEFURV9SRUFEWSIsInN0YXJ0dXBUaW1lUGxheWVyIiwiUkVBRFkiLCJzdGFydHVwVGltZUluc3RhbmNlIiwiY2FuQXV0b3BsYXkiLCJQTEFZRVJfU1RBVEVfUExBWUlORyIsInN0YXJ0dXBUaW1lV2l0aEF1dG9wbGF5IiwiQmVuY2htYXJrRXh0ZW5zaW9uX2V4dGVuZHMiLCJCZW5jaG1hcmtFeHRlbnNpb25Mb2FkZXIiLCJFWFRFTlNJT04iLCJCZW5jaG1hcmtFeHRlbnNpb25Mb2FkZXJfYXdhaXRlciIsIkJlbmNobWFya0V4dGVuc2lvbkxvYWRlcl9nZW5lcmF0b3IiLCJGcmVlV2hlZWxFeHRlbnNpb25fRnJlZVdoZWVsRXh0ZW5zaW9uIiwiRnJlZVdoZWVsRXh0ZW5zaW9uIiwiYWRCcmVha3MiLCJ0diIsImZyZWV3aGVlbCIsIlNESyIsInNkayIsInNldExvZ0xldmVsIiwiTE9HX0xFVkVMX1FVSUVUIiwib25Ib29rQ29udHJvbGxlclBsYXkiLCJvbkhvb2tDb250cm9sbGVyUGF1c2UiLCJvbkhvb2tDb250cm9sbGVyU2V0Vm9sdW1lIiwib25SZWFkeSIsIlBMQVlFUl9TVEFURV9USU1FVVBEQVRFIiwib25QbGF5ZXJUaW1lVXBkYXRlIiwiRnJlZVdoZWVsRXh0ZW5zaW9uX2V4dGVuZHMiLCJhZHNSZXF1ZXN0ZWQiLCJDT05USU5VRSIsImFkQ29udGV4dCIsInN1Ym1pdFJlcXVlc3QiLCJjdXJyZW50QWRCcmVhayIsIm1lZGlhRWxlbWVudCIsImNyZWF0ZU1lZGlhRWxlbWVudCIsIkFEQlJFQUtfU1RBVEVfUExBWSIsIkFEQlJFQUtfU1RBVEVfUEFVU0UiLCJBREJSRUFLX1NUQVRFX1BMQVlJTkciLCJBREJSRUFLX1NUQVRFX1RJTUVVUERBVEUiLCJhZHNDb250YWluZXIiLCJBZE1hbmFnZXIiLCJhZE1hbmFnZXIiLCJuZXdDb250ZXh0IiwiRVZFTlRfUkVRVUVTVF9DT01QTEVURSIsIm9uQWRSZXF1ZXN0Q29tcGxldGUiLCJFVkVOVF9TTE9UX1NUQVJURUQiLCJvblNsb3RTdGFydGVkIiwiRVZFTlRfU0xPVF9FTkRFRCIsIm9uU2xvdEVuZGVkIiwic2V0TmV0d29yayIsIm5ldHdvcmsiLCJzZXRTZXJ2ZXIiLCJzZXJ2ZXIiLCJzZXRWaWRlb0Fzc2V0IiwidmlkZW9Bc3NldCIsInNldFNpdGVTZWN0aW9uIiwic2l0ZVNlY3Rpb24iLCJzZXRQcm9maWxlIiwicHJvZmlsZSIsImN1ZXBvaW50cyIsImN1ZXBvaW50IiwiUFJFUk9MTCIsImFkZFRlbXBvcmFsU2xvdCIsIkFEVU5JVF9QUkVST0xMIiwiUE9TVFJPTEwiLCJBRFVOSVRfUE9TVFJPTEwiLCJBRFVOSVRfTUlEUk9MTCIsInJlZ2lzdGVyVmlkZW9EaXNwbGF5QmFzZSIsInNsb3RzIiwiZ2V0VGVtcG9yYWxTbG90cyIsInNsb3QiLCJnZXRDdXN0b21JZCIsImdldEFkVW5pdCIsInN0YXJ0c0F0IiwiZ2V0VGltZVBvc2l0aW9uIiwiaGFzQmVlbldhdGNoZWQiLCJmcmVld2hlZWxTbG90IiwiQURCUkVBS1MiLCJwcmVyb2xsIiwiZmluZF9kZWZhdWx0IiwicGxheUFkQnJlYWsiLCJhZEJyZWFrIiwic2xvdFRvQWRCcmVhayIsIkFEQlJFQUtfU1RBUlRFRCIsIkFEQlJFQUtfRU5ERUQiLCJkaXNwbGF5IiwibWlkcm9sbCIsIk1JRFJPTEwiLCJGcmVlV2hlZWxFeHRlbnNpb25Mb2FkZXIiLCJGcmVlV2hlZWxFeHRlbnNpb25Mb2FkZXJfYXdhaXRlciIsIkZyZWVXaGVlbEV4dGVuc2lvbkxvYWRlcl9nZW5lcmF0b3IiLCJjbGllbnRTaWRlIiwiQmFzZU1lZGlhIiwiQmFzZU1lZGlhX2V4dGVuZHMiLCJzZW50Iiwic2V0U291cmNlIiwiZm9ybWF0IiwiQmFzZU1lZGlhTG9hZGVyIiwiTUVESUEiLCJNT1YiLCJpc0Jyb3dzZXJTdXBwb3J0ZWQiLCJNZWRpYUtleXMiLCJNZWRpYUtleVN5c3RlbUFjY2VzcyIsImdldENvbmZpZ3VyYXRpb24iLCJrZXlTeXN0ZW1zIiwiRGFzaE1lZGlhTG9hZGVyIiwiRGFzaE1lZGlhIiwiRGFzaE1lZGlhTG9hZGVyX2F3YWl0ZXIiLCJEQVNIIiwiZHJtIiwiZ2V0RHJtU3VwcG9ydF9hd2FpdGVyIiwiaXNLZXlTeXN0ZW1TdXBwb3J0ZWQiLCJpbml0RGF0YVR5cGVzIiwicm9idXN0bmVzcyIsImRybVN1cHBvcnQiLCJrZXlTeXN0ZW1zU3VwcG9ydGVkIiwic3VwcG9ydCIsIndpZGV2aW5lIiwicGxheXJlYWR5IiwiSGxzTWVkaWFfSGxzTWVkaWEiLCJIbHNNZWRpYSIsIkhsc01lZGlhX2V4dGVuZHMiLCJobHNfZGVmYXVsdCIsInJlc29sdmVQcm9taXNlIiwiSGxzTWVkaWFMb2FkZXIiLCJITFMiLCJQbGF5ZXIiLCJQbGF5ZXJfZXh0ZW5kcyIsIkhUTUw1UGxheWVyX0hUTUw1UGxheWVyIiwiSFRNTDVQbGF5ZXIiLCJIVE1MNVBsYXllcl9leHRlbmRzIiwicGxheWVyQ29udGFpbmVyIiwic2hvd05hdGl2ZUNvbnRyb2xzIiwiY29udHJvbHMiLCJQTEFZRVJfU1RBVEVfUExBWSIsIlBMQVlFUl9TVEFURV9QQVVTRSIsIlBMQVlFUl9TVEFURV9FTkRFRCIsIlBMQVlFUl9TVEFURV9TRUVLRUQiLCJQTEFZRVJfU1RBVEVfV0FJVElORyIsIlBMQVlFUl9TVEFURV9WT0xVTUVDSEFOR0UiLCJIVE1MNVBsYXllckxvYWRlciIsIlBMQVlFUiIsIkZ1bGxzY3JlZW5FeHRlbnNpb25fRnVsbHNjcmVlbkV4dGVuc2lvbiIsIkZ1bGxzY3JlZW5FeHRlbnNpb24iLCJGVUxMU0NSRUVOX1NVUFBPUlRFRCIsIkZVTExTQ1JFRU5fQ0hBTkdFIiwiZnVsbHNjcmVlbiIsIkZ1bGxzY3JlZW5FeHRlbnNpb25fZXh0ZW5kcyIsInRvZ2dsZUZ1bGxzY3JlZW4iLCJGdWxsc2NyZWVuRXh0ZW5zaW9uTG9hZGVyIiwiRnVsbHNjcmVlbkV4dGVuc2lvbkxvYWRlcl9hd2FpdGVyIiwiRnVsbHNjcmVlbkV4dGVuc2lvbkxvYWRlcl9nZW5lcmF0b3IiLCJjcmVhdGVGaXJzdFN1cHBvcnRlZCIsImlzU3VwcG9ydGVkQXJncyIsIml0ZW1zIiwiaXRlbXNfMSIsImNyZWF0ZUFsbFN1cHBvcnRlZCIsImluc3RhbmNlcyIsIml0ZW1zXzIiLCJfYyIsIlBsYXllckVycm9yIiwiUGxheWVyRXJyb3JfZXh0ZW5kcyIsInNlbGVjdE1lZGlhIiwic291cmNlc18xIiwic2V0dXBEZWZhdWx0VmFsdWVzIiwiYXNzaWduIiwibXV0ZWQiLCJpbmxpbmUiLCJzdGFydFBsYXliYWNrIiwiX3JlZiIsImVsZW1lbnRDYWxsYmFjayIsIl9lbGVtZW50Q2FsbGJhY2siLCJwbGF5UmVzdWx0IiwidGltZW91dElkIiwic2VuZE91dHB1dCIsInBsYXlFcnJvciIsImNhbl9hdXRvcGxheV9lcyIsImdldEVudiIsImlzRWRnZSIsImlzSUUiLCJBY3RpdmVYT2JqZWN0IiwiaXNDaHJvbWUiLCJpc01vYmlsZSIsImlzSU9TIiwiaXNGYWNlYm9vayIsIkluc3RhbmNlX0luc3RhbmNlIiwiSW5zdGFuY2UiLCJjcmVhdGVDb250YWluZXJzIiwiY2xhc3NMaXN0IiwidWlDb250YWluZXIiLCJldmVudGVtaXR0ZXIzIiwiZW52IiwiX2YiLCJleHRlbnNpb25zIiwiX2QiLCJfZSIsInNldEVycm9yIiwiTk9fU1VQUE9SVEVEX0ZPUk1BVF9GT1VORCIsImF1dG9wbGF5IiwiREVTVFJPWSIsImRpdiIsIkluZGlnb1BsYXllciIsIlZFUlNJT04iLCJzZXRDaHVua3NQYXRoIiwiY2h1bmtzUGF0aCIsImFkZE1vZHVsZUxvYWRlciIsIm1vZCIsInBpY2tCeV9kZWZhdWx0Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLG9CQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxTQUNBLHNCQUFBRyxlQUFBQyxJQUNBRCxPQUFBLEdBQUFILE9BQ0EsQ0FDQSxJQUFBSyxFQUFBTCxJQUNBLFFBQUFNLEtBQUFELEdBQUEsaUJBQUFKLGdCQUFBRixHQUFBTyxHQUFBRCxFQUFBQyxJQVBBLENBU0NDLE9BQUEsV0FDRCxtQkNUQSxTQUFBQyxFQUFBQyxHQVFBLElBUEEsSUFNQUMsRUFBQUMsRUFOQUMsRUFBQUgsRUFBQSxHQUNBSSxFQUFBSixFQUFBLEdBS0FILEVBQUEsRUFBQVEsRUFBQSxHQUNRUixFQUFBTSxFQUFBRyxPQUFvQlQsSUFDNUJLLEVBQUFDLEVBQUFOLEdBQ0FVLEVBQUFMLElBQ0FHLEVBQUFHLEtBQUFELEVBQUFMLEdBQUEsSUFFQUssRUFBQUwsR0FBQSxFQUVBLElBQUFELEtBQUFHLEVBQ0FLLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFSLEVBQUFILEtBQ0FZLEVBQUFaLEdBQUFHLEVBQUFILElBS0EsSUFGQWEsS0FBQWQsR0FFQUssRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxJQUFBVyxFQUFBLEdBS0FULEVBQUEsQ0FDQVUsRUFBQSxHQVdBLFNBQUFDLEVBQUFqQixHQUdBLEdBQUFlLEVBQUFmLEdBQ0EsT0FBQWUsRUFBQWYsR0FBQVQsUUFHQSxJQUFBQyxFQUFBdUIsRUFBQWYsR0FBQSxDQUNBSixFQUFBSSxF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UUFBUyxlQUNUQyxjQUFhLFNBQUNDLEdBQ1p0dEcsRUFBQWtCLEVBQTBCb3NHLEdBRTVCeG5DLEtBQUksU0FBQ2w5RCxFQUFzQnVhLEdBQ3pCLE9BQU8sSUFBSWdwRixHQUFTdmpHLEVBQVN1YSxJQUUvQm9xRixnQk5tREssU0FBeUJDLEdBQzlCN3RHLEdBQVFMLEtBQUtrdUcsSU1uRGJocEcsbUJDZDZCa21GLEdEY0NsbEYsRUFBQSxFQ2I5QmlvRyxLQUFPL2lCLEdBQUssU0FBQWhwRixHQUFRLE1BQWdCLGlCQUFUQSIsImZpbGUiOiJpbmRpZ28tcGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG5cblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0fTtcblxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMFxuIFx0fTtcblxuXG5cbiBcdC8vIHNjcmlwdCBwYXRoIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4gXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgKHt9W2NodW5rSWRdfHxjaHVua0lkKSArIFwiLmNodW5rLmpzXCJcbiBcdH1cblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG4gXHQvLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4gXHQvLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3NcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZSA9IGZ1bmN0aW9uIHJlcXVpcmVFbnN1cmUoY2h1bmtJZCkge1xuIFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcblxuXG4gXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblxuIFx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cbiBcdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG4gXHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuIFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuIFx0XHRcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuIFx0XHRcdFx0dmFyIG9uU2NyaXB0Q29tcGxldGU7XG5cbiBcdFx0XHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04JztcbiBcdFx0XHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuIFx0XHRcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcbiBcdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c2NyaXB0LnNyYyA9IGpzb25wU2NyaXB0U3JjKGNodW5rSWQpO1xuXG4gXHRcdFx0XHRvblNjcmlwdENvbXBsZXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gXHRcdFx0XHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cbiBcdFx0XHRcdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gbnVsbDtcbiBcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuIFx0XHRcdFx0XHR2YXIgY2h1bmsgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdFx0XHRcdGlmKGNodW5rICE9PSAwKSB7XG4gXHRcdFx0XHRcdFx0aWYoY2h1bmspIHtcbiBcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG4gXHRcdFx0XHRcdFx0XHR2YXIgcmVhbFNyYyA9IGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuc3JjO1xuIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKCdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJyk7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG4gXHRcdFx0XHRcdFx0XHRjaHVua1sxXShlcnJvcik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fTtcbiBcdFx0XHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuIFx0XHRcdFx0XHRvblNjcmlwdENvbXBsZXRlKHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KTtcbiBcdFx0XHRcdH0sIDEyMDAwMCk7XG4gXHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlO1xuIFx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuIFx0fTtcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImh0dHBzOi8vdW5wa2cuY29tL2luZGlnby1wbGF5ZXJAMS4wLjAvbGliL1wiO1xuXG4gXHQvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vZSA9IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfTtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQ2KTtcbiIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICdAc3JjL2NvbnRyb2xsZXIvQ29udHJvbGxlcic7XG5pbXBvcnQgeyBJbnN0YW5jZSB9IGZyb20gJ0BzcmMvSW5zdGFuY2UnO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnQHNyYy9wbGF5ZXIvUGxheWVyJztcbmltcG9ydCB7IFBsYXllckVycm9yIH0gZnJvbSAnQHNyYy9QbGF5ZXJFcnJvcic7XG5pbXBvcnQgeyBMaXN0ZW5lckZuIH0gZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5cbi8vIEdMT0JBTFNcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgQWN0aXZlWE9iamVjdDogYW55O1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9ybWF0IHtcbiAgdHlwZTogRm9ybWF0VHlwZXM7XG4gIHNyYzogc3RyaW5nO1xuICBkcm0/OiB7XG4gICAgd2lkZXZpbmU/OiB7XG4gICAgICBsaWNlbnNlVXJsOiBzdHJpbmc7XG4gICAgfTtcbiAgICBwbGF5cmVhZHk/OiB7XG4gICAgICBsaWNlbnNlVXJsOiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGVudW0gQWRUeXBlIHtcbiAgUFJFUk9MTCA9ICdwcmVyb2xsJyxcbiAgTUlEUk9MTCA9ICdtaWRyb2xsJyxcbiAgUE9TVFJPTEwgPSAncG9zdHJvbGwnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkQnJlYWsge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBBZFR5cGU7XG4gIHN0YXJ0c0F0OiBudW1iZXI7XG4gIGhhc0JlZW5XYXRjaGVkOiBib29sZWFuO1xuICBmcmVld2hlZWxTbG90PzogYW55O1xufVxuXG5leHBvcnQgdHlwZSBDdWVwb2ludCA9IEFkVHlwZSB8IG51bWJlcjtcblxuZXhwb3J0IGludGVyZmFjZSBDb25maWcge1xuICBhdXRvcGxheTogYm9vbGVhbjtcbiAgc291cmNlczogRm9ybWF0W107XG4gIHNob3dOYXRpdmVDb250cm9sczogYm9vbGVhbjtcbiAgZnJlZXdoZWVsPzoge1xuICAgIGNsaWVudFNpZGU6IGJvb2xlYW47XG4gICAgc2VydmVyOiBzdHJpbmc7XG4gICAgdmlkZW9Bc3NldDogc3RyaW5nO1xuICAgIGR1cmF0aW9uOiBudW1iZXI7XG4gICAgbmV0d29yazogbnVtYmVyO1xuICAgIHNpdGVTZWN0aW9uOiBzdHJpbmc7XG4gICAgcHJvZmlsZTogc3RyaW5nO1xuICAgIGN1ZXBvaW50czogQ3VlcG9pbnRbXTtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbnYge1xuICAvLyBCcm93c2VyIHN1cHBvcnRcbiAgaXNTYWZhcmk6IGJvb2xlYW47XG4gIGlzRWRnZTogYm9vbGVhbjtcbiAgaXNJRTogYm9vbGVhbjtcbiAgaXNDaHJvbWU6IGJvb2xlYW47XG4gIGlzTW9iaWxlOiBib29sZWFuO1xuICBpc0lPUzogYm9vbGVhbjtcbiAgaXNGYWNlYm9vazogYm9vbGVhbjtcblxuICAvLyBBdXRvcGxheVxuICBjYW5BdXRvcGxheTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGVudW0gRm9ybWF0VHlwZXMge1xuICBNUDQgPSAnbXA0JyxcbiAgTU9WID0gJ21vdicsXG4gIERBU0ggPSAnZGFzaCcsXG4gIEhMUyA9ICdobHMnLFxufVxuXG5leHBvcnQgZW51bSBFdmVudHMge1xuICBFUlJPUiA9ICdlcnJvcicsIC8vIEFuIHVucmVjb3ZlcmFibGUgZXJyb3Igb2NjdXJlZFxuICBERVNUUk9ZID0gJ2Rlc3Ryb3knLFxuICBSRUFEWSA9ICdyZWFkeScsXG5cbiAgLy8gUGxheWVyIHN0YXRlIGV2ZW50c1xuICBQTEFZRVJfU1RBVEVfUExBWSA9ICdwbGF5ZXItc3RhdGU6cGxheScsXG4gIFBMQVlFUl9TVEFURV9QQVVTRSA9ICdwbGF5ZXItc3RhdGU6cGF1c2UnLFxuICBQTEFZRVJfU1RBVEVfUExBWUlORyA9ICdwbGF5ZXItc3RhdGU6cGxheWluZycsXG4gIFBMQVlFUl9TVEFURV9FTkRFRCA9ICdwbGF5ZXItc3RhdGU6ZW5kZWQnLFxuICBQTEFZRVJfU1RBVEVfU0VFS0VEID0gJ3BsYXllci1zdGF0ZTpzZWVrZWQnLFxuICBQTEFZRVJfU1RBVEVfVElNRVVQREFURSA9ICdwbGF5ZXItc3RhdGU6dGltZXVwZGF0ZScsXG4gIFBMQVlFUl9TVEFURV9SRUFEWSA9ICdwbGF5ZXItc3RhdGU6cmVhZHknLFxuICBQTEFZRVJfU1RBVEVfV0FJVElORyA9ICdwbGF5ZXItc3RhdGU6d2FpdGluZycsXG4gIFBMQVlFUl9TVEFURV9WT0xVTUVDSEFOR0UgPSAncGxheWVyLXN0YXRlOnZvbHVtZWNoYW5nZScsXG5cbiAgLy8gU2hha2FcbiAgU0hBS0FfSU5TVEFOQ0UgPSAnc2hha2E6aW5zdGFuY2UnLFxuXG4gIC8vIEFkc1xuICBBREJSRUFLUyA9ICdhZDphZGJyZWFrcycsXG4gIEFEQlJFQUtfU1RBUlRFRCA9ICdhZDphZGJyZWFrLXN0YXJ0ZWQnLFxuICBBREJSRUFLX0VOREVEID0gJ2FkOmFkYnJlYWstZW5kZWQnLFxuICBBREJSRUFLX1NUQVRFX1RJTUVVUERBVEUgPSAnYWQtc3RhdGU6YWRicmVhay10aW1ldXBkYXRlJyxcbiAgQURCUkVBS19TVEFURV9QTEFZID0gJ2FkLXN0YXRlOmFkYnJlYWstcGxheScsXG4gIEFEQlJFQUtfU1RBVEVfUEFVU0UgPSAnYWQtc3RhdGU6YWRicmVhay1wYXVzZScsXG4gIEFEQlJFQUtfU1RBVEVfUExBWUlORyA9ICdhZC1zdGF0ZTphZGJyZWFrLXBsYXlpbmcnLFxuICBBRF9TVEFSVEVEID0gJ2FkOmFkLXN0YXJ0ZWQnLFxuICBBRF9FTkRFRCA9ICdhZDphZC1lbmRlZCcsXG5cbiAgLy8gTWlzY1xuICBGVUxMU0NSRUVOX1NVUFBPUlRFRCA9ICdmdWxsc2NyZWVuOnN1cHBvcnRlZCcsXG4gIEZVTExTQ1JFRU5fQ0hBTkdFID0gJ2Z1bGxzY3JlZW46Y2hhbmdlJyxcbn1cblxuZXhwb3J0IGVudW0gRXJyb3JDb2RlcyB7XG4gIE5PX1NVUFBPUlRFRF9GT1JNQVRfRk9VTkQgPSAxMDAxLFxufVxuXG5leHBvcnQgdHlwZSBFdmVudENhbGxiYWNrID0gTGlzdGVuZXJGbjtcblxuZXhwb3J0IGludGVyZmFjZSBUaW1lVXBkYXRlRXZlbnREYXRhIHtcbiAgY3VycmVudFRpbWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWb2x1bWVDaGFuZ2VFdmVudERhdGEge1xuICB2b2x1bWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaGFrYUluc3RhbmNlRXZlbnREYXRhIHtcbiAgc2hha2E6IGFueTtcbiAgcGxheWVyOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JFdmVudERhdGEge1xuICBlcnJvcjogUGxheWVyRXJyb3I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRCcmVha3NFdmVudERhdGEge1xuICBhZEJyZWFrczogQWRCcmVha1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkQnJlYWtFdmVudERhdGEge1xuICBhZEJyZWFrOiBBZEJyZWFrO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bGxzY3JlZW5FdmVudERhdGEge1xuICBmdWxsc2NyZWVuOiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBFdmVudERhdGEgPVxuICB8IFRpbWVVcGRhdGVFdmVudERhdGFcbiAgfCBWb2x1bWVDaGFuZ2VFdmVudERhdGFcbiAgfCBTaGFrYUluc3RhbmNlRXZlbnREYXRhXG4gIHwgRXJyb3JFdmVudERhdGFcbiAgfCBBZEJyZWFrc0V2ZW50RGF0YVxuICB8IEFkQnJlYWtFdmVudERhdGFcbiAgfCBGdWxsc2NyZWVuRXZlbnREYXRhO1xuXG5leHBvcnQgZW51bSBIb29rQWN0aW9ucyB7XG4gIEFCT1JULFxuICBDT05USU5VRSxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIb29rIHtcbiAgbmFtZTogc3RyaW5nO1xuICBtZXRob2Q6ICguLi5hcmdzOiBhbnkpID0+IEhvb2tBY3Rpb25zO1xufVxuXG4vKipcbiAqIE1vZHVsZXNcbiAqL1xuZXhwb3J0IGVudW0gTW9kdWxlTG9hZGVyVHlwZXMge1xuICBFWFRFTlNJT04sXG4gIENPTlRST0xMRVIsXG4gIE1FRElBLFxuICBQTEFZRVIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kdWxlTG9hZGVyPFQ+IHtcbiAgdHlwZTogTW9kdWxlTG9hZGVyVHlwZXM7XG4gIGNyZWF0ZShpbnN0YW5jZTogSW5zdGFuY2UpOiBUIHwgUHJvbWlzZTxUPjtcbiAgaXNTdXBwb3J0ZWQoaXNTdXBwb3J0ZWRBcmdzPzogYW55KTogYm9vbGVhbiB8IFByb21pc2U8Ym9vbGVhbj47XG59XG5cbi8qKlxuICogQWRkaXRpb24gdHlwZXNcbiAqIFVzZWQgdG8ga2VlcCBhIHN0cnVjdHVyZSBvZiBlYWNoIGFkZGl0aW9uIHR5cGUgc3VjaCBhcyB0aGUgcGxheWVyLFxuICogYSBtZWRpYSBlbGVtZW50IChITFNqcywgU2hha2EsIC4uLiksIHRoZSBjb250cm9sbGVyIGFuZCB0aGUgZ2VuZXJhbCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJTW9kdWxlIHtcbiAgbmFtZTogc3RyaW5nO1xuXG4gIG9uKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spO1xuICBvbmNlKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spO1xuICBlbWl0KG5hbWU6IHN0cmluZywgZXZlbnREYXRhPzogRXZlbnREYXRhKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29udHJvbGxlciBleHRlbmRzIElNb2R1bGUge1xuICBib290KCk6IFByb21pc2U8YW55PjtcbiAgbG9hZChmb3JtYXQ6IEZvcm1hdCk7XG4gIHVubG9hZCgpO1xuXG4gIHBsYXkoKTtcbiAgcGF1c2UoKTtcbiAgc2Vla1RvKHRpbWU6IG51bWJlcik7XG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcik7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBsYXllciBleHRlbmRzIElNb2R1bGUge1xuICBsb2FkKCk7XG4gIHVubG9hZCgpO1xuXG4gIHNldFNvdXJjZShzcmM6IHN0cmluZyk7XG5cbiAgcGxheSgpO1xuICBwYXVzZSgpO1xuICBzZWVrVG8odGltZTogbnVtYmVyKTtcbiAgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTWVkaWEgZXh0ZW5kcyBJTW9kdWxlIHtcbiAgbG9hZChmb3JtYXQ6IEZvcm1hdCk7XG4gIHVubG9hZCgpO1xuXG4gIHBsYXkoKTtcbiAgcGF1c2UoKTtcbiAgc2Vla1RvKHRpbWU6IG51bWJlcik7XG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcik7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUluc3RhbmNlIHtcbiAgY29uZmlnOiBDb25maWc7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHBsYXllckNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgY29udHJvbGxlcjogQ29udHJvbGxlcjtcbiAgcGxheWVyOiBQbGF5ZXI7XG5cbiAgLy8gTWV0aG9kc1xuICBwbGF5KCk7XG4gIHBhdXNlKCk7XG4gIHNlZWtUbyh0aW1lOiBudW1iZXIpO1xuICBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpO1xuICBkZXN0cm95KCk7XG59XG4iLCJpbXBvcnQgeyBIb29rLCBIb29rQWN0aW9ucyB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgSG9va3Mge1xuICBwdWJsaWMgaG9va3M6IEhvb2tbXSA9IFtdO1xuXG4gIHB1YmxpYyBjcmVhdGUoaG9vazogSG9vaykge1xuICAgIHRoaXMuaG9va3MucHVzaChob29rKTtcbiAgfVxuXG4gIHB1YmxpYyBjYW5FeGVjdXRlKG5hbWU6IHN0cmluZywgLi4uYXJnczogYW55KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRIb29rczogSG9va1tdID0gdGhpcy5ob29rcy5maWx0ZXIoXG4gICAgICBob29rID0+IGhvb2submFtZSA9PT0gbmFtZSxcbiAgICApO1xuXG4gICAgZm9yIChjb25zdCBob29rIG9mIHNlbGVjdGVkSG9va3MpIHtcbiAgICAgIGNvbnN0IGFjdGlvbjogSG9va0FjdGlvbnMgPSBob29rLm1ldGhvZCguLi5hcmdzKTtcblxuICAgICAgaWYgKGFjdGlvbiA9PT0gSG9va0FjdGlvbnMuQUJPUlQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBIb29rcyB9IGZyb20gJ0BzcmMvSG9va3MnO1xuaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tICdAc3JjL0luc3RhbmNlJztcbmltcG9ydCB7IEV2ZW50Q2FsbGJhY2ssIEV2ZW50RGF0YSwgSU1vZHVsZSB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgTW9kdWxlIGltcGxlbWVudHMgSU1vZHVsZSB7XG4gIHB1YmxpYyBuYW1lID0gJ3Vua25vd24nO1xuXG4gIHB1YmxpYyBob29rczogSG9va3MgPSBuZXcgSG9va3MoKTtcblxuICBwcm90ZWN0ZWQgaW5zdGFuY2U6IEluc3RhbmNlO1xuXG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBJbnN0YW5jZSkge1xuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgfVxuXG4gIHB1YmxpYyBvbihuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKSB7XG4gICAgdGhpcy5pbnN0YW5jZS5vbihuYW1lLCBjYWxsYmFjayk7XG4gIH1cblxuICBwdWJsaWMgb25jZShuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKSB7XG4gICAgdGhpcy5pbnN0YW5jZS5vbihuYW1lLCBjYWxsYmFjayk7XG4gIH1cblxuICBwdWJsaWMgZW1pdChuYW1lOiBzdHJpbmcsIGV2ZW50RGF0YT86IEV2ZW50RGF0YSkge1xuICAgIHRoaXMuaW5zdGFuY2UuZW1pdChuYW1lLCBldmVudERhdGEpO1xuICB9XG59XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIiwidmFyIGJhc2VJc05hdGl2ZSA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hdGl2ZScpLFxuICAgIGdldFZhbHVlID0gcmVxdWlyZSgnLi9fZ2V0VmFsdWUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROYXRpdmU7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsIi8qIVxuKiBzY3JlZW5mdWxsXG4qIHY0LjAuMCAtIDIwMTgtMTItMTVcbiogKGMpIFNpbmRyZSBTb3JodXM7IE1JVCBMaWNlbnNlXG4qL1xuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBkb2N1bWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmRvY3VtZW50IDoge307XG5cdHZhciBpc0NvbW1vbmpzID0gdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHM7XG5cdHZhciBrZXlib2FyZEFsbG93ZWQgPSB0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgJ0FMTE9XX0tFWUJPQVJEX0lOUFVUJyBpbiBFbGVtZW50O1xuXG5cdHZhciBmbiA9IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHZhbDtcblxuXHRcdHZhciBmbk1hcCA9IFtcblx0XHRcdFtcblx0XHRcdFx0J3JlcXVlc3RGdWxsc2NyZWVuJyxcblx0XHRcdFx0J2V4aXRGdWxsc2NyZWVuJyxcblx0XHRcdFx0J2Z1bGxzY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J2Z1bGxzY3JlZW5FbmFibGVkJyxcblx0XHRcdFx0J2Z1bGxzY3JlZW5jaGFuZ2UnLFxuXHRcdFx0XHQnZnVsbHNjcmVlbmVycm9yJ1xuXHRcdFx0XSxcblx0XHRcdC8vIE5ldyBXZWJLaXRcblx0XHRcdFtcblx0XHRcdFx0J3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJyxcblx0XHRcdFx0J3dlYmtpdEV4aXRGdWxsc2NyZWVuJyxcblx0XHRcdFx0J3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJyxcblx0XHRcdFx0J3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLFxuXHRcdFx0XHQnd2Via2l0ZnVsbHNjcmVlbmVycm9yJ1xuXG5cdFx0XHRdLFxuXHRcdFx0Ly8gT2xkIFdlYktpdCAoU2FmYXJpIDUuMSlcblx0XHRcdFtcblx0XHRcdFx0J3dlYmtpdFJlcXVlc3RGdWxsU2NyZWVuJyxcblx0XHRcdFx0J3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLFxuXHRcdFx0XHQnd2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLFxuXHRcdFx0XHQnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXG5cdFx0XHRcdCd3ZWJraXRmdWxsc2NyZWVuZXJyb3InXG5cblx0XHRcdF0sXG5cdFx0XHRbXG5cdFx0XHRcdCdtb3pSZXF1ZXN0RnVsbFNjcmVlbicsXG5cdFx0XHRcdCdtb3pDYW5jZWxGdWxsU2NyZWVuJyxcblx0XHRcdFx0J21vekZ1bGxTY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J21vekZ1bGxTY3JlZW5FbmFibGVkJyxcblx0XHRcdFx0J21vemZ1bGxzY3JlZW5jaGFuZ2UnLFxuXHRcdFx0XHQnbW96ZnVsbHNjcmVlbmVycm9yJ1xuXHRcdFx0XSxcblx0XHRcdFtcblx0XHRcdFx0J21zUmVxdWVzdEZ1bGxzY3JlZW4nLFxuXHRcdFx0XHQnbXNFeGl0RnVsbHNjcmVlbicsXG5cdFx0XHRcdCdtc0Z1bGxzY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J21zRnVsbHNjcmVlbkVuYWJsZWQnLFxuXHRcdFx0XHQnTVNGdWxsc2NyZWVuQ2hhbmdlJyxcblx0XHRcdFx0J01TRnVsbHNjcmVlbkVycm9yJ1xuXHRcdFx0XVxuXHRcdF07XG5cblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGwgPSBmbk1hcC5sZW5ndGg7XG5cdFx0dmFyIHJldCA9IHt9O1xuXG5cdFx0Zm9yICg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHZhbCA9IGZuTWFwW2ldO1xuXHRcdFx0aWYgKHZhbCAmJiB2YWxbMV0gaW4gZG9jdW1lbnQpIHtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHJldFtmbk1hcFswXVtpXV0gPSB2YWxbaV07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0pKCk7XG5cblx0dmFyIGV2ZW50TmFtZU1hcCA9IHtcblx0XHRjaGFuZ2U6IGZuLmZ1bGxzY3JlZW5jaGFuZ2UsXG5cdFx0ZXJyb3I6IGZuLmZ1bGxzY3JlZW5lcnJvclxuXHR9O1xuXG5cdHZhciBzY3JlZW5mdWxsID0ge1xuXHRcdHJlcXVlc3Q6IGZ1bmN0aW9uIChlbGVtKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0XHRcdFx0dmFyIHJlcXVlc3QgPSBmbi5yZXF1ZXN0RnVsbHNjcmVlbjtcblxuXHRcdFx0XHR2YXIgb25GdWxsU2NyZWVuRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0aGlzLm9mZignY2hhbmdlJywgb25GdWxsU2NyZWVuRW50ZXJlZCk7XG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHR9LmJpbmQodGhpcyk7XG5cblx0XHRcdFx0ZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdC8vIFdvcmsgYXJvdW5kIFNhZmFyaSA1LjEgYnVnOiByZXBvcnRzIHN1cHBvcnQgZm9yXG5cdFx0XHRcdC8vIGtleWJvYXJkIGluIGZ1bGxzY3JlZW4gZXZlbiB0aG91Z2ggaXQgZG9lc24ndC5cblx0XHRcdFx0Ly8gQnJvd3NlciBzbmlmZmluZywgc2luY2UgdGhlIGFsdGVybmF0aXZlIHdpdGhcblx0XHRcdFx0Ly8gc2V0VGltZW91dCBpcyBldmVuIHdvcnNlLlxuXHRcdFx0XHRpZiAoLyBWZXJzaW9uXFwvNVxcLjEoPzpcXC5cXGQrKT8gU2FmYXJpXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRcdFx0ZWxlbVtyZXF1ZXN0XSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW1bcmVxdWVzdF0oa2V5Ym9hcmRBbGxvd2VkID8gRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCA6IHt9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMub24oJ2NoYW5nZScsIG9uRnVsbFNjcmVlbkVudGVyZWQpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblx0XHR9LFxuXHRcdGV4aXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHRcdFx0XHR2YXIgb25GdWxsU2NyZWVuRXhpdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0aGlzLm9mZignY2hhbmdlJywgb25GdWxsU2NyZWVuRXhpdCk7XG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHR9LmJpbmQodGhpcyk7XG5cblx0XHRcdFx0ZG9jdW1lbnRbZm4uZXhpdEZ1bGxzY3JlZW5dKCk7XG5cblx0XHRcdFx0dGhpcy5vbignY2hhbmdlJywgb25GdWxsU2NyZWVuRXhpdCk7XG5cdFx0XHR9LmJpbmQodGhpcykpO1xuXHRcdH0sXG5cdFx0dG9nZ2xlOiBmdW5jdGlvbiAoZWxlbSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaXNGdWxsc2NyZWVuID8gdGhpcy5leGl0KCkgOiB0aGlzLnJlcXVlc3QoZWxlbSk7XG5cdFx0fSxcblx0XHRvbmNoYW5nZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdFx0XHR0aGlzLm9uKCdjaGFuZ2UnLCBjYWxsYmFjayk7XG5cdFx0fSxcblx0XHRvbmVycm9yOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHRcdHRoaXMub24oJ2Vycm9yJywgY2FsbGJhY2spO1xuXHRcdH0sXG5cdFx0b246IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcblx0XHRcdHZhciBldmVudE5hbWUgPSBldmVudE5hbWVNYXBbZXZlbnRdO1xuXHRcdFx0aWYgKGV2ZW50TmFtZSkge1xuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2ssIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdG9mZjogZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xuXHRcdFx0dmFyIGV2ZW50TmFtZSA9IGV2ZW50TmFtZU1hcFtldmVudF07XG5cdFx0XHRpZiAoZXZlbnROYW1lKSB7XG5cdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaywgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmF3OiBmblxuXHR9O1xuXG5cdGlmICghZm4pIHtcblx0XHRpZiAoaXNDb21tb25qcykge1xuXHRcdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnNjcmVlbmZ1bGwgPSBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm47XG5cdH1cblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzY3JlZW5mdWxsLCB7XG5cdFx0aXNGdWxsc2NyZWVuOiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIEJvb2xlYW4oZG9jdW1lbnRbZm4uZnVsbHNjcmVlbkVsZW1lbnRdKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVsZW1lbnQ6IHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbGVtZW50XTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuYWJsZWQ6IHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Ly8gQ29lcmNlIHRvIGJvb2xlYW4gaW4gY2FzZSBvZiBvbGQgV2ViS2l0XG5cdFx0XHRcdHJldHVybiBCb29sZWFuKGRvY3VtZW50W2ZuLmZ1bGxzY3JlZW5FbmFibGVkXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoaXNDb21tb25qcykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gc2NyZWVuZnVsbDtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuc2NyZWVuZnVsbCA9IHNjcmVlbmZ1bGw7XG5cdH1cbn0pKCk7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgZ2V0UmF3VGFnID0gcmVxdWlyZSgnLi9fZ2V0UmF3VGFnJyksXG4gICAgb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19vYmplY3RUb1N0cmluZycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0VGFnO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwidmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0tleTtcbiIsInZhciBsaXN0Q2FjaGVDbGVhciA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUNsZWFyJyksXG4gICAgbGlzdENhY2hlRGVsZXRlID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlRGVsZXRlJyksXG4gICAgbGlzdENhY2hlR2V0ID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlR2V0JyksXG4gICAgbGlzdENhY2hlSGFzID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlSGFzJyksXG4gICAgbGlzdENhY2hlU2V0ID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBMaXN0Q2FjaGU7XG4iLCJ2YXIgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzb2NJbmRleE9mO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuYXRpdmVDcmVhdGU7XG4iLCJ2YXIgaXNLZXlhYmxlID0gcmVxdWlyZSgnLi9faXNLZXlhYmxlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRNYXBEYXRhO1xuIiwidmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0tleSA9IHJlcXVpcmUoJy4vX2lzS2V5JyksXG4gICAgc3RyaW5nVG9QYXRoID0gcmVxdWlyZSgnLi9fc3RyaW5nVG9QYXRoJyksXG4gICAgdG9TdHJpbmcgPSByZXF1aXJlKCcuL3RvU3RyaW5nJyk7XG5cbi8qKlxuICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2FzdFBhdGg7XG4iLCJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNTeW1ib2w7XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAc3JjL01vZHVsZSc7XG5pbXBvcnQgeyBGb3JtYXQsIElNZWRpYSB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgTWVkaWEgZXh0ZW5kcyBNb2R1bGUgaW1wbGVtZW50cyBJTWVkaWEge1xuICBwdWJsaWMgYXN5bmMgbG9hZCgpIHt9XG5cbiAgcHVibGljIHVubG9hZCgpIHt9XG5cbiAgcHVibGljIHBsYXkoKSB7XG4gICAgdGhpcy5pbnN0YW5jZS5wbGF5ZXIucGxheSgpO1xuICB9XG5cbiAgcHVibGljIHBhdXNlKCkge1xuICAgIHRoaXMuaW5zdGFuY2UucGxheWVyLnBhdXNlKCk7XG4gIH1cblxuICBwdWJsaWMgc2Vla1RvKHRpbWU6IG51bWJlcikge1xuICAgIHRoaXMuaW5zdGFuY2UucGxheWVyLnNlZWtUbyh0aW1lKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLmluc3RhbmNlLnBsYXllci5zZXRWb2x1bWUodm9sdW1lKTtcbiAgfVxufVxuIiwidmFyIGNyZWF0ZUZpbmQgPSByZXF1aXJlKCcuL19jcmVhdGVGaW5kJyksXG4gICAgZmluZEluZGV4ID0gcmVxdWlyZSgnLi9maW5kSW5kZXgnKTtcblxuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciB1c2VycyA9IFtcbiAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAqIF07XG4gKlxuICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAqXG4gKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gKlxuICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICpcbiAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gKi9cbnZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmQ7XG4iLCJ2YXIgYmFzZU1hdGNoZXMgPSByZXF1aXJlKCcuL19iYXNlTWF0Y2hlcycpLFxuICAgIGJhc2VNYXRjaGVzUHJvcGVydHkgPSByZXF1aXJlKCcuL19iYXNlTWF0Y2hlc1Byb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIHByb3BlcnR5ID0gcmVxdWlyZSgnLi9wcm9wZXJ0eScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICovXG5mdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGlkZW50aXR5O1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJdGVyYXRlZTtcbiIsIi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxO1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcDtcbiIsInZhciBtYXBDYWNoZUNsZWFyID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVDbGVhcicpLFxuICAgIG1hcENhY2hlRGVsZXRlID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVEZWxldGUnKSxcbiAgICBtYXBDYWNoZUdldCA9IHJlcXVpcmUoJy4vX21hcENhY2hlR2V0JyksXG4gICAgbWFwQ2FjaGVIYXMgPSByZXF1aXJlKCcuL19tYXBDYWNoZUhhcycpLFxuICAgIG1hcENhY2hlU2V0ID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwQ2FjaGU7XG4iLCJ2YXIgYXJyYXlMaWtlS2V5cyA9IHJlcXVpcmUoJy4vX2FycmF5TGlrZUtleXMnKSxcbiAgICBiYXNlS2V5cyA9IHJlcXVpcmUoJy4vX2Jhc2VLZXlzJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXM7XG4iLCIvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJbmRleDtcbiIsIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0xlbmd0aDtcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNMZW5ndGggPSByZXF1aXJlKCcuL2lzTGVuZ3RoJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlO1xuIiwidmFyIGNhc3RQYXRoID0gcmVxdWlyZSgnLi9fY2FzdFBhdGgnKSxcbiAgICB0b0tleSA9IHJlcXVpcmUoJy4vX3RvS2V5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldDtcbiIsInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0tleTtcbiIsInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBzdGFja0NsZWFyID0gcmVxdWlyZSgnLi9fc3RhY2tDbGVhcicpLFxuICAgIHN0YWNrRGVsZXRlID0gcmVxdWlyZSgnLi9fc3RhY2tEZWxldGUnKSxcbiAgICBzdGFja0dldCA9IHJlcXVpcmUoJy4vX3N0YWNrR2V0JyksXG4gICAgc3RhY2tIYXMgPSByZXF1aXJlKCcuL19zdGFja0hhcycpLFxuICAgIHN0YWNrU2V0ID0gcmVxdWlyZSgnLi9fc3RhY2tTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YWNrO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsInZhciBiYXNlSXNFcXVhbERlZXAgPSByZXF1aXJlKCcuL19iYXNlSXNFcXVhbERlZXAnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNFcXVhbDtcbiIsInZhciBTZXRDYWNoZSA9IHJlcXVpcmUoJy4vX1NldENhY2hlJyksXG4gICAgYXJyYXlTb21lID0gcmVxdWlyZSgnLi9fYXJyYXlTb21lJyksXG4gICAgY2FjaGVIYXMgPSByZXF1aXJlKCcuL19jYWNoZUhhcycpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxdWFsQXJyYXlzO1xuIiwidmFyIGFycmF5UHVzaCA9IHJlcXVpcmUoJy4vX2FycmF5UHVzaCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRBbGxLZXlzO1xuIiwiLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5UHVzaDtcbiIsInZhciBhcnJheUZpbHRlciA9IHJlcXVpcmUoJy4vX2FycmF5RmlsdGVyJyksXG4gICAgc3R1YkFycmF5ID0gcmVxdWlyZSgnLi9zdHViQXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN5bWJvbHM7XG4iLCIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0dWJBcnJheTtcbiIsInZhciBiYXNlVGltZXMgPSByZXF1aXJlKCcuL19iYXNlVGltZXMnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNCdWZmZXIgPSByZXF1aXJlKCcuL2lzQnVmZmVyJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL2lzVHlwZWRBcnJheScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlMaWtlS2V5cztcbiIsInZhciBiYXNlSXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL19iYXNlSXNBcmd1bWVudHMnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpLFxuICAgIHN0dWJGYWxzZSA9IHJlcXVpcmUoJy4vc3R1YkZhbHNlJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0J1ZmZlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsInZhciBiYXNlSXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9fYmFzZUlzVHlwZWRBcnJheScpLFxuICAgIGJhc2VVbmFyeSA9IHJlcXVpcmUoJy4vX2Jhc2VVbmFyeScpLFxuICAgIG5vZGVVdGlsID0gcmVxdWlyZSgnLi9fbm9kZVV0aWwnKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUeXBlZEFycmF5O1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUHJvdG90eXBlO1xuIiwiLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3RyaWN0Q29tcGFyYWJsZTtcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZTtcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlNYXA7XG4iLCJ0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJIbHNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiSGxzXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4vKioqKioqLyBcdFx0cmV0dXJuIG5zO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2hscy5qc1wiKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAodHJ1ZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy91cmwtdG9vbGtpdC9zcmMvdXJsLXRvb2xraXQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTgwOFxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4oZnVuY3Rpb24ocm9vdCkgeyBcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgdmFyIFVSTF9SRUdFWCA9IC9eKCg/OlthLXpBLVowLTkrXFwtLl0rOik/KShcXC9cXC9bXlxcLz8jXSopPygoPzpbXlxcL1xcPyNdKlxcLykqLio/KT8/KDsuKj8pPyhcXD8uKj8pPygjLio/KT8kLztcbiAgdmFyIEZJUlNUX1NFR01FTlRfUkVHRVggPSAvXihbXlxcLz8jXSopKC4qKSQvO1xuICB2YXIgU0xBU0hfRE9UX1JFR0VYID0gLyg/OlxcL3xeKVxcLig/PVxcLykvZztcbiAgdmFyIFNMQVNIX0RPVF9ET1RfUkVHRVggPSAvKD86XFwvfF4pXFwuXFwuXFwvKD8hXFwuXFwuXFwvKS4qPyg/PVxcLykvZztcblxuICB2YXIgVVJMVG9vbGtpdCA9IHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgLy8gSWYgb3B0cy5hbHdheXNOb3JtYWxpemUgaXMgdHJ1ZSB0aGVuIHRoZSBwYXRoIHdpbGwgYWx3YXlzIGJlIG5vcm1hbGl6ZWQgZXZlbiB3aGVuIGl0IHN0YXJ0cyB3aXRoIC8gb3IgLy9cbiAgICAvLyBFLmdcbiAgICAvLyBXaXRoIG9wdHMuYWx3YXlzTm9ybWFsaXplID0gZmFsc2UgKGRlZmF1bHQsIHNwZWMgY29tcGxpYW50KVxuICAgIC8vIGh0dHA6Ly9hLmNvbS9iL2NkICsgL2UvZi8uLi9nID0+IGh0dHA6Ly9hLmNvbS9lL2YvLi4vZ1xuICAgIC8vIFdpdGggb3B0cy5hbHdheXNOb3JtYWxpemUgPSB0cnVlIChub3Qgc3BlYyBjb21wbGlhbnQpXG4gICAgLy8gaHR0cDovL2EuY29tL2IvY2QgKyAvZS9mLy4uL2cgPT4gaHR0cDovL2EuY29tL2UvZ1xuICAgIGJ1aWxkQWJzb2x1dGVVUkw6IGZ1bmN0aW9uKGJhc2VVUkwsIHJlbGF0aXZlVVJMLCBvcHRzKSB7XG4gICAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICAgIC8vIHJlbW92ZSBhbnkgcmVtYWluaW5nIHNwYWNlIGFuZCBDUkxGXG4gICAgICBiYXNlVVJMID0gYmFzZVVSTC50cmltKCk7XG4gICAgICByZWxhdGl2ZVVSTCA9IHJlbGF0aXZlVVJMLnRyaW0oKTtcbiAgICAgIGlmICghcmVsYXRpdmVVUkwpIHtcbiAgICAgICAgLy8gMmEpIElmIHRoZSBlbWJlZGRlZCBVUkwgaXMgZW50aXJlbHkgZW1wdHksIGl0IGluaGVyaXRzIHRoZVxuICAgICAgICAvLyBlbnRpcmUgYmFzZSBVUkwgKGkuZS4sIGlzIHNldCBlcXVhbCB0byB0aGUgYmFzZSBVUkwpXG4gICAgICAgIC8vIGFuZCB3ZSBhcmUgZG9uZS5cbiAgICAgICAgaWYgKCFvcHRzLmFsd2F5c05vcm1hbGl6ZSkge1xuICAgICAgICAgIHJldHVybiBiYXNlVVJMO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlUGFydHNGb3JOb3JtYWxpc2UgPSBVUkxUb29sa2l0LnBhcnNlVVJMKGJhc2VVUkwpO1xuICAgICAgICBpZiAoIWJhc2VQYXJ0c0Zvck5vcm1hbGlzZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLicpO1xuICAgICAgICB9XG4gICAgICAgIGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoKTtcbiAgICAgICAgcmV0dXJuIFVSTFRvb2xraXQuYnVpbGRVUkxGcm9tUGFydHMoYmFzZVBhcnRzRm9yTm9ybWFsaXNlKTtcbiAgICAgIH1cbiAgICAgIHZhciByZWxhdGl2ZVBhcnRzID0gVVJMVG9vbGtpdC5wYXJzZVVSTChyZWxhdGl2ZVVSTCk7XG4gICAgICBpZiAoIXJlbGF0aXZlUGFydHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgcmVsYXRpdmUgVVJMLicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlbGF0aXZlUGFydHMuc2NoZW1lKSB7XG4gICAgICAgIC8vIDJiKSBJZiB0aGUgZW1iZWRkZWQgVVJMIHN0YXJ0cyB3aXRoIGEgc2NoZW1lIG5hbWUsIGl0IGlzXG4gICAgICAgIC8vIGludGVycHJldGVkIGFzIGFuIGFic29sdXRlIFVSTCBhbmQgd2UgYXJlIGRvbmUuXG4gICAgICAgIGlmICghb3B0cy5hbHdheXNOb3JtYWxpemUpIHtcbiAgICAgICAgICByZXR1cm4gcmVsYXRpdmVVUkw7XG4gICAgICAgIH1cbiAgICAgICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKHJlbGF0aXZlUGFydHMucGF0aCk7XG4gICAgICAgIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkVVJMRnJvbVBhcnRzKHJlbGF0aXZlUGFydHMpO1xuICAgICAgfVxuICAgICAgdmFyIGJhc2VQYXJ0cyA9IFVSTFRvb2xraXQucGFyc2VVUkwoYmFzZVVSTCk7XG4gICAgICBpZiAoIWJhc2VQYXJ0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC4nKTtcbiAgICAgIH1cbiAgICAgIGlmICghYmFzZVBhcnRzLm5ldExvYyAmJiBiYXNlUGFydHMucGF0aCAmJiBiYXNlUGFydHMucGF0aFswXSAhPT0gJy8nKSB7XG4gICAgICAgIC8vIElmIG5ldExvYyBtaXNzaW5nIGFuZCBwYXRoIGRvZXNuJ3Qgc3RhcnQgd2l0aCAnLycsIGFzc3VtZSBldmVydGhpbmcgYmVmb3JlIHRoZSBmaXJzdCAnLycgaXMgdGhlIG5ldExvY1xuICAgICAgICAvLyBUaGlzIGNhdXNlcyAnZXhhbXBsZS5jb20vYScgdG8gYmUgaGFuZGxlZCBhcyAnLy9leGFtcGxlLmNvbS9hJyBpbnN0ZWFkIG9mICcvZXhhbXBsZS5jb20vYSdcbiAgICAgICAgdmFyIHBhdGhQYXJ0cyA9IEZJUlNUX1NFR01FTlRfUkVHRVguZXhlYyhiYXNlUGFydHMucGF0aCk7XG4gICAgICAgIGJhc2VQYXJ0cy5uZXRMb2MgPSBwYXRoUGFydHNbMV07XG4gICAgICAgIGJhc2VQYXJ0cy5wYXRoID0gcGF0aFBhcnRzWzJdO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VQYXJ0cy5uZXRMb2MgJiYgIWJhc2VQYXJ0cy5wYXRoKSB7XG4gICAgICAgIGJhc2VQYXJ0cy5wYXRoID0gJy8nO1xuICAgICAgfVxuICAgICAgdmFyIGJ1aWx0UGFydHMgPSB7XG4gICAgICAgIC8vIDJjKSBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIHNjaGVtZSBvZlxuICAgICAgICAvLyB0aGUgYmFzZSBVUkwuXG4gICAgICAgIHNjaGVtZTogYmFzZVBhcnRzLnNjaGVtZSxcbiAgICAgICAgbmV0TG9jOiByZWxhdGl2ZVBhcnRzLm5ldExvYyxcbiAgICAgICAgcGF0aDogbnVsbCxcbiAgICAgICAgcGFyYW1zOiByZWxhdGl2ZVBhcnRzLnBhcmFtcyxcbiAgICAgICAgcXVlcnk6IHJlbGF0aXZlUGFydHMucXVlcnksXG4gICAgICAgIGZyYWdtZW50OiByZWxhdGl2ZVBhcnRzLmZyYWdtZW50XG4gICAgICB9O1xuICAgICAgaWYgKCFyZWxhdGl2ZVBhcnRzLm5ldExvYykge1xuICAgICAgICAvLyAzKSBJZiB0aGUgZW1iZWRkZWQgVVJMJ3MgPG5ldF9sb2M+IGlzIG5vbi1lbXB0eSwgd2Ugc2tpcCB0b1xuICAgICAgICAvLyBTdGVwIDcuICBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIDxuZXRfbG9jPlxuICAgICAgICAvLyAoaWYgYW55KSBvZiB0aGUgYmFzZSBVUkwuXG4gICAgICAgIGJ1aWx0UGFydHMubmV0TG9jID0gYmFzZVBhcnRzLm5ldExvYztcbiAgICAgICAgLy8gNCkgSWYgdGhlIGVtYmVkZGVkIFVSTCBwYXRoIGlzIHByZWNlZGVkIGJ5IGEgc2xhc2ggXCIvXCIsIHRoZVxuICAgICAgICAvLyBwYXRoIGlzIG5vdCByZWxhdGl2ZSBhbmQgd2Ugc2tpcCB0byBTdGVwIDcuXG4gICAgICAgIGlmIChyZWxhdGl2ZVBhcnRzLnBhdGhbMF0gIT09ICcvJykge1xuICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXRoKSB7XG4gICAgICAgICAgICAvLyA1KSBJZiB0aGUgZW1iZWRkZWQgVVJMIHBhdGggaXMgZW1wdHkgKGFuZCBub3QgcHJlY2VkZWQgYnkgYVxuICAgICAgICAgICAgLy8gc2xhc2gpLCB0aGVuIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIGJhc2UgVVJMIHBhdGhcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IGJhc2VQYXJ0cy5wYXRoO1xuICAgICAgICAgICAgLy8gNWEpIGlmIHRoZSBlbWJlZGRlZCBVUkwncyA8cGFyYW1zPiBpcyBub24tZW1wdHksIHdlIHNraXAgdG9cbiAgICAgICAgICAgIC8vIHN0ZXAgNzsgb3RoZXJ3aXNlLCBpdCBpbmhlcml0cyB0aGUgPHBhcmFtcz4gb2YgdGhlIGJhc2VcbiAgICAgICAgICAgIC8vIFVSTCAoaWYgYW55KSBhbmRcbiAgICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXJhbXMpIHtcbiAgICAgICAgICAgICAgYnVpbHRQYXJ0cy5wYXJhbXMgPSBiYXNlUGFydHMucGFyYW1zO1xuICAgICAgICAgICAgICAvLyA1YikgaWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxxdWVyeT4gaXMgbm9uLWVtcHR5LCB3ZSBza2lwIHRvXG4gICAgICAgICAgICAgIC8vIHN0ZXAgNzsgb3RoZXJ3aXNlLCBpdCBpbmhlcml0cyB0aGUgPHF1ZXJ5PiBvZiB0aGUgYmFzZVxuICAgICAgICAgICAgICAvLyBVUkwgKGlmIGFueSkgYW5kIHdlIHNraXAgdG8gc3RlcCA3LlxuICAgICAgICAgICAgICBpZiAoIXJlbGF0aXZlUGFydHMucXVlcnkpIHtcbiAgICAgICAgICAgICAgICBidWlsdFBhcnRzLnF1ZXJ5ID0gYmFzZVBhcnRzLnF1ZXJ5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIDYpIFRoZSBsYXN0IHNlZ21lbnQgb2YgdGhlIGJhc2UgVVJMJ3MgcGF0aCAoYW55dGhpbmdcbiAgICAgICAgICAgIC8vIGZvbGxvd2luZyB0aGUgcmlnaHRtb3N0IHNsYXNoIFwiL1wiLCBvciB0aGUgZW50aXJlIHBhdGggaWYgbm9cbiAgICAgICAgICAgIC8vIHNsYXNoIGlzIHByZXNlbnQpIGlzIHJlbW92ZWQgYW5kIHRoZSBlbWJlZGRlZCBVUkwncyBwYXRoIGlzXG4gICAgICAgICAgICAvLyBhcHBlbmRlZCBpbiBpdHMgcGxhY2UuXG4gICAgICAgICAgICB2YXIgYmFzZVVSTFBhdGggPSBiYXNlUGFydHMucGF0aDtcbiAgICAgICAgICAgIHZhciBuZXdQYXRoID0gYmFzZVVSTFBhdGguc3Vic3RyaW5nKDAsIGJhc2VVUkxQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIHJlbGF0aXZlUGFydHMucGF0aDtcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChuZXdQYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChidWlsdFBhcnRzLnBhdGggPT09IG51bGwpIHtcbiAgICAgICAgYnVpbHRQYXJ0cy5wYXRoID0gb3B0cy5hbHdheXNOb3JtYWxpemUgPyBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgocmVsYXRpdmVQYXJ0cy5wYXRoKSA6IHJlbGF0aXZlUGFydHMucGF0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkVVJMRnJvbVBhcnRzKGJ1aWx0UGFydHMpO1xuICAgIH0sXG4gICAgcGFyc2VVUkw6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgdmFyIHBhcnRzID0gVVJMX1JFR0VYLmV4ZWModXJsKTtcbiAgICAgIGlmICghcGFydHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWU6IHBhcnRzWzFdIHx8ICcnLFxuICAgICAgICBuZXRMb2M6IHBhcnRzWzJdIHx8ICcnLFxuICAgICAgICBwYXRoOiBwYXJ0c1szXSB8fCAnJyxcbiAgICAgICAgcGFyYW1zOiBwYXJ0c1s0XSB8fCAnJyxcbiAgICAgICAgcXVlcnk6IHBhcnRzWzVdIHx8ICcnLFxuICAgICAgICBmcmFnbWVudDogcGFydHNbNl0gfHwgJydcbiAgICAgIH07XG4gICAgfSxcbiAgICBub3JtYWxpemVQYXRoOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAvLyBUaGUgZm9sbG93aW5nIG9wZXJhdGlvbnMgYXJlXG4gICAgICAvLyB0aGVuIGFwcGxpZWQsIGluIG9yZGVyLCB0byB0aGUgbmV3IHBhdGg6XG4gICAgICAvLyA2YSkgQWxsIG9jY3VycmVuY2VzIG9mIFwiLi9cIiwgd2hlcmUgXCIuXCIgaXMgYSBjb21wbGV0ZSBwYXRoXG4gICAgICAvLyBzZWdtZW50LCBhcmUgcmVtb3ZlZC5cbiAgICAgIC8vIDZiKSBJZiB0aGUgcGF0aCBlbmRzIHdpdGggXCIuXCIgYXMgYSBjb21wbGV0ZSBwYXRoIHNlZ21lbnQsXG4gICAgICAvLyB0aGF0IFwiLlwiIGlzIHJlbW92ZWQuXG4gICAgICBwYXRoID0gcGF0aC5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpLnJlcGxhY2UoU0xBU0hfRE9UX1JFR0VYLCAnJyk7XG4gICAgICAvLyA2YykgQWxsIG9jY3VycmVuY2VzIG9mIFwiPHNlZ21lbnQ+Ly4uL1wiLCB3aGVyZSA8c2VnbWVudD4gaXMgYVxuICAgICAgLy8gY29tcGxldGUgcGF0aCBzZWdtZW50IG5vdCBlcXVhbCB0byBcIi4uXCIsIGFyZSByZW1vdmVkLlxuICAgICAgLy8gUmVtb3ZhbCBvZiB0aGVzZSBwYXRoIHNlZ21lbnRzIGlzIHBlcmZvcm1lZCBpdGVyYXRpdmVseSxcbiAgICAgIC8vIHJlbW92aW5nIHRoZSBsZWZ0bW9zdCBtYXRjaGluZyBwYXR0ZXJuIG9uIGVhY2ggaXRlcmF0aW9uLFxuICAgICAgLy8gdW50aWwgbm8gbWF0Y2hpbmcgcGF0dGVybiByZW1haW5zLlxuICAgICAgLy8gNmQpIElmIHRoZSBwYXRoIGVuZHMgd2l0aCBcIjxzZWdtZW50Pi8uLlwiLCB3aGVyZSA8c2VnbWVudD4gaXMgYVxuICAgICAgLy8gY29tcGxldGUgcGF0aCBzZWdtZW50IG5vdCBlcXVhbCB0byBcIi4uXCIsIHRoYXRcbiAgICAgIC8vIFwiPHNlZ21lbnQ+Ly4uXCIgaXMgcmVtb3ZlZC5cbiAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCAhPT0gKHBhdGggPSBwYXRoLnJlcGxhY2UoU0xBU0hfRE9UX0RPVF9SRUdFWCwgJycpKS5sZW5ndGgpIHt9IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgICAgcmV0dXJuIHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICB9LFxuICAgIGJ1aWxkVVJMRnJvbVBhcnRzOiBmdW5jdGlvbihwYXJ0cykge1xuICAgICAgcmV0dXJuIHBhcnRzLnNjaGVtZSArIHBhcnRzLm5ldExvYyArIHBhcnRzLnBhdGggKyBwYXJ0cy5wYXJhbXMgKyBwYXJ0cy5xdWVyeSArIHBhcnRzLmZyYWdtZW50O1xuICAgIH1cbiAgfTtcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBpZih0cnVlKVxuICAgIG1vZHVsZS5leHBvcnRzID0gVVJMVG9vbGtpdDtcbiAgZWxzZSB7fVxufSkodGhpcyk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3dlYndvcmtpZnktd2VicGFjay9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvd2Vid29ya2lmeS13ZWJwYWNrL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5mdW5jdGlvbiB3ZWJwYWNrQm9vdHN0cmFwRnVuYyAobW9kdWxlcykge1xuLyoqKioqKi8gIC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovICB2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyAgLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovICBmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovICAgIC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gICAgaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyAgICAgIHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyAgICAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gICAgdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gICAgICBpOiBtb2R1bGVJZCxcbi8qKioqKiovICAgICAgbDogZmFsc2UsXG4vKioqKioqLyAgICAgIGV4cG9ydHM6IHt9XG4vKioqKioqLyAgICB9O1xuXG4vKioqKioqLyAgICAvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovICAgIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyAgICAvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyAgICBtb2R1bGUubCA9IHRydWU7XG5cbi8qKioqKiovICAgIC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyAgfVxuXG4vKioqKioqLyAgLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyAgLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyAgLy8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuLyoqKioqKi8gIC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gICAgaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovICAgICAgICBnZXQ6IGdldHRlclxuLyoqKioqKi8gICAgICB9KTtcbi8qKioqKiovICAgIH1cbi8qKioqKiovICB9O1xuXG4vKioqKioqLyAgLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyAgfTtcblxuLyoqKioqKi8gIC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyAgICB2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovICAgICAgZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovICAgIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovICAgIHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyAgfTtcblxuLyoqKioqKi8gIC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuLyoqKioqKi8gIC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbi8qKioqKiovICAvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ub2UgPSBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH07XG5cbiAgdmFyIGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IEVOVFJZX01PRFVMRSlcbiAgcmV0dXJuIGYuZGVmYXVsdCB8fCBmIC8vIHRyeSB0byBjYWxsIGRlZmF1bHQgaWYgZGVmaW5lZCB0byBhbHNvIHN1cHBvcnQgYmFiZWwgZXNtb2R1bGUgZXhwb3J0c1xufVxuXG52YXIgbW9kdWxlTmFtZVJlcUV4cCA9ICdbXFxcXC58XFxcXC18XFxcXCt8XFxcXHd8XFwvfEBdKydcbnZhciBkZXBlbmRlbmN5UmVnRXhwID0gJ1xcXFwoKFxcL1xcXFwqLio/XFxcXCpcXC8pP1xccz8uKj8oJyArIG1vZHVsZU5hbWVSZXFFeHAgKyAnKS4qP1xcXFwpJyAvLyBhZGRpdGlvbmFsIGNoYXJzIHdoZW4gb3V0cHV0LnBhdGhpbmZvIGlzIHRydWVcblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjU5MzY2MS8xMzA0NDJcbmZ1bmN0aW9uIHF1b3RlUmVnRXhwIChzdHIpIHtcbiAgcmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvWy4/KiteJFtcXF1cXFxcKCl7fXwtXS9nLCAnXFxcXCQmJylcbn1cblxuZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcbiAgcmV0dXJuICFpc05hTigxICogbik7IC8vIDEgKiBuIGNvbnZlcnRzIGludGVnZXJzLCBpbnRlZ2VycyBhcyBzdHJpbmcgKFwiMTIzXCIpLCAxZTMgYW5kIFwiMWUzXCIgdG8gaW50ZWdlcnMgYW5kIHN0cmluZ3MgdG8gTmFOXG59XG5cbmZ1bmN0aW9uIGdldE1vZHVsZURlcGVuZGVuY2llcyAoc291cmNlcywgbW9kdWxlLCBxdWV1ZU5hbWUpIHtcbiAgdmFyIHJldHZhbCA9IHt9XG4gIHJldHZhbFtxdWV1ZU5hbWVdID0gW11cblxuICB2YXIgZm5TdHJpbmcgPSBtb2R1bGUudG9TdHJpbmcoKVxuICB2YXIgd3JhcHBlclNpZ25hdHVyZSA9IGZuU3RyaW5nLm1hdGNoKC9eZnVuY3Rpb25cXHM/XFwoXFx3KyxcXHMqXFx3KyxcXHMqKFxcdyspXFwpLylcbiAgaWYgKCF3cmFwcGVyU2lnbmF0dXJlKSByZXR1cm4gcmV0dmFsXG4gIHZhciB3ZWJwYWNrUmVxdWlyZU5hbWUgPSB3cmFwcGVyU2lnbmF0dXJlWzFdXG5cbiAgLy8gbWFpbiBidW5kbGUgZGVwc1xuICB2YXIgcmUgPSBuZXcgUmVnRXhwKCcoXFxcXFxcXFxufFxcXFxXKScgKyBxdW90ZVJlZ0V4cCh3ZWJwYWNrUmVxdWlyZU5hbWUpICsgZGVwZW5kZW5jeVJlZ0V4cCwgJ2cnKVxuICB2YXIgbWF0Y2hcbiAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoZm5TdHJpbmcpKSkge1xuICAgIGlmIChtYXRjaFszXSA9PT0gJ2RsbC1yZWZlcmVuY2UnKSBjb250aW51ZVxuICAgIHJldHZhbFtxdWV1ZU5hbWVdLnB1c2gobWF0Y2hbM10pXG4gIH1cblxuICAvLyBkbGwgZGVwc1xuICByZSA9IG5ldyBSZWdFeHAoJ1xcXFwoJyArIHF1b3RlUmVnRXhwKHdlYnBhY2tSZXF1aXJlTmFtZSkgKyAnXFxcXChcIihkbGwtcmVmZXJlbmNlXFxcXHMoJyArIG1vZHVsZU5hbWVSZXFFeHAgKyAnKSlcIlxcXFwpXFxcXCknICsgZGVwZW5kZW5jeVJlZ0V4cCwgJ2cnKVxuICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhmblN0cmluZykpKSB7XG4gICAgaWYgKCFzb3VyY2VzW21hdGNoWzJdXSkge1xuICAgICAgcmV0dmFsW3F1ZXVlTmFtZV0ucHVzaChtYXRjaFsxXSlcbiAgICAgIHNvdXJjZXNbbWF0Y2hbMl1dID0gX193ZWJwYWNrX3JlcXVpcmVfXyhtYXRjaFsxXSkubVxuICAgIH1cbiAgICByZXR2YWxbbWF0Y2hbMl1dID0gcmV0dmFsW21hdGNoWzJdXSB8fCBbXVxuICAgIHJldHZhbFttYXRjaFsyXV0ucHVzaChtYXRjaFs0XSlcbiAgfVxuXG4gIC8vIGNvbnZlcnQgMWUzIGJhY2sgdG8gMTAwMCAtIHRoaXMgY2FuIGJlIGltcG9ydGFudCBhZnRlciB1Z2xpZnktanMgY29udmVydGVkIDEwMDAgdG8gMWUzXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmV0dmFsKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXR2YWxba2V5c1tpXV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChpc051bWVyaWMocmV0dmFsW2tleXNbaV1dW2pdKSkge1xuICAgICAgICByZXR2YWxba2V5c1tpXV1bal0gPSAxICogcmV0dmFsW2tleXNbaV1dW2pdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXR2YWxcbn1cblxuZnVuY3Rpb24gaGFzVmFsdWVzSW5RdWV1ZXMgKHF1ZXVlcykge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHF1ZXVlcylcbiAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChoYXNWYWx1ZXMsIGtleSkge1xuICAgIHJldHVybiBoYXNWYWx1ZXMgfHwgcXVldWVzW2tleV0ubGVuZ3RoID4gMFxuICB9LCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gZ2V0UmVxdWlyZWRNb2R1bGVzIChzb3VyY2VzLCBtb2R1bGVJZCkge1xuICB2YXIgbW9kdWxlc1F1ZXVlID0ge1xuICAgIG1haW46IFttb2R1bGVJZF1cbiAgfVxuICB2YXIgcmVxdWlyZWRNb2R1bGVzID0ge1xuICAgIG1haW46IFtdXG4gIH1cbiAgdmFyIHNlZW5Nb2R1bGVzID0ge1xuICAgIG1haW46IHt9XG4gIH1cblxuICB3aGlsZSAoaGFzVmFsdWVzSW5RdWV1ZXMobW9kdWxlc1F1ZXVlKSkge1xuICAgIHZhciBxdWV1ZXMgPSBPYmplY3Qua2V5cyhtb2R1bGVzUXVldWUpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBxdWV1ZU5hbWUgPSBxdWV1ZXNbaV1cbiAgICAgIHZhciBxdWV1ZSA9IG1vZHVsZXNRdWV1ZVtxdWV1ZU5hbWVdXG4gICAgICB2YXIgbW9kdWxlVG9DaGVjayA9IHF1ZXVlLnBvcCgpXG4gICAgICBzZWVuTW9kdWxlc1txdWV1ZU5hbWVdID0gc2Vlbk1vZHVsZXNbcXVldWVOYW1lXSB8fCB7fVxuICAgICAgaWYgKHNlZW5Nb2R1bGVzW3F1ZXVlTmFtZV1bbW9kdWxlVG9DaGVja10gfHwgIXNvdXJjZXNbcXVldWVOYW1lXVttb2R1bGVUb0NoZWNrXSkgY29udGludWVcbiAgICAgIHNlZW5Nb2R1bGVzW3F1ZXVlTmFtZV1bbW9kdWxlVG9DaGVja10gPSB0cnVlXG4gICAgICByZXF1aXJlZE1vZHVsZXNbcXVldWVOYW1lXSA9IHJlcXVpcmVkTW9kdWxlc1txdWV1ZU5hbWVdIHx8IFtdXG4gICAgICByZXF1aXJlZE1vZHVsZXNbcXVldWVOYW1lXS5wdXNoKG1vZHVsZVRvQ2hlY2spXG4gICAgICB2YXIgbmV3TW9kdWxlcyA9IGdldE1vZHVsZURlcGVuZGVuY2llcyhzb3VyY2VzLCBzb3VyY2VzW3F1ZXVlTmFtZV1bbW9kdWxlVG9DaGVja10sIHF1ZXVlTmFtZSlcbiAgICAgIHZhciBuZXdNb2R1bGVzS2V5cyA9IE9iamVjdC5rZXlzKG5ld01vZHVsZXMpXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld01vZHVsZXNLZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIG1vZHVsZXNRdWV1ZVtuZXdNb2R1bGVzS2V5c1tqXV0gPSBtb2R1bGVzUXVldWVbbmV3TW9kdWxlc0tleXNbal1dIHx8IFtdXG4gICAgICAgIG1vZHVsZXNRdWV1ZVtuZXdNb2R1bGVzS2V5c1tqXV0gPSBtb2R1bGVzUXVldWVbbmV3TW9kdWxlc0tleXNbal1dLmNvbmNhdChuZXdNb2R1bGVzW25ld01vZHVsZXNLZXlzW2pdXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVxdWlyZWRNb2R1bGVzXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1vZHVsZUlkLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBzb3VyY2VzID0ge1xuICAgIG1haW46IF9fd2VicGFja19yZXF1aXJlX18ubVxuICB9XG5cbiAgdmFyIHJlcXVpcmVkTW9kdWxlcyA9IG9wdGlvbnMuYWxsID8geyBtYWluOiBPYmplY3Qua2V5cyhzb3VyY2VzLm1haW4pIH0gOiBnZXRSZXF1aXJlZE1vZHVsZXMoc291cmNlcywgbW9kdWxlSWQpXG5cbiAgdmFyIHNyYyA9ICcnXG5cbiAgT2JqZWN0LmtleXMocmVxdWlyZWRNb2R1bGVzKS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0gIT09ICdtYWluJyB9KS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICB2YXIgZW50cnlNb2R1bGUgPSAwXG4gICAgd2hpbGUgKHJlcXVpcmVkTW9kdWxlc1ttb2R1bGVdW2VudHJ5TW9kdWxlXSkge1xuICAgICAgZW50cnlNb2R1bGUrK1xuICAgIH1cbiAgICByZXF1aXJlZE1vZHVsZXNbbW9kdWxlXS5wdXNoKGVudHJ5TW9kdWxlKVxuICAgIHNvdXJjZXNbbW9kdWxlXVtlbnRyeU1vZHVsZV0gPSAnKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgeyBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX187IH0pJ1xuICAgIHNyYyA9IHNyYyArICd2YXIgJyArIG1vZHVsZSArICcgPSAoJyArIHdlYnBhY2tCb290c3RyYXBGdW5jLnRvU3RyaW5nKCkucmVwbGFjZSgnRU5UUllfTU9EVUxFJywgSlNPTi5zdHJpbmdpZnkoZW50cnlNb2R1bGUpKSArICcpKHsnICsgcmVxdWlyZWRNb2R1bGVzW21vZHVsZV0ubWFwKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gJycgKyBKU09OLnN0cmluZ2lmeShpZCkgKyAnOiAnICsgc291cmNlc1ttb2R1bGVdW2lkXS50b1N0cmluZygpIH0pLmpvaW4oJywnKSArICd9KTtcXG4nXG4gIH0pXG5cbiAgc3JjID0gc3JjICsgJ25ldyAoKCcgKyB3ZWJwYWNrQm9vdHN0cmFwRnVuYy50b1N0cmluZygpLnJlcGxhY2UoJ0VOVFJZX01PRFVMRScsIEpTT04uc3RyaW5naWZ5KG1vZHVsZUlkKSkgKyAnKSh7JyArIHJlcXVpcmVkTW9kdWxlcy5tYWluLm1hcChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuICcnICsgSlNPTi5zdHJpbmdpZnkoaWQpICsgJzogJyArIHNvdXJjZXMubWFpbltpZF0udG9TdHJpbmcoKSB9KS5qb2luKCcsJykgKyAnfSkpKHNlbGYpOydcblxuICB2YXIgYmxvYiA9IG5ldyB3aW5kb3cuQmxvYihbc3JjXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KVxuICBpZiAob3B0aW9ucy5iYXJlKSB7IHJldHVybiBibG9iIH1cblxuICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMXG5cbiAgdmFyIHdvcmtlclVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgdmFyIHdvcmtlciA9IG5ldyB3aW5kb3cuV29ya2VyKHdvcmtlclVybClcbiAgd29ya2VyLm9iamVjdFVSTCA9IHdvcmtlclVybFxuXG4gIHJldHVybiB3b3JrZXJcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb25maWcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbmZpZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogSExTIGNvbmZpZ1xuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYWJyX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9hYnItY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYWJyLWNvbnRyb2xsZXIuanNcIik7XG52YXIgYnVmZmVyX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9idWZmZXItY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYnVmZmVyLWNvbnRyb2xsZXIuanNcIik7XG52YXIgY2FwX2xldmVsX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9jYXAtbGV2ZWwtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvY2FwLWxldmVsLWNvbnRyb2xsZXIuanNcIik7XG52YXIgZnBzX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9mcHMtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZnBzLWNvbnRyb2xsZXIuanNcIik7XG52YXIgeGhyX2xvYWRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy94aHItbG9hZGVyICovIFwiLi9zcmMvdXRpbHMveGhyLWxvYWRlci5qc1wiKTtcbi8vIGltcG9ydCBGZXRjaExvYWRlciBmcm9tICcuL3V0aWxzL2ZldGNoLWxvYWRlcic7XG52YXIgYXVkaW9fdHJhY2tfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIuanNcIik7XG52YXIgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9hdWRpby1zdHJlYW0tY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIuanNcIik7XG52YXIgQ3VlcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbHMvY3VlcyAqLyBcIi4vc3JjL3V0aWxzL2N1ZXMuanNcIik7XG52YXIgdGltZWxpbmVfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL3RpbWVsaW5lLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL3RpbWVsaW5lLWNvbnRyb2xsZXIuanNcIik7XG52YXIgc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIuanNcIik7XG52YXIgc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9zdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIuanNcIik7XG52YXIgZW1lX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9lbWUtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZW1lLWNvbnRyb2xsZXIuanNcIik7XG52YXIgbWVkaWFrZXlzX2hlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9tZWRpYWtleXMtaGVscGVyICovIFwiLi9zcmMvdXRpbHMvbWVkaWFrZXlzLWhlbHBlci5qc1wiKTtcbmV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZyA9IHtcbiAgICBhdXRvU3RhcnRMb2FkOiB0cnVlLFxuICAgIHN0YXJ0UG9zaXRpb246IC0xLFxuICAgIGRlZmF1bHRBdWRpb0NvZGVjOiB1bmRlZmluZWQsXG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGNhcExldmVsT25GUFNEcm9wOiBmYWxzZSxcbiAgICBjYXBMZXZlbFRvUGxheWVyU2l6ZTogZmFsc2UsXG4gICAgaW5pdGlhbExpdmVNYW5pZmVzdFNpemU6IDEsXG4gICAgbWF4QnVmZmVyTGVuZ3RoOiAzMCxcbiAgICBtYXhCdWZmZXJTaXplOiA2MCAqIDEwMDAgKiAxMDAwLFxuICAgIG1heEJ1ZmZlckhvbGU6IDAuNSxcbiAgICBsb3dCdWZmZXJXYXRjaGRvZ1BlcmlvZDogMC41LFxuICAgIGhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZDogMyxcbiAgICBudWRnZU9mZnNldDogMC4xLFxuICAgIG51ZGdlTWF4UmV0cnk6IDMsXG4gICAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTogMC4yNSxcbiAgICBsaXZlU3luY0R1cmF0aW9uQ291bnQ6IDMsXG4gICAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50OiBJbmZpbml0eSxcbiAgICBsaXZlU3luY0R1cmF0aW9uOiB1bmRlZmluZWQsXG4gICAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbjogdW5kZWZpbmVkLFxuICAgIGxpdmVEdXJhdGlvbkluZmluaXR5OiBmYWxzZSxcbiAgICBsaXZlQmFja0J1ZmZlckxlbmd0aDogSW5maW5pdHksXG4gICAgbWF4TWF4QnVmZmVyTGVuZ3RoOiA2MDAsXG4gICAgZW5hYmxlV29ya2VyOiB0cnVlLFxuICAgIGVuYWJsZVNvZnR3YXJlQUVTOiB0cnVlLFxuICAgIG1hbmlmZXN0TG9hZGluZ1RpbWVPdXQ6IDEwMDAwLFxuICAgIG1hbmlmZXN0TG9hZGluZ01heFJldHJ5OiAxLFxuICAgIG1hbmlmZXN0TG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsXG4gICAgbWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0OiA2NDAwMCxcbiAgICBzdGFydExldmVsOiB1bmRlZmluZWQsXG4gICAgbGV2ZWxMb2FkaW5nVGltZU91dDogMTAwMDAsXG4gICAgbGV2ZWxMb2FkaW5nTWF4UmV0cnk6IDQsXG4gICAgbGV2ZWxMb2FkaW5nUmV0cnlEZWxheTogMTAwMCxcbiAgICBsZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IDY0MDAwLFxuICAgIGZyYWdMb2FkaW5nVGltZU91dDogMjAwMDAsXG4gICAgZnJhZ0xvYWRpbmdNYXhSZXRyeTogNixcbiAgICBmcmFnTG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsXG4gICAgZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IDY0MDAwLFxuICAgIHN0YXJ0RnJhZ1ByZWZldGNoOiBmYWxzZSxcbiAgICBmcHNEcm9wcGVkTW9uaXRvcmluZ1BlcmlvZDogNTAwMCxcbiAgICBmcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZDogMC4yLFxuICAgIGFwcGVuZEVycm9yTWF4UmV0cnk6IDMsXG4gICAgbG9hZGVyOiB4aHJfbG9hZGVyXzEuZGVmYXVsdCxcbiAgICAvLyBsb2FkZXI6IEZldGNoTG9hZGVyLFxuICAgIGZMb2FkZXI6IHVuZGVmaW5lZCxcbiAgICBwTG9hZGVyOiB1bmRlZmluZWQsXG4gICAgeGhyU2V0dXA6IHVuZGVmaW5lZCxcbiAgICBsaWNlbnNlWGhyU2V0dXA6IHVuZGVmaW5lZCxcbiAgICAvLyBmZXRjaFNldHVwOiB1bmRlZmluZWQsXG4gICAgYWJyQ29udHJvbGxlcjogYWJyX2NvbnRyb2xsZXJfMS5kZWZhdWx0LFxuICAgIGJ1ZmZlckNvbnRyb2xsZXI6IGJ1ZmZlcl9jb250cm9sbGVyXzEuZGVmYXVsdCxcbiAgICBjYXBMZXZlbENvbnRyb2xsZXI6IGNhcF9sZXZlbF9jb250cm9sbGVyXzEuZGVmYXVsdCxcbiAgICBmcHNDb250cm9sbGVyOiBmcHNfY29udHJvbGxlcl8xLmRlZmF1bHQsXG4gICAgc3RyZXRjaFNob3J0VmlkZW9UcmFjazogZmFsc2UsXG4gICAgbWF4QXVkaW9GcmFtZXNEcmlmdDogMSxcbiAgICBmb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5OiB0cnVlLFxuICAgIGFickV3bWFGYXN0TGl2ZTogMyxcbiAgICBhYnJFd21hU2xvd0xpdmU6IDksXG4gICAgYWJyRXdtYUZhc3RWb0Q6IDMsXG4gICAgYWJyRXdtYVNsb3dWb0Q6IDksXG4gICAgYWJyRXdtYURlZmF1bHRFc3RpbWF0ZTogNWU1LFxuICAgIGFickJhbmRXaWR0aEZhY3RvcjogMC45NSxcbiAgICBhYnJCYW5kV2lkdGhVcEZhY3RvcjogMC43LFxuICAgIGFick1heFdpdGhSZWFsQml0cmF0ZTogZmFsc2UsXG4gICAgbWF4U3RhcnZhdGlvbkRlbGF5OiA0LFxuICAgIG1heExvYWRpbmdEZWxheTogNCxcbiAgICBtaW5BdXRvQml0cmF0ZTogMCxcbiAgICBlbWVFbmFibGVkOiBmYWxzZSxcbiAgICB3aWRldmluZUxpY2Vuc2VVcmw6IHVuZGVmaW5lZCxcbiAgICByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jOiBtZWRpYWtleXNfaGVscGVyXzEucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIC8vIHVzZWQgYnkgZW1lLWNvbnRyb2xsZXJcbn07XG5pZiAodHJ1ZSkge1xuICAgIGV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZy5zdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl8xLlN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyXzEuZGVmYXVsdDtcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcudGltZWxpbmVDb250cm9sbGVyID0gdGltZWxpbmVfY29udHJvbGxlcl8xLmRlZmF1bHQ7XG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmN1ZUhhbmRsZXIgPSBDdWVzOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuZW5hYmxlQ0VBNzA4Q2FwdGlvbnMgPSB0cnVlOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuZW5hYmxlV2ViVlRUID0gdHJ1ZTsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhYmVsID0gJ0VuZ2xpc2gnOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlID0gJ2VuJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhYmVsID0gJ1NwYW5pc2gnOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2syTGFuZ3VhZ2VDb2RlID0gJ2VzJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG59XG5pZiAodHJ1ZSkge1xuICAgIGV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZy5hdWRpb1N0cmVhbUNvbnRyb2xsZXIgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl8xLmRlZmF1bHQ7XG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmF1ZGlvVHJhY2tDb250cm9sbGVyID0gYXVkaW9fdHJhY2tfY29udHJvbGxlcl8xLmRlZmF1bHQ7XG59XG5pZiAodHJ1ZSkge1xuICAgIGV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZy5lbWVDb250cm9sbGVyID0gZW1lX2NvbnRyb2xsZXJfMS5kZWZhdWx0O1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYWJyLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2Fici1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogc2ltcGxlIEFCUiBDb250cm9sbGVyXG4gKiAgLSBjb21wdXRlIG5leHQgbGV2ZWwgYmFzZWQgb24gbGFzdCBmcmFnbWVudCBidyBoZXVyaXN0aWNzXG4gKiAgLSBpbXBsZW1lbnQgYW4gYWJhbmRvbiBydWxlcyB0cmlnZ2VyZWQgaWYgd2UgaGF2ZSBsZXNzIHRoYW4gMiBmcmFnIGJ1ZmZlcmVkIGFuZCBpZiBjb21wdXRlZCBidyBzaG93cyB0aGF0IHdlIHJpc2sgYnVmZmVyIHN0YWxsaW5nXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGV2ZW50X2hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50LWhhbmRsZXIgKi8gXCIuL3NyYy9ldmVudC1oYW5kbGVyLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGVycm9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXJyb3JzICovIFwiLi9zcmMvZXJyb3JzLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yICovIFwiLi9zcmMvdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yLmpzXCIpO1xudmFyIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlO1xudmFyIEFickNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFickNvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJyQ29udHJvbGxlcihobHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRElORywgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURFRCwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0JVRkZFUkVELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID0gMDtcbiAgICAgICAgX3RoaXMuX25leHRBdXRvTGV2ZWwgPSAtMTtcbiAgICAgICAgX3RoaXMuaGxzID0gaGxzO1xuICAgICAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIF90aGlzLl9id0VzdGltYXRvciA9IG51bGw7XG4gICAgICAgIF90aGlzLm9uQ2hlY2sgPSBfdGhpcy5fYWJhbmRvblJ1bGVzQ2hlY2suYmluZChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgIGV2ZW50X2hhbmRsZXJfMS5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgICAgIGlmIChmcmFnLnR5cGUgPT09ICdtYWluJykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IGZyYWc7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMub25DaGVjaywgMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxhenkgaW5pdCBvZiBCd0VzdGltYXRvciwgcmF0aW9uYWxlIGlzIHRoYXQgd2UgdXNlIGRpZmZlcmVudCBwYXJhbXMgZm9yIExpdmUvVm9EXG4gICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHN0cmVhbSBtYW5pZmVzdCAvIHBsYXlsaXN0IHR5cGUgdG8gaW5zdGFudGlhdGUgaXQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2J3RXN0aW1hdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhsc18xID0gdGhpcy5obHM7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IGhsc18xLmNvbmZpZztcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWwgPSBmcmFnLmxldmVsO1xuICAgICAgICAgICAgICAgIHZhciBpc0xpdmUgPSBobHNfMS5sZXZlbHNbbGV2ZWxdLmRldGFpbHMubGl2ZTtcbiAgICAgICAgICAgICAgICB2YXIgZXdtYUZhc3QgPSB2b2lkIDAsIGV3bWFTbG93ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChpc0xpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXdtYUZhc3QgPSBjb25maWcuYWJyRXdtYUZhc3RMaXZlO1xuICAgICAgICAgICAgICAgICAgICBld21hU2xvdyA9IGNvbmZpZy5hYnJFd21hU2xvd0xpdmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBld21hRmFzdCA9IGNvbmZpZy5hYnJFd21hRmFzdFZvRDtcbiAgICAgICAgICAgICAgICAgICAgZXdtYVNsb3cgPSBjb25maWcuYWJyRXdtYVNsb3dWb0Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yID0gbmV3IGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl8xLmRlZmF1bHQoaGxzXzEsIGV3bWFTbG93LCBld21hRmFzdCwgY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5fYWJhbmRvblJ1bGVzQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgbW9uaXRvciBmcmFnbWVudCByZXRyaWV2YWwgdGltZS4uLlxuICAgICAgICAgIHdlIGNvbXB1dGUgZXhwZWN0ZWQgdGltZSBvZiBhcnJpdmFsIG9mIHRoZSBjb21wbGV0ZSBmcmFnbWVudC5cbiAgICAgICAgICB3ZSBjb21wYXJlIGl0IHRvIGV4cGVjdGVkIHRpbWUgb2YgYnVmZmVyIHN0YXJ2YXRpb25cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgICAgICB2YXIgdmlkZW8gPSBobHMubWVkaWE7XG4gICAgICAgIHZhciBmcmFnID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgaWYgKCFmcmFnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvYWRlciA9IGZyYWcubG9hZGVyO1xuICAgICAgICB2YXIgbWluQXV0b0xldmVsID0gaGxzLm1pbkF1dG9MZXZlbDtcbiAgICAgICAgLy8gaWYgbG9hZGVyIGhhcyBiZWVuIGRlc3Ryb3llZCBvciBsb2FkaW5nIGhhcyBiZWVuIGFib3J0ZWQsIHN0b3AgdGltZXIgYW5kIHJldHVyblxuICAgICAgICBpZiAoIWxvYWRlciB8fCAobG9hZGVyLnN0YXRzICYmIGxvYWRlci5zdGF0cy5hYm9ydGVkKSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2ZyYWcgbG9hZGVyIGRlc3Ryb3kgb3IgYWJvcnRlZCwgZGlzYXJtIGFiYW5kb25SdWxlcycpO1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICAvLyByZXNldCBmb3JjZWQgYXV0byBsZXZlbCB2YWx1ZSBzbyB0aGF0IG5leHQgbGV2ZWwgd2lsbCBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0cyA9IGxvYWRlci5zdGF0cztcbiAgICAgICAgLyogb25seSBtb25pdG9yIGZyYWcgcmV0cmlldmFsIHRpbWUgaWZcbiAgICAgICAgKHZpZGVvIG5vdCBwYXVzZWQgT1IgZmlyc3QgZnJhZ21lbnQgYmVpbmcgbG9hZGVkKHJlYWR5IHN0YXRlID09PSBIQVZFX05PVEhJTkcgPSAwKSkgQU5EIGF1dG9zd2l0Y2hpbmcgZW5hYmxlZCBBTkQgbm90IGxvd2VzdCBsZXZlbCAoPT4gbWVhbnMgdGhhdCB3ZSBoYXZlIHNldmVyYWwgbGV2ZWxzKSAqL1xuICAgICAgICBpZiAodmlkZW8gJiYgc3RhdHMgJiYgKCghdmlkZW8ucGF1c2VkICYmICh2aWRlby5wbGF5YmFja1JhdGUgIT09IDApKSB8fCAhdmlkZW8ucmVhZHlTdGF0ZSkgJiYgZnJhZy5hdXRvTGV2ZWwgJiYgZnJhZy5sZXZlbCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3REZWxheSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhdHMudHJlcXVlc3QsIHBsYXliYWNrUmF0ZSA9IE1hdGguYWJzKHZpZGVvLnBsYXliYWNrUmF0ZSk7XG4gICAgICAgICAgICAvLyBtb25pdG9yIGZyYWdtZW50IGxvYWQgcHJvZ3Jlc3MgYWZ0ZXIgaGFsZiBvZiBleHBlY3RlZCBmcmFnbWVudCBkdXJhdGlvbix0byBzdGFiaWxpemUgYml0cmF0ZVxuICAgICAgICAgICAgaWYgKHJlcXVlc3REZWxheSA+ICg1MDAgKiBmcmFnLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlKSkge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbHMgPSBobHMubGV2ZWxzLCBsb2FkUmF0ZSA9IE1hdGgubWF4KDEsIHN0YXRzLmJ3ID8gc3RhdHMuYncgLyA4IDogc3RhdHMubG9hZGVkICogMTAwMCAvIHJlcXVlc3REZWxheSksIC8vIGJ5dGUvczsgYXQgbGVhc3QgMSBieXRlL3MgdG8gYXZvaWQgZGl2aXNpb24gYnkgemVyb1xuICAgICAgICAgICAgICAgIC8vIGNvbXB1dGUgZXhwZWN0ZWQgZnJhZ21lbnQgbGVuZ3RoIHVzaW5nIGZyYWcgZHVyYXRpb24gYW5kIGxldmVsIGJpdHJhdGUuIGFsc28gZW5zdXJlIHRoYXQgZXhwZWN0ZWQgbGVuIGlzIGd0ZSB0aGFuIGFscmVhZHkgbG9hZGVkIHNpemVcbiAgICAgICAgICAgICAgICBsZXZlbCA9IGxldmVsc1tmcmFnLmxldmVsXSwgbGV2ZWxCaXRyYXRlID0gbGV2ZWwucmVhbEJpdHJhdGUgPyBNYXRoLm1heChsZXZlbC5yZWFsQml0cmF0ZSwgbGV2ZWwuYml0cmF0ZSkgOiBsZXZlbC5iaXRyYXRlLCBleHBlY3RlZExlbiA9IHN0YXRzLnRvdGFsID8gc3RhdHMudG90YWwgOiBNYXRoLm1heChzdGF0cy5sb2FkZWQsIE1hdGgucm91bmQoZnJhZy5kdXJhdGlvbiAqIGxldmVsQml0cmF0ZSAvIDgpKSwgcG9zID0gdmlkZW8uY3VycmVudFRpbWUsIGZyYWdMb2FkZWREZWxheSA9IChleHBlY3RlZExlbiAtIHN0YXRzLmxvYWRlZCkgLyBsb2FkUmF0ZSwgYnVmZmVyU3RhcnZhdGlvbkRlbGF5ID0gKGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyh2aWRlbywgcG9zLCBobHMuY29uZmlnLm1heEJ1ZmZlckhvbGUpLmVuZCAtIHBvcykgLyBwbGF5YmFja1JhdGU7XG4gICAgICAgICAgICAgICAgLy8gY29uc2lkZXIgZW1lcmdlbmN5IHN3aXRjaCBkb3duIG9ubHkgaWYgd2UgaGF2ZSBsZXNzIHRoYW4gMiBmcmFnIGJ1ZmZlcmVkIEFORFxuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZmluaXNoIGxvYWRpbmcgY3VycmVudCBmcmFnbWVudCBpcyBiaWdnZXIgdGhhbiBidWZmZXIgc3RhcnZhdGlvbiBkZWxheVxuICAgICAgICAgICAgICAgIC8vIGllIGlmIHdlIHJpc2sgYnVmZmVyIHN0YXJ2YXRpb24gaWYgYncgZG9lcyBub3QgaW5jcmVhc2UgcXVpY2tseVxuICAgICAgICAgICAgICAgIGlmICgoYnVmZmVyU3RhcnZhdGlvbkRlbGF5IDwgKDIgKiBmcmFnLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlKSkgJiYgKGZyYWdMb2FkZWREZWxheSA+IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA9IHZvaWQgMCwgbmV4dExvYWRMZXZlbCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0cyBpdGVyYXRlIHRocm91Z2ggbG93ZXIgbGV2ZWwgYW5kIHRyeSB0byBmaW5kIHRoZSBiaWdnZXN0IG9uZSB0aGF0IGNvdWxkIGF2b2lkIHJlYnVmZmVyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHN0YXJ0IGZyb20gY3VycmVudCBsZXZlbCAtIDEgYW5kIHdlIHN0ZXAgZG93biAsIHVudGlsIHdlIGZpbmQgYSBtYXRjaGluZyBsZXZlbFxuICAgICAgICAgICAgICAgICAgICBmb3IgKG5leHRMb2FkTGV2ZWwgPSBmcmFnLmxldmVsIC0gMTsgbmV4dExvYWRMZXZlbCA+IG1pbkF1dG9MZXZlbDsgbmV4dExvYWRMZXZlbC0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlIHRpbWUgdG8gbG9hZCBuZXh0IGZyYWdtZW50IGF0IGxvd2VyIGxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAwLjggOiBjb25zaWRlciBvbmx5IDgwJSBvZiBjdXJyZW50IGJ3IHRvIGJlIGNvbnNlcnZhdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gOCA9IGJpdHMgcGVyIGJ5dGUgKGJwcy9CcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGV2ZWxOZXh0Qml0cmF0ZSA9IGxldmVsc1tuZXh0TG9hZExldmVsXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tuZXh0TG9hZExldmVsXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW25leHRMb2FkTGV2ZWxdLmJpdHJhdGUpIDogbGV2ZWxzW25leHRMb2FkTGV2ZWxdLmJpdHJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPSBmcmFnLmR1cmF0aW9uICogbGV2ZWxOZXh0Qml0cmF0ZSAvICg4ICogMC44ICogbG9hZFJhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA8IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGZvdW5kIGEgbG93ZXIgbGV2ZWwgdGhhdCBiZSByZWJ1ZmZlcmluZyBmcmVlIHdpdGggY3VycmVudCBlc3RpbWF0ZWQgYncgIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgZW1lcmdlbmN5IHN3aXRjaCBkb3duIGlmIGl0IHRha2VzIGxlc3MgdGltZSB0byBsb2FkIG5ldyBmcmFnbWVudCBhdCBsb3dlc3QgbGV2ZWwgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICAvLyBvZiBmaW5pc2hpbmcgbG9hZGluZyBjdXJyZW50IG9uZSAuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA8IGZyYWdMb2FkZWREZWxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsb2FkaW5nIHRvbyBzbG93LCBhYm9ydCBmcmFnbWVudCBsb2FkaW5nIGFuZCBzd2l0Y2ggdG8gbGV2ZWwgXCIgKyBuZXh0TG9hZExldmVsICsgXCI6ZnJhZ0xvYWRlZERlbGF5W1wiICsgbmV4dExvYWRMZXZlbCArIFwiXTxmcmFnTG9hZGVkRGVsYXlbXCIgKyAoZnJhZy5sZXZlbCAtIDEpICsgXCJdO2J1ZmZlclN0YXJ2YXRpb25EZWxheTpcIiArIGZyYWdMZXZlbE5leHRMb2FkZWREZWxheS50b0ZpeGVkKDEpICsgXCI8XCIgKyBmcmFnTG9hZGVkRGVsYXkudG9GaXhlZCgxKSArIFwiOlwiICsgYnVmZmVyU3RhcnZhdGlvbkRlbGF5LnRvRml4ZWQoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgbmV4dCBsb2FkIGxldmVsIGluIGF1dG8gbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgaGxzLm5leHRMb2FkTGV2ZWwgPSBuZXh0TG9hZExldmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ3IGVzdGltYXRlIGZvciB0aGlzIGZyYWdtZW50IGJlZm9yZSBjYW5jZWxsaW5nIGxvYWQgKHRoaXMgd2lsbCBoZWxwIHJlZHVjaW5nIHRoZSBidylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yLnNhbXBsZShyZXF1ZXN0RGVsYXksIHN0YXRzLmxvYWRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhYm9ydCBmcmFnbWVudCBsb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3AgYWJhbmRvbiBydWxlcyB0aW1lclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgeyBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAoZnJhZy50eXBlID09PSAnbWFpbicgJiYgTnVtYmVyLmlzRmluaXRlKGZyYWcuc24pKSB7XG4gICAgICAgICAgICAvLyBzdG9wIG1vbml0b3JpbmcgYncgb25jZSBmcmFnIGxvYWRlZFxuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICAvLyBzdG9yZSBsZXZlbCBpZCBhZnRlciBzdWNjZXNzZnVsIGZyYWdtZW50IGxvYWRcbiAgICAgICAgICAgIHRoaXMubGFzdExvYWRlZEZyYWdMZXZlbCA9IGZyYWcubGV2ZWw7XG4gICAgICAgICAgICAvLyByZXNldCBmb3JjZWQgYXV0byBsZXZlbCB2YWx1ZSBzbyB0aGF0IG5leHQgbGV2ZWwgd2lsbCBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IC0xO1xuICAgICAgICAgICAgLy8gY29tcHV0ZSBsZXZlbCBhdmVyYWdlIGJpdHJhdGVcbiAgICAgICAgICAgIGlmICh0aGlzLmhscy5jb25maWcuYWJyTWF4V2l0aFJlYWxCaXRyYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gdGhpcy5obHMubGV2ZWxzW2ZyYWcubGV2ZWxdO1xuICAgICAgICAgICAgICAgIHZhciBsb2FkZWRCeXRlcyA9IChsZXZlbC5sb2FkZWQgPyBsZXZlbC5sb2FkZWQuYnl0ZXMgOiAwKSArIGRhdGEuc3RhdHMubG9hZGVkO1xuICAgICAgICAgICAgICAgIHZhciBsb2FkZWREdXJhdGlvbiA9IChsZXZlbC5sb2FkZWQgPyBsZXZlbC5sb2FkZWQuZHVyYXRpb24gOiAwKSArIGRhdGEuZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBsZXZlbC5sb2FkZWQgPSB7IGJ5dGVzOiBsb2FkZWRCeXRlcywgZHVyYXRpb246IGxvYWRlZER1cmF0aW9uIH07XG4gICAgICAgICAgICAgICAgbGV2ZWwucmVhbEJpdHJhdGUgPSBNYXRoLnJvdW5kKDggKiBsb2FkZWRCeXRlcyAvIGxvYWRlZER1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGZyYWdtZW50IGhhcyBiZWVuIGxvYWRlZCB0byBwZXJmb3JtIGEgYml0cmF0ZSB0ZXN0LFxuICAgICAgICAgICAgaWYgKGRhdGEuZnJhZy5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0cyA9IGRhdGEuc3RhdHM7XG4gICAgICAgICAgICAgICAgc3RhdHMudHBhcnNlZCA9IHN0YXRzLnRidWZmZXJlZCA9IHN0YXRzLnRsb2FkO1xuICAgICAgICAgICAgICAgIHRoaXMub25GcmFnQnVmZmVyZWQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0J1ZmZlcmVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHN0YXRzID0gZGF0YS5zdGF0cztcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHN0YXRzIG9uIGZpcnN0IGZyYWcgYnVmZmVyaW5nXG4gICAgICAgIC8vIGlmIHNhbWUgZnJhZyBpcyBsb2FkZWQgbXVsdGlwbGUgdGltZXMsIGl0IG1pZ2h0IGJlIGluIGJyb3dzZXIgY2FjaGUsIGFuZCBsb2FkZWQgcXVpY2tseVxuICAgICAgICAvLyBhbmQgbGVhZGluZyB0byB3cm9uZyBidyBlc3RpbWF0aW9uXG4gICAgICAgIC8vIG9uIGJpdHJhdGUgdGVzdCwgYWxzbyBvbmx5IHVwZGF0ZSBzdGF0cyBvbmNlIChpZiB0bG9hZCA9IHRidWZmZXJlZCA9PSBvbiBGUkFHX0xPQURFRClcbiAgICAgICAgaWYgKHN0YXRzLmFib3J0ZWQgIT09IHRydWUgJiYgZnJhZy50eXBlID09PSAnbWFpbicgJiYgTnVtYmVyLmlzRmluaXRlKGZyYWcuc24pICYmICgoIWZyYWcuYml0cmF0ZVRlc3QgfHwgc3RhdHMudGxvYWQgPT09IHN0YXRzLnRidWZmZXJlZCkpKSB7XG4gICAgICAgICAgICAvLyB1c2UgdHBhcnNlZC10cmVxdWVzdCBpbnN0ZWFkIG9mIHRidWZmZXJlZC10cmVxdWVzdCB0byBjb21wdXRlIGZyYWdMb2FkaW5nUHJvY2Vzc2luZzsgcmF0aW9uYWxlIGlzIHRoYXQgIGJ1ZmZlciBhcHBlbmRpbmcgb25seSBoYXBwZW5zIG9uY2UgbWVkaWEgaXMgYXR0YWNoZWRcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UgdXNlIGNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCB3aGlsZSBtZWRpYSBpcyBub3QgYXR0YWNoZWQgeWV0LCBmcmFnbWVudCBtaWdodCBiZSBwYXJzZWQgd2hpbGUgbWVkaWEgbm90IGF0dGFjaGVkIHlldCwgYnV0IGl0IHdpbGwgb25seSBiZSBidWZmZXJlZCBvbiBtZWRpYSBhdHRhY2hlZFxuICAgICAgICAgICAgLy8gYXMgYSBjb25zZXF1ZW5jZSBpdCBjb3VsZCBoYXBwZW4gcmVhbGx5IGxhdGUgaW4gdGhlIHByb2Nlc3MuIG1lYW5pbmcgdGhhdCBhcHBlbmRpbmcgZHVyYXRpb24gbWlnaHQgYXBwZWFycyBodWdlIC4uLiBsZWFkaW5nIHRvIHVuZGVyZXN0aW1hdGVkIHRocm91Z2hwdXQgZXN0aW1hdGlvblxuICAgICAgICAgICAgdmFyIGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zID0gc3RhdHMudHBhcnNlZCAtIHN0YXRzLnRyZXF1ZXN0O1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxhdGVuY3kvbG9hZGluZy9wYXJzaW5nL2FwcGVuZC9rYnBzOlwiICsgTWF0aC5yb3VuZChzdGF0cy50Zmlyc3QgLSBzdGF0cy50cmVxdWVzdCkgKyBcIi9cIiArIE1hdGgucm91bmQoc3RhdHMudGxvYWQgLSBzdGF0cy50Zmlyc3QpICsgXCIvXCIgKyBNYXRoLnJvdW5kKHN0YXRzLnRwYXJzZWQgLSBzdGF0cy50bG9hZCkgKyBcIi9cIiArIE1hdGgucm91bmQoc3RhdHMudGJ1ZmZlcmVkIC0gc3RhdHMudHBhcnNlZCkgKyBcIi9cIiArIE1hdGgucm91bmQoOCAqIHN0YXRzLmxvYWRlZCAvIChzdGF0cy50YnVmZmVyZWQgLSBzdGF0cy50cmVxdWVzdCkpKTtcbiAgICAgICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yLnNhbXBsZShmcmFnTG9hZGluZ1Byb2Nlc3NpbmdNcywgc3RhdHMubG9hZGVkKTtcbiAgICAgICAgICAgIHN0YXRzLmJ3RXN0aW1hdGUgPSB0aGlzLl9id0VzdGltYXRvci5nZXRFc3RpbWF0ZSgpO1xuICAgICAgICAgICAgLy8gaWYgZnJhZ21lbnQgaGFzIGJlZW4gbG9hZGVkIHRvIHBlcmZvcm0gYSBiaXRyYXRlIHRlc3QsIChobHMuc3RhcnRMZXZlbCA9IC0xKSwgc3RvcmUgYml0cmF0ZSB0ZXN0IGRlbGF5IGR1cmF0aW9uXG4gICAgICAgICAgICBpZiAoZnJhZy5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zIC8gMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBzdG9wIHRpbWVyIGluIGNhc2Ugb2YgZnJhZyBsb2FkaW5nIGVycm9yXG4gICAgICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX0xPQURfRVJST1I6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVDpcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFickNvbnRyb2xsZXIucHJvdG90eXBlLCBcIm5leHRBdXRvTGV2ZWxcIiwge1xuICAgICAgICAvLyByZXR1cm4gbmV4dCBhdXRvIGxldmVsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZvcmNlZEF1dG9MZXZlbCA9IHRoaXMuX25leHRBdXRvTGV2ZWw7XG4gICAgICAgICAgICB2YXIgYndFc3RpbWF0b3IgPSB0aGlzLl9id0VzdGltYXRvcjtcbiAgICAgICAgICAgIC8vIGluIGNhc2UgbmV4dCBhdXRvIGxldmVsIGhhcyBiZWVuIGZvcmNlZCwgYW5kIGJ3IG5vdCBhdmFpbGFibGUgb3Igbm90IHJlbGlhYmxlLCByZXR1cm4gZm9yY2VkIHZhbHVlXG4gICAgICAgICAgICBpZiAoZm9yY2VkQXV0b0xldmVsICE9PSAtMSAmJiAoIWJ3RXN0aW1hdG9yIHx8ICFid0VzdGltYXRvci5jYW5Fc3RpbWF0ZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JjZWRBdXRvTGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb21wdXRlIG5leHQgbGV2ZWwgdXNpbmcgQUJSIGxvZ2ljXG4gICAgICAgICAgICB2YXIgbmV4dEFCUkF1dG9MZXZlbCA9IHRoaXMuX25leHRBQlJBdXRvTGV2ZWw7XG4gICAgICAgICAgICAvLyBpZiBmb3JjZWQgYXV0byBsZXZlbCBoYXMgYmVlbiBkZWZpbmVkLCB1c2UgaXQgdG8gY2FwIEFCUiBjb21wdXRlZCBxdWFsaXR5IGxldmVsXG4gICAgICAgICAgICBpZiAoZm9yY2VkQXV0b0xldmVsICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG5leHRBQlJBdXRvTGV2ZWwgPSBNYXRoLm1pbihmb3JjZWRBdXRvTGV2ZWwsIG5leHRBQlJBdXRvTGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHRBQlJBdXRvTGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5leHRMZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFickNvbnRyb2xsZXIucHJvdG90eXBlLCBcIl9uZXh0QUJSQXV0b0xldmVsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcy5obHMsIG1heEF1dG9MZXZlbCA9IGhscy5tYXhBdXRvTGV2ZWwsIGxldmVscyA9IGhscy5sZXZlbHMsIGNvbmZpZyA9IGhscy5jb25maWcsIG1pbkF1dG9MZXZlbCA9IGhscy5taW5BdXRvTGV2ZWw7XG4gICAgICAgICAgICB2YXIgdmlkZW8gPSBobHMubWVkaWEsIGN1cnJlbnRMZXZlbCA9IHRoaXMubGFzdExvYWRlZEZyYWdMZXZlbCwgY3VycmVudEZyYWdEdXJhdGlvbiA9IHRoaXMuZnJhZ0N1cnJlbnQgPyB0aGlzLmZyYWdDdXJyZW50LmR1cmF0aW9uIDogMCwgcG9zID0gKHZpZGVvID8gdmlkZW8uY3VycmVudFRpbWUgOiAwKSwgXG4gICAgICAgICAgICAvLyBwbGF5YmFja1JhdGUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoZSBwbGF5YmFjayByYXRlOyBpZiB2aWRlby5wbGF5YmFja1JhdGUgaXMgMCwgd2UgdXNlIDEgdG8gbG9hZCBhc1xuICAgICAgICAgICAgLy8gaWYgd2UncmUgcGxheWluZyBiYWNrIGF0IHRoZSBub3JtYWwgcmF0ZS5cbiAgICAgICAgICAgIHBsYXliYWNrUmF0ZSA9ICgodmlkZW8gJiYgKHZpZGVvLnBsYXliYWNrUmF0ZSAhPT0gMCkpID8gTWF0aC5hYnModmlkZW8ucGxheWJhY2tSYXRlKSA6IDEuMCksIGF2Z2J3ID0gdGhpcy5fYndFc3RpbWF0b3IgPyB0aGlzLl9id0VzdGltYXRvci5nZXRFc3RpbWF0ZSgpIDogY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGUsIFxuICAgICAgICAgICAgLy8gYnVmZmVyU3RhcnZhdGlvbkRlbGF5IGlzIHRoZSB3YWxsLWNsb2NrIHRpbWUgbGVmdCB1bnRpbCB0aGUgcGxheWJhY2sgYnVmZmVyIGlzIGV4aGF1c3RlZC5cbiAgICAgICAgICAgIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9IChidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmJ1ZmZlckluZm8odmlkZW8sIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLmVuZCAtIHBvcykgLyBwbGF5YmFja1JhdGU7XG4gICAgICAgICAgICAvLyBGaXJzdCwgbG9vayB0byBzZWUgaWYgd2UgY2FuIGZpbmQgYSBsZXZlbCBtYXRjaGluZyB3aXRoIG91ciBhdmcgYmFuZHdpZHRoIEFORCB0aGF0IGNvdWxkIGFsc28gZ3VhcmFudGVlIG5vIHJlYnVmZmVyaW5nIGF0IGFsbFxuICAgICAgICAgICAgdmFyIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSwgY29uZmlnLmFickJhbmRXaWR0aEZhY3RvciwgY29uZmlnLmFickJhbmRXaWR0aFVwRmFjdG9yLCBsZXZlbHMpO1xuICAgICAgICAgICAgaWYgKGJlc3RMZXZlbCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlc3RMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci50cmFjZSgncmVidWZmZXJpbmcgZXhwZWN0ZWQgdG8gaGFwcGVuLCBsZXRzIHRyeSB0byBmaW5kIGEgcXVhbGl0eSBsZXZlbCBtaW5pbWl6aW5nIHRoZSByZWJ1ZmZlcmluZycpO1xuICAgICAgICAgICAgICAgIC8vIG5vdCBwb3NzaWJsZSB0byBnZXQgcmlkIG9mIHJlYnVmZmVyaW5nIC4uLiBsZXQncyB0cnkgdG8gZmluZCBsZXZlbCB0aGF0IHdpbGwgZ3VhcmFudGVlIGxlc3MgdGhhbiBtYXhTdGFydmF0aW9uRGVsYXkgb2YgcmVidWZmZXJpbmdcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBtYXRjaGluZyBsZXZlbCBmb3VuZCwgbG9naWMgd2lsbCByZXR1cm4gMFxuICAgICAgICAgICAgICAgIHZhciBtYXhTdGFydmF0aW9uRGVsYXkgPSBjdXJyZW50RnJhZ0R1cmF0aW9uID8gTWF0aC5taW4oY3VycmVudEZyYWdEdXJhdGlvbiwgY29uZmlnLm1heFN0YXJ2YXRpb25EZWxheSkgOiBjb25maWcubWF4U3RhcnZhdGlvbkRlbGF5LCBid0ZhY3RvciA9IGNvbmZpZy5hYnJCYW5kV2lkdGhGYWN0b3IsIGJ3VXBGYWN0b3IgPSBjb25maWcuYWJyQmFuZFdpZHRoVXBGYWN0b3I7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIGJ1ZmZlciBpcyBlbXB0eSwgbGV0J3MgY2hlY2sgaWYgcHJldmlvdXMgZnJhZ21lbnQgd2FzIGxvYWRlZCB0byBwZXJmb3JtIGEgYml0cmF0ZSB0ZXN0XG4gICAgICAgICAgICAgICAgICAgIHZhciBiaXRyYXRlVGVzdERlbGF5ID0gdGhpcy5iaXRyYXRlVGVzdERlbGF5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0cmF0ZVRlc3REZWxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgdGhlIGNhc2UsIHRoZW4gd2UgbmVlZCB0byBhZGp1c3Qgb3VyIG1heCBzdGFydmF0aW9uIGRlbGF5IHVzaW5nIG1heExvYWRpbmdEZWxheSBjb25maWcgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1heCB2aWRlbyBsb2FkaW5nIGRlbGF5IHVzZWQgaW4gIGF1dG9tYXRpYyBzdGFydCBsZXZlbCBzZWxlY3Rpb24gOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBtb2RlIEFCUiBjb250cm9sbGVyIHdpbGwgZW5zdXJlIHRoYXQgdmlkZW8gbG9hZGluZyB0aW1lIChpZSB0aGUgdGltZSB0byBmZXRjaCB0aGUgZmlyc3QgZnJhZ21lbnQgYXQgbG93ZXN0IHF1YWxpdHkgbGV2ZWwgK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHRpbWUgdG8gZmV0Y2ggdGhlIGZyYWdtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBxdWFsaXR5IGxldmVsIGlzIGxlc3MgdGhhbiBgYGBtYXhMb2FkaW5nRGVsYXlgYGAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FwIG1heExvYWRpbmdEZWxheSBhbmQgZW5zdXJlIGl0IGlzIG5vdCBiaWdnZXIgJ3RoYW4gYml0cmF0ZSB0ZXN0JyBmcmFnIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4TG9hZGluZ0RlbGF5ID0gY3VycmVudEZyYWdEdXJhdGlvbiA/IE1hdGgubWluKGN1cnJlbnRGcmFnRHVyYXRpb24sIGNvbmZpZy5tYXhMb2FkaW5nRGVsYXkpIDogY29uZmlnLm1heExvYWRpbmdEZWxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFN0YXJ2YXRpb25EZWxheSA9IG1heExvYWRpbmdEZWxheSAtIGJpdHJhdGVUZXN0RGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIudHJhY2UoXCJiaXRyYXRlIHRlc3QgdG9vayBcIiArIE1hdGgucm91bmQoMTAwMCAqIGJpdHJhdGVUZXN0RGVsYXkpICsgXCJtcywgc2V0IGZpcnN0IGZyYWdtZW50IG1heCBmZXRjaER1cmF0aW9uIHRvIFwiICsgTWF0aC5yb3VuZCgxMDAwICogbWF4U3RhcnZhdGlvbkRlbGF5KSArIFwiIG1zXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgdXNlIGNvbnNlcnZhdGl2ZSBmYWN0b3Igb24gYml0cmF0ZSB0ZXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBid0ZhY3RvciA9IGJ3VXBGYWN0b3IgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSArIG1heFN0YXJ2YXRpb25EZWxheSwgYndGYWN0b3IsIGJ3VXBGYWN0b3IsIGxldmVscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGJlc3RMZXZlbCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLl9maW5kQmVzdExldmVsID0gZnVuY3Rpb24gKGN1cnJlbnRMZXZlbCwgY3VycmVudEZyYWdEdXJhdGlvbiwgY3VycmVudEJ3LCBtaW5BdXRvTGV2ZWwsIG1heEF1dG9MZXZlbCwgbWF4RmV0Y2hEdXJhdGlvbiwgYndGYWN0b3IsIGJ3VXBGYWN0b3IsIGxldmVscykge1xuICAgICAgICBmb3IgKHZhciBpID0gbWF4QXV0b0xldmVsOyBpID49IG1pbkF1dG9MZXZlbDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWxJbmZvID0gbGV2ZWxzW2ldO1xuICAgICAgICAgICAgaWYgKCFsZXZlbEluZm8pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsZXZlbERldGFpbHMgPSBsZXZlbEluZm8uZGV0YWlscywgYXZnRHVyYXRpb24gPSBsZXZlbERldGFpbHMgPyBsZXZlbERldGFpbHMudG90YWxkdXJhdGlvbiAvIGxldmVsRGV0YWlscy5mcmFnbWVudHMubGVuZ3RoIDogY3VycmVudEZyYWdEdXJhdGlvbiwgbGl2ZSA9IGxldmVsRGV0YWlscyA/IGxldmVsRGV0YWlscy5saXZlIDogZmFsc2UsIGFkanVzdGVkYncgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBmb2xsb3cgYWxnb3JpdGhtIGNhcHR1cmVkIGZyb20gc3RhZ2VmcmlnaHQgOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9hbmRyb2lkLmdvb2dsZXNvdXJjZS5jb20vcGxhdGZvcm0vZnJhbWV3b3Jrcy9hdi8rL21hc3Rlci9tZWRpYS9saWJzdGFnZWZyaWdodC9odHRwbGl2ZS9MaXZlU2Vzc2lvbi5jcHBcbiAgICAgICAgICAgIC8vIFBpY2sgdGhlIGhpZ2hlc3QgYmFuZHdpZHRoIHN0cmVhbSBiZWxvdyBvciBlcXVhbCB0byBlc3RpbWF0ZWQgYmFuZHdpZHRoLlxuICAgICAgICAgICAgLy8gY29uc2lkZXIgb25seSA4MCUgb2YgdGhlIGF2YWlsYWJsZSBiYW5kd2lkdGgsIGJ1dCBpZiB3ZSBhcmUgc3dpdGNoaW5nIHVwLFxuICAgICAgICAgICAgLy8gYmUgZXZlbiBtb3JlIGNvbnNlcnZhdGl2ZSAoNzAlKSB0byBhdm9pZCBvdmVyZXN0aW1hdGluZyBhbmQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyBiYWNrLlxuICAgICAgICAgICAgaWYgKGkgPD0gY3VycmVudExldmVsKSB7XG4gICAgICAgICAgICAgICAgYWRqdXN0ZWRidyA9IGJ3RmFjdG9yICogY3VycmVudEJ3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRqdXN0ZWRidyA9IGJ3VXBGYWN0b3IgKiBjdXJyZW50Qnc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYml0cmF0ZSA9IGxldmVsc1tpXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tpXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW2ldLmJpdHJhdGUpIDogbGV2ZWxzW2ldLmJpdHJhdGUsIGZldGNoRHVyYXRpb24gPSBiaXRyYXRlICogYXZnRHVyYXRpb24gLyBhZGp1c3RlZGJ3O1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLnRyYWNlKFwibGV2ZWwvYWRqdXN0ZWRidy9iaXRyYXRlL2F2Z0R1cmF0aW9uL21heEZldGNoRHVyYXRpb24vZmV0Y2hEdXJhdGlvbjogXCIgKyBpICsgXCIvXCIgKyBNYXRoLnJvdW5kKGFkanVzdGVkYncpICsgXCIvXCIgKyBiaXRyYXRlICsgXCIvXCIgKyBhdmdEdXJhdGlvbiArIFwiL1wiICsgbWF4RmV0Y2hEdXJhdGlvbiArIFwiL1wiICsgZmV0Y2hEdXJhdGlvbik7XG4gICAgICAgICAgICAvLyBpZiBhZGp1c3RlZCBidyBpcyBncmVhdGVyIHRoYW4gbGV2ZWwgYml0cmF0ZSBBTkRcbiAgICAgICAgICAgIGlmIChhZGp1c3RlZGJ3ID4gYml0cmF0ZSAmJlxuICAgICAgICAgICAgICAgIC8vIGZyYWdtZW50IGZldGNoRHVyYXRpb24gdW5rbm93biBPUiBsaXZlIHN0cmVhbSBPUiBmcmFnbWVudCBmZXRjaER1cmF0aW9uIGxlc3MgdGhhbiBtYXggYWxsb3dlZCBmZXRjaCBkdXJhdGlvbiwgdGhlbiB0aGlzIGxldmVsIG1hdGNoZXNcbiAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBhY2NvdW50IGZvciBtYXggRmV0Y2ggRHVyYXRpb24gZm9yIGxpdmUgc3RyZWFtcywgdGhpcyBpcyB0byBhdm9pZCBzd2l0Y2hpbmcgZG93biB3aGVuIG5lYXIgdGhlIGVkZ2Ugb2YgbGl2ZSBzbGlkaW5nIHdpbmRvdyAuLi5cbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgdG8gc3VwcG9ydCBzdGFydExldmVsID0gLTEgKGJpdHJhdGVUZXN0KSBvbiBsaXZlIHN0cmVhbXMgOiBpbiB0aGF0IGNhc2Ugd2Ugc2hvdWxkIG5vdCBleGl0IGxvb3Agc28gdGhhdCBfZmluZEJlc3RMZXZlbCB3aWxsIHJldHVybiAtMVxuICAgICAgICAgICAgICAgICghZmV0Y2hEdXJhdGlvbiB8fCAobGl2ZSAmJiAhdGhpcy5iaXRyYXRlVGVzdERlbGF5KSB8fCBmZXRjaER1cmF0aW9uIDwgbWF4RmV0Y2hEdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAvLyBhcyB3ZSBhcmUgbG9vcGluZyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0LCB0aGlzIHdpbGwgcmV0dXJuIHRoZSBiZXN0IGFjaGlldmFibGUgcXVhbGl0eSBsZXZlbFxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vdCBlbm91Z2ggdGltZSBidWRnZXQgZXZlbiB3aXRoIHF1YWxpdHkgbGV2ZWwgMCAuLi4gcmVidWZmZXJpbmcgbWlnaHQgaGFwcGVuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIHJldHVybiBBYnJDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQWJyQ29udHJvbGxlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9hdWRpby1zdHJlYW0tY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qXG4gKiBBdWRpbyBTdHJlYW0gQ29udHJvbGxlclxuKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJpbmFyeV9zZWFyY2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2JpbmFyeS1zZWFyY2ggKi8gXCIuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGRlbXV4ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2RlbXV4L2RlbXV4ZXIgKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLmpzXCIpO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIExldmVsSGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1oZWxwZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qc1wiKTtcbnZhciB0aW1lX3Jhbmdlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvdGltZS1yYW5nZXMgKi8gXCIuL3NyYy91dGlscy90aW1lLXJhbmdlcy5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBkaXNjb250aW51aXRpZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2Rpc2NvbnRpbnVpdGllcyAqLyBcIi4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LXRyYWNrZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIik7XG52YXIgZnJhZ21lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2xvYWRlci9mcmFnbWVudCAqLyBcIi4vc3JjL2xvYWRlci9mcmFnbWVudC5qc1wiKTtcbnZhciBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXIuanNcIik7XG52YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG52YXIgVElDS19JTlRFUlZBTCA9IDEwMDsgLy8gaG93IG9mdGVuIHRvIHRpY2sgaW4gbXNcbnZhciBBdWRpb1N0cmVhbUNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEF1ZGlvU3RyZWFtQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBdWRpb1N0cmVhbUNvbnRyb2xsZXIoaGxzLCBmcmFnbWVudFRyYWNrZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0FUVEFDSEVELCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS1NfVVBEQVRFRCwgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19TV0lUQ0hJTkcsIGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LktFWV9MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfREFUQSwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCwgZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfUkVTRVQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NSRUFURUQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVOREVELCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9GTFVTSEVELCBldmVudHNfMS5kZWZhdWx0LklOSVRfUFRTX0ZPVU5EKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBmcmFnbWVudFRyYWNrZXI7XG4gICAgICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgICAgIF90aGlzLmF1ZGlvQ29kZWNTd2FwID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICBfdGhpcy5pbml0UFRTID0gW107XG4gICAgICAgIF90aGlzLndhaXRpbmdGcmFnbWVudCA9IG51bGw7XG4gICAgICAgIF90aGlzLnZpZGVvVHJhY2tDQyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLy8gU2lnbmFsIHRoYXQgdmlkZW8gUFRTIHdhcyBmb3VuZFxuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25Jbml0UHRzRm91bmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZGVtdXhlcklkID0gZGF0YS5pZCwgY2MgPSBkYXRhLmZyYWcuY2MsIGluaXRQVFMgPSBkYXRhLmluaXRQVFM7XG4gICAgICAgIGlmIChkZW11eGVySWQgPT09ICdtYWluJykge1xuICAgICAgICAgICAgLy8gQWx3YXlzIHVwZGF0ZSB0aGUgbmV3IElOSVQgUFRTXG4gICAgICAgICAgICAvLyBDYW4gY2hhbmdlIGR1ZSBsZXZlbCBzd2l0Y2hcbiAgICAgICAgICAgIHRoaXMuaW5pdFBUU1tjY10gPSBpbml0UFRTO1xuICAgICAgICAgICAgdGhpcy52aWRlb1RyYWNrQ0MgPSBjYztcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJJbml0UFRTIGZvciBjYzogXCIgKyBjYyArIFwiIGZvdW5kIGZyb20gdmlkZW8gdHJhY2s6IFwiICsgaW5pdFBUUyk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgd2FpdGluZyB3ZSBuZWVkIHRvIGRlbXV4L3JlbXV4IHRoZSB3YWl0aW5nIGZyYWdcbiAgICAgICAgICAgIC8vIFdpdGggdGhlIG5ldyBpbml0UFRTXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfSU5JVF9QVFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy50cmFja3MpIHtcbiAgICAgICAgICAgIHZhciBsYXN0Q3VycmVudFRpbWUgPSB0aGlzLmxhc3RDdXJyZW50VGltZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgICAgICAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgaWYgKGxhc3RDdXJyZW50VGltZSA+IDAgJiYgc3RhcnRQb3NpdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW86b3ZlcnJpZGUgc3RhcnRQb3NpdGlvbiB3aXRoIGxhc3RDdXJyZW50VGltZSBAXCIgKyBsYXN0Q3VycmVudFRpbWUudG9GaXhlZCgzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSB0aGlzLnN0YXJ0UG9zaXRpb24gPyB0aGlzLnN0YXJ0UG9zaXRpb24gOiBzdGFydFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RBUlRJTkc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZTtcbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgaWYgKGZyYWcubG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgZnJhZy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5kZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlNUT1BQRUQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImF1ZGlvIHN0cmVhbTpcIiArIHByZXZpb3VzU3RhdGUgKyBcIi0+XCIgKyBuZXh0U3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRvVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvcywgdHJhY2ssIHRyYWNrRGV0YWlscywgaGxzID0gdGhpcy5obHMsIGNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgICAgIC8vIGxvZ2dlci5sb2coJ2F1ZGlvU3RyZWFtOicgKyB0aGlzLnN0YXRlKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FUlJPUjpcbiAgICAgICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nIGluIGVycm9yIHN0YXRlIHRvIGF2b2lkIGJyZWFraW5nIGZ1cnRoZXIgLi4uXG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVVTRUQ6XG4gICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpbiBwYXVzZWQgc3RhdGUgZWl0aGVyIC4uLlxuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuQlVGRkVSX0ZMVVNISU5HOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RBUlRJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5XQUlUSU5HX1RSQUNLO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU6XG4gICAgICAgICAgICAgICAgdmFyIHRyYWNrcyA9IHRoaXMudHJhY2tzO1xuICAgICAgICAgICAgICAgIC8vIGF1ZGlvIHRyYWNrcyBub3QgcmVjZWl2ZWQgPT4gZXhpdCBsb29wXG4gICAgICAgICAgICAgICAgaWYgKCF0cmFja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHZpZGVvIG5vdCBhdHRhY2hlZCBBTkRcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBmcmFnbWVudCBhbHJlYWR5IHJlcXVlc3RlZCBPUiBzdGFydCBmcmFnIHByZWZldGNoIGRpc2FibGVcbiAgICAgICAgICAgICAgICAvLyBleGl0IGxvb3BcbiAgICAgICAgICAgICAgICAvLyA9PiBpZiBtZWRpYSBub3QgYXR0YWNoZWQgYnV0IHN0YXJ0IGZyYWcgcHJlZmV0Y2ggaXMgZW5hYmxlZCBhbmQgc3RhcnQgZnJhZyBub3QgcmVxdWVzdGVkIHlldCwgd2Ugd2lsbCBub3QgZXhpdCBsb29wXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1lZGlhICYmXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCB8fCAhY29uZmlnLnN0YXJ0RnJhZ1ByZWZldGNoKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIG5leHQgY2FuZGlkYXRlIGZyYWdtZW50IHRvIGJlIGxvYWRlZCwgYmFzZWQgb24gY3VycmVudCBwb3NpdGlvbiBhbmRcbiAgICAgICAgICAgICAgICAvLyAgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbm90IHlldCBsb2FkZWQgYW55IGZyYWdtZW50LCBzdGFydCBsb2FkaW5nIGZyb20gc3RhcnQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gdGhpcy5uZXh0TG9hZFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogdGhpcy5tZWRpYSwgdmlkZW9CdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID8gdGhpcy52aWRlb0J1ZmZlciA6IHRoaXMubWVkaWEsIGJ1ZmZlckluZm8gPSBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmJ1ZmZlckluZm8obWVkaWEsIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLCBtYWluQnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyh2aWRlb0J1ZmZlciwgcG9zLCBjb25maWcubWF4QnVmZmVySG9sZSksIGJ1ZmZlckxlbiA9IGJ1ZmZlckluZm8ubGVuLCBidWZmZXJFbmRfMSA9IGJ1ZmZlckluZm8uZW5kLCBmcmFnUHJldmlvdXMgPSB0aGlzLmZyYWdQcmV2aW91cywgXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHdlIGJ1ZmZlciBhdCBsZWFzdCBjb25maWcubWF4QnVmZmVyTGVuZ3RoIChkZWZhdWx0IDMwcykgb3IgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCAoZGVmYXVsdDogNjAwcylcbiAgICAgICAgICAgICAgICAvLyB3aGljaGV2ZXIgaXMgc21hbGxlci5cbiAgICAgICAgICAgICAgICAvLyBvbmNlIHdlIHJlYWNoIHRoYXQgdGhyZXNob2xkLCBkb24ndCBidWZmZXIgbW9yZSB0aGFuIHZpZGVvIChtYWluQnVmZmVySW5mby5sZW4pXG4gICAgICAgICAgICAgICAgbWF4Q29uZmlnQnVmZmVyID0gTWF0aC5taW4oY29uZmlnLm1heEJ1ZmZlckxlbmd0aCwgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCksIG1heEJ1ZkxlbiA9IE1hdGgubWF4KG1heENvbmZpZ0J1ZmZlciwgbWFpbkJ1ZmZlckluZm8ubGVuKSwgYXVkaW9Td2l0Y2ggPSB0aGlzLmF1ZGlvU3dpdGNoLCB0cmFja0lkID0gdGhpcy50cmFja0lkO1xuICAgICAgICAgICAgICAgIC8vIGlmIGJ1ZmZlciBsZW5ndGggaXMgbGVzcyB0aGFuIG1heEJ1ZkxlbiB0cnkgdG8gbG9hZCBhIG5ldyBmcmFnbWVudFxuICAgICAgICAgICAgICAgIGlmICgoYnVmZmVyTGVuIDwgbWF4QnVmTGVuIHx8IGF1ZGlvU3dpdGNoKSAmJiB0cmFja0lkIDwgdHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja0RldGFpbHMgPSB0cmFja3NbdHJhY2tJZF0uZGV0YWlscztcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdHJhY2sgaW5mbyBub3QgcmV0cmlldmVkIHlldCwgc3dpdGNoIHN0YXRlIGFuZCB3YWl0IGZvciB0cmFjayByZXRyaWV2YWxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmFja0RldGFpbHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfVFJBQ0s7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWF1ZGlvU3dpdGNoICYmIHRoaXMuX3N0cmVhbUVuZGVkKGJ1ZmZlckluZm8sIHRyYWNrRGV0YWlscykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRU9TLCB7IHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVOREVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgZnJhZ21lbnQgaW5kZXgsIGNvbnRpZ3VvdXMgd2l0aCBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudHMgPSB0cmFja0RldGFpbHMuZnJhZ21lbnRzLCBmcmFnTGVuID0gZnJhZ21lbnRzLmxlbmd0aCwgc3RhcnQgPSBmcmFnbWVudHNbMF0uc3RhcnQsIGVuZCA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uc3RhcnQgKyBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLmR1cmF0aW9uLCBmcmFnID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHN3aXRjaGluZyBhdWRpbyB0cmFjaywgcmVsb2FkIGF1ZGlvIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5saXZlICYmICF0cmFja0RldGFpbHMuUFRTS25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzd2l0Y2hpbmcgYXVkaW90cmFjaywgbGl2ZSBzdHJlYW0sIHVua25vd24gUFRTLGxvYWQgZmlyc3QgZnJhZ21lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJFbmRfMSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJFbmRfMSA9IHBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBjdXJyZW50VGltZSAocG9zKSBpcyBsZXNzIHRoYW4gYWx0IGF1ZGlvIHBsYXlsaXN0IHN0YXJ0IHRpbWUsIGl0IG1lYW5zIHRoYXQgYWx0IGF1ZGlvIGlzIGFoZWFkIG9mIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5QVFNLbm93biAmJiBwb3MgPCBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBldmVyeXRoaW5nIGlzIGJ1ZmZlcmVkIGZyb20gcG9zIHRvIHN0YXJ0IG9yIGlmIGF1ZGlvIGJ1ZmZlciB1cGZyb250LCBsZXQncyBzZWVrIHRvIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJJbmZvLmVuZCA+IHN0YXJ0IHx8IGJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdhbHQgYXVkaW8gdHJhY2sgYWhlYWQgb2YgbWFpbiB0cmFjaywgc2VlayB0byBzdGFydCBvZiBhbHQgYXVkaW8gdHJhY2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWEuY3VycmVudFRpbWUgPSBzdGFydCArIDAuMDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5pbml0U2VnbWVudCAmJiAhdHJhY2tEZXRhaWxzLmluaXRTZWdtZW50LmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSB0cmFja0RldGFpbHMuaW5pdFNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBicmFjZS1zdHlsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBidWZmZXJFbmQgYmVmb3JlIHN0YXJ0IG9mIHBsYXlsaXN0LCBsb2FkIGZpcnN0IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1ZmZlckVuZF8xIDw9IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ21lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlkZW9UcmFja0NDICE9PSBudWxsICYmIGZyYWcuY2MgIT09IHRoaXMudmlkZW9UcmFja0NDKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGZpbmQgYSBmcmFnbWVudCB3aGljaCBtYXRjaGVzIHRoZSBjb250aW51aXR5IG9mIHRoZSB2aWRlbyB0cmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBkaXNjb250aW51aXRpZXNfMS5maW5kRnJhZ1dpdGhDQyhmcmFnbWVudHMsIHRoaXMudmlkZW9UcmFja0NDKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFja0RldGFpbHMubGl2ZSAmJiBmcmFnLmxvYWRJZHggJiYgZnJhZy5sb2FkSWR4ID09PSB0aGlzLmZyYWdMb2FkSWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UganVzdCBsb2FkZWQgdGhpcyBmaXJzdCBmcmFnbWVudCwgYW5kIHdlIGFyZSBzdGlsbCBsYWdnaW5nIGJlaGluZCB0aGUgc3RhcnQgb2YgdGhlIGxpdmUgcGxheWxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBmb3JjZSBzZWVrIHRvIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRCdWZmZXJlZCA9IGJ1ZmZlckluZm8ubmV4dFN0YXJ0ID8gYnVmZmVySW5mby5uZXh0U3RhcnQgOiBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibm8gYWx0IGF1ZGlvIGF2YWlsYWJsZSBAY3VycmVudFRpbWU6XCIgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lICsgXCIsIHNlZWtpbmcgQFwiICsgKG5leHRCdWZmZXJlZCArIDAuMDUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lID0gbmV4dEJ1ZmZlcmVkICsgMC4wNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmRGcmFnID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heEZyYWdMb29rVXBUb2xlcmFuY2VfMSA9IGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdOZXh0ID0gZnJhZ1ByZXZpb3VzID8gZnJhZ21lbnRzW2ZyYWdQcmV2aW91cy5zbiAtIGZyYWdtZW50c1swXS5zbiArIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCA9IGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiBmcmFnbWVudCBib3VuZGFyeSAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kID0gOS45OTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcmFnW8OYXSA6IFswLDEwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kIGlzIHdpdGhpbiBmcmFnWzBdIHJhbmdlIC4uLiBhbHRob3VnaCB3aGF0IHdlIGFyZSBleHBlY3RpbmcgaXMgdG8gcmV0dXJuIGZyYWdbMV0gaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBmcmFnIHN0YXJ0ICAgICAgICAgICAgICAgZnJhZyBzdGFydCtkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICA8LS0tPiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAuLi4tLS0tLS0tLT48LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+PC0tLS0tLS0tLS4uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgcmV0dXJuIC0xICAgICAgICAgICAgIHJldHVybiAwICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYGxldmVsL3NuL3N0YXJ0L2VuZC9idWZFbmQ6JHtsZXZlbH0vJHtjYW5kaWRhdGUuc259LyR7Y2FuZGlkYXRlLnN0YXJ0fS8keyhjYW5kaWRhdGUuc3RhcnQrY2FuZGlkYXRlLmR1cmF0aW9uKX0vJHtidWZmZXJFbmR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZV8xLCBjYW5kaWRhdGUuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoY2FuZGlkYXRlLnN0YXJ0ICsgY2FuZGlkYXRlLmR1cmF0aW9uIC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlKSA8PSBidWZmZXJFbmRfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kXzEgJiYgY2FuZGlkYXRlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG1heEZyYWdMb29rVXBUb2xlcmFuY2Ugd2lsbCBoYXZlIG5lZ2F0aXZlIHZhbHVlIHRoZW4gZG9uJ3QgcmV0dXJuIC0xIGZvciBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlckVuZF8xIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlckVuZF8xID4gZW5kIC0gbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEZyYWdMb29rVXBUb2xlcmFuY2VfMSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZWZlciB0aGUgbmV4dCBmcmFnbWVudCBpZiBpdCdzIHdpdGhpbiB0b2xlcmFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZ05leHQgJiYgIWZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChmcmFnTmV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRGcmFnID0gZnJhZ05leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZEZyYWcgPSBiaW5hcnlfc2VhcmNoXzEuZGVmYXVsdC5zZWFyY2goZnJhZ21lbnRzLCBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWNoIGVuZCBvZiBwbGF5bGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kRnJhZyA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRGcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IGZvdW5kRnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGZvdW5kRnJhZy5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdmaW5kIFNOIG1hdGNoaW5nIHdpdGggcG9zOicgKyAgYnVmZmVyRW5kICsgJzonICsgZnJhZy5zbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdQcmV2aW91cyAmJiBmcmFnLmxldmVsID09PSBmcmFnUHJldmlvdXMubGV2ZWwgJiYgZnJhZy5zbiA9PT0gZnJhZ1ByZXZpb3VzLnNuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLnNuIDwgdHJhY2tEZXRhaWxzLmVuZFNOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ21lbnRzW2ZyYWcuc24gKyAxIC0gdHJhY2tEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIlNOIGp1c3QgbG9hZGVkLCBsb2FkIG5leHQgb25lOiBcIiArIGZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJyAgICAgIGxvYWRpbmcgZnJhZyAnICsgaSArJyxwb3MvYnVmRW5kOicgKyBwb3MudG9GaXhlZCgzKSArICcvJyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLmVuY3J5cHRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIGtleSBmb3IgXCIgKyBmcmFnLnNuICsgXCIgb2YgW1wiICsgdHJhY2tEZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyB0cmFja0RldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLktFWV9MT0FESU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuS0VZX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIFwiICsgZnJhZy5zbiArIFwiLCBjYzogXCIgKyBmcmFnLmNjICsgXCIgb2YgW1wiICsgdHJhY2tEZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyB0cmFja0RldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkICsgXCIsIGN1cnJlbnRUaW1lOlwiICsgcG9zICsgXCIsYnVmZmVyRW5kOlwiICsgYnVmZmVyRW5kXzEudG9GaXhlZCgzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBsb2FkIGlmIGZyYWdtZW50IGlzIG5vdCBsb2FkZWQgb3IgaWYgaW4gYXVkaW8gc3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZm9yY2UgYSBmcmFnIGxvYWRpbmcgaW4gYXVkaW8gc3dpdGNoIGFzIGZyYWdtZW50IHRyYWNrZXIgbWlnaHQgbm90IGhhdmUgZXZpY3RlZCBwcmV2aW91cyBmcmFncyBpbiBjYXNlIG9mIHF1aWNrIGF1ZGlvIHN3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCB8fCB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShmcmFnKSA9PT0gZnJhZ21lbnRfdHJhY2tlcl8xLkZyYWdtZW50U3RhdGUuTk9UX0xPQURFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZy5zbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IGZyYWcuc3RhcnQgKyBmcmFnLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfVFJBQ0s6XG4gICAgICAgICAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLnRyYWNrSWRdO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHBsYXlsaXN0IGlzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLmRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOlxuICAgICAgICAgICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV0cnlEYXRlID0gdGhpcy5yZXRyeURhdGU7XG4gICAgICAgICAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICAgICAgICAgIHZhciBpc1NlZWtpbmcgPSBtZWRpYSAmJiBtZWRpYS5zZWVraW5nO1xuICAgICAgICAgICAgICAgIC8vIGlmIGN1cnJlbnQgdGltZSBpcyBndCB0aGFuIHJldHJ5RGF0ZSwgb3IgaWYgbWVkaWEgc2Vla2luZyBsZXQncyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgICAgICAgICAgaWYgKCFyZXRyeURhdGUgfHwgKG5vdyA+PSByZXRyeURhdGUpIHx8IGlzU2Vla2luZykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdhdWRpb1N0cmVhbUNvbnRyb2xsZXI6IHJldHJ5RGF0ZSByZWFjaGVkLCBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5XQUlUSU5HX0lOSVRfUFRTOlxuICAgICAgICAgICAgICAgIHZhciB2aWRlb1RyYWNrQ0MgPSB0aGlzLnZpZGVvVHJhY2tDQztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0UFRTW3ZpZGVvVHJhY2tDQ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGRvbid0IGdldCBzdHVjayBpbiB0aGUgV0FJVElOR19JTklUX1BUUyBzdGF0ZSBpZiB0aGUgd2FpdGluZyBmcmFnIENDIGRvZXNuJ3QgbWF0Y2ggYW55IGluaXRQVFNcbiAgICAgICAgICAgICAgICB2YXIgd2FpdGluZ0ZyYWcgPSB0aGlzLndhaXRpbmdGcmFnbWVudDtcbiAgICAgICAgICAgICAgICBpZiAod2FpdGluZ0ZyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdhaXRpbmdGcmFnQ0MgPSB3YWl0aW5nRnJhZy5mcmFnLmNjO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9UcmFja0NDICE9PSB3YWl0aW5nRnJhZ0NDKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjayA9IHRoaXMudHJhY2tzW3RoaXMudHJhY2tJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2suZGV0YWlscyAmJiB0cmFjay5kZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIldhaXRpbmcgZnJhZ21lbnQgQ0MgKFwiICsgd2FpdGluZ0ZyYWdDQyArIFwiKSBkb2VzIG5vdCBtYXRjaCB2aWRlbyB0cmFjayBDQyAoXCIgKyB2aWRlb1RyYWNrQ0MgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZyYWdMb2FkZWQodGhpcy53YWl0aW5nRnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTRUQ6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FTkRFRDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBkYXRhLm1lZGlhO1xuICAgICAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub252ZW5kZWQgPSB0aGlzLm9uTWVkaWFFbmRlZC5iaW5kKHRoaXMpO1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICAgICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICBpZiAodGhpcy50cmFja3MgJiYgY29uZmlnLmF1dG9TdGFydExvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAobWVkaWEgJiYgbWVkaWEuZW5kZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHZpZGVvIGxpc3RlbmVyc1xuICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgICAgICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgICAgICAgIHRoaXMub252c2Vla2luZyA9IHRoaXMub252c2Vla2VkID0gdGhpcy5vbnZlbmRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja3NVcGRhdGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnYXVkaW8gdHJhY2tzIHVwZGF0ZWQnKTtcbiAgICAgICAgdGhpcy50cmFja3MgPSBkYXRhLmF1ZGlvVHJhY2tzO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBpZiBhbnkgVVJMIGZvdW5kIG9uIG5ldyBhdWRpbyB0cmFjaywgaXQgaXMgYW4gYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrXG4gICAgICAgIHZhciBhbHRBdWRpbyA9ICEhZGF0YS51cmw7XG4gICAgICAgIHRoaXMudHJhY2tJZCA9IGRhdGEuaWQ7XG4gICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBVVNFRDtcbiAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAvLyBkZXN0cm95IHVzZWxlc3MgZGVtdXhlciB3aGVuIHN3aXRjaGluZyBhdWRpbyB0byBtYWluXG4gICAgICAgIGlmICghYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbXV4ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVtdXhlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzd2l0Y2hpbmcgdG8gYXVkaW8gdHJhY2ssIHN0YXJ0IHRpbWVyIGlmIG5vdCBhbHJlYWR5IHN0YXJ0ZWRcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2hvdWxkIHdlIHN3aXRjaCB0cmFja3MgP1xuICAgICAgICBpZiAoYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9Td2l0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgLy8gbWFpbiBhdWRpbyB0cmFjayBhcmUgaGFuZGxlZCBieSBzdHJlYW0tY29udHJvbGxlciwganVzdCBkbyBzb21ldGhpbmcgaWYgc3dpdGNoaW5nIHRvIGFsdCBhdWRpbyB0cmFja1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgbmV3RGV0YWlscyA9IGRhdGEuZGV0YWlscywgdHJhY2tJZCA9IGRhdGEuaWQsIHRyYWNrID0gdGhpcy50cmFja3NbdHJhY2tJZF0sIGR1cmF0aW9uID0gbmV3RGV0YWlscy50b3RhbGR1cmF0aW9uLCBzbGlkaW5nID0gMDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInRyYWNrIFwiICsgdHJhY2tJZCArIFwiIGxvYWRlZCBbXCIgKyBuZXdEZXRhaWxzLnN0YXJ0U04gKyBcIixcIiArIG5ld0RldGFpbHMuZW5kU04gKyBcIl0sZHVyYXRpb246XCIgKyBkdXJhdGlvbik7XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIHZhciBjdXJEZXRhaWxzID0gdHJhY2suZGV0YWlscztcbiAgICAgICAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhdmUgZGV0YWlscyBmb3IgdGhhdCBsZXZlbCwgbWVyZ2UgdGhlbVxuICAgICAgICAgICAgICAgIExldmVsSGVscGVyLm1lcmdlRGV0YWlscyhjdXJEZXRhaWxzLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBzbGlkaW5nID0gbmV3RGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIC8vIHRoaXMubGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMuY29tcHV0ZUxpdmVQb3NpdGlvbihzbGlkaW5nLCBjdXJEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3RGV0YWlscy5QVFNLbm93bikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBhdWRpbyBwbGF5bGlzdCBzbGlkaW5nOlwiICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2xpdmUgYXVkaW8gcGxheWxpc3QgLSBvdXRkYXRlZCBQVFMsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdsaXZlIGF1ZGlvIHBsYXlsaXN0IC0gZmlyc3QgbG9hZCwgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2suZGV0YWlscyA9IG5ld0RldGFpbHM7XG4gICAgICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb25cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCkge1xuICAgICAgICAgICAgLy8gY29tcHV0ZSBzdGFydCBwb3NpdGlvbiBpZiBzZXQgdG8gLTEuIHVzZSBpdCBzdHJhaWdodCBhd2F5IGlmIHZhbHVlIGlzIGRlZmluZWRcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QsIGNoZWNrIGlmIHN0YXJ0IHRpbWUgb2Zmc2V0IGhhcyBiZWVuIHNldCBpbiBwbGF5bGlzdCwgaWYgeWVzLCB1c2UgdGhpcyB2YWx1ZVxuICAgICAgICAgICAgICAgIHZhciBzdGFydFRpbWVPZmZzZXQgPSBuZXdEZXRhaWxzLnN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHN0YXJ0VGltZU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN0YXJ0IHRpbWUgb2Zmc2V0IGZvdW5kIGluIHBsYXlsaXN0LCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiB0byBcIiArIHN0YXJ0VGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgc3dpdGNoIGJhdGNrIHRvIElETEUgc3RhdGUgaWYgd2Ugd2VyZSB3YWl0aW5nIGZvciB0cmFjayB0byBzdGFydCBkb3dubG9hZGluZyBhIG5ldyBmcmFnbWVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfVFJBQ0spIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbktleUxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5LRVlfTE9BRElORykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudCwgZnJhZ0xvYWRlZCA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5GUkFHX0xPQURJTkcgJiZcbiAgICAgICAgICAgIGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBmcmFnTG9hZGVkLnR5cGUgPT09ICdhdWRpbycgJiZcbiAgICAgICAgICAgIGZyYWdMb2FkZWQubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmXG4gICAgICAgICAgICBmcmFnTG9hZGVkLnNuID09PSBmcmFnQ3VycmVudC5zbikge1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gdGhpcy50cmFja3NbdGhpcy50cmFja0lkXSwgZGV0YWlscyA9IHRyYWNrLmRldGFpbHMsIGR1cmF0aW9uID0gZGV0YWlscy50b3RhbGR1cmF0aW9uLCB0cmFja0lkID0gZnJhZ0N1cnJlbnQubGV2ZWwsIHNuID0gZnJhZ0N1cnJlbnQuc24sIGNjID0gZnJhZ0N1cnJlbnQuY2MsIGF1ZGlvQ29kZWMgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QXVkaW9Db2RlYyB8fCB0cmFjay5hdWRpb0NvZGVjIHx8ICdtcDRhLjQwLjInLCBzdGF0cyA9IHRoaXMuc3RhdHMgPSBkYXRhLnN0YXRzO1xuICAgICAgICAgICAgaWYgKHNuID09PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgPSBkYXRhLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnQ3VycmVudCwgaWQ6ICdhdWRpbycgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc7XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNtdXggdGhlIE1QRUctVFMgZGF0YSB0byBJU08tQk1GRiBzZWdtZW50c1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGVtdXhlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl8xLmRlZmF1bHQodGhpcy5obHMsICdhdWRpbycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHZpZGVvIGluaXRQVFNcbiAgICAgICAgICAgICAgICAvLyBJZiBub3Qgd2UgbmVlZCB0byB3YWl0IGZvciBpdFxuICAgICAgICAgICAgICAgIHZhciBpbml0UFRTID0gdGhpcy5pbml0UFRTW2NjXTtcbiAgICAgICAgICAgICAgICB2YXIgaW5pdFNlZ21lbnREYXRhID0gZGV0YWlscy5pbml0U2VnbWVudCA/IGRldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChkZXRhaWxzLmluaXRTZWdtZW50IHx8IGluaXRQVFMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiRGVtdXhpbmcgXCIgKyBzbiArIFwiIG9mIFtcIiArIGRldGFpbHMuc3RhcnRTTiArIFwiICxcIiArIGRldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGltZSBPZmZzZXQgaXMgYWNjdXJhdGUgaWYgbGV2ZWwgUFRTIGlzIGtub3duLCBvciBpZiBwbGF5bGlzdCBpcyBub3Qgc2xpZGluZyAobm90IGxpdmUpXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2N1cmF0ZVRpbWVPZmZzZXQgPSBmYWxzZTsgLy8gZGV0YWlscy5QVFNLbm93biB8fCAhZGV0YWlscy5saXZlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIucHVzaChkYXRhLnBheWxvYWQsIGluaXRTZWdtZW50RGF0YSwgYXVkaW9Db2RlYywgbnVsbCwgZnJhZ0N1cnJlbnQsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGluaXRQVFMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInVua25vd24gdmlkZW8gUFRTIGZvciBjb250aW51aXR5IGNvdW50ZXIgXCIgKyBjYyArIFwiLCB3YWl0aW5nIGZvciB2aWRlbyBQVFMgYmVmb3JlIGRlbXV4aW5nIGF1ZGlvIGZyYWcgXCIgKyBzbiArIFwiIG9mIFtcIiArIGRldGFpbHMuc3RhcnRTTiArIFwiICxcIiArIGRldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfSU5JVF9QVFM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IDA7XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdJbml0U2VnbWVudCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAoZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGRhdGEuaWQgPT09ICdhdWRpbycgJiZcbiAgICAgICAgICAgIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmXG4gICAgICAgICAgICBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHZhciB0cmFja3MgPSBkYXRhLnRyYWNrcywgdHJhY2sgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBkZWxldGUgYW55IHZpZGVvIHRyYWNrIGZvdW5kIG9uIGF1ZGlvIGRlbXV4ZXJcbiAgICAgICAgICAgIGlmICh0cmFja3MudmlkZW8pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdHJhY2tzLnZpZGVvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW5jbHVkZSBsZXZlbENvZGVjIGluIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3NcbiAgICAgICAgICAgIHRyYWNrID0gdHJhY2tzLmF1ZGlvO1xuICAgICAgICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgdHJhY2subGV2ZWxDb2RlYyA9IHRyYWNrLmNvZGVjO1xuICAgICAgICAgICAgICAgIHRyYWNrLmlkID0gZGF0YS5pZDtcbiAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW8gdHJhY2s6YXVkaW8sY29udGFpbmVyOlwiICsgdHJhY2suY29udGFpbmVyICsgXCIsY29kZWNzW2xldmVsL3BhcnNlZF09W1wiICsgdHJhY2subGV2ZWxDb2RlYyArIFwiL1wiICsgdHJhY2suY29kZWMgKyBcIl1cIik7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRTZWdtZW50ID0gdHJhY2suaW5pdFNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGluaXRTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcHBlbmRPYmogPSB7IHR5cGU6ICdhdWRpbycsIGRhdGE6IGluaXRTZWdtZW50LCBwYXJlbnQ6ICdhdWRpbycsIGNvbnRlbnQ6ICdpbml0U2VnbWVudCcgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXVkaW9Td2l0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbYXBwZW5kT2JqXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVORElORywgYXBwZW5kT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0RhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBkYXRhLmlkID09PSAnYXVkaW8nICYmXG4gICAgICAgICAgICBkYXRhLnR5cGUgPT09ICdhdWRpbycgJiZcbiAgICAgICAgICAgIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmXG4gICAgICAgICAgICBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHZhciB0cmFja0lkID0gdGhpcy50cmFja0lkLCB0cmFjayA9IHRoaXMudHJhY2tzW3RyYWNrSWRdLCBobHNfMSA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGF0YS5lbmRQVFMpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5lbmRQVFMgPSBkYXRhLnN0YXJ0UFRTICsgZnJhZ0N1cnJlbnQuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgZGF0YS5lbmREVFMgPSBkYXRhLnN0YXJ0RFRTICsgZnJhZ0N1cnJlbnQuZHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFnQ3VycmVudC5hZGRFbGVtZW50YXJ5U3RyZWFtKGZyYWdtZW50XzEuZGVmYXVsdC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8pO1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInBhcnNlZCBcIiArIGRhdGEudHlwZSArIFwiLFBUUzpbXCIgKyBkYXRhLnN0YXJ0UFRTLnRvRml4ZWQoMykgKyBcIixcIiArIGRhdGEuZW5kUFRTLnRvRml4ZWQoMykgKyBcIl0sRFRTOltcIiArIGRhdGEuc3RhcnREVFMudG9GaXhlZCgzKSArIFwiL1wiICsgZGF0YS5lbmREVFMudG9GaXhlZCgzKSArIFwiXSxuYjpcIiArIGRhdGEubmIpO1xuICAgICAgICAgICAgTGV2ZWxIZWxwZXIudXBkYXRlRnJhZ1BUU0RUUyh0cmFjay5kZXRhaWxzLCBmcmFnQ3VycmVudCwgZGF0YS5zdGFydFBUUywgZGF0YS5lbmRQVFMpO1xuICAgICAgICAgICAgdmFyIGF1ZGlvU3dpdGNoID0gdGhpcy5hdWRpb1N3aXRjaCwgbWVkaWEgPSB0aGlzLm1lZGlhLCBhcHBlbmRPbkJ1ZmZlckZsdXNoID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBPbmx5IGZsdXNoIGF1ZGlvIGZyb20gb2xkIGF1ZGlvIHRyYWNrcyB3aGVuIFBUUyBpcyBrbm93biBvbiBuZXcgYXVkaW8gdHJhY2tcbiAgICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCAmJiBtZWRpYSkge1xuICAgICAgICAgICAgICAgIGlmIChtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzd2l0Y2hpbmcgYXVkaW8gdHJhY2sgOiBjdXJyZW50VGltZTonICsgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gZGF0YS5zdGFydFBUUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dpdGNoaW5nIGF1ZGlvIHRyYWNrIDogZmx1c2hpbmcgYWxsIGF1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGhsc18xLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kT25CdWZmZXJGbHVzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXRzIGFubm91bmNlIHRoYXQgdGhlIGluaXRpYWwgYXVkaW8gdHJhY2sgc3dpdGNoIGZsdXNoIG9jY3VyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExldHMgYW5ub3VuY2UgdGhhdCB0aGUgaW5pdGlhbCBhdWRpbyB0cmFjayBzd2l0Y2ggZmx1c2ggb2NjdXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb1N3aXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBlbmRpbmdEYXRhXzEgPSB0aGlzLnBlbmRpbmdEYXRhO1xuICAgICAgICAgICAgaWYgKCFwZW5kaW5nRGF0YV8xKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0FwcGFyZW50bHkgYXR0ZW1wdCB0byBlbnF1ZXVlIG1lZGlhIHBheWxvYWQgd2l0aG91dCBjb2RlYyBpbml0aWFsaXphdGlvbiBkYXRhIHVwZnJvbnQnKTtcbiAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsczogbnVsbCwgZmF0YWw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF1ZGlvU3dpdGNoKSB7XG4gICAgICAgICAgICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyICYmIGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdEYXRhXzEucHVzaCh7IHR5cGU6IGRhdGEudHlwZSwgZGF0YTogYnVmZmVyLCBwYXJlbnQ6ICdhdWRpbycsIGNvbnRlbnQ6ICdkYXRhJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghYXBwZW5kT25CdWZmZXJGbHVzaCAmJiBwZW5kaW5nRGF0YV8xLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRGF0YV8xLmZvckVhY2goZnVuY3Rpb24gKGFwcGVuZE9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBhcHBlbmQgaW4gUEFSU0lORyBzdGF0ZSAocmF0aW9uYWxlIGlzIHRoYXQgYW4gYXBwZW5kaW5nIGVycm9yIGNvdWxkIGhhcHBlbiBzeW5jaHJvbm91c2x5IG9uIGZpcnN0IHNlZ21lbnQgYXBwZW5kaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGl0IGlzIHVzZWxlc3MgdG8gYXBwZW5kIGZvbGxvd2luZyBzZWdtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nRGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBkYXRhLmlkID09PSAnYXVkaW8nICYmXG4gICAgICAgICAgICBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJlxuICAgICAgICAgICAgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTSU5HKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRzLnRwYXJzZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyUmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBzb3VyY2VidWZmZXJzXG4gICAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckNyZWF0ZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgYXVkaW9UcmFjayA9IGRhdGEudHJhY2tzLmF1ZGlvO1xuICAgICAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IGF1ZGlvVHJhY2suYnVmZmVyO1xuICAgICAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudHJhY2tzLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvQnVmZmVyID0gZGF0YS50cmFja3MudmlkZW8uYnVmZmVyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5wYXJlbnQgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTSU5HIHx8IHN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIGFwcGVuZGVkXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gKGRhdGEucGVuZGluZyA+IDApO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrQXBwZW5kZWRQYXJzZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fY2hlY2tBcHBlbmRlZFBhcnNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNFRCAmJiAoIXRoaXMuYXBwZW5kZWQgfHwgIXRoaXMucGVuZGluZ0J1ZmZlcmluZykpIHtcbiAgICAgICAgICAgIHZhciBmcmFnID0gdGhpcy5mcmFnQ3VycmVudCwgc3RhdHMgPSB0aGlzLnN0YXRzLCBobHNfMiA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgICAgICAgICAgICAgc3RhdHMudGJ1ZmZlcmVkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgaGxzXzIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnLCBpZDogJ2F1ZGlvJyB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImF1ZGlvIGJ1ZmZlcmVkIDogXCIgKyB0aW1lX3Jhbmdlc18xLmRlZmF1bHQudG9TdHJpbmcobWVkaWEuYnVmZmVyZWQpKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdWRpb1N3aXRjaCAmJiB0aGlzLmFwcGVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Td2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGxzXzIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSEVELCB7IGlkOiB0aGlzLnRyYWNrSWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gYXVkaW8gZnJhZ21lbnRcbiAgICAgICAgaWYgKGZyYWcgJiYgZnJhZy50eXBlICE9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIHZhciBmcmFnXzEgPSBkYXRhLmZyYWc7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gYXVkaW8gZnJhZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ18xICYmIGZyYWdfMS50eXBlICE9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvYWRFcnJvciA9IHRoaXMuZnJhZ0xvYWRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEVycm9yKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkRXJyb3IgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRFcnJvciA8PSBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gbG9hZEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwb25lbnRpYWwgYmFja29mZiBjYXBwZWQgdG8gY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBNYXRoLm1pbihNYXRoLnBvdygyLCBsb2FkRXJyb3IgLSAxKSAqIGNvbmZpZy5mcmFnTG9hZGluZ1JldHJ5RGVsYXksIGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIkF1ZGlvU3RyZWFtQ29udHJvbGxlcjogZnJhZyBsb2FkaW5nIGZhaWxlZCwgcmV0cnkgaW4gXCIgKyBkZWxheSArIFwiIG1zXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRyeURhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSArIGRlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0cnkgbG9hZGluZyBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5GUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIkF1ZGlvU3RyZWFtQ29udHJvbGxlcjogXCIgKyBkYXRhLmRldGFpbHMgKyBcIiByZWFjaGVzIG1heCByZXRyeSwgcmVkaXNwYXRjaCBhcyBmYXRhbCAuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggZXJyb3IgdG8gZmF0YWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZmF0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FUlJPUjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkFVRElPX1RSQUNLX0xPQURfRVJST1I6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLktFWV9MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICAgICAgLy8gIHdoZW4gaW4gRVJST1Igc3RhdGUsIGRvbid0IHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUgaW4gY2FzZSBhIG5vbi1mYXRhbCBlcnJvciBpcyByZWNlaXZlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZmF0YWwgZXJyb3IsIHN0b3AgcHJvY2Vzc2luZywgb3RoZXJ3aXNlIG1vdmUgdG8gSURMRSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBkYXRhLmZhdGFsID8gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVSUk9SIDogYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiQXVkaW9TdHJlYW1Db250cm9sbGVyOiBcIiArIGRhdGEuZGV0YWlscyArIFwiIHdoaWxlIGxvYWRpbmcgZnJhZywgbm93IHN3aXRjaGluZyB0byBcIiArIHRoaXMuc3RhdGUgKyBcIiBzdGF0ZSAuLi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX0ZVTExfRVJST1I6XG4gICAgICAgICAgICAgICAgLy8gaWYgaW4gYXBwZW5kaW5nIHN0YXRlXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucGFyZW50ID09PSAnYXVkaW8nICYmICh0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyLCBjdXJyZW50VGltZSA9IHRoaXMubWVkaWEuY3VycmVudFRpbWUsIG1lZGlhQnVmZmVyZWQgPSBtZWRpYSAmJiBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIGN1cnJlbnRUaW1lKSAmJiBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIGN1cnJlbnRUaW1lICsgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkdWNlIG1heCBidWYgbGVuIGlmIGN1cnJlbnQgcG9zaXRpb24gaXMgYnVmZmVyZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhQnVmZmVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoID49IGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggYXMgaXQgbWlnaHQgYmUgdG9vIGhpZ2guIHdlIGRvIHRoaXMgdG8gYXZvaWQgbG9vcCBmbHVzaGluZyAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoIC89IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJBdWRpb1N0cmVhbUNvbnRyb2xsZXI6IHJlZHVjZSBtYXggYnVmZmVyIGxlbmd0aCB0byBcIiArIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggKyBcInNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCwgYnV0IGJyb3dzZXIgaXMgc3RpbGwgY29tcGxhaW5pbmcgYWJvdXQgYnVmZmVyIGZ1bGwgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFwcGVucyBvbiBJRS9FZGdlLCByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzcwOFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGZsdXNoIHRoZSB3aG9sZSBhdWRpbyBidWZmZXIgdG8gcmVjb3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0F1ZGlvU3RyZWFtQ29udHJvbGxlcjogYnVmZmVyIGZ1bGwgZXJyb3IgYWxzbyBtZWRpYS5jdXJyZW50VGltZSBpcyBub3QgYnVmZmVyZWQsIGZsdXNoIGF1ZGlvIGJ1ZmZlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmbHVzaCBldmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwZW5kaW5nRGF0YSA9IHRoaXMucGVuZGluZ0RhdGE7XG4gICAgICAgIGlmIChwZW5kaW5nRGF0YSAmJiBwZW5kaW5nRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ0F1ZGlvU3RyZWFtQ29udHJvbGxlcjogYXBwZW5kaW5nIHBlbmRpbmcgYXVkaW8gZGF0YSBhZnRlciBidWZmZXIgZmx1c2hlZCcpO1xuICAgICAgICAgICAgcGVuZGluZ0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoYXBwZW5kT2JqKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbW92ZSB0byBJRExFIG9uY2UgZmx1c2ggY29tcGxldGUuIHRoaXMgc2hvdWxkIHRyaWdnZXIgbmV3IGZyYWdtZW50IGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBmcmFnXG4gICAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcbn0oYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9hdWRpby10cmFjay1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciB0YXNrX2xvb3BfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3Rhc2stbG9vcCAqLyBcIi4vc3JjL3Rhc2stbG9vcC5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbi8qKlxuICogQGNsYXNzIEF1ZGlvVHJhY2tDb250cm9sbGVyXG4gKiBAaW1wbGVtZW50cyB7RXZlbnRIYW5kbGVyfVxuICpcbiAqIEhhbmRsZXMgbWFpbiBtYW5pZmVzdCBhbmQgYXVkaW8tdHJhY2sgbWV0YWRhdGEgbG9hZGVkLFxuICogb3ducyBhbmQgZXhwb3NlcyB0aGUgc2VsZWN0YWJsZSBhdWRpby10cmFja3MgZGF0YS1tb2RlbHMuXG4gKlxuICogRXhwb3NlcyBpbnRlcm5hbCBpbnRlcmZhY2UgdG8gc2VsZWN0IGF2YWlsYWJsZSBhdWRpby10cmFja3MuXG4gKlxuICogSGFuZGxlcyBlcnJvcnMgb24gbG9hZGluZyBhdWRpby10cmFjayBwbGF5bGlzdHMuIE1hbmFnZXMgZmFsbGJhY2sgbWVjaGFuaXNtXG4gKiB3aXRoIHJlZHVuZGFudHMgdHJhY2tzIChncm91cC1JRHMpLlxuICpcbiAqIEhhbmRsZXMgbGV2ZWwtbG9hZGluZyBhbmQgZ3JvdXAtSUQgc3dpdGNoZXMgZm9yIHZpZGVvIChmYWxsYmFjayBvbiB2aWRlbyBsZXZlbHMpLFxuICogYW5kIGV2ZW50dWFsbHkgYWRhcHRzIHRoZSBhdWRpby10cmFjayBncm91cC1JRCB0byBtYXRjaC5cbiAqXG4gKiBAZmlyZXMgQVVESU9fVFJBQ0tfTE9BRElOR1xuICogQGZpcmVzIEFVRElPX1RSQUNLX1NXSVRDSElOR1xuICogQGZpcmVzIEFVRElPX1RSQUNLU19VUERBVEVEXG4gKiBAZmlyZXMgRVJST1JcbiAqXG4gKi9cbnZhciBBdWRpb1RyYWNrQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXVkaW9UcmFja0NvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXVkaW9UcmFja0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX1BBUlNFRCwgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIGV2ZW50c18xLmRlZmF1bHQuTEVWRUxfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQ3VycmVudGx5IHNlbGVjdGVkIGluZGV4IGluIGB0cmFja3NgXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn0gdHJhY2tJZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RyYWNrSWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIElmIHNob3VsZCBzZWxlY3QgdHJhY2tzIGFjY29yZGluZyB0byBkZWZhdWx0IHRyYWNrIGF0dHJpYnV0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufSBfc2VsZWN0RGVmYXVsdFRyYWNrXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc2VsZWN0RGVmYXVsdFRyYWNrID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQWxsIHRyYWNrcyBhdmFpbGFibGVcbiAgICAgICAgICogQG1lbWJlciB7QXVkaW9UcmFja1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIExpc3Qgb2YgYmxhY2tsaXN0ZWQgYXVkaW8gdHJhY2sgSURzICh0aGF0IGhhdmUgY2F1c2VkIGZhaWx1cmUpXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2tJZEJsYWNrbGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgcnVubmluZyBncm91cCBJRCBmb3IgYXVkaW9cbiAgICAgICAgICogKHdlIGdyYWIgdGhpcyBvbiBtYW5pZmVzdC1wYXJzZWQgYW5kIG5ldyBsZXZlbC1sb2FkZWQpXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1ZGlvR3JvdXBJZCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgYXVkaW8gdHJhY2tzIG9uIG5ldyBtYW5pZmVzdCBsb2FkaW5nLlxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy5fdHJhY2tJZCA9IC0xO1xuICAgICAgICB0aGlzLl9zZWxlY3REZWZhdWx0VHJhY2sgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcmUgdHJhY2tzIGRhdGEgZnJvbSBtYW5pZmVzdCBwYXJzZWQgZGF0YS5cbiAgICAgKlxuICAgICAqIFRyaWdnZXIgQVVESU9fVFJBQ0tTX1VQREFURUQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdFBhcnNlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciB0cmFja3MgPSB0aGlzLnRyYWNrcyA9IGRhdGEuYXVkaW9UcmFja3MgfHwgW107XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS1NfVVBEQVRFRCwgeyBhdWRpb1RyYWNrczogdHJhY2tzIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcmUgdHJhY2sgZGV0YWlscyBvZiBsb2FkZWQgdHJhY2sgaW4gb3VyIGRhdGEtbW9kZWwuXG4gICAgICpcbiAgICAgKiBTZXQtdXAgbWV0YWRhdGEgdXBkYXRlIGludGVydmFsIHRhc2sgZm9yIGxpdmUtbW9kZSBzdHJlYW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHt9IGRhdGFcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25BdWRpb1RyYWNrTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuaWQgPj0gdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignSW52YWxpZCBhdWRpbyB0cmFjayBpZDonLCBkYXRhLmlkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW9UcmFjayBcIiArIGRhdGEuaWQgKyBcIiBsb2FkZWRcIik7XG4gICAgICAgIHRoaXMudHJhY2tzW2RhdGEuaWRdLmRldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgcGxheWxpc3QgaXMgYSBsaXZlIHBsYXlsaXN0XG4gICAgICAgIC8vIGFuZCBpZiB3ZSBoYXZlIGFscmVhZHkgb3VyIHJlbG9hZCBpbnRlcnZhbCBzZXR1cFxuICAgICAgICBpZiAoZGF0YS5kZXRhaWxzLmxpdmUgJiYgIXRoaXMuaGFzSW50ZXJ2YWwoKSkge1xuICAgICAgICAgICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCB3ZSB3aWxsIGhhdmUgdG8gcmVsb2FkIGl0IHBlcmlvZGljYWxseVxuICAgICAgICAgICAgLy8gc2V0IHJlbG9hZCBwZXJpb2QgdG8gcGxheWxpc3QgdGFyZ2V0IGR1cmF0aW9uXG4gICAgICAgICAgICB2YXIgdXBkYXRlUGVyaW9kTXMgPSBkYXRhLmRldGFpbHMudGFyZ2V0ZHVyYXRpb24gKiAxMDAwO1xuICAgICAgICAgICAgdGhpcy5zZXRJbnRlcnZhbCh1cGRhdGVQZXJpb2RNcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmRldGFpbHMubGl2ZSAmJiB0aGlzLmhhc0ludGVydmFsKCkpIHtcbiAgICAgICAgICAgIC8vIHBsYXlsaXN0IGlzIG5vdCBsaXZlIGFuZCB0aW1lciBpcyBzY2hlZHVsZWQ6IGNhbmNlbCBpdFxuICAgICAgICAgICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgaW50ZXJuYWwgZ3JvdXAgSUQgdG8gYW55IGF1ZGlvLXRyYWNrIHdlIG1heSBoYXZlIHNldCBtYW51YWxseVxuICAgICAqIG9yIGJlY2F1c2Ugb2YgYSBmYWlsdXJlLWhhbmRsaW5nIGZhbGxiYWNrLlxuICAgICAqXG4gICAgICogUXVhbGl0eS1sZXZlbHMgc2hvdWxkIHVwZGF0ZSB0byB0aGF0IGdyb3VwIElEIGluIHRoaXMgY2FzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBhdWRpb0dyb3VwSWQgPSB0aGlzLnRyYWNrc1tkYXRhLmlkXS5ncm91cElkO1xuICAgICAgICBpZiAoYXVkaW9Hcm91cElkICYmICh0aGlzLmF1ZGlvR3JvdXBJZCAhPT0gYXVkaW9Hcm91cElkKSkge1xuICAgICAgICAgICAgdGhpcy5hdWRpb0dyb3VwSWQgPSBhdWRpb0dyb3VwSWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZW4gYSBsZXZlbCBnZXRzIGxvYWRlZCwgaWYgaXQgaGFzIHJlZHVuZGFudCBhdWRpb0dyb3VwSWRzIChpbiB0aGUgc2FtZSBvcmRpbmFsaXR5IGFzIGl0J3MgcmVkdW5kYW50IFVSTHMpXG4gICAgICogd2UgYXJlIHNldHRpbmcgb3VyIGF1ZGlvLWdyb3VwIElEIGludGVybmFsbHkgdG8gdGhlIG9uZSBzZXQsIGlmIGl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBncm91cCBJRCBjdXJyZW50bHkgc2V0LlxuICAgICAqXG4gICAgICogSWYgZ3JvdXAtSUQgZ290IHVwZGF0ZSwgd2UgcmUtc2VsZWN0IHRoZSBhcHByb3ByaWF0ZSBhdWRpby10cmFjayB3aXRoIHRoaXMgZ3JvdXAtSUQgbWF0Y2hpbmcgdGhlIGN1cnJlbnRseVxuICAgICAqIHNlbGVjdGVkIG9uZSAoYmFzZWQgb24gTkFNRSBwcm9wZXJ0eSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIC8vIEZJWE1FOiBjcmFzaGVzIGJlY2F1c2UgY3VycmVudExldmVsIGlzIHVuZGVmaW5lZFxuICAgICAgICAvLyBjb25zdCBsZXZlbEluZm8gPSB0aGlzLmhscy5sZXZlbHNbdGhpcy5obHMuY3VycmVudExldmVsXTtcbiAgICAgICAgdmFyIGxldmVsSW5mbyA9IHRoaXMuaGxzLmxldmVsc1tkYXRhLmxldmVsXTtcbiAgICAgICAgaWYgKCFsZXZlbEluZm8uYXVkaW9Hcm91cElkcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdWRpb0dyb3VwSWQgPSBsZXZlbEluZm8uYXVkaW9Hcm91cElkc1tsZXZlbEluZm8udXJsSWRdO1xuICAgICAgICBpZiAodGhpcy5hdWRpb0dyb3VwSWQgIT09IGF1ZGlvR3JvdXBJZCkge1xuICAgICAgICAgICAgdGhpcy5hdWRpb0dyb3VwSWQgPSBhdWRpb0dyb3VwSWQ7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RJbml0aWFsQXVkaW9UcmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbmV0d29yayBlcnJvcnMgbG9hZGluZyBhdWRpbyB0cmFjayBtYW5pZmVzdHNcbiAgICAgKiBhbmQgYWxzbyBwYXVzaW5nIG9uIGFueSBuZXR3b2sgZXJyb3JzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFcnJvckV2ZW50RGF0YX0gZGF0YVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gT25seSBoYW5kbGUgbmV0d29yayBlcnJvcnNcbiAgICAgICAgaWYgKGRhdGEudHlwZSAhPT0gZXJyb3JzXzEuRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgZmF0YWwgbmV0d29yayBlcnJvciwgY2FuY2VsIHVwZGF0ZSB0YXNrXG4gICAgICAgIGlmIChkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBub3QgYW4gYXVkaW8tdHJhY2sgbG9hZGluZyBlcnJvciBkb24ndCBoYW5kbGUgZnVydGhlclxuICAgICAgICBpZiAoZGF0YS5kZXRhaWxzICE9PSBlcnJvcnNfMS5FcnJvckRldGFpbHMuQVVESU9fVFJBQ0tfTE9BRF9FUlJPUikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdOZXR3b3JrIGZhaWx1cmUgb24gYXVkaW8tdHJhY2sgaWQ6JywgZGF0YS5jb250ZXh0LmlkKTtcbiAgICAgICAgdGhpcy5faGFuZGxlTG9hZEVycm9yKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLCBcImF1ZGlvVHJhY2tzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBdWRpb1RyYWNrW119IEF1ZGlvLXRyYWNrIGxpc3Qgd2Ugb3duXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYWNrcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZSwgXCJhdWRpb1RyYWNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IEluZGV4IGludG8gYXVkaW8tdHJhY2tzIGxpc3Qgb2YgY3VycmVudGx5IHNlbGVjdGVkIHRyYWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tJZDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdCBjdXJyZW50IHRyYWNrIGJ5IGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdJZCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0QXVkaW9UcmFjayhuZXdJZCk7XG4gICAgICAgICAgICAvLyBJZiBhdWRpbyB0cmFjayBpcyBzZWxlY3RlZCBmcm9tIEFQSSB0aGVuIGRvbid0IGNob29zZSBmcm9tIHRoZSBtYW5pZmVzdCBkZWZhdWx0IHRyYWNrXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3REZWZhdWx0VHJhY2sgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmV3SWRcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX3NldEF1ZGlvVHJhY2sgPSBmdW5jdGlvbiAobmV3SWQpIHtcbiAgICAgICAgLy8gbm9vcCBvbiBzYW1lIGF1ZGlvIHRyYWNrIGlkIGFzIGFscmVhZHkgc2V0XG4gICAgICAgIGlmICh0aGlzLl90cmFja0lkID09PSBuZXdJZCAmJiB0aGlzLnRyYWNrc1t0aGlzLl90cmFja0lkXS5kZXRhaWxzKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZGVidWcoJ1NhbWUgaWQgYXMgY3VycmVudCBhdWRpby10cmFjayBwYXNzZWQsIGFuZCB0cmFjayBkZXRhaWxzIGF2YWlsYWJsZSAtPiBuby1vcCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgICAgICBpZiAobmV3SWQgPCAwIHx8IG5ld0lkID49IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0ludmFsaWQgaWQgcGFzc2VkIHRvIGF1ZGlvLXRyYWNrIGNvbnRyb2xsZXInKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXVkaW9UcmFjayA9IHRoaXMudHJhY2tzW25ld0lkXTtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk5vdyBzd2l0Y2hpbmcgdG8gYXVkaW8tdHJhY2sgaW5kZXggXCIgKyBuZXdJZCk7XG4gICAgICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5fdHJhY2tJZCA9IG5ld0lkO1xuICAgICAgICB2YXIgdXJsID0gYXVkaW9UcmFjay51cmwsIHR5cGUgPSBhdWRpb1RyYWNrLnR5cGUsIGlkID0gYXVkaW9UcmFjay5pZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSElORywgeyBpZDogaWQsIHR5cGU6IHR5cGUsIHVybDogdXJsIH0pO1xuICAgICAgICB0aGlzLl9sb2FkVHJhY2tEZXRhaWxzSWZOZWVkZWQoYXVkaW9UcmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91cGRhdGVUcmFjayh0aGlzLl90cmFja0lkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbGVjdCBpbml0aWFsIHRyYWNrXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX3NlbGVjdEluaXRpYWxBdWRpb1RyYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3M7XG4gICAgICAgIGlmICghdHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50QXVkaW9UcmFjayA9IHRoaXMudHJhY2tzW3RoaXMuX3RyYWNrSWRdO1xuICAgICAgICB2YXIgbmFtZSA9IG51bGw7XG4gICAgICAgIGlmIChjdXJyZW50QXVkaW9UcmFjaykge1xuICAgICAgICAgICAgbmFtZSA9IGN1cnJlbnRBdWRpb1RyYWNrLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJlLXNlbGVjdCBkZWZhdWx0IHRyYWNrcyBpZiB0aGVyZSBhcmUgYW55XG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3REZWZhdWx0VHJhY2spIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VHJhY2tzID0gdHJhY2tzLmZpbHRlcihmdW5jdGlvbiAodHJhY2spIHsgcmV0dXJuIHRyYWNrLmRlZmF1bHQ7IH0pO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRUcmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tzID0gZGVmYXVsdFRyYWNrcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdObyBkZWZhdWx0IGF1ZGlvIHRyYWNrcyBkZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYWNrRm91bmQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRyYXZlcnNlVHJhY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gU2VsZWN0IHRyYWNrIHdpdGggcmlnaHQgZ3JvdXAgSURcbiAgICAgICAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh0cmFja0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBtYXRjaCB0aGUgKHByZS0pc2VsZWN0ZWQgZ3JvdXAgSURcbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhlIE5BTUUgb2YgdGhlIGN1cnJlbnQgdHJhY2suXG4gICAgICAgICAgICAgICAgaWYgKCghX3RoaXMuYXVkaW9Hcm91cElkIHx8IHRyYWNrLmdyb3VwSWQgPT09IF90aGlzLmF1ZGlvR3JvdXBJZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKCFuYW1lIHx8IG5hbWUgPT09IHRyYWNrLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIHdhcyBhIHByZXZpb3VzIHRyYWNrIHRyeSB0byBzdGF5IHdpdGggdGhlIHNhbWUgYE5BTUVgLlxuICAgICAgICAgICAgICAgICAgICAvLyBJdCBzaG91bGQgYmUgdW5pcXVlIGFjcm9zcyB0cmFja3Mgb2Ygc2FtZSBncm91cCwgYW5kIGNvbnNpc3RlbnQgdGhyb3VnaCByZWR1bmRhbnQgdHJhY2sgZ3JvdXBzLlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0QXVkaW9UcmFjayh0cmFjay5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0cmF2ZXJzZVRyYWNrcygpO1xuICAgICAgICBpZiAoIXRyYWNrRm91bmQpIHtcbiAgICAgICAgICAgIG5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdHJhdmVyc2VUcmFja3MoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRyYWNrRm91bmQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIk5vIHRyYWNrIGZvdW5kIGZvciBydW5uaW5nIGF1ZGlvIGdyb3VwLUlEOiBcIiArIHRoaXMuYXVkaW9Hcm91cElkKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkFVRElPX1RSQUNLX0xPQURfRVJST1IsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXVkaW9UcmFja30gYXVkaW9UcmFja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fbmVlZHNUcmFja0xvYWRpbmcgPSBmdW5jdGlvbiAoYXVkaW9UcmFjaykge1xuICAgICAgICB2YXIgZGV0YWlscyA9IGF1ZGlvVHJhY2suZGV0YWlscywgdXJsID0gYXVkaW9UcmFjay51cmw7XG4gICAgICAgIGlmICghZGV0YWlscyB8fCBkZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGZhY2UgYW4gYXVkaW8gdHJhY2sgZW1iZWRkZWQgaW4gbWFpbiBwbGF5bGlzdCAoYXVkaW8gdHJhY2sgd2l0aG91dCBVUkkgYXR0cmlidXRlKVxuICAgICAgICAgICAgcmV0dXJuICEhdXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBdWRpb1RyYWNrfSBhdWRpb1RyYWNrXG4gICAgICovXG4gICAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl9sb2FkVHJhY2tEZXRhaWxzSWZOZWVkZWQgPSBmdW5jdGlvbiAoYXVkaW9UcmFjaykge1xuICAgICAgICBpZiAodGhpcy5fbmVlZHNUcmFja0xvYWRpbmcoYXVkaW9UcmFjaykpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhdWRpb1RyYWNrLnVybCwgaWQgPSBhdWRpb1RyYWNrLmlkO1xuICAgICAgICAgICAgLy8gdHJhY2sgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxvYWRpbmcgYXVkaW8tdHJhY2sgcGxheWxpc3QgZm9yIGlkOiBcIiArIGlkKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19MT0FESU5HLCB7IHVybDogdXJsLCBpZDogaWQgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0lkXG4gICAgICovXG4gICAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl91cGRhdGVUcmFjayA9IGZ1bmN0aW9uIChuZXdJZCkge1xuICAgICAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICAgICAgaWYgKG5ld0lkIDwgMCB8fCBuZXdJZCA+PSB0aGlzLnRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gICAgICAgIHRoaXMuX3RyYWNrSWQgPSBuZXdJZDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInRyeWluZyB0byB1cGRhdGUgYXVkaW8tdHJhY2sgXCIgKyBuZXdJZCk7XG4gICAgICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3NbbmV3SWRdO1xuICAgICAgICB0aGlzLl9sb2FkVHJhY2tEZXRhaWxzSWZOZWVkZWQoYXVkaW9UcmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5faGFuZGxlTG9hZEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGaXJzdCwgbGV0J3MgYmxhY2sgbGlzdCBjdXJyZW50IHRyYWNrIGlkXG4gICAgICAgIHRoaXMudHJhY2tJZEJsYWNrbGlzdFt0aGlzLl90cmFja0lkXSA9IHRydWU7XG4gICAgICAgIC8vIExldCdzIHRyeSB0byBmYWxsIGJhY2sgb24gYSBmdW5jdGlvbmFsIGF1ZGlvLXRyYWNrIHdpdGggdGhlIHNhbWUgZ3JvdXAgSURcbiAgICAgICAgdmFyIHByZXZpb3VzSWQgPSB0aGlzLl90cmFja0lkO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnRyYWNrc1twcmV2aW91c0lkXSwgbmFtZSA9IF9hLm5hbWUsIGxhbmd1YWdlID0gX2EubGFuZ3VhZ2UsIGdyb3VwSWQgPSBfYS5ncm91cElkO1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIkxvYWRpbmcgZmFpbGVkIG9uIGF1ZGlvIHRyYWNrIGlkOiBcIiArIHByZXZpb3VzSWQgKyBcIiwgZ3JvdXAtaWQ6IFwiICsgZ3JvdXBJZCArIFwiLCBuYW1lL2xhbmd1YWdlOiBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIC8gXFxcIlwiICsgbGFuZ3VhZ2UgKyBcIlxcXCJcIik7XG4gICAgICAgIC8vIEZpbmQgYSBub24tYmxhY2tsaXN0ZWQgdHJhY2sgSUQgd2l0aCB0aGUgc2FtZSBOQU1FXG4gICAgICAgIC8vIEF0IGxlYXN0IGEgdHJhY2sgdGhhdCBpcyBub3QgYmxhY2tsaXN0ZWQsIHRodXMgb24gYW5vdGhlciBncm91cC1JRC5cbiAgICAgICAgdmFyIG5ld0lkID0gcHJldmlvdXNJZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tJZEJsYWNrbGlzdFtpXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5ld1RyYWNrID0gdGhpcy50cmFja3NbaV07XG4gICAgICAgICAgICBpZiAobmV3VHJhY2submFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIG5ld0lkID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SWQgPT09IHByZXZpb3VzSWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiTm8gZmFsbGJhY2sgYXVkaW8tdHJhY2sgZm91bmQgZm9yIG5hbWUvbGFuZ3VhZ2U6IFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgLyBcXFwiXCIgKyBsYW5ndWFnZSArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdBdHRlbXB0aW5nIGF1ZGlvLXRyYWNrIGZhbGxiYWNrIGlkOicsIG5ld0lkLCAnZ3JvdXAtaWQ6JywgdGhpcy50cmFja3NbbmV3SWRdLmdyb3VwSWQpO1xuICAgICAgICB0aGlzLl9zZXRBdWRpb1RyYWNrKG5ld0lkKTtcbiAgICB9O1xuICAgIHJldHVybiBBdWRpb1RyYWNrQ29udHJvbGxlcjtcbn0odGFza19sb29wXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQXVkaW9UcmFja0NvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9iYXNlLXN0cmVhbS1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKE51bWJlcikge1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdGFza19sb29wXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90YXNrLWxvb3AgKi8gXCIuL3NyYy90YXNrLWxvb3AuanNcIik7XG52YXIgZnJhZ21lbnRfdHJhY2tlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mcmFnbWVudC10cmFja2VyICovIFwiLi9zcmMvY29udHJvbGxlci9mcmFnbWVudC10cmFja2VyLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZXhwb3J0cy5TdGF0ZSA9IHtcbiAgICBTVE9QUEVEOiAnU1RPUFBFRCcsXG4gICAgU1RBUlRJTkc6ICdTVEFSVElORycsXG4gICAgSURMRTogJ0lETEUnLFxuICAgIFBBVVNFRDogJ1BBVVNFRCcsXG4gICAgS0VZX0xPQURJTkc6ICdLRVlfTE9BRElORycsXG4gICAgRlJBR19MT0FESU5HOiAnRlJBR19MT0FESU5HJyxcbiAgICBGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTogJ0ZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZJyxcbiAgICBXQUlUSU5HX1RSQUNLOiAnV0FJVElOR19UUkFDSycsXG4gICAgUEFSU0lORzogJ1BBUlNJTkcnLFxuICAgIFBBUlNFRDogJ1BBUlNFRCcsXG4gICAgQlVGRkVSX0ZMVVNISU5HOiAnQlVGRkVSX0ZMVVNISU5HJyxcbiAgICBFTkRFRDogJ0VOREVEJyxcbiAgICBFUlJPUjogJ0VSUk9SJyxcbiAgICBXQUlUSU5HX0lOSVRfUFRTOiAnV0FJVElOR19JTklUX1BUUycsXG4gICAgV0FJVElOR19MRVZFTDogJ1dBSVRJTkdfTEVWRUwnXG59O1xudmFyIEJhc2VTdHJlYW1Db250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlU3RyZWFtQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXNlU3RyZWFtQ29udHJvbGxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBCYXNlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEJhc2VTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fc3RyZWFtRW5kZWQgPSBmdW5jdGlvbiAoYnVmZmVySW5mbywgbGV2ZWxEZXRhaWxzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGZyYWdDdXJyZW50ID0gX2EuZnJhZ0N1cnJlbnQsIGZyYWdtZW50VHJhY2tlciA9IF9hLmZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgLy8gd2UganVzdCBnb3QgZG9uZSBsb2FkaW5nIHRoZSBmaW5hbCBmcmFnbWVudCBhbmQgdGhlcmUgaXMgbm8gb3RoZXIgYnVmZmVyZWQgcmFuZ2UgYWZ0ZXIgLi4uXG4gICAgICAgIC8vIHJhdGlvbmFsZSBpcyB0aGF0IGluIGNhc2UgdGhlcmUgYXJlIGFueSBidWZmZXJlZCByYW5nZXMgYWZ0ZXIsIGl0IG1lYW5zIHRoYXQgdGhlcmUgYXJlIHVuYnVmZmVyZWQgcG9ydGlvbiBpbiBiZXR3ZWVuXG4gICAgICAgIC8vIHNvIHdlIHNob3VsZCBub3Qgc3dpdGNoIHRvIEVOREVEIGluIHRoYXQgY2FzZSwgdG8gYmUgYWJsZSB0byBidWZmZXIgdGhlbVxuICAgICAgICAvLyBkb250IHN3aXRjaCB0byBFTkRFRCBpZiB3ZSBuZWVkIHRvIGJhY2t0cmFjayBsYXN0IGZyYWdtZW50XG4gICAgICAgIGlmICghbGV2ZWxEZXRhaWxzLmxpdmUgJiYgZnJhZ0N1cnJlbnQgJiYgIWZyYWdDdXJyZW50LmJhY2t0cmFja2VkICYmIGZyYWdDdXJyZW50LnNuID09PSBsZXZlbERldGFpbHMuZW5kU04gJiYgIWJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ1N0YXRlID0gZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKGZyYWdDdXJyZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmcmFnU3RhdGUgPT09IGZyYWdtZW50X3RyYWNrZXJfMS5GcmFnbWVudFN0YXRlLlBBUlRJQUwgfHwgZnJhZ1N0YXRlID09PSBmcmFnbWVudF90cmFja2VyXzEuRnJhZ21lbnRTdGF0ZS5PSztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBCYXNlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNlZWtpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGNvbmZpZyA9IF9hLmNvbmZpZywgbWVkaWEgPSBfYS5tZWRpYSwgbWVkaWFCdWZmZXIgPSBfYS5tZWRpYUJ1ZmZlciwgc3RhdGUgPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEgPyBtZWRpYS5jdXJyZW50VGltZSA6IG51bGw7XG4gICAgICAgIHZhciBidWZmZXJJbmZvID0gYnVmZmVyX2hlbHBlcl8xLkJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKG1lZGlhQnVmZmVyIHx8IG1lZGlhLCBjdXJyZW50VGltZSwgdGhpcy5jb25maWcubWF4QnVmZmVySG9sZSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoY3VycmVudFRpbWUpKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibWVkaWEgc2Vla2luZyB0byBcIiArIGN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gZXhwb3J0cy5TdGF0ZS5GUkFHX0xPQURJTkcpIHtcbiAgICAgICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgc2Vla2luZyB0byBhIHVuYnVmZmVyZWQgYXJlYSBBTkQgaWYgZnJhZyBsb2FkaW5nIGlzIGluIHByb2dyZXNzXG4gICAgICAgICAgICBpZiAoYnVmZmVySW5mby5sZW4gPT09IDAgJiYgZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICAgICAgICAgICAgdmFyIGZyYWdTdGFydE9mZnNldCA9IGZyYWdDdXJyZW50LnN0YXJ0IC0gdG9sZXJhbmNlO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnRW5kT2Zmc2V0ID0gZnJhZ0N1cnJlbnQuc3RhcnQgKyBmcmFnQ3VycmVudC5kdXJhdGlvbiArIHRvbGVyYW5jZTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBzZWVrIHBvc2l0aW9uIHdpbGwgYmUgb3V0IG9mIGN1cnJlbnRseSBsb2FkZWQgZnJhZyByYW5nZSA6IGlmIG91dCBjYW5jZWwgZnJhZyBsb2FkLCBpZiBpbiwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPCBmcmFnU3RhcnRPZmZzZXQgfHwgY3VycmVudFRpbWUgPiBmcmFnRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3NlZWtpbmcgb3V0c2lkZSBvZiBidWZmZXIgd2hpbGUgZnJhZ21lbnQgbG9hZCBpbiBwcm9ncmVzcywgY2FuY2VsIGZyYWdtZW50IGxvYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIGxvYWQgbmV3IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBleHBvcnRzLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzZWVraW5nIG91dHNpZGUgb2YgYnVmZmVyIGJ1dCB3aXRoaW4gY3VycmVudGx5IGxvYWRlZCBmcmFnbWVudCByYW5nZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gZXhwb3J0cy5TdGF0ZS5FTkRFRCkge1xuICAgICAgICAgICAgLy8gaWYgc2Vla2luZyB0byB1bmJ1ZmZlcmVkIGFyZWEsIGNsZWFuIHVwIGZyYWdQcmV2aW91c1xuICAgICAgICAgICAgaWYgKGJ1ZmZlckluZm8ubGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gY2hlY2sgZm9yIHBvdGVudGlhbCBuZXcgZnJhZ21lbnRcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBleHBvcnRzLlN0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluIGNhc2Ugc2Vla2luZyBvY2N1cnMgYWx0aG91Z2ggbm8gbWVkaWEgYnVmZmVyZWQsIGFkanVzdCBzdGFydFBvc2l0aW9uIGFuZCBuZXh0TG9hZFBvc2l0aW9uIHRvIHNlZWsgdGFyZ2V0XG4gICAgICAgIGlmICghdGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uID0gY3VycmVudFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGljayB0byBzcGVlZCB1cCBwcm9jZXNzaW5nXG4gICAgICAgIHRoaXMudGljaygpO1xuICAgIH07XG4gICAgQmFzZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFFbmRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVzZXQgc3RhcnRQb3NpdGlvbiBhbmQgbGFzdEN1cnJlbnRUaW1lIHRvIHJlc3RhcnQgcGxheWJhY2sgQCBzdHJlYW0gYmVnaW5uaW5nXG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlU3RyZWFtQ29udHJvbGxlcjtcbn0odGFza19sb29wXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVN0cmVhbUNvbnRyb2xsZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYnVmZmVyLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2J1ZmZlci1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogQnVmZmVyIENvbnRyb2xsZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBtZWRpYXNvdXJjZV9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL21lZGlhc291cmNlLWhlbHBlciAqLyBcIi4vc3JjL3V0aWxzL21lZGlhc291cmNlLWhlbHBlci5qc1wiKTtcbnZhciBNZWRpYVNvdXJjZSA9IG1lZGlhc291cmNlX2hlbHBlcl8xLmdldE1lZGlhU291cmNlKCk7XG52YXIgQnVmZmVyQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnVmZmVyQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCdWZmZXJDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9QQVJTRUQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX1JFU0VULCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9BUFBFTkRJTkcsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NPREVDUywgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRU9TLCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9GTFVTSElORywgZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9QVFNfVVBEQVRFRCwgZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9VUERBVEVEKSB8fCB0aGlzO1xuICAgICAgICAvLyB0aGUgdmFsdWUgdGhhdCB3ZSBoYXZlIHNldCBtZWRpYXNvdXJjZS5kdXJhdGlvbiB0b1xuICAgICAgICAvLyAodGhlIGFjdHVhbCBkdXJhdGlvbiBtYXkgYmUgdHdlYWtlZCBzbGlnaGx5IGJ5IHRoZSBicm93c2VyKVxuICAgICAgICBfdGhpcy5fbXNEdXJhdGlvbiA9IG51bGw7XG4gICAgICAgIC8vIHRoZSB2YWx1ZSB0aGF0IHdlIHdhbnQgdG8gc2V0IG1lZGlhU291cmNlLmR1cmF0aW9uIHRvXG4gICAgICAgIF90aGlzLl9sZXZlbER1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgLy8gdGhlIHRhcmdldCBkdXJhdGlvbiBvZiB0aGUgY3VycmVudCBtZWRpYSBwbGF5bGlzdFxuICAgICAgICBfdGhpcy5fbGV2ZWxUYXJnZXREdXJhdGlvbiA9IDEwO1xuICAgICAgICAvLyBjdXJyZW50IHN0cmVhbSBzdGF0ZTogdHJ1ZSAtIGZvciBsaXZlIGJyb2FkY2FzdCwgZmFsc2UgLSBmb3IgVm9EIGNvbnRlbnRcbiAgICAgICAgX3RoaXMuX2xpdmUgPSBudWxsO1xuICAgICAgICAvLyBjYWNoZSB0aGUgc2VsZiBnZW5lcmF0ZWQgb2JqZWN0IHVybCB0byBkZXRlY3QgaGlqYWNrIG9mIHZpZGVvIHRhZ1xuICAgICAgICBfdGhpcy5fb2JqZWN0VXJsID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBCVUZGRVJfQ09ERUMgZXZlbnRzIHJlY2VpdmVkIGJlZm9yZSBhbnkgc291cmNlQnVmZmVycyBhcmUgY3JlYXRlZFxuICAgICAgICBfdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gMDtcbiAgICAgICAgLy8gU291cmNlIEJ1ZmZlciBsaXN0ZW5lcnNcbiAgICAgICAgX3RoaXMub25zYnVlID0gX3RoaXMub25TQlVwZGF0ZUVuZC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMub25zYmUgPSBfdGhpcy5vblNCVXBkYXRlRXJyb3IuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnBlbmRpbmdUcmFja3MgPSB7fTtcbiAgICAgICAgX3RoaXMudHJhY2tzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxQdHNVcGRhdGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3MuYXVkaW87XG4gICAgICAgIC8vIEFkanVzdGluZyBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGAgKGRlc2lyZWQgcG9pbnQgaW4gdGhlIHRpbWVsaW5lIHdoZXJlIHRoZSBuZXh0IGZyYW1lcyBzaG91bGQgYmUgYXBwZW5kZWQpXG4gICAgICAgIC8vIGluIENocm9tZSBicm93c2VyIHdoZW4gd2UgZGV0ZWN0IE1QRUcgYXVkaW8gY29udGFpbmVyIGFuZCB0aW1lIGRlbHRhIGJldHdlZW4gbGV2ZWwgUFRTIGFuZCBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGBcbiAgICAgICAgLy8gaXMgZ3JlYXRlciB0aGFuIDEwMG1zICh0aGlzIGlzIGVub3VnaCB0byBoYW5kbGUgc2VlayBmb3IgVk9EIG9yIGxldmVsIGNoYW5nZSBmb3IgTElWRSB2aWRlb3MpLiBBdCB0aGUgdGltZSBvZiBjaGFuZ2Ugd2UgaXNzdWVcbiAgICAgICAgLy8gYFNvdXJjZUJ1ZmZlci5hYm9ydCgpYCBhbmQgYWRqdXN0aW5nIGBTb3VyY2VCdWZmZXIudGltZXN0YW1wT2Zmc2V0YCBpZiBgU291cmNlQnVmZmVyLnVwZGF0aW5nYCBpcyBmYWxzZSBvciBhd2FpdGluZyBgdXBkYXRlZW5kYFxuICAgICAgICAvLyBldmVudCBpZiBTQiBpcyBpbiB1cGRhdGluZyBzdGF0ZS5cbiAgICAgICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy8zMzIjaXNzdWVjb21tZW50LTI1Nzk4NjQ4NlxuICAgICAgICBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiBhdWRpb1RyYWNrICYmIGF1ZGlvVHJhY2suY29udGFpbmVyID09PSAnYXVkaW8vbXBlZycpIHsgLy8gQ2hyb21lIGF1ZGlvIG1wMyB0cmFja1xuICAgICAgICAgICAgdmFyIGF1ZGlvQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXIuYXVkaW87XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhhdWRpb0J1ZmZlci50aW1lc3RhbXBPZmZzZXQgLSBkYXRhLnN0YXJ0KTtcbiAgICAgICAgICAgIC8vIGFkanVzdCB0aW1lc3RhbXAgb2Zmc2V0IGlmIHRpbWUgZGVsdGEgaXMgZ3JlYXRlciB0aGFuIDEwMG1zXG4gICAgICAgICAgICBpZiAoZGVsdGEgPiAwLjEpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRpbmcgPSBhdWRpb0J1ZmZlci51cGRhdGluZztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0J1ZmZlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdjYW4gbm90IGFib3J0IGF1ZGlvIGJ1ZmZlcjogJyArIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2NoYW5nZSBtcGVnIGF1ZGlvIHRpbWVzdGFtcCBvZmZzZXQgZnJvbSAnICsgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ICsgJyB0byAnICsgZGF0YS5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyLnRpbWVzdGFtcE9mZnNldCA9IGRhdGEuc3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBpbiBjYXNlIG9mIGFsdCBhdWRpbyAyIEJVRkZFUl9DT0RFQ1MgZXZlbnRzIHdpbGwgYmUgdHJpZ2dlcmVkLCBvbmUgcGVyIHN0cmVhbSBjb250cm9sbGVyXG4gICAgICAgIC8vIHNvdXJjZWJ1ZmZlcnMgd2lsbCBiZSBjcmVhdGVkIGFsbCBhdCBvbmNlIHdoZW4gdGhlIGV4cGVjdGVkIG5iIG9mIHRyYWNrcyB3aWxsIGJlIHJlYWNoZWRcbiAgICAgICAgLy8gaW4gY2FzZSBhbHQgYXVkaW8gaXMgbm90IHVzZWQsIG9ubHkgb25lIEJVRkZFUl9DT0RFQyBldmVudCB3aWxsIGJlIGZpcmVkIGZyb20gbWFpbiBzdHJlYW0gY29udHJvbGxlclxuICAgICAgICAvLyBpdCB3aWxsIGNvbnRhaW4gdGhlIGV4cGVjdGVkIG5iIG9mIHNvdXJjZSBidWZmZXJzLCBubyBuZWVkIHRvIGNvbXB1dGUgaXRcbiAgICAgICAgdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gZGF0YS5hbHRBdWRpbyA/IDIgOiAxO1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKHRoaXMuYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCArIFwiIGJ1ZmZlckNvZGVjIGV2ZW50KHMpIGV4cGVjdGVkXCIpO1xuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgIC8vIHNldHVwIHRoZSBtZWRpYSBzb3VyY2VcbiAgICAgICAgICAgIHZhciBtcyA9IHRoaXMubWVkaWFTb3VyY2UgPSBuZXcgTWVkaWFTb3VyY2UoKTtcbiAgICAgICAgICAgIC8vIE1lZGlhIFNvdXJjZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgIHRoaXMub25tc28gPSB0aGlzLm9uTWVkaWFTb3VyY2VPcGVuLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9ubXNlID0gdGhpcy5vbk1lZGlhU291cmNlRW5kZWQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMub25tc2MgPSB0aGlzLm9uTWVkaWFTb3VyY2VDbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMub25tc28pO1xuICAgICAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLm9ubXNlKTtcbiAgICAgICAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5vbm1zYyk7XG4gICAgICAgICAgICAvLyBsaW5rIHZpZGVvIGFuZCBtZWRpYSBTb3VyY2VcbiAgICAgICAgICAgIG1lZGlhLnNyYyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG1zKTtcbiAgICAgICAgICAgIC8vIGNhY2hlIHRoZSBsb2NhbGx5IGdlbmVyYXRlZCBvYmplY3QgdXJsXG4gICAgICAgICAgICB0aGlzLl9vYmplY3RVcmwgPSBtZWRpYS5zcmM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ21lZGlhIHNvdXJjZSBkZXRhY2hpbmcnKTtcbiAgICAgICAgdmFyIG1zID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgaWYgKG1zKSB7XG4gICAgICAgICAgICBpZiAobXMucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5kT2ZTdHJlYW0gY291bGQgdHJpZ2dlciBleGNlcHRpb24gaWYgYW55IHNvdXJjZWJ1ZmZlciBpcyBpbiB1cGRhdGluZyBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCByZWFsbHkgY2FyZSBhYm91dCBjaGVja2luZyBzb3VyY2VidWZmZXIgc3RhdGUgaGVyZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgd2UgYXJlIGFueXdheSBkZXRhY2hpbmcgdGhlIE1lZGlhU291cmNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCdzIGp1c3QgYXZvaWQgdGhpcyBleGNlcHRpb24gdG8gcHJvcGFnYXRlXG4gICAgICAgICAgICAgICAgICAgIG1zLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJvbk1lZGlhRGV0YWNoaW5nOlwiICsgZXJyLm1lc3NhZ2UgKyBcIiB3aGlsZSBjYWxsaW5nIGVuZE9mU3RyZWFtXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLm9ubXNvKTtcbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5vbm1zZSk7XG4gICAgICAgICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMub25tc2MpO1xuICAgICAgICAgICAgLy8gRGV0YWNoIHByb3Blcmx5IHRoZSBNZWRpYVNvdXJjZSBmcm9tIHRoZSBIVE1MTWVkaWFFbGVtZW50IGFzXG4gICAgICAgICAgICAvLyBzdWdnZXN0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3czYy9tZWRpYS1zb3VyY2UvaXNzdWVzLzUzLlxuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLl9vYmplY3RVcmwpO1xuICAgICAgICAgICAgICAgIC8vIGNsZWFuIHVwIHZpZGVvIHRhZyBzcmMgb25seSBpZiBpdCdzIG91ciBvd24gdXJsLiBzb21lIGV4dGVybmFsIGxpYnJhcmllcyBtaWdodFxuICAgICAgICAgICAgICAgIC8vIGhpamFjayB0aGUgdmlkZW8gdGFnIGFuZCBjaGFuZ2UgaXRzICdzcmMnIHdpdGhvdXQgZGVzdHJveWluZyB0aGUgSGxzIGluc3RhbmNlIGZpcnN0XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVkaWEuc3JjID09PSB0aGlzLl9vYmplY3RVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYS5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdtZWRpYS5zcmMgd2FzIGNoYW5nZWQgYnkgYSB0aGlyZCBwYXJ0eSAtIHNraXAgY2xlYW51cCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVkaWFTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3RVcmwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHJhY2tzID0ge307XG4gICAgICAgICAgICB0aGlzLnRyYWNrcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hSYW5nZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRlZCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbm1zbyA9IHRoaXMub25tc2UgPSB0aGlzLm9ubXNjID0gbnVsbDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSEVEKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTb3VyY2VPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdtZWRpYSBzb3VyY2Ugb3BlbmVkJyk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5NRURJQV9BVFRBQ0hFRCwgeyBtZWRpYTogdGhpcy5tZWRpYSB9KTtcbiAgICAgICAgdmFyIG1lZGlhU291cmNlID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgaWYgKG1lZGlhU291cmNlKSB7XG4gICAgICAgICAgICAvLyBvbmNlIHJlY2VpdmVkLCBkb24ndCBsaXN0ZW4gYW55bW9yZSB0byBzb3VyY2VvcGVuIGV2ZW50XG4gICAgICAgICAgICBtZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbm1zbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja1BlbmRpbmdUcmFja3MoKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCA9IF9hLmJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQsIHBlbmRpbmdUcmFja3MgPSBfYS5wZW5kaW5nVHJhY2tzO1xuICAgICAgICAvLyBDaGVjayBpZiB3ZSd2ZSByZWNlaXZlZCBhbGwgb2YgdGhlIGV4cGVjdGVkIGJ1ZmZlckNvZGVjIGV2ZW50cy4gV2hlbiBub25lIHJlbWFpbiwgY3JlYXRlIGFsbCB0aGUgc291cmNlQnVmZmVycyBhdCBvbmNlLlxuICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBiZWNhdXNlIHRoZSBNU0Ugc3BlYyBhbGxvd3MgaW1wbGVtZW50YXRpb25zIHRvIHRocm93IFF1b3RhRXhjZWVkZWRFcnJvcnMgaWYgY3JlYXRpbmcgbmV3IHNvdXJjZUJ1ZmZlcnMgYWZ0ZXJcbiAgICAgICAgLy8gZGF0YSBoYXMgYmVlbiBhcHBlbmRlZCB0byBleGlzdGluZyBvbmVzLlxuICAgICAgICAvLyAyIHRyYWNrcyBpcyB0aGUgbWF4IChvbmUgZm9yIGF1ZGlvLCBvbmUgZm9yIHZpZGVvKS4gSWYgd2UndmUgcmVhY2ggdGhpcyBtYXggZ28gYWhlYWQgYW5kIGNyZWF0ZSB0aGUgYnVmZmVycy5cbiAgICAgICAgdmFyIHBlbmRpbmdUcmFja3NDb3VudCA9IE9iamVjdC5rZXlzKHBlbmRpbmdUcmFja3MpLmxlbmd0aDtcbiAgICAgICAgaWYgKChwZW5kaW5nVHJhY2tzQ291bnQgJiYgIWJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQpIHx8IHBlbmRpbmdUcmFja3NDb3VudCA9PT0gMikge1xuICAgICAgICAgICAgLy8gb2ssIGxldCdzIGNyZWF0ZSB0aGVtIG5vdyAhXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNvdXJjZUJ1ZmZlcnMocGVuZGluZ1RyYWNrcyk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdUcmFja3MgPSB7fTtcbiAgICAgICAgICAgIC8vIGFwcGVuZCBhbnkgcGVuZGluZyBzZWdtZW50cyBub3cgIVxuICAgICAgICAgICAgdGhpcy5kb0FwcGVuZGluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU291cmNlQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ21lZGlhIHNvdXJjZSBjbG9zZWQnKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTb3VyY2VFbmRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnbWVkaWEgc291cmNlIGVuZGVkJyk7XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblNCVXBkYXRlRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1cGRhdGUgdGltZXN0YW1wT2Zmc2V0XG4gICAgICAgIGlmICh0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9CdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlci5hdWRpbztcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiY2hhbmdlIG1wZWcgYXVkaW8gdGltZXN0YW1wIG9mZnNldCBmcm9tIFwiICsgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ICsgXCIgdG8gXCIgKyB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0KTtcbiAgICAgICAgICAgIGF1ZGlvQnVmZmVyLnRpbWVzdGFtcE9mZnNldCA9IHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbmVlZHNGbHVzaCkge1xuICAgICAgICAgICAgdGhpcy5kb0ZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX25lZWRzRW9zKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrRW9zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICAvLyBjb3VudCBuYiBvZiBwZW5kaW5nIHNlZ21lbnRzIHdhaXRpbmcgZm9yIGFwcGVuZGluZyBvbiB0aGlzIHNvdXJjZWJ1ZmZlclxuICAgICAgICB2YXIgcGVuZGluZyA9IHRoaXMuc2VnbWVudHMucmVkdWNlKGZ1bmN0aW9uIChjb3VudGVyLCBzZWdtZW50KSB7IHJldHVybiAoc2VnbWVudC5wYXJlbnQgPT09IHBhcmVudCkgPyBjb3VudGVyICsgMSA6IGNvdW50ZXI7IH0sIDApO1xuICAgICAgICAvLyB0aGlzLnNvdXJjZUJ1ZmZlciBpcyBiZXR0ZXIgdG8gdXNlIHRoYW4gbWVkaWEuYnVmZmVyZWQgYXMgaXQgaXMgY2xvc2VyIHRvIHRoZSBQVFMgZGF0YSBmcm9tIHRoZSBmcmFnbWVudHNcbiAgICAgICAgdmFyIHRpbWVSYW5nZXMgPSB7fTtcbiAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgICAgICBmb3IgKHZhciBzdHJlYW1UeXBlIGluIHNvdXJjZUJ1ZmZlcikge1xuICAgICAgICAgICAgdGltZVJhbmdlc1tzdHJlYW1UeXBlXSA9IHNvdXJjZUJ1ZmZlcltzdHJlYW1UeXBlXS5idWZmZXJlZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVOREVELCB7IHBhcmVudDogcGFyZW50LCBwZW5kaW5nOiBwZW5kaW5nLCB0aW1lUmFuZ2VzOiB0aW1lUmFuZ2VzIH0pO1xuICAgICAgICAvLyBkb24ndCBhcHBlbmQgaW4gZmx1c2hpbmcgbW9kZVxuICAgICAgICBpZiAoIXRoaXMuX25lZWRzRmx1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuZG9BcHBlbmRpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uKCk7XG4gICAgICAgIC8vIGFwcGVuZGluZyBnb2VzIGZpcnN0XG4gICAgICAgIGlmIChwZW5kaW5nID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoTGl2ZUJhY2tCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25TQlVwZGF0ZUVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignc291cmNlQnVmZmVyIGVycm9yOicsIGV2ZW50KTtcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly93d3cudzMub3JnL1RSL21lZGlhLXNvdXJjZS8jc291cmNlYnVmZmVyLWFwcGVuZC1lcnJvclxuICAgICAgICAvLyB0aGlzIGVycm9yIG1pZ2h0IG5vdCBhbHdheXMgYmUgZmF0YWwgKGl0IGlzIGZhdGFsIGlmIGRlY29kZSBlcnJvciBpcyBzZXQsIGluIHRoYXQgY2FzZVxuICAgICAgICAvLyBpdCB3aWxsIGJlIGZvbGxvd2VkIGJ5IGEgbWVkaWFFbGVtZW50IGVycm9yIC4uLilcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SLCBmYXRhbDogZmFsc2UgfSk7XG4gICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZG8gbW9yZSB0aGFuIHRoYXQsIGFzIGFjY29yZGluIHRvIHRoZSBzcGVjLCB1cGRhdGVlbmQgd2lsbCBiZSBmaXJlZCBqdXN0IGFmdGVyXG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlclJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgc2IgPSBzb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFTb3VyY2UucmVtb3ZlU291cmNlQnVmZmVyKHNiKTtcbiAgICAgICAgICAgICAgICBzYi5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLm9uc2J1ZSk7XG4gICAgICAgICAgICAgICAgc2IucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uc2JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlciA9IHt9O1xuICAgICAgICB0aGlzLmZsdXNoUmFuZ2UgPSBbXTtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmFwcGVuZGVkID0gMDtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ29kZWNzID0gZnVuY3Rpb24gKHRyYWNrcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBpZiBzb3VyY2UgYnVmZmVyKHMpIG5vdCBjcmVhdGVkIHlldCwgYXBwZW5kZWQgYnVmZmVyIHRyYWNrcyBpbiB0aGlzLnBlbmRpbmdUcmFja3NcbiAgICAgICAgLy8gaWYgc291cmNlYnVmZmVycyBhbHJlYWR5IGNyZWF0ZWQsIGRvIG5vdGhpbmcgLi4uXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNvdXJjZUJ1ZmZlcikubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmtleXModHJhY2tzKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFja05hbWUpIHtcbiAgICAgICAgICAgIF90aGlzLnBlbmRpbmdUcmFja3NbdHJhY2tOYW1lXSA9IHRyYWNrc1t0cmFja05hbWVdO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG1lZGlhU291cmNlID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gTWF0aC5tYXgodGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkIC0gMSwgMCk7XG4gICAgICAgIGlmIChtZWRpYVNvdXJjZSAmJiBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQZW5kaW5nVHJhY2tzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZVNvdXJjZUJ1ZmZlcnMgPSBmdW5jdGlvbiAodHJhY2tzKSB7XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlciwgbWVkaWFTb3VyY2UgPSB0aGlzLm1lZGlhU291cmNlO1xuICAgICAgICBmb3IgKHZhciB0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUJ1ZmZlclt0cmFja05hbWVdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW3RyYWNrTmFtZV07XG4gICAgICAgICAgICAgICAgLy8gdXNlIGxldmVsQ29kZWMgYXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgICAgICAgICB2YXIgY29kZWMgPSB0cmFjay5sZXZlbENvZGVjIHx8IHRyYWNrLmNvZGVjO1xuICAgICAgICAgICAgICAgIHZhciBtaW1lVHlwZSA9IHRyYWNrLmNvbnRhaW5lciArIFwiO2NvZGVjcz1cIiArIGNvZGVjO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJjcmVhdGluZyBzb3VyY2VCdWZmZXIoXCIgKyBtaW1lVHlwZSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2IgPSBzb3VyY2VCdWZmZXJbdHJhY2tOYW1lXSA9IG1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihtaW1lVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHNiLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMub25zYnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2IuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uc2JlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja3NbdHJhY2tOYW1lXSA9IHsgY29kZWM6IGNvZGVjLCBjb250YWluZXI6IHRyYWNrLmNvbnRhaW5lciB9O1xuICAgICAgICAgICAgICAgICAgICB0cmFjay5idWZmZXIgPSBzYjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJlcnJvciB3aGlsZSB0cnlpbmcgdG8gYWRkIHNvdXJjZUJ1ZmZlcjpcIiArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfQUREX0NPREVDX0VSUk9SLCBmYXRhbDogZmFsc2UsIGVycjogZXJyLCBtaW1lVHlwZTogbWltZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQ1JFQVRFRCwgeyB0cmFja3M6IHRyYWNrcyB9KTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9uZWVkc0ZsdXNoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW2RhdGFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kb0FwcGVuZGluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckFwcGVuZEZhaWwgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ3NvdXJjZUJ1ZmZlciBlcnJvcjonLCBkYXRhLmV2ZW50KTtcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly93d3cudzMub3JnL1RSL21lZGlhLXNvdXJjZS8jc291cmNlYnVmZmVyLWFwcGVuZC1lcnJvclxuICAgICAgICAvLyB0aGlzIGVycm9yIG1pZ2h0IG5vdCBhbHdheXMgYmUgZmF0YWwgKGl0IGlzIGZhdGFsIGlmIGRlY29kZSBlcnJvciBpcyBzZXQsIGluIHRoYXQgY2FzZVxuICAgICAgICAvLyBpdCB3aWxsIGJlIGZvbGxvd2VkIGJ5IGEgbWVkaWFFbGVtZW50IGVycm9yIC4uLilcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SLCBmYXRhbDogZmFsc2UgfSk7XG4gICAgfTtcbiAgICAvLyBvbiBCVUZGRVJfRU9TIG1hcmsgbWF0Y2hpbmcgc291cmNlYnVmZmVyKHMpIGFzIGVuZGVkIGFuZCB0cmlnZ2VyIGNoZWNrRW9zKClcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckVvcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzYiA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgICAgICB2YXIgZGF0YVR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gc2IpIHtcbiAgICAgICAgICAgIGlmICghZGF0YVR5cGUgfHwgdHlwZSA9PT0gZGF0YVR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNiW3R5cGVdLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNiW3R5cGVdLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyh0eXBlICsgXCIgc291cmNlQnVmZmVyIG5vdyBFT1NcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tFb3MoKTtcbiAgICB9O1xuICAgIC8vIGlmIGFsbCBzb3VyY2UgYnVmZmVycyBhcmUgbWFya2VkIGFzIGVuZGVkLCBzaWduYWwgZW5kT2ZTdHJlYW0oKSB0byBNZWRpYVNvdXJjZS5cbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0VvcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNiID0gdGhpcy5zb3VyY2VCdWZmZXIsIG1lZGlhU291cmNlID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgaWYgKCFtZWRpYVNvdXJjZSB8fCBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzRW9zID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBzYikge1xuICAgICAgICAgICAgdmFyIHNib2JqID0gc2JbdHlwZV07XG4gICAgICAgICAgICBpZiAoIXNib2JqLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNib2JqLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmVlZHNFb3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdhbGwgbWVkaWEgZGF0YSBhcmUgYXZhaWxhYmxlLCBzaWduYWwgZW5kT2ZTdHJlYW0oKSB0byBNZWRpYVNvdXJjZSBhbmQgc3RvcCBsb2FkaW5nIGZyYWdtZW50Jyk7XG4gICAgICAgIC8vIE5vdGlmeSB0aGUgbWVkaWEgZWxlbWVudCB0aGF0IGl0IG5vdyBoYXMgYWxsIG9mIHRoZSBtZWRpYSBkYXRhXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignZXhjZXB0aW9uIHdoaWxlIGNhbGxpbmcgbWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25lZWRzRW9zID0gZmFsc2U7XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5mbHVzaFJhbmdlLnB1c2goeyBzdGFydDogZGF0YS5zdGFydE9mZnNldCwgZW5kOiBkYXRhLmVuZE9mZnNldCwgdHlwZTogZGF0YS50eXBlIH0pO1xuICAgICAgICAvLyBhdHRlbXB0IGZsdXNoIGltbWVkaWF0ZWx5XG4gICAgICAgIHRoaXMuZmx1c2hCdWZmZXJDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5kb0ZsdXNoKCk7XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5mbHVzaExpdmVCYWNrQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjbGVhciBiYWNrIGJ1ZmZlciBmb3IgbGl2ZSBvbmx5XG4gICAgICAgIGlmICghdGhpcy5fbGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXZlQmFja0J1ZmZlckxlbmd0aCA9IHRoaXMuaGxzLmNvbmZpZy5saXZlQmFja0J1ZmZlckxlbmd0aDtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShsaXZlQmFja0J1ZmZlckxlbmd0aCkgfHwgbGl2ZUJhY2tCdWZmZXJMZW5ndGggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgICAgICB2YXIgYnVmZmVyVHlwZXMgPSBPYmplY3Qua2V5cyhzb3VyY2VCdWZmZXIpO1xuICAgICAgICB2YXIgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uID0gY3VycmVudFRpbWUgLSBNYXRoLm1heChsaXZlQmFja0J1ZmZlckxlbmd0aCwgdGhpcy5fbGV2ZWxUYXJnZXREdXJhdGlvbik7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gYnVmZmVyVHlwZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlclR5cGUgPSBidWZmZXJUeXBlc1tpbmRleF0sIGJ1ZmZlcmVkID0gc291cmNlQnVmZmVyW2J1ZmZlclR5cGVdLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgLy8gd2hlbiB0YXJnZXQgYnVmZmVyIHN0YXJ0IGV4Y2VlZHMgYWN0dWFsIGJ1ZmZlciBzdGFydFxuICAgICAgICAgICAgaWYgKGJ1ZmZlcmVkLmxlbmd0aCA+IDAgJiYgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uID4gYnVmZmVyZWQuc3RhcnQoMCkpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYnVmZmVyIHVwIHVudGlsIGN1cnJlbnQgdGltZSBtaW51cyBtaW5pbXVtIGJhY2sgYnVmZmVyIGxlbmd0aCAocmVtb3ZpbmcgYnVmZmVyIHRvbyBjbG9zZSB0byBjdXJyZW50XG4gICAgICAgICAgICAgICAgLy8gdGltZSB3aWxsIGxlYWQgdG8gcGxheWJhY2sgZnJlZXppbmcpXG4gICAgICAgICAgICAgICAgLy8gY3JlZGl0cyBmb3IgbGV2ZWwgdGFyZ2V0IGR1cmF0aW9uIC0gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvaHR0cC1zdHJlYW1pbmcvYmxvYi8zMTMyOTMzYjZhYTk5ZGRlZmFiMjljMTA0NDc2MjRlZmQ2ZmQ2ZTUyL3NyYy9zZWdtZW50LWxvYWRlci5qcyNMOTFcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJ1ZmZlclJhbmdlKGJ1ZmZlclR5cGUsIHNvdXJjZUJ1ZmZlcltidWZmZXJUeXBlXSwgMCwgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbFVwZGF0ZWQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGRldGFpbHMgPSBfYS5kZXRhaWxzO1xuICAgICAgICBpZiAoZGV0YWlscy5mcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbGV2ZWxEdXJhdGlvbiA9IGRldGFpbHMudG90YWxkdXJhdGlvbiArIGRldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgICAgICAgICAgdGhpcy5fbGV2ZWxUYXJnZXREdXJhdGlvbiA9IGRldGFpbHMuYXZlcmFnZXRhcmdldGR1cmF0aW9uIHx8IGRldGFpbHMudGFyZ2V0ZHVyYXRpb24gfHwgMTA7XG4gICAgICAgICAgICB0aGlzLl9saXZlID0gZGV0YWlscy5saXZlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgTWVkaWEgU291cmNlIGR1cmF0aW9uIHRvIGN1cnJlbnQgbGV2ZWwgZHVyYXRpb24gb3Igb3ZlcnJpZGUgdG8gSW5maW5pdHkgaWYgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJcbiAgICAgKiAnbGl2ZUR1cmF0aW9uSW5maW5pdHlgIGlzIHNldCB0byBgdHJ1ZWBcbiAgICAgKiBNb3JlIGRldGFpbHM6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy8zNTVcbiAgICAgKi9cbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICAgICAgdmFyIGR1cmF0aW9uO1xuICAgICAgICBpZiAodGhpcy5fbGV2ZWxEdXJhdGlvbiA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgIXRoaXMubWVkaWEgfHxcbiAgICAgICAgICAgICF0aGlzLm1lZGlhU291cmNlIHx8XG4gICAgICAgICAgICAhdGhpcy5zb3VyY2VCdWZmZXIgfHxcbiAgICAgICAgICAgIHRoaXMubWVkaWEucmVhZHlTdGF0ZSA9PT0gMCB8fFxuICAgICAgICAgICAgdGhpcy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciB0eXBlIGluIHRoaXMuc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zb3VyY2VCdWZmZXJbdHlwZV0udXBkYXRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW4ndCBzZXQgZHVyYXRpb24gd2hpbHN0IGEgYnVmZmVyIGlzIHVwZGF0aW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGR1cmF0aW9uID0gdGhpcy5tZWRpYS5kdXJhdGlvbjtcbiAgICAgICAgLy8gaW5pdGlhbGlzZSB0byB0aGUgdmFsdWUgdGhhdCB0aGUgbWVkaWEgc291cmNlIGlzIHJlcG9ydGluZ1xuICAgICAgICBpZiAodGhpcy5fbXNEdXJhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbXNEdXJhdGlvbiA9IHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpdmUgPT09IHRydWUgJiYgY29uZmlnLmxpdmVEdXJhdGlvbkluZmluaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBPdmVycmlkZSBkdXJhdGlvbiB0byBJbmZpbml0eVxuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnTWVkaWEgU291cmNlIGR1cmF0aW9uIGlzIHNldCB0byBJbmZpbml0eScpO1xuICAgICAgICAgICAgdGhpcy5fbXNEdXJhdGlvbiA9IHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb24gPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodGhpcy5fbGV2ZWxEdXJhdGlvbiA+IHRoaXMuX21zRHVyYXRpb24gJiYgdGhpcy5fbGV2ZWxEdXJhdGlvbiA+IGR1cmF0aW9uKSB8fCAhTnVtYmVyLmlzRmluaXRlKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgLy8gbGV2ZWxEdXJhdGlvbiB3YXMgdGhlIGxhc3QgdmFsdWUgd2Ugc2V0LlxuICAgICAgICAgICAgLy8gbm90IHVzaW5nIG1lZGlhU291cmNlLmR1cmF0aW9uIGFzIHRoZSBicm93c2VyIG1heSB0d2VhayB0aGlzIHZhbHVlXG4gICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSBNZWRpYSBTb3VyY2UgZHVyYXRpb24gaWYgaXRzIHZhbHVlIGluY3JlYXNlLCB0aGlzIGlzIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBmbHVzaGluZyBhbHJlYWR5IGJ1ZmZlcmVkIHBvcnRpb24gd2hlbiBzd2l0Y2hpbmcgYmV0d2VlbiBxdWFsaXR5IGxldmVsXG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiVXBkYXRpbmcgTWVkaWEgU291cmNlIGR1cmF0aW9uIHRvIFwiICsgdGhpcy5fbGV2ZWxEdXJhdGlvbi50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgIHRoaXMuX21zRHVyYXRpb24gPSB0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uID0gdGhpcy5fbGV2ZWxEdXJhdGlvbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZG9GbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBidWZmZXIgcmFuZ2VzIHRvIGZsdXNoXG4gICAgICAgIHdoaWxlICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmZsdXNoUmFuZ2VbMF07XG4gICAgICAgICAgICAvLyBmbHVzaEJ1ZmZlciB3aWxsIGFib3J0IGFueSBidWZmZXIgYXBwZW5kIGluIHByb2dyZXNzIGFuZCBmbHVzaCBBdWRpby9WaWRlbyBCdWZmZXJcbiAgICAgICAgICAgIGlmICh0aGlzLmZsdXNoQnVmZmVyKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQsIHJhbmdlLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gcmFuZ2UgZmx1c2hlZCwgcmVtb3ZlIGZyb20gZmx1c2ggYXJyYXlcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoUmFuZ2Uuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWVkc0ZsdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBsb29waW5nLCB3YWl0IGZvciBTQiB1cGRhdGUgZW5kIHRvIHJldHJpZ2dlciBhIGZsdXNoXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBldmVyeXRoaW5nIGZsdXNoZWRcbiAgICAgICAgICAgIHRoaXMuX25lZWRzRmx1c2ggPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGxldCdzIHJlY29tcHV0ZSB0aGlzLmFwcGVuZGVkLCB3aGljaCBpcyB1c2VkIHRvIGF2b2lkIGZsdXNoIGxvb3BpbmdcbiAgICAgICAgICAgIHZhciBhcHBlbmRlZCA9IDA7XG4gICAgICAgICAgICB2YXIgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZGVkICs9IHNvdXJjZUJ1ZmZlclt0eXBlXS5idWZmZXJlZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gZXJyb3IgY291bGQgYmUgdGhyb3duIHdoaWxlIGFjY2Vzc2luZyBidWZmZXJlZCwgaW4gY2FzZSBzb3VyY2VidWZmZXIgaGFzIGFscmVhZHkgYmVlbiByZW1vdmVkIGZyb20gTWVkaWFTb3VyY2VcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGhhcm1lc3MgYXQgdGhpcyBzdGFnZSwgY2F0Y2ggdGhpcyB0byBhdm9pZCByZXBvcnRpbmcgYW4gaW50ZXJuYWwgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdlcnJvciB3aGlsZSBhY2Nlc3Npbmcgc291cmNlQnVmZmVyLmJ1ZmZlcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gYXBwZW5kZWQ7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0ZMVVNIRUQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5kb0FwcGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGxzID0gX2EuaGxzLCBzZWdtZW50cyA9IF9hLnNlZ21lbnRzLCBzb3VyY2VCdWZmZXIgPSBfYS5zb3VyY2VCdWZmZXI7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhzb3VyY2VCdWZmZXIpLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW107XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCd0cnlpbmcgdG8gYXBwZW5kIGFsdGhvdWdoIGEgbWVkaWEgZXJyb3Igb2NjdXJlZCwgZmx1c2ggc2VnbWVudCBhbmQgYWJvcnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hcHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKGBzYiBhcHBlbmRpbmcgaW4gcHJvZ3Jlc3NgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VnbWVudHMgJiYgc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gc2VnbWVudC50eXBlLCBzYiA9IHNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgc291cmNlQnVmZmVyIGVuZGVkIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBzZWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKGBhcHBlbmRpbmcgJHtzZWdtZW50LmNvbnRlbnR9ICR7dHlwZX0gU0IsIHNpemU6JHtzZWdtZW50LmRhdGEubGVuZ3RofSwgJHtzZWdtZW50LnBhcmVudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHNlZ21lbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZEJ1ZmZlcihzZWdtZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy51bnNoaWZ0KHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBkb24ndCBoYXZlIGFueSBzb3VyY2UgYnVmZmVyIG1hdGNoaW5nIHdpdGggdGhpcyBzZWdtZW50IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBtZWFucyB0aGF0IE1lZGlhc291cmNlIGZhaWxzIHRvIGNyZWF0ZSBzb3VyY2VidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc2NhcmQgdGhpcyBzZWdtZW50LCBhbmQgdHJpZ2dlciB1cGRhdGUgZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU0JVcGRhdGVFbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgYW55IGVycm9yIG9jY3VyZWQgd2hpbGUgYXBwZW5kaW5nLCBwdXQgYmFjayBzZWdtZW50IGluIHNlZ21lbnRzIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcImVycm9yIHdoaWxlIHRyeWluZyB0byBhcHBlbmQgYnVmZmVyOlwiICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy51bnNoaWZ0KHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMSA9IHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgcGFyZW50OiBzZWdtZW50LnBhcmVudCB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgIT09IDIyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hcHBlbmRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfMS5kZXRhaWxzID0gZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkJVRkZFUl9BUFBFTkRfRVJST1I7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB3aXRoIFVIRCBjb250ZW50LCB3ZSBjb3VsZCBnZXQgbG9vcCBvZiBxdW90YSBleGNlZWRlZCBlcnJvciB1bnRpbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyIGlzIGFibGUgdG8gZXZpY3Qgc29tZSBkYXRhIGZyb20gc291cmNlYnVmZmVyLiByZXRyeWluZyBoZWxwIHJlY292ZXJpbmcgdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcGVuZEVycm9yID4gaGxzLmNvbmZpZy5hcHBlbmRFcnJvck1heFJldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImZhaWwgXCIgKyBobHMuY29uZmlnLmFwcGVuZEVycm9yTWF4UmV0cnkgKyBcIiB0aW1lcyB0byBhcHBlbmQgc2VnbWVudCBpbiBzb3VyY2VCdWZmZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50XzEuZmF0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfMS5mYXRhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUXVvdGFFeGNlZWRlZEVycm9yOiBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3F1b3RhZXhjZWVkZWRlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3Mgc3RvcCBhcHBlbmRpbmcgYW55IHNlZ21lbnRzLCBhbmQgcmVwb3J0IEJVRkZFUl9GVUxMX0VSUk9SIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudF8xLmRldGFpbHMgPSBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX0ZVTExfRVJST1I7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudF8xLmZhdGFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCBldmVudF8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcbiAgICAgIGZsdXNoIHNwZWNpZmllZCBidWZmZXJlZCByYW5nZSxcbiAgICAgIHJldHVybiB0cnVlIG9uY2UgcmFuZ2UgaGFzIGJlZW4gZmx1c2hlZC5cbiAgICAgIGFzIHNvdXJjZUJ1ZmZlci5yZW1vdmUoKSBpcyBhc3luY2hyb25vdXMsIGZsdXNoQnVmZmVyIHdpbGwgYmUgcmV0cmlnZ2VyZWQgb24gc291cmNlQnVmZmVyIHVwZGF0ZSBlbmRcbiAgICAqL1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmZsdXNoQnVmZmVyID0gZnVuY3Rpb24gKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIHR5cGVJbikge1xuICAgICAgICB2YXIgc2I7XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNvdXJjZUJ1ZmZlcikubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiZmx1c2hCdWZmZXIscG9zL3N0YXJ0L2VuZDogXCIgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lLnRvRml4ZWQoMykgKyBcIi9cIiArIHN0YXJ0T2Zmc2V0ICsgXCIvXCIgKyBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgLy8gc2FmZWd1YXJkIHRvIGF2b2lkIGluZmluaXRlIGxvb3BpbmcgOiBkb24ndCB0cnkgdG8gZmx1c2ggbW9yZSB0aGFuIHRoZSBuYiBvZiBhcHBlbmRlZCBzZWdtZW50c1xuICAgICAgICAgICAgaWYgKHRoaXMuZmx1c2hCdWZmZXJDb3VudGVyIDwgdGhpcy5hcHBlbmRlZCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHNvdXJjZWJ1ZmZlciB0eXBlIGlzIGRlZmluZWQgKHR5cGVJbik6IGlmIHllcywgbGV0J3Mgb25seSBmbHVzaCB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBubywgbGV0J3MgZmx1c2ggYWxsIHNvdXJjZWJ1ZmZlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVJbiAmJiB0eXBlICE9PSB0eXBlSW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNiID0gc291cmNlQnVmZmVyW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgZ29pbmcgdG8gZmx1c2ggYnVmZmVyLCBtYXJrIHNvdXJjZSBidWZmZXIgYXMgJ25vdCBlbmRlZCdcbiAgICAgICAgICAgICAgICAgICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVtb3ZlQnVmZmVyUmFuZ2UodHlwZSwgc2IsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlckNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignY2Fubm90IGZsdXNoLCBzYiB1cGRhdGluZyBpbiBwcm9ncmVzcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2Fib3J0IGZsdXNoaW5nIHRvbyBtYW55IHJldHJpZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2J1ZmZlciBmbHVzaGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXZlcnl0aGluZyBmbHVzaGVkICFcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGZpcnN0IGJ1ZmZlcmVkIHJhbmdlIGZyb20gcHJvdmlkZWQgc291cmNlIGJ1ZmZlciB0aGF0IGxpZXMgd2l0aGluIGdpdmVuIHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlIFR5cGUgb2YgdGhlIHNvdXJjZSBidWZmZXIsIGxvZ2dpbmcgcHVycG9zZXMgb25seS5cbiAgICAgKiBAcGFyYW0gc2IgVGFyZ2V0IFNvdXJjZUJ1ZmZlciBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gc3RhcnRPZmZzZXRcbiAgICAgKiBAcGFyYW0gZW5kT2Zmc2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIHNvdXJjZSBidWZmZXIgcmVtb3ZlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVCdWZmZXJSYW5nZSA9IGZ1bmN0aW9uICh0eXBlLCBzYiwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYi5idWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBidWZTdGFydCA9IHNiLmJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICAgICAgICAgIHZhciBidWZFbmQgPSBzYi5idWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZVN0YXJ0ID0gTWF0aC5tYXgoYnVmU3RhcnQsIHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlRW5kID0gTWF0aC5taW4oYnVmRW5kLCBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8qIHNvbWV0aW1lcyBzb3VyY2VidWZmZXIucmVtb3ZlKCkgZG9lcyBub3QgZmx1c2hcbiAgICAgICAgICAgICAgICAgIHRoZSBleGFjdCBleHBlY3RlZCB0aW1lIHJhbmdlLlxuICAgICAgICAgICAgICAgICAgdG8gYXZvaWQgcm91bmRpbmcgaXNzdWVzL2luZmluaXRlIGxvb3AsXG4gICAgICAgICAgICAgICAgICBvbmx5IGZsdXNoIGJ1ZmZlciByYW5nZSBvZiBsZW5ndGggZ3JlYXRlciB0aGFuIDUwMG1zLlxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKHJlbW92ZUVuZCwgYnVmRW5kKSAtIHJlbW92ZVN0YXJ0ID4gMC41KSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzYiByZW1vdmUgXCIgKyB0eXBlICsgXCIgW1wiICsgcmVtb3ZlU3RhcnQgKyBcIixcIiArIHJlbW92ZUVuZCArIFwiXSwgb2YgW1wiICsgYnVmU3RhcnQgKyBcIixcIiArIGJ1ZkVuZCArIFwiXSwgcG9zOlwiICsgdGhpcy5tZWRpYS5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHNiLnJlbW92ZShyZW1vdmVTdGFydCwgcmVtb3ZlRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ3JlbW92ZUJ1ZmZlclJhbmdlIGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJ1ZmZlckNvbnRyb2xsZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvY2FwLWxldmVsLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2NhcC1sZXZlbC1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogY2FwIHN0cmVhbSBsZXZlbCB0byBtZWRpYSBzaXplIGRpbWVuc2lvbiBjb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgQ2FwTGV2ZWxDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYXBMZXZlbENvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FwTGV2ZWxDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuRlBTX0RST1BfTEVWRUxfQ0FQUElORywgZXZlbnRzXzEuZGVmYXVsdC5NRURJQV9BVFRBQ0hJTkcsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfUEFSU0VELCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9DT0RFQ1MsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICBfdGhpcy5maXJzdExldmVsID0gbnVsbDtcbiAgICAgICAgX3RoaXMubGV2ZWxzID0gW107XG4gICAgICAgIF90aGlzLm1lZGlhID0gbnVsbDtcbiAgICAgICAgX3RoaXMucmVzdHJpY3RlZExldmVscyA9IFtdO1xuICAgICAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5obHMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplKSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3N0b3BDYXBwaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25GcHNEcm9wTGV2ZWxDYXBwaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gRG9uJ3QgYWRkIGEgcmVzdHJpY3RlZCBsZXZlbCBtb3JlIHRoYW4gb25jZVxuICAgICAgICBpZiAoQ2FwTGV2ZWxDb250cm9sbGVyLmlzTGV2ZWxBbGxvd2VkKGRhdGEuZHJvcHBlZExldmVsLCB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMucHVzaChkYXRhLmRyb3BwZWRMZXZlbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICB9O1xuICAgIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdFBhcnNlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gW107XG4gICAgICAgIHRoaXMubGV2ZWxzID0gZGF0YS5sZXZlbHM7XG4gICAgICAgIHRoaXMuZmlyc3RMZXZlbCA9IGRhdGEuZmlyc3RMZXZlbDtcbiAgICAgICAgaWYgKGhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUgJiYgZGF0YS52aWRlbykge1xuICAgICAgICAgICAgLy8gU3RhcnQgY2FwcGluZyBpbW1lZGlhdGVseSBpZiB0aGUgbWFuaWZlc3QgaGFzIHNpZ25hbGVkIHZpZGVvIGNvZGVjc1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRDYXBwaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIE9ubHkgYWN0aXZhdGUgY2FwcGluZyB3aGVuIHBsYXlpbmcgYSB2aWRlbyBzdHJlYW07IG90aGVyd2lzZSwgbXVsdGktYml0cmF0ZSBhdWRpby1vbmx5IHN0cmVhbXMgd2lsbCBiZSByZXN0cmljdGVkXG4gICAgLy8gdG8gdGhlIGZpcnN0IGxldmVsXG4gICAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckNvZGVjcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgaWYgKGhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUgJiYgZGF0YS52aWRlbykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG1hbmlmZXN0IGRpZCBub3Qgc2lnbmFsIGEgdmlkZW8gY29kZWMgY2FwcGluZyBoYXMgYmVlbiBkZWZlcnJlZCB1bnRpbCB3ZSdyZSBjZXJ0YWluIHZpZGVvIGlzIHByZXNlbnRcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0Q2FwcGluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxzVXBkYXRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gZGF0YS5sZXZlbHM7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3N0b3BDYXBwaW5nKCk7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmRldGVjdFBsYXllclNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWxzTGVuZ3RoID0gdGhpcy5sZXZlbHMgPyB0aGlzLmxldmVscy5sZW5ndGggOiAwO1xuICAgICAgICAgICAgaWYgKGxldmVsc0xlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBobHNfMSA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgICAgIGhsc18xLmF1dG9MZXZlbENhcHBpbmcgPSB0aGlzLmdldE1heExldmVsKGxldmVsc0xlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIGlmIChobHNfMS5hdXRvTGV2ZWxDYXBwaW5nID4gdGhpcy5hdXRvTGV2ZWxDYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGF1dG8gbGV2ZWwgY2FwcGluZyBoYXMgYSBoaWdoZXIgdmFsdWUgZm9yIHRoZSBwcmV2aW91cyBvbmUsIGZsdXNoIHRoZSBidWZmZXIgdXNpbmcgbmV4dExldmVsU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzdWFsbHkgaGFwcGVuIHdoZW4gdGhlIHVzZXIgZ28gdG8gdGhlIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgaGxzXzEuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWxTd2l0Y2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gaGxzXzEuYXV0b0xldmVsQ2FwcGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcbiAgICAqIHJldHVybnMgbGV2ZWwgc2hvdWxkIGJlIHRoZSBvbmUgd2l0aCB0aGUgZGltZW5zaW9ucyBlcXVhbCBvciBncmVhdGVyIHRoYW4gdGhlIG1lZGlhIChwbGF5ZXIpIGRpbWVuc2lvbnMgKHNvIHRoZSB2aWRlbyB3aWxsIGJlIGRvd25zY2FsZWQpXG4gICAgKi9cbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmdldE1heExldmVsID0gZnVuY3Rpb24gKGNhcExldmVsSW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmxldmVscykge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWxpZExldmVscyA9IHRoaXMubGV2ZWxzLmZpbHRlcihmdW5jdGlvbiAobGV2ZWwsIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gQ2FwTGV2ZWxDb250cm9sbGVyLmlzTGV2ZWxBbGxvd2VkKGluZGV4LCBfdGhpcy5yZXN0cmljdGVkTGV2ZWxzKSAmJiBpbmRleCA8PSBjYXBMZXZlbEluZGV4O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlci5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplKHZhbGlkTGV2ZWxzLCB0aGlzLm1lZGlhV2lkdGgsIHRoaXMubWVkaWFIZWlnaHQpO1xuICAgIH07XG4gICAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5fc3RhcnRDYXBwaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICAgICAgLy8gRG9uJ3QgcmVzZXQgY2FwcGluZyBpZiBzdGFydGVkIHR3aWNlOyB0aGlzIGNhbiBoYXBwZW4gaWYgdGhlIG1hbmlmZXN0IHNpZ25hbHMgYSB2aWRlbyBjb2RlY1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy5obHMuZmlyc3RMZXZlbCA9IHRoaXMuZ2V0TWF4TGV2ZWwodGhpcy5maXJzdExldmVsKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuZGV0ZWN0UGxheWVyU2l6ZS5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgICAgICAgdGhpcy5kZXRlY3RQbGF5ZXJTaXplKCk7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLl9zdG9wQ2FwcGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gW107XG4gICAgICAgIHRoaXMuZmlyc3RMZXZlbCA9IG51bGw7XG4gICAgICAgIHRoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLCBcIm1lZGlhV2lkdGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG1lZGlhLndpZHRoIHx8IG1lZGlhLmNsaWVudFdpZHRoIHx8IG1lZGlhLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIHdpZHRoICo9IENhcExldmVsQ29udHJvbGxlci5jb250ZW50U2NhbGVGYWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLCBcIm1lZGlhSGVpZ2h0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IG1lZGlhLmhlaWdodCB8fCBtZWRpYS5jbGllbnRIZWlnaHQgfHwgbWVkaWEub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIGhlaWdodCAqPSBDYXBMZXZlbENvbnRyb2xsZXIuY29udGVudFNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhcExldmVsQ29udHJvbGxlciwgXCJjb250ZW50U2NhbGVGYWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvID0gMTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgcmV0dXJuIHBpeGVsUmF0aW87XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENhcExldmVsQ29udHJvbGxlci5pc0xldmVsQWxsb3dlZCA9IGZ1bmN0aW9uIChsZXZlbCwgcmVzdHJpY3RlZExldmVscykge1xuICAgICAgICBpZiAocmVzdHJpY3RlZExldmVscyA9PT0gdm9pZCAwKSB7IHJlc3RyaWN0ZWRMZXZlbHMgPSBbXTsgfVxuICAgICAgICByZXR1cm4gcmVzdHJpY3RlZExldmVscy5pbmRleE9mKGxldmVsKSA9PT0gLTE7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIuZ2V0TWF4TGV2ZWxCeU1lZGlhU2l6ZSA9IGZ1bmN0aW9uIChsZXZlbHMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKCFsZXZlbHMgfHwgKGxldmVscyAmJiAhbGV2ZWxzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZXZlbHMgY2FuIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9ucyBidXQgZGlmZmVyaW5nIGJhbmR3aWR0aHMgLSBzaW5jZSBsZXZlbHMgYXJlIG9yZGVyZWQsIHdlIGNhbiBsb29rIHRvIHRoZSBuZXh0XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB3aGV0aGVyIHdlJ3ZlIGNob3NlbiB0aGUgZ3JlYXRlc3QgYmFuZHdpZHRoIGZvciB0aGUgbWVkaWEncyBkaW1lbnNpb25zXG4gICAgICAgIHZhciBhdEdyZWF0ZXN0QmFuZGl3ZHRoID0gZnVuY3Rpb24gKGN1ckxldmVsLCBuZXh0TGV2ZWwpIHtcbiAgICAgICAgICAgIGlmICghbmV4dExldmVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VyTGV2ZWwud2lkdGggIT09IG5leHRMZXZlbC53aWR0aCB8fCBjdXJMZXZlbC5oZWlnaHQgIT09IG5leHRMZXZlbC5oZWlnaHQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIHdlIHJ1biB0aHJvdWdoIHRoZSBsb29wIHdpdGhvdXQgYnJlYWtpbmcsIHRoZSBtZWRpYSdzIGRpbWVuc2lvbnMgYXJlIGdyZWF0ZXIgdGhhbiBldmVyeSBsZXZlbCwgc28gZGVmYXVsdCB0b1xuICAgICAgICAvLyB0aGUgbWF4IGxldmVsXG4gICAgICAgIHZhciBtYXhMZXZlbEluZGV4ID0gbGV2ZWxzLmxlbmd0aCAtIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWwgPSBsZXZlbHNbaV07XG4gICAgICAgICAgICBpZiAoKGxldmVsLndpZHRoID49IHdpZHRoIHx8IGxldmVsLmhlaWdodCA+PSBoZWlnaHQpICYmIGF0R3JlYXRlc3RCYW5kaXdkdGgobGV2ZWwsIGxldmVsc1tpICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgbWF4TGV2ZWxJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heExldmVsSW5kZXg7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FwTGV2ZWxDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FwTGV2ZWxDb250cm9sbGVyO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2VtZS1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29udHJvbGxlci9lbWUtY29udHJvbGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBhdXRob3IgU3RlcGhhbiBIZXNzZSA8ZGlzcGFyYXRAZ21haWwuY29tPiB8IDx0Y2hha2FiYW1AZ21haWwuY29tPlxuICpcbiAqIERSTSBzdXBwb3J0IGZvciBIbHMuanNcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG52YXIgTUFYX0xJQ0VOU0VfUkVRVUVTVF9GQUlMVVJFUyA9IDM7XG4vKipcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hdmlnYXRvci9yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NcbiAqL1xudmFyIEtleVN5c3RlbXMgPSB7XG4gICAgV0lERVZJTkU6ICdjb20ud2lkZXZpbmUuYWxwaGEnLFxuICAgIFBMQVlSRUFEWTogJ2NvbS5taWNyb3NvZnQucGxheXJlYWR5J1xufTtcbi8qKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9uXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGF1ZGlvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgYXVkaW8gY29kZWNzIHRvIHN1cHBvcnRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdmlkZW9Db2RlY3MgTGlzdCBvZiByZXF1aXJlZCB2aWRlbyBjb2RlY3MgdG8gc3VwcG9ydFxuICogQHBhcmFtIHtvYmplY3R9IGRybVN5c3RlbU9wdGlvbnMgT3B0aW9uYWwgcGFyYW1ldGVycy9yZXF1aXJlbWVudHMgZm9yIHRoZSBrZXktc3lzdGVtXG4gKiBAcmV0dXJucyB7QXJyYXk8TWVkaWFTeXN0ZW1Db25maWd1cmF0aW9uPn0gQW4gYXJyYXkgb2Ygc3VwcG9ydGVkIGNvbmZpZ3VyYXRpb25zXG4gKi9cbnZhciBjcmVhdGVXaWRldmluZU1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMgPSBmdW5jdGlvbiAoYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzLCBkcm1TeXN0ZW1PcHRpb25zKSB7XG4gICAgdmFyIGJhc2VDb25maWcgPSB7XG4gICAgICAgIC8vIGluaXREYXRhVHlwZXM6IFsna2V5aWRzJywgJ21wNCddLFxuICAgICAgICAvLyBsYWJlbDogXCJcIixcbiAgICAgICAgLy8gcGVyc2lzdGVudFN0YXRlOiBcIm5vdC1hbGxvd2VkXCIsIC8vIG9yIFwicmVxdWlyZWRcIiA/XG4gICAgICAgIC8vIGRpc3RpbmN0aXZlSWRlbnRpZmllcjogXCJub3QtYWxsb3dlZFwiLCAvLyBvciBcInJlcXVpcmVkXCIgP1xuICAgICAgICAvLyBzZXNzaW9uVHlwZXM6IFsndGVtcG9yYXJ5J10sXG4gICAgICAgIHZpZGVvQ2FwYWJpbGl0aWVzOiBbXG4gICAgICAgIC8vIHsgY29udGVudFR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCInIH1cbiAgICAgICAgXVxuICAgIH07XG4gICAgdmlkZW9Db2RlY3MuZm9yRWFjaChmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgYmFzZUNvbmZpZy52aWRlb0NhcGFiaWxpdGllcy5wdXNoKHtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcInZpZGVvL21wNDsgY29kZWNzPVxcXCJcIiArIGNvZGVjICsgXCJcXFwiXCJcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYmFzZUNvbmZpZ1xuICAgIF07XG59O1xuLyoqXG4gKiBUaGUgaWRlYSBoZXJlIGlzIHRvIGhhbmRsZSBrZXktc3lzdGVtIChhbmQgdGhlaXIgcmVzcGVjdGl2ZSBwbGF0Zm9ybXMpIHNwZWNpZmljIGNvbmZpZ3VyYXRpb24gZGlmZmVyZW5jZXNcbiAqIGluIG9yZGVyIHRvIHdvcmsgd2l0aCB0aGUgbG9jYWwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIG1ldGhvZC5cbiAqXG4gKiBXZSBjYW4gYWxzbyBydWxlLW91dCBwbGF0Zm9ybS1yZWxhdGVkIGtleS1zeXN0ZW0gc3VwcG9ydCBhdCB0aGlzIHBvaW50IGJ5IHRocm93aW5nIGFuIGVycm9yIG9yIHJldHVybmluZyBudWxsLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTeXN0ZW0gSWRlbnRpZmllciBmb3IgdGhlIGtleS1zeXN0ZW0sIHNlZSBgS2V5U3lzdGVtc2AgZW51bVxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBhdWRpb0NvZGVjcyBMaXN0IG9mIHJlcXVpcmVkIGF1ZGlvIGNvZGVjcyB0byBzdXBwb3J0XG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHZpZGVvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgdmlkZW8gY29kZWNzIHRvIHN1cHBvcnRcbiAqIEByZXR1cm5zIHtBcnJheTxNZWRpYVN5c3RlbUNvbmZpZ3VyYXRpb24+IHwgbnVsbH0gQSBub24tZW1wdHkgQXJyYXkgb2YgTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9uIG9iamVjdHMgb3IgYG51bGxgXG4gKi9cbnZhciBnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zID0gZnVuY3Rpb24gKGtleVN5c3RlbSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKSB7XG4gICAgc3dpdGNoIChrZXlTeXN0ZW0pIHtcbiAgICAgICAgY2FzZSBLZXlTeXN0ZW1zLldJREVWSU5FOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVdpZGV2aW5lTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9ucyhhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Vua25vd24ga2V5LXN5c3RlbTogJyArIGtleVN5c3RlbSk7XG4gICAgfVxufTtcbi8qKlxuICogQ29udHJvbGxlciB0byBkZWFsIHdpdGggZW5jcnlwdGVkIG1lZGlhIGV4dGVuc2lvbnMgKEVNRSlcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VuY3J5cHRlZF9NZWRpYV9FeHRlbnNpb25zX0FQSVxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBFTUVDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFTUVDb250cm9sbGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAgICogQGNvbnN0cnVjdHNcbiAgICAgICAqIEBwYXJhbSB7SGxzfSBobHMgT3VyIEhscy5qcyBpbnN0YW5jZVxuICAgICAgICovXG4gICAgZnVuY3Rpb24gRU1FQ29udHJvbGxlcihobHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0FUVEFDSEVELCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX1BBUlNFRCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3dpZGV2aW5lTGljZW5zZVVybCA9IGhscy5jb25maWcud2lkZXZpbmVMaWNlbnNlVXJsO1xuICAgICAgICBfdGhpcy5fbGljZW5zZVhoclNldHVwID0gaGxzLmNvbmZpZy5saWNlbnNlWGhyU2V0dXA7XG4gICAgICAgIF90aGlzLl9lbWVFbmFibGVkID0gaGxzLmNvbmZpZy5lbWVFbmFibGVkO1xuICAgICAgICBfdGhpcy5fcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzID0gaGxzLmNvbmZpZy5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jO1xuICAgICAgICBfdGhpcy5fbWVkaWFLZXlzTGlzdCA9IFtdO1xuICAgICAgICBfdGhpcy5fbWVkaWEgPSBudWxsO1xuICAgICAgICBfdGhpcy5faGFzU2V0TWVkaWFLZXlzID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9pc01lZGlhRW5jcnlwdGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleVN5c3RlbSBJZGVudGlmaWVyIGZvciB0aGUga2V5LXN5c3RlbSwgc2VlIGBLZXlTeXN0ZW1zYCBlbnVtXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMaWNlbnNlIHNlcnZlciBVUkwgZm9yIGtleS1zeXN0ZW0gKGlmIGFueSBjb25maWd1cmVkLCBvdGhlcndpc2UgY2F1c2VzIGVycm9yKVxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TGljZW5zZVNlcnZlclVybCA9IGZ1bmN0aW9uIChrZXlTeXN0ZW0pIHtcbiAgICAgICAgdmFyIHVybDtcbiAgICAgICAgc3dpdGNoIChrZXlTeXN0ZW0pIHtcbiAgICAgICAgICAgIGNhc2UgS2V5U3lzdGVtcy5XSURFVklORTpcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLl93aWRldmluZUxpY2Vuc2VVcmw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHVybCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIk5vIGxpY2Vuc2Ugc2VydmVyIFVSTCBjb25maWd1cmVkIGZvciBrZXktc3lzdGVtIFxcXCJcIiArIGtleVN5c3RlbSArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX1NZU1RFTV9MSUNFTlNFX1JFUVVFU1RfRkFJTEVELFxuICAgICAgICAgICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBSZXF1ZXN0cyBhY2Nlc3Mgb2JqZWN0IGFuZCBhZGRzIGl0IHRvIG91ciBsaXN0IHVwb24gc3VjY2Vzc1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTeXN0ZW0gU3lzdGVtIElEIChzZWUgYEtleVN5c3RlbXNgKVxuICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBhdWRpb0NvZGVjcyBMaXN0IG9mIHJlcXVpcmVkIGF1ZGlvIGNvZGVjcyB0byBzdXBwb3J0XG4gICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHZpZGVvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgdmlkZW8gY29kZWNzIHRvIHN1cHBvcnRcbiAgICAgICAqL1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9hdHRlbXB0S2V5U3lzdGVtQWNjZXNzID0gZnVuY3Rpb24gKGtleVN5c3RlbSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKSB7XG4gICAgICAgIC8vIFRPRE86IGFkZCBvdGhlciBEUk0gXCJvcHRpb25zXCJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lZGlhS2V5U3lzdGVtQ29uZmlncyA9IGdldFN1cHBvcnRlZE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMoa2V5U3lzdGVtLCBhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpO1xuICAgICAgICBpZiAoIW1lZGlhS2V5U3lzdGVtQ29uZmlncykge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0NhbiBub3QgY3JlYXRlIGNvbmZpZyBmb3Iga2V5LXN5c3RlbSAobWF5YmUgYmVjYXVzZSBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydGVkKTonLCBrZXlTeXN0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1JlcXVlc3RpbmcgZW5jcnlwdGVkIG1lZGlhIGtleS1zeXN0ZW0gYWNjZXNzJyk7XG4gICAgICAgIC8vIGV4cGVjdGluZyBpbnRlcmZhY2UgbGlrZSB3aW5kb3cubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc1xuICAgICAgICB0aGlzLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhrZXlTeXN0ZW0sIG1lZGlhS2V5U3lzdGVtQ29uZmlncylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChtZWRpYUtleVN5c3RlbUFjY2Vzcykge1xuICAgICAgICAgICAgX3RoaXMuX29uTWVkaWFLZXlTeXN0ZW1BY2Nlc3NPYnRhaW5lZChrZXlTeXN0ZW0sIG1lZGlhS2V5U3lzdGVtQWNjZXNzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gb2J0YWluIGtleS1zeXN0ZW0gXFxcIlwiICsga2V5U3lzdGVtICsgXCJcXFwiIGFjY2VzczpcIiwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRU1FQ29udHJvbGxlci5wcm90b3R5cGUsIFwicmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3JlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIGZ1bmN0aW9uIGNvbmZpZ3VyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAgICogSGFuZGxlcyBvYnRhaW5pbmcgYWNjZXNzIHRvIGEga2V5LXN5c3RlbVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTeXN0ZW1cbiAgICAgICAqIEBwYXJhbSB7TWVkaWFLZXlTeXN0ZW1BY2Nlc3N9IG1lZGlhS2V5U3lzdGVtQWNjZXNzIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYUtleVN5c3RlbUFjY2Vzc1xuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTWVkaWFLZXlTeXN0ZW1BY2Nlc3NPYnRhaW5lZCA9IGZ1bmN0aW9uIChrZXlTeXN0ZW0sIG1lZGlhS2V5U3lzdGVtQWNjZXNzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJBY2Nlc3MgZm9yIGtleS1zeXN0ZW0gXFxcIlwiICsga2V5U3lzdGVtICsgXCJcXFwiIG9idGFpbmVkXCIpO1xuICAgICAgICB2YXIgbWVkaWFLZXlzTGlzdEl0ZW0gPSB7XG4gICAgICAgICAgICBtZWRpYUtleXM6IG51bGwsXG4gICAgICAgICAgICBtZWRpYUtleXNTZXNzaW9uOiBudWxsLFxuICAgICAgICAgICAgbWVkaWFLZXlzU2Vzc2lvbkluaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgICAgICAgIG1lZGlhS2V5U3lzdGVtQWNjZXNzOiBtZWRpYUtleVN5c3RlbUFjY2VzcyxcbiAgICAgICAgICAgIG1lZGlhS2V5U3lzdGVtRG9tYWluOiBrZXlTeXN0ZW1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbWVkaWFLZXlzTGlzdC5wdXNoKG1lZGlhS2V5c0xpc3RJdGVtKTtcbiAgICAgICAgbWVkaWFLZXlTeXN0ZW1BY2Nlc3MuY3JlYXRlTWVkaWFLZXlzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChtZWRpYUtleXMpIHtcbiAgICAgICAgICAgIG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5cyA9IG1lZGlhS2V5cztcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJNZWRpYS1rZXlzIGNyZWF0ZWQgZm9yIGtleS1zeXN0ZW0gXFxcIlwiICsga2V5U3lzdGVtICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgX3RoaXMuX29uTWVkaWFLZXlzQ3JlYXRlZCgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBtZWRpYS1rZXlzOicsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBIYW5kbGVzIGtleS1jcmVhdGlvbiAocmVwcmVzZW50cyBhY2Nlc3MgdG8gQ0RNKS4gV2UgYXJlIGdvaW5nIHRvIGNyZWF0ZSBrZXktc2Vzc2lvbnMgdXBvbiB0aGlzXG4gICAgICAgKiBmb3IgYWxsIGV4aXN0aW5nIGtleXMgd2hlcmUgbm8gc2Vzc2lvbiBleGlzdHMgeWV0LlxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTWVkaWFLZXlzQ3JlYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gY2hlY2sgZm9yIGFsbCBrZXktbGlzdCBpdGVtcyBpZiBhIHNlc3Npb24gZXhpc3RzLCBvdGhlcndpc2UsIGNyZWF0ZSBvbmVcbiAgICAgICAgdGhpcy5fbWVkaWFLZXlzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChtZWRpYUtleXNMaXN0SXRlbSkge1xuICAgICAgICAgICAgaWYgKCFtZWRpYUtleXNMaXN0SXRlbS5tZWRpYUtleXNTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFLZXlzTGlzdEl0ZW0ubWVkaWFLZXlzU2Vzc2lvbiA9IG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5cy5jcmVhdGVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29uTmV3TWVkaWFLZXlTZXNzaW9uKG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0ga2V5U2Vzc2lvblxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTmV3TWVkaWFLZXlTZXNzaW9uID0gZnVuY3Rpb24gKGtleVNlc3Npb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk5ldyBrZXktc3lzdGVtIHNlc3Npb24gXCIgKyBrZXlTZXNzaW9uLnNlc3Npb25JZCk7XG4gICAgICAgIGtleVNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuX29uS2V5U2Vzc2lvbk1lc3NhZ2Uoa2V5U2Vzc2lvbiwgZXZlbnQubWVzc2FnZSk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9vbktleVNlc3Npb25NZXNzYWdlID0gZnVuY3Rpb24gKGtleVNlc3Npb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnR290IEVNRSBtZXNzYWdlIGV2ZW50LCBjcmVhdGluZyBsaWNlbnNlIHJlcXVlc3QnKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdExpY2Vuc2UobWVzc2FnZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1JlY2VpdmVkIGxpY2Vuc2UgZGF0YSwgdXBkYXRpbmcga2V5LXNlc3Npb24nKTtcbiAgICAgICAgICAgIGtleVNlc3Npb24udXBkYXRlKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9vbk1lZGlhRW5jcnlwdGVkID0gZnVuY3Rpb24gKGluaXREYXRhVHlwZSwgaW5pdERhdGEpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk1lZGlhIGlzIGVuY3J5cHRlZCB1c2luZyBcXFwiXCIgKyBpbml0RGF0YVR5cGUgKyBcIlxcXCIgaW5pdCBkYXRhIHR5cGVcIik7XG4gICAgICAgIHRoaXMuX2lzTWVkaWFFbmNyeXB0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YVR5cGUgPSBpbml0RGF0YVR5cGU7XG4gICAgICAgIHRoaXMuX21lZGlhRW5jcnlwdGlvbkluaXREYXRhID0gaW5pdERhdGE7XG4gICAgICAgIHRoaXMuX2F0dGVtcHRTZXRNZWRpYUtleXMoKTtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVSZXF1ZXN0V2l0aFByZWZlcnJlZEtleVNlc3Npb24oKTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9hdHRlbXB0U2V0TWVkaWFLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hhc1NldE1lZGlhS2V5cykge1xuICAgICAgICAgICAgLy8gRklYTUU6IHNlZSBpZiB3ZSBjYW4vd2FudC9uZWVkLXRvIHJlYWxseSB0byBkZWFsIHdpdGggc2V2ZXJhbCBwb3RlbnRpYWwga2V5LXNlc3Npb25zP1xuICAgICAgICAgICAgdmFyIGtleXNMaXN0SXRlbSA9IHRoaXMuX21lZGlhS2V5c0xpc3RbMF07XG4gICAgICAgICAgICBpZiAoIWtleXNMaXN0SXRlbSB8fCAha2V5c0xpc3RJdGVtLm1lZGlhS2V5cykge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignRmF0YWw6IE1lZGlhIGlzIGVuY3J5cHRlZCBidXQgbm8gQ0RNIGFjY2VzcyBvciBubyBrZXlzIGhhdmUgYmVlbiBvYnRhaW5lZCB5ZXQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX1NZU1RFTV9OT19LRVlTLFxuICAgICAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1NldHRpbmcga2V5cyBmb3IgZW5jcnlwdGVkIG1lZGlhJyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYS5zZXRNZWRpYUtleXMoa2V5c0xpc3RJdGVtLm1lZGlhS2V5cyk7XG4gICAgICAgICAgICB0aGlzLl9oYXNTZXRNZWRpYUtleXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fZ2VuZXJhdGVSZXF1ZXN0V2l0aFByZWZlcnJlZEtleVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEZJWE1FOiBzZWUgaWYgd2UgY2FuL3dhbnQvbmVlZC10byByZWFsbHkgdG8gZGVhbCB3aXRoIHNldmVyYWwgcG90ZW50aWFsIGtleS1zZXNzaW9ucz9cbiAgICAgICAgdmFyIGtleXNMaXN0SXRlbSA9IHRoaXMuX21lZGlhS2V5c0xpc3RbMF07XG4gICAgICAgIGlmICgha2V5c0xpc3RJdGVtKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0ZhdGFsOiBNZWRpYSBpcyBlbmNyeXB0ZWQgYnV0IG5vdCBhbnkga2V5LXN5c3RlbSBhY2Nlc3MgaGFzIGJlZW4gb2J0YWluZWQgeWV0Jyk7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fTk9fQUNDRVNTLFxuICAgICAgICAgICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb25Jbml0aWFsaXplZCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0tleS1TZXNzaW9uIGFscmVhZHkgaW5pdGlhbGl6ZWQgYnV0IHJlcXVlc3RlZCBhZ2FpbicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXlTZXNzaW9uID0ga2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb247XG4gICAgICAgIGlmICgha2V5U2Vzc2lvbikge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdGYXRhbDogTWVkaWEgaXMgZW5jcnlwdGVkIGJ1dCBubyBrZXktc2Vzc2lvbiBleGlzdGluZycpO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX05PX1NFU1NJT04sXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbml0RGF0YVR5cGUgPSB0aGlzLl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YVR5cGU7XG4gICAgICAgIHZhciBpbml0RGF0YSA9IHRoaXMuX21lZGlhRW5jcnlwdGlvbkluaXREYXRhO1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiR2VuZXJhdGluZyBrZXktc2Vzc2lvbiByZXF1ZXN0IGZvciBcXFwiXCIgKyBpbml0RGF0YVR5cGUgKyBcIlxcXCIgaW5pdCBkYXRhIHR5cGVcIik7XG4gICAgICAgIGtleXNMaXN0SXRlbS5tZWRpYUtleXNTZXNzaW9uSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBrZXlTZXNzaW9uLmdlbmVyYXRlUmVxdWVzdChpbml0RGF0YVR5cGUsIGluaXREYXRhKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKCdLZXktc2Vzc2lvbiBnZW5lcmF0aW9uIHN1Y2NlZWRlZCcpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBrZXktc2Vzc2lvbiByZXF1ZXN0OicsIGVycik7XG4gICAgICAgICAgICBfdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX05PX1NFU1NJT04sXG4gICAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTGljZW5zZSBzZXJ2ZXIgVVJMXG4gICAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBrZXlNZXNzYWdlIE1lc3NhZ2UgZGF0YSBpc3N1ZWQgYnkga2V5LXN5c3RlbVxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIHdoZW4gWEhSIGhhcyBzdWNjZWVkZWRcbiAgICAgICAqIEByZXR1cm5zIHtYTUxIdHRwUmVxdWVzdH0gVW5zZW50IChidXQgb3BlbmVkIHN0YXRlKSBYSFIgb2JqZWN0XG4gICAgICAgKi9cbiAgICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fY3JlYXRlTGljZW5zZVhociA9IGZ1bmN0aW9uICh1cmwsIGtleU1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgdmFyIGxpY2Vuc2VYaHJTZXR1cCA9IHRoaXMuX2xpY2Vuc2VYaHJTZXR1cDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChsaWNlbnNlWGhyU2V0dXApIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsaWNlbnNlWGhyU2V0dXAoeGhyLCB1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyB0cnkgdG8gb3BlbiBiZWZvcmUgcnVubmluZyBzZXR1cFxuICAgICAgICAgICAgICAgICAgICB4aHIub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpY2Vuc2VYaHJTZXR1cCh4aHIsIHVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgbGljZW5zZVhoclNldHVwIGRpZCBub3QgeWV0IGNhbGwgb3BlbiwgbGV0J3MgZG8gaXQgbm93XG4gICAgICAgICAgICBpZiAoIXhoci5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJRTExIHRocm93cyBhbiBleGNlcHRpb24gb24geGhyLm9wZW4gaWYgYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gSFRUUCByZXNvdXJjZSBvdmVyIEhUVFBTXG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAga2V5LXN5c3RlbSBsaWNlbnNlIFhIUicsIGUpO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID1cbiAgICAgICAgICAgIHRoaXMuX29uTGljZW5zZVJlcXVlc3RSZWFkeVN0YWdlQ2hhbmdlLmJpbmQodGhpcywgeGhyLCB1cmwsIGtleU1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHhocjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0geGhyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIExpY2Vuc2Ugc2VydmVyIFVSTFxuICAgICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0ga2V5TWVzc2FnZSBNZXNzYWdlIGRhdGEgaXNzdWVkIGJ5IGtleS1zeXN0ZW1cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aGVuIFhIUiBoYXMgc3VjY2VlZGVkXG4gICAgICAgKlxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTGljZW5zZVJlcXVlc3RSZWFkeVN0YWdlQ2hhbmdlID0gZnVuY3Rpb24gKHhociwgdXJsLCBrZXlNZXNzYWdlLCBjYWxsYmFjaykge1xuICAgICAgICBzd2l0Y2ggKHhoci5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ0xpY2Vuc2UgcmVxdWVzdCBzdWNjZWVkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIkxpY2Vuc2UgUmVxdWVzdCBYSFIgZmFpbGVkIChcIiArIHVybCArIFwiKS4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiAoXCIgKyB4aHIuc3RhdHVzVGV4dCArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RMaWNlbnNlRmFpbHVyZUNvdW50IDw9IE1BWF9MSUNFTlNFX1JFUVVFU1RfRkFJTFVSRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRlbXB0c0xlZnQgPSBNQVhfTElDRU5TRV9SRVFVRVNUX0ZBSUxVUkVTIC0gdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJSZXRyeWluZyBsaWNlbnNlIHJlcXVlc3QsIFwiICsgYXR0ZW1wdHNMZWZ0ICsgXCIgYXR0ZW1wdHMgbGVmdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RMaWNlbnNlKGtleU1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGtleXNMaXN0SXRlbVxuICAgICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0ga2V5TWVzc2FnZVxuICAgICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBDaGFsbGVuZ2UgZGF0YSBwb3N0ZWQgdG8gbGljZW5zZSBzZXJ2ZXJcbiAgICAgICAqL1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9nZW5lcmF0ZUxpY2Vuc2VSZXF1ZXN0Q2hhbGxlbmdlID0gZnVuY3Rpb24gKGtleXNMaXN0SXRlbSwga2V5TWVzc2FnZSkge1xuICAgICAgICB2YXIgY2hhbGxlbmdlO1xuICAgICAgICBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluID09PSBLZXlTeXN0ZW1zLlBMQVlSRUFEWSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdQbGF5UmVhZHkgaXMgbm90IHN1cHBvcnRlZCAoeWV0KScpO1xuICAgICAgICAgICAgLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0RWRnZS9EZW1vcy9ibG9iL21hc3Rlci9lbWUvc2NyaXB0cy9kZW1vLmpzXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICBpZiAodGhpcy5saWNlbnNlVHlwZSAhPT0gdGhpcy5MSUNFTlNFX1RZUEVfV0lERVZJTkUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZvciBQbGF5UmVhZHkgQ0RNcywgd2UgbmVlZCB0byBkaWcgdGhlIENoYWxsZW5nZSBvdXQgb2YgdGhlIFhNTC5cbiAgICAgICAgICAgICAgICAgIHZhciBrZXlNZXNzYWdlWG1sID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50MTZBcnJheShrZXlNZXNzYWdlKSksICdhcHBsaWNhdGlvbi94bWwnKTtcbiAgICAgICAgICAgICAgICAgIGlmIChrZXlNZXNzYWdlWG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdDaGFsbGVuZ2UnKVswXSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNoYWxsZW5nZSA9IGF0b2Ioa2V5TWVzc2FnZVhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ2hhbGxlbmdlJylbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGZpbmQgPENoYWxsZW5nZT4gaW4ga2V5IG1lc3NhZ2UnO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlck5hbWVzID0ga2V5TWVzc2FnZVhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmFtZScpO1xuICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlclZhbHVlcyA9IGtleU1lc3NhZ2VYbWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgICBpZiAoaGVhZGVyTmFtZXMubGVuZ3RoICE9PSBoZWFkZXJWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ01pc21hdGNoZWQgaGVhZGVyIDxuYW1lPi88dmFsdWU+IHBhaXIgaW4ga2V5IG1lc3NhZ2UnO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlck5hbWVzW2ldLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlLCBoZWFkZXJWYWx1ZXNbaV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluID09PSBLZXlTeXN0ZW1zLldJREVWSU5FKSB7XG4gICAgICAgICAgICAvLyBGb3IgV2lkZXZpbmUgQ0RNcywgdGhlIGNoYWxsZW5nZSBpcyB0aGUga2V5TWVzc2FnZS5cbiAgICAgICAgICAgIGNoYWxsZW5nZSA9IGtleU1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ1Vuc3VwcG9ydGVkIGtleS1zeXN0ZW06Jywga2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbGxlbmdlO1xuICAgIH07XG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX3JlcXVlc3RMaWNlbnNlID0gZnVuY3Rpb24gKGtleU1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1JlcXVlc3RpbmcgY29udGVudCBsaWNlbnNlIGZvciBrZXktc3lzdGVtJyk7XG4gICAgICAgIHZhciBrZXlzTGlzdEl0ZW0gPSB0aGlzLl9tZWRpYUtleXNMaXN0WzBdO1xuICAgICAgICBpZiAoIWtleXNMaXN0SXRlbSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdGYXRhbCBlcnJvcjogTWVkaWEgaXMgZW5jcnlwdGVkIGJ1dCBubyBrZXktc3lzdGVtIGFjY2VzcyBoYXMgYmVlbiBvYnRhaW5lZCB5ZXQnKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX1NZU1RFTV9OT19BQ0NFU1MsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLmdldExpY2Vuc2VTZXJ2ZXJVcmwoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluKTtcbiAgICAgICAgdmFyIHhociA9IHRoaXMuX2NyZWF0ZUxpY2Vuc2VYaHIodXJsLCBrZXlNZXNzYWdlLCBjYWxsYmFjayk7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJTZW5kaW5nIGxpY2Vuc2UgcmVxdWVzdCB0byBVUkw6IFwiICsgdXJsKTtcbiAgICAgICAgeGhyLnNlbmQodGhpcy5fZ2VuZXJhdGVMaWNlbnNlUmVxdWVzdENoYWxsZW5nZShrZXlzTGlzdEl0ZW0sIGtleU1lc3NhZ2UpKTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fZW1lRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgICAgIC8vIGtlZXAgcmVmZXJlbmNlIG9mIG1lZGlhXG4gICAgICAgIHRoaXMuX21lZGlhID0gbWVkaWE7XG4gICAgICAgIC8vIEZJWE1FOiBhbHNvIGhhbmRsZSBkZXRhY2hpbmcgbWVkaWEgIVxuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdlbmNyeXB0ZWQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuX29uTWVkaWFFbmNyeXB0ZWQoZS5pbml0RGF0YVR5cGUsIGUuaW5pdERhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuX2VtZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXVkaW9Db2RlY3MgPSBkYXRhLmxldmVscy5tYXAoZnVuY3Rpb24gKGxldmVsKSB7IHJldHVybiBsZXZlbC5hdWRpb0NvZGVjOyB9KTtcbiAgICAgICAgdmFyIHZpZGVvQ29kZWNzID0gZGF0YS5sZXZlbHMubWFwKGZ1bmN0aW9uIChsZXZlbCkgeyByZXR1cm4gbGV2ZWwudmlkZW9Db2RlYzsgfSk7XG4gICAgICAgIHRoaXMuX2F0dGVtcHRLZXlTeXN0ZW1BY2Nlc3MoS2V5U3lzdGVtcy5XSURFVklORSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKTtcbiAgICB9O1xuICAgIHJldHVybiBFTUVDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRU1FQ29udHJvbGxlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2Zwcy1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29udHJvbGxlci9mcHMtY29udHJvbGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogRlBTIENvbnRyb2xsZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcbnZhciBGUFNDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGUFNDb250cm9sbGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZQU0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNISU5HKSB8fCB0aGlzO1xuICAgIH1cbiAgICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVmlkZW9QbGF5YmFja1F1YWxpdHlBdmFpbGFibGUgPSBmYWxzZTtcbiAgICB9O1xuICAgIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgICAgICBpZiAoY29uZmlnLmNhcExldmVsT25GUFNEcm9wKSB7XG4gICAgICAgICAgICB2YXIgdmlkZW9fMSA9IHRoaXMudmlkZW8gPSBkYXRhLm1lZGlhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmlkZW9fMS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuY2hlY2tGUFNJbnRlcnZhbC5iaW5kKHRoaXMpLCBjb25maWcuZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0ZQUyA9IGZ1bmN0aW9uICh2aWRlbywgZGVjb2RlZEZyYW1lcywgZHJvcHBlZEZyYW1lcykge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGRlY29kZWRGcmFtZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQZXJpb2QgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWUsIGN1cnJlbnREcm9wcGVkID0gZHJvcHBlZEZyYW1lcyAtIHRoaXMubGFzdERyb3BwZWRGcmFtZXMsIGN1cnJlbnREZWNvZGVkID0gZGVjb2RlZEZyYW1lcyAtIHRoaXMubGFzdERlY29kZWRGcmFtZXMsIGRyb3BwZWRGUFMgPSAxMDAwICogY3VycmVudERyb3BwZWQgLyBjdXJyZW50UGVyaW9kLCBobHNfMSA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgICAgIGhsc18xLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUFNfRFJPUCwgeyBjdXJyZW50RHJvcHBlZDogY3VycmVudERyb3BwZWQsIGN1cnJlbnREZWNvZGVkOiBjdXJyZW50RGVjb2RlZCwgdG90YWxEcm9wcGVkRnJhbWVzOiBkcm9wcGVkRnJhbWVzIH0pO1xuICAgICAgICAgICAgICAgIGlmIChkcm9wcGVkRlBTID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdjaGVja0ZQUyA6IGRyb3BwZWRGUFMvZGVjb2RlZEZQUzonICsgZHJvcHBlZEZQUy8oMTAwMCAqIGN1cnJlbnREZWNvZGVkIC8gY3VycmVudFBlcmlvZCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERyb3BwZWQgPiBobHNfMS5jb25maWcuZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQgKiBjdXJyZW50RGVjb2RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRMZXZlbCA9IGhsc18xLmN1cnJlbnRMZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdkcm9wIEZQUyByYXRpbyBncmVhdGVyIHRoYW4gbWF4IGFsbG93ZWQgdmFsdWUgZm9yIGN1cnJlbnRMZXZlbDogJyArIGN1cnJlbnRMZXZlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudExldmVsID4gMCAmJiAoaGxzXzEuYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgfHwgaGxzXzEuYXV0b0xldmVsQ2FwcGluZyA+PSBjdXJyZW50TGV2ZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudExldmVsID0gY3VycmVudExldmVsIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlBTX0RST1BfTEVWRUxfQ0FQUElORywgeyBsZXZlbDogY3VycmVudExldmVsLCBkcm9wcGVkTGV2ZWw6IGhsc18xLmN1cnJlbnRMZXZlbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHNfMS5hdXRvTGV2ZWxDYXBwaW5nID0gY3VycmVudExldmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsc18xLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgICAgICB0aGlzLmxhc3REcm9wcGVkRnJhbWVzID0gZHJvcHBlZEZyYW1lcztcbiAgICAgICAgICAgIHRoaXMubGFzdERlY29kZWRGcmFtZXMgPSBkZWNvZGVkRnJhbWVzO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0ZQU0ludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlkZW8gPSB0aGlzLnZpZGVvO1xuICAgICAgICBpZiAodmlkZW8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmlkZW9QbGF5YmFja1F1YWxpdHlBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9QbGF5YmFja1F1YWxpdHkgPSB2aWRlby5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tGUFModmlkZW8sIHZpZGVvUGxheWJhY2tRdWFsaXR5LnRvdGFsVmlkZW9GcmFtZXMsIHZpZGVvUGxheWJhY2tRdWFsaXR5LmRyb3BwZWRWaWRlb0ZyYW1lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRlBTKHZpZGVvLCB2aWRlby53ZWJraXREZWNvZGVkRnJhbWVDb3VudCwgdmlkZW8ud2Via2l0RHJvcHBlZEZyYW1lQ291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRlBTQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZQU0NvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9mcmFnbWVudC1maW5kZXJzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LWZpbmRlcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKE51bWJlcikge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJpbmFyeV9zZWFyY2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2JpbmFyeS1zZWFyY2ggKi8gXCIuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXCIpO1xuLyoqXG4gKiBSZXR1cm5zIGZpcnN0IGZyYWdtZW50IHdob3NlIGVuZFBkdCB2YWx1ZSBleGNlZWRzIHRoZSBnaXZlbiBQRFQuXG4gKiBAcGFyYW0ge0FycmF5PEZyYWdtZW50Pn0gZnJhZ21lbnRzIC0gVGhlIGFycmF5IG9mIGNhbmRpZGF0ZSBmcmFnbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfG51bGx9IFtQRFRWYWx1ZSA9IG51bGxdIC0gVGhlIFBEVCB2YWx1ZSB3aGljaCBtdXN0IGJlIGV4Y2VlZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwXSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGEgZnJhZ21lbnQncyBzdGFydC9lbmQgY2FuIGJlIHdpdGhpbiBpbiBvcmRlciB0byBiZSBjb25zaWRlcmVkIGNvbnRpZ3VvdXNcbiAqIEByZXR1cm5zIHsqfG51bGx9IGZyYWdtZW50IC0gVGhlIGJlc3QgbWF0Y2hpbmcgZnJhZ21lbnRcbiAqL1xuZnVuY3Rpb24gZmluZEZyYWdtZW50QnlQRFQoZnJhZ21lbnRzLCBQRFRWYWx1ZSwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShmcmFnbWVudHMpIHx8ICFmcmFnbWVudHMubGVuZ3RoIHx8ICFOdW1iZXIuaXNGaW5pdGUoUERUVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBpZiBsZXNzIHRoYW4gc3RhcnRcbiAgICBpZiAoUERUVmFsdWUgPCBmcmFnbWVudHNbMF0ucHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoUERUVmFsdWUgPj0gZnJhZ21lbnRzW2ZyYWdtZW50cy5sZW5ndGggLSAxXS5lbmRQcm9ncmFtRGF0ZVRpbWUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPSBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIHx8IDA7XG4gICAgZm9yICh2YXIgc2VnID0gMDsgc2VnIDwgZnJhZ21lbnRzLmxlbmd0aDsgKytzZWcpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBmcmFnbWVudHNbc2VnXTtcbiAgICAgICAgaWYgKHBkdFdpdGhpblRvbGVyYW5jZVRlc3QoUERUVmFsdWUsIG1heEZyYWdMb29rVXBUb2xlcmFuY2UsIGZyYWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJhZztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMuZmluZEZyYWdtZW50QnlQRFQgPSBmaW5kRnJhZ21lbnRCeVBEVDtcbi8qKlxuICogRmluZHMgYSBmcmFnbWVudCBiYXNlZCBvbiB0aGUgU04gb2YgdGhlIHByZXZpb3VzIGZyYWdtZW50OyBvciBiYXNlZCBvbiB0aGUgbmVlZHMgb2YgdGhlIGN1cnJlbnQgYnVmZmVyLlxuICogVGhpcyBtZXRob2QgY29tcGVuc2F0ZXMgZm9yIHNtYWxsIGJ1ZmZlciBnYXBzIGJ5IGFwcGx5aW5nIGEgdG9sZXJhbmNlIHRvIHRoZSBzdGFydCBvZiBhbnkgY2FuZGlkYXRlIGZyYWdtZW50LCB0aHVzXG4gKiBicmVha2luZyBhbnkgdHJhcHMgd2hpY2ggd291bGQgY2F1c2UgdGhlIHNhbWUgZnJhZ21lbnQgdG8gYmUgY29udGludW91c2x5IHNlbGVjdGVkIHdpdGhpbiBhIHNtYWxsIHJhbmdlLlxuICogQHBhcmFtIHsqfSBmcmFnUHJldmlvdXMgLSBUaGUgbGFzdCBmcmFnIHN1Y2Nlc3NmdWxseSBhcHBlbmRlZFxuICogQHBhcmFtIHtBcnJheTxGcmFnbWVudD59IGZyYWdtZW50cyAtIFRoZSBhcnJheSBvZiBjYW5kaWRhdGUgZnJhZ21lbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gW2J1ZmZlckVuZCA9IDBdIC0gVGhlIGVuZCBvZiB0aGUgY29udGlndW91cyBidWZmZXJlZCByYW5nZSB0aGUgcGxheWhlYWQgaXMgY3VycmVudGx5IHdpdGhpblxuICogQHBhcmFtIHtudW1iZXJ9IG1heEZyYWdMb29rVXBUb2xlcmFuY2UgLSBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBhIGZyYWdtZW50J3Mgc3RhcnQvZW5kIGNhbiBiZSB3aXRoaW4gaW4gb3JkZXIgdG8gYmUgY29uc2lkZXJlZCBjb250aWd1b3VzXG4gKiBAcmV0dXJucyB7Kn0gZm91bmRGcmFnIC0gVGhlIGJlc3QgbWF0Y2hpbmcgZnJhZ21lbnRcbiAqL1xuZnVuY3Rpb24gZmluZEZyYWdtZW50QnlQVFMoZnJhZ1ByZXZpb3VzLCBmcmFnbWVudHMsIGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkge1xuICAgIGlmIChidWZmZXJFbmQgPT09IHZvaWQgMCkgeyBidWZmZXJFbmQgPSAwOyB9XG4gICAgaWYgKG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPT09IHZvaWQgMCkgeyBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gMDsgfVxuICAgIHZhciBmcmFnTmV4dCA9IGZyYWdQcmV2aW91cyA/IGZyYWdtZW50c1tmcmFnUHJldmlvdXMuc24gLSBmcmFnbWVudHNbMF0uc24gKyAxXSA6IG51bGw7XG4gICAgLy8gUHJlZmVyIHRoZSBuZXh0IGZyYWdtZW50IGlmIGl0J3Mgd2l0aGluIHRvbGVyYW5jZVxuICAgIGlmIChmcmFnTmV4dCAmJiAhZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0KGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgZnJhZ05leHQpKSB7XG4gICAgICAgIHJldHVybiBmcmFnTmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGJpbmFyeV9zZWFyY2hfMS5kZWZhdWx0LnNlYXJjaChmcmFnbWVudHMsIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdC5iaW5kKG51bGwsIGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkpO1xufVxuZXhwb3J0cy5maW5kRnJhZ21lbnRCeVBUUyA9IGZpbmRGcmFnbWVudEJ5UFRTO1xuLyoqXG4gKiBUaGUgdGVzdCBmdW5jdGlvbiB1c2VkIGJ5IHRoZSBmaW5kRnJhZ21lbnRCeVNuJ3MgQmluYXJ5U2VhcmNoIHRvIGxvb2sgZm9yIHRoZSBiZXN0IG1hdGNoIHRvIHRoZSBjdXJyZW50IGJ1ZmZlciBjb25kaXRpb25zLlxuICogQHBhcmFtIHsqfSBjYW5kaWRhdGUgLSBUaGUgZnJhZ21lbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IFtidWZmZXJFbmQgPSAwXSAtIFRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYnVmZmVyZWQgcmFuZ2UgdGhlIHBsYXloZWFkIGlzIGN1cnJlbnRseSB3aXRoaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDBdIC0gVGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgYSBmcmFnbWVudCdzIHN0YXJ0IGNhbiBiZSB3aXRoaW4gaW4gb3JkZXIgdG8gYmUgY29uc2lkZXJlZCBjb250aWd1b3VzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIDAgaWYgaXQgbWF0Y2hlcywgMSBpZiB0b28gbG93LCAtMSBpZiB0b28gaGlnaFxuICovXG5mdW5jdGlvbiBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QoYnVmZmVyRW5kLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBjYW5kaWRhdGUpIHtcbiAgICBpZiAoYnVmZmVyRW5kID09PSB2b2lkIDApIHsgYnVmZmVyRW5kID0gMDsgfVxuICAgIGlmIChtYXhGcmFnTG9va1VwVG9sZXJhbmNlID09PSB2b2lkIDApIHsgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDA7IH1cbiAgICAvLyBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiBmcmFnbWVudCBib3VuZGFyeSAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlXG4gICAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gICAgLy8gYnVmZmVyRW5kID0gOS45OTFcbiAgICAvLyBmcmFnW8OYXSA6IFswLDEwXVxuICAgIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gICAgLy8gYnVmZmVyRW5kIGlzIHdpdGhpbiBmcmFnWzBdIHJhbmdlIC4uLiBhbHRob3VnaCB3aGF0IHdlIGFyZSBleHBlY3RpbmcgaXMgdG8gcmV0dXJuIGZyYWdbMV0gaGVyZVxuICAgIC8vICAgICAgICAgICAgICBmcmFnIHN0YXJ0ICAgICAgICAgICAgICAgZnJhZyBzdGFydCtkdXJhdGlvblxuICAgIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgIC8vICAgICAgICAgICAgICA8LS0tPiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tPlxuICAgIC8vICAuLi4tLS0tLS0tLT48LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+PC0tLS0tLS0tLS4uLi5cbiAgICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgICAvLyAgcmV0dXJuIC0xICAgICAgICAgICAgIHJldHVybiAwICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgIC8vIGxvZ2dlci5sb2coYGxldmVsL3NuL3N0YXJ0L2VuZC9idWZFbmQ6JHtsZXZlbH0vJHtjYW5kaWRhdGUuc259LyR7Y2FuZGlkYXRlLnN0YXJ0fS8keyhjYW5kaWRhdGUuc3RhcnQrY2FuZGlkYXRlLmR1cmF0aW9uKX0vJHtidWZmZXJFbmR9YCk7XG4gICAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uICsgKGNhbmRpZGF0ZS5kZWx0YVBUUyA/IGNhbmRpZGF0ZS5kZWx0YVBUUyA6IDApKTtcbiAgICBpZiAoY2FuZGlkYXRlLnN0YXJ0ICsgY2FuZGlkYXRlLmR1cmF0aW9uIC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlIDw9IGJ1ZmZlckVuZCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kICYmIGNhbmRpZGF0ZS5zdGFydCkge1xuICAgICAgICAvLyBpZiBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIHdpbGwgaGF2ZSBuZWdhdGl2ZSB2YWx1ZSB0aGVuIGRvbid0IHJldHVybiAtMSBmb3IgZmlyc3QgZWxlbWVudFxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuZXhwb3J0cy5mcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QgPSBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3Q7XG4vKipcbiAqIFRoZSB0ZXN0IGZ1bmN0aW9uIHVzZWQgYnkgdGhlIGZpbmRGcmFnbWVudEJ5UGR0J3MgQmluYXJ5U2VhcmNoIHRvIGxvb2sgZm9yIHRoZSBiZXN0IG1hdGNoIHRvIHRoZSBjdXJyZW50IGJ1ZmZlciBjb25kaXRpb25zLlxuICogVGhpcyBmdW5jdGlvbiB0ZXN0cyB0aGUgY2FuZGlkYXRlJ3MgcHJvZ3JhbSBkYXRlIHRpbWUgdmFsdWVzLCBhcyByZXByZXNlbnRlZCBpbiBVbml4IHRpbWVcbiAqIEBwYXJhbSB7Kn0gY2FuZGlkYXRlIC0gVGhlIGZyYWdtZW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGR0QnVmZmVyRW5kID0gMF0gLSBUaGUgVW5peCB0aW1lIHJlcHJlc2VudGluZyB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGJ1ZmZlcmVkIHJhbmdlXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwXSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGEgZnJhZ21lbnQncyBzdGFydCBjYW4gYmUgd2l0aGluIGluIG9yZGVyIHRvIGJlIGNvbnNpZGVyZWQgY29udGlndW91c1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY29udGlndW91cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIHBkdFdpdGhpblRvbGVyYW5jZVRlc3QocGR0QnVmZmVyRW5kLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBjYW5kaWRhdGUpIHtcbiAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uICsgKGNhbmRpZGF0ZS5kZWx0YVBUUyA/IGNhbmRpZGF0ZS5kZWx0YVBUUyA6IDApKSAqIDEwMDA7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZS5lbmRQcm9ncmFtRGF0ZVRpbWUgLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPiBwZHRCdWZmZXJFbmQ7XG59XG5leHBvcnRzLnBkdFdpdGhpblRvbGVyYW5jZVRlc3QgPSBwZHRXaXRoaW5Ub2xlcmFuY2VUZXN0O1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtdHJhY2tlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbmV4cG9ydHMuRnJhZ21lbnRTdGF0ZSA9IHtcbiAgICBOT1RfTE9BREVEOiAnTk9UX0xPQURFRCcsXG4gICAgQVBQRU5ESU5HOiAnQVBQRU5ESU5HJyxcbiAgICBQQVJUSUFMOiAnUEFSVElBTCcsXG4gICAgT0s6ICdPSydcbn07XG52YXIgRnJhZ21lbnRUcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGcmFnbWVudFRyYWNrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRnJhZ21lbnRUcmFja2VyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVOREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FERUQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJ1ZmZlclBhZGRpbmcgPSAwLjI7XG4gICAgICAgIF90aGlzLmZyYWdtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIF90aGlzLnRpbWVSYW5nZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBfdGhpcy5jb25maWcgPSBobHMuY29uZmlnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVSYW5nZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XG4gICAgICAgIGV2ZW50X2hhbmRsZXJfMS5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgRnJhZ21lbnQgdGhhdCBtYXRjaCB0aGUgcG9zaXRpb24gYW5kIGxldmVsVHlwZS5cbiAgICAgKiBJZiBub3QgZm91bmQgYW55IEZyYWdtZW50LCByZXR1cm4gbnVsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TGV2ZWxUeXBlfSBsZXZlbFR5cGVcbiAgICAgKiBAcmV0dXJucyB7RnJhZ21lbnR8bnVsbH1cbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldEJ1ZmZlcmVkRnJhZyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgbGV2ZWxUeXBlKSB7XG4gICAgICAgIHZhciBmcmFnbWVudHMgPSB0aGlzLmZyYWdtZW50cztcbiAgICAgICAgdmFyIGJ1ZmZlcmVkRnJhZ3MgPSBPYmplY3Qua2V5cyhmcmFnbWVudHMpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRFbnRpdHkgPSBmcmFnbWVudHNba2V5XTtcbiAgICAgICAgICAgIGlmIChmcmFnbWVudEVudGl0eS5ib2R5LnR5cGUgIT09IGxldmVsVHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZnJhZyA9IGZyYWdtZW50RW50aXR5LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gZnJhZy5zdGFydFBUUyA8PSBwb3NpdGlvbiAmJiBwb3NpdGlvbiA8PSBmcmFnLmVuZFBUUztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChidWZmZXJlZEZyYWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzE1NDUjZGlzY3Vzc2lvbl9yMTY2MjI5NTY2XG4gICAgICAgICAgICB2YXIgYnVmZmVyZWRGcmFnS2V5ID0gYnVmZmVyZWRGcmFncy5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBmcmFnbWVudHNbYnVmZmVyZWRGcmFnS2V5XS5ib2R5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXJ0aWFsIGZyYWdtZW50cyBlZmZlY3RlZCBieSBjb2RlZCBmcmFtZSBldmljdGlvbiB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBUaGUgYnJvd3NlciB3aWxsIHVubG9hZCBwYXJ0cyBvZiB0aGUgYnVmZmVyIHRvIGZyZWUgdXAgbWVtb3J5IGZvciBuZXcgYnVmZmVyIGRhdGFcbiAgICAgKiBGcmFnbWVudHMgd2lsbCBuZWVkIHRvIGJlIHJlbG9hZGVkIHdoZW4gdGhlIGJ1ZmZlciBpcyBmcmVlZCB1cCwgcmVtb3ZpbmcgcGFydGlhbCBmcmFnbWVudHMgd2lsbCBhbGxvdyB0aGVtIHRvIHJlbG9hZChzaW5jZSB0aGVyZSBtaWdodCBiZSBwYXJ0cyB0aGF0IGFyZSBzdGlsbCBwbGF5YWJsZSlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudGFyeVN0cmVhbSBUaGUgZWxlbWVudGFyeVN0cmVhbSBvZiBtZWRpYSB0aGlzIGlzIChlZy4gdmlkZW8vYXVkaW8pXG4gICAgICogQHBhcmFtIHtUaW1lUmFuZ2VzfSB0aW1lUmFuZ2UgVGltZVJhbmdlIG9iamVjdCBmcm9tIGEgc291cmNlQnVmZmVyXG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5kZXRlY3RFdmljdGVkRnJhZ21lbnRzID0gZnVuY3Rpb24gKGVsZW1lbnRhcnlTdHJlYW0sIHRpbWVSYW5nZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZnJhZ21lbnRUaW1lcywgdGltZTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYW55IGZsYWdnZWQgZnJhZ21lbnRzIGhhdmUgYmVlbiB1bmxvYWRlZFxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmZyYWdtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRFbnRpdHkgPSBfdGhpcy5mcmFnbWVudHNba2V5XTtcbiAgICAgICAgICAgIGlmIChmcmFnbWVudEVudGl0eS5idWZmZXJlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBlc0RhdGEgPSBmcmFnbWVudEVudGl0eS5yYW5nZVtlbGVtZW50YXJ5U3RyZWFtXTtcbiAgICAgICAgICAgICAgICBpZiAoZXNEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50VGltZXMgPSBlc0RhdGEudGltZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFnbWVudFRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gZnJhZ21lbnRUaW1lc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1RpbWVCdWZmZXJlZCh0aW1lLnN0YXJ0UFRTLCB0aW1lLmVuZFBUUywgdGltZVJhbmdlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVbnJlZ2lzdGVyIHBhcnRpYWwgZnJhZ21lbnQgYXMgaXQgbmVlZHMgdG8gbG9hZCBhZ2FpbiB0byBiZSByZXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVGcmFnbWVudChmcmFnbWVudEVudGl0eS5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGZyYWdtZW50IHBhc3NlZCBpbiBpcyBsb2FkZWQgaW4gdGhlIGJ1ZmZlciBwcm9wZXJseVxuICAgICAqIFBhcnRpYWxseSBsb2FkZWQgZnJhZ21lbnRzIHdpbGwgYmUgcmVnaXN0ZXJlZCBhcyBhIHBhcnRpYWwgZnJhZ21lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZnJhZ21lbnQgQ2hlY2sgdGhlIGZyYWdtZW50IGFnYWluc3QgYWxsIHNvdXJjZUJ1ZmZlcnMgbG9hZGVkXG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5kZXRlY3RQYXJ0aWFsRnJhZ21lbnRzID0gZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmcmFnS2V5ID0gdGhpcy5nZXRGcmFnbWVudEtleShmcmFnbWVudCk7XG4gICAgICAgIHZhciBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgICAgICBpZiAoZnJhZ21lbnRFbnRpdHkpIHtcbiAgICAgICAgICAgIGZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMudGltZVJhbmdlcykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudGFyeVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChmcmFnbWVudC5oYXNFbGVtZW50YXJ5U3RyZWFtKGVsZW1lbnRhcnlTdHJlYW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lUmFuZ2UgPSBfdGhpcy50aW1lUmFuZ2VzW2VsZW1lbnRhcnlTdHJlYW1dO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgbWFsZm9ybWVkIGZyYWdtZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyBHYXBzIG5lZWQgdG8gYmUgY2FsY3VsYXRlZCBmb3IgZWFjaCBlbGVtZW50YXJ5U3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50RW50aXR5LnJhbmdlW2VsZW1lbnRhcnlTdHJlYW1dID0gX3RoaXMuZ2V0QnVmZmVyZWRUaW1lcyhmcmFnbWVudC5zdGFydFBUUywgZnJhZ21lbnQuZW5kUFRTLCB0aW1lUmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldEJ1ZmZlcmVkVGltZXMgPSBmdW5jdGlvbiAoc3RhcnRQVFMsIGVuZFBUUywgdGltZVJhbmdlKSB7XG4gICAgICAgIHZhciBmcmFnbWVudFRpbWVzID0gW107XG4gICAgICAgIHZhciBzdGFydFRpbWUsIGVuZFRpbWU7XG4gICAgICAgIHZhciBmcmFnbWVudFBhcnRpYWwgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lUmFuZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRpbWVSYW5nZS5zdGFydChpKSAtIHRoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgICAgICAgIGVuZFRpbWUgPSB0aW1lUmFuZ2UuZW5kKGkpICsgdGhpcy5idWZmZXJQYWRkaW5nO1xuICAgICAgICAgICAgaWYgKHN0YXJ0UFRTID49IHN0YXJ0VGltZSAmJiBlbmRQVFMgPD0gZW5kVGltZSkge1xuICAgICAgICAgICAgICAgIC8vIEZyYWdtZW50IGlzIGVudGlyZWx5IGNvbnRhaW5lZCBpbiBidWZmZXJcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIHRoZSBvdGhlciB0aW1lUmFuZ2UgdGltZXMgc2luY2UgaXQncyBjb21wbGV0ZWx5IHBsYXlhYmxlXG4gICAgICAgICAgICAgICAgZnJhZ21lbnRUaW1lcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRQVFM6IE1hdGgubWF4KHN0YXJ0UFRTLCB0aW1lUmFuZ2Uuc3RhcnQoaSkpLFxuICAgICAgICAgICAgICAgICAgICBlbmRQVFM6IE1hdGgubWluKGVuZFBUUywgdGltZVJhbmdlLmVuZChpKSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0UFRTIDwgZW5kVGltZSAmJiBlbmRQVFMgPiBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgaW50ZXJzZWN0aW9uIHdpdGggYnVmZmVyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHBsYXlhYmxlIHNlY3Rpb25zIG9mIHRoZSBmcmFnbWVudFxuICAgICAgICAgICAgICAgIGZyYWdtZW50VGltZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UFRTOiBNYXRoLm1heChzdGFydFBUUywgdGltZVJhbmdlLnN0YXJ0KGkpKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kUFRTOiBNYXRoLm1pbihlbmRQVFMsIHRpbWVSYW5nZS5lbmQoaSkpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnRQYXJ0aWFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZFBUUyA8PSBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIHRoZSByZXN0IG9mIHRoZSB0aW1lUmFuZ2UgYXMgaXQgaXMgaW4gb3JkZXJcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZTogZnJhZ21lbnRUaW1lcyxcbiAgICAgICAgICAgIHBhcnRpYWw6IGZyYWdtZW50UGFydGlhbFxuICAgICAgICB9O1xuICAgIH07XG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5nZXRGcmFnbWVudEtleSA9IGZ1bmN0aW9uIChmcmFnbWVudCkge1xuICAgICAgICByZXR1cm4gZnJhZ21lbnQudHlwZSArIFwiX1wiICsgZnJhZ21lbnQubGV2ZWwgKyBcIl9cIiArIGZyYWdtZW50LnVybElkICsgXCJfXCIgKyBmcmFnbWVudC5zbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcnRpYWwgZnJhZ21lbnQgZm9yIGEgY2VydGFpbiB0aW1lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBmcmFnbWVudCBSZXR1cm5zIGEgcGFydGlhbCBmcmFnbWVudCBhdCBhIHRpbWUgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBwYXJ0aWFsIGZyYWdtZW50XG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5nZXRQYXJ0aWFsRnJhZ21lbnQgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdGltZVBhZGRpbmcsIHN0YXJ0VGltZSwgZW5kVGltZTtcbiAgICAgICAgdmFyIGJlc3RGcmFnbWVudCA9IG51bGw7XG4gICAgICAgIHZhciBiZXN0T3ZlcmxhcCA9IDA7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZnJhZ21lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudEVudGl0eSA9IF90aGlzLmZyYWdtZW50c1trZXldO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzUGFydGlhbChmcmFnbWVudEVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBmcmFnbWVudEVudGl0eS5ib2R5LnN0YXJ0UFRTIC0gX3RoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gZnJhZ21lbnRFbnRpdHkuYm9keS5lbmRQVFMgKyBfdGhpcy5idWZmZXJQYWRkaW5nO1xuICAgICAgICAgICAgICAgIGlmICh0aW1lID49IHN0YXJ0VGltZSAmJiB0aW1lIDw9IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBmcmFnbWVudCB0aGF0IGhhcyB0aGUgbW9zdCBwYWRkaW5nIGZyb20gc3RhcnQgYW5kIGVuZCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIHRpbWVQYWRkaW5nID0gTWF0aC5taW4odGltZSAtIHN0YXJ0VGltZSwgZW5kVGltZSAtIHRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmVzdE92ZXJsYXAgPD0gdGltZVBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RGcmFnbWVudCA9IGZyYWdtZW50RW50aXR5LmJvZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiZXN0T3ZlcmxhcCA9IHRpbWVQYWRkaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJlc3RGcmFnbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmcmFnbWVudCBUaGUgZnJhZ21lbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBSZXR1cm5zIHRoZSBmcmFnbWVudCBzdGF0ZSB3aGVuIGEgZnJhZ21lbnQgbmV2ZXIgbG9hZGVkIG9yIGlmIGl0IHBhcnRpYWxseSBsb2FkZWRcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgIHZhciBmcmFnS2V5ID0gdGhpcy5nZXRGcmFnbWVudEtleShmcmFnbWVudCk7XG4gICAgICAgIHZhciBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgICAgICB2YXIgc3RhdGUgPSBleHBvcnRzLkZyYWdtZW50U3RhdGUuTk9UX0xPQURFRDtcbiAgICAgICAgaWYgKGZyYWdtZW50RW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGV4cG9ydHMuRnJhZ21lbnRTdGF0ZS5BUFBFTkRJTkc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzUGFydGlhbChmcmFnbWVudEVudGl0eSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGV4cG9ydHMuRnJhZ21lbnRTdGF0ZS5QQVJUSUFMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBleHBvcnRzLkZyYWdtZW50U3RhdGUuT0s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5pc1BhcnRpYWwgPSBmdW5jdGlvbiAoZnJhZ21lbnRFbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkID09PSB0cnVlICYmXG4gICAgICAgICAgICAoKGZyYWdtZW50RW50aXR5LnJhbmdlLnZpZGVvICE9PSB1bmRlZmluZWQgJiYgZnJhZ21lbnRFbnRpdHkucmFuZ2UudmlkZW8ucGFydGlhbCA9PT0gdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICAoZnJhZ21lbnRFbnRpdHkucmFuZ2UuYXVkaW8gIT09IHVuZGVmaW5lZCAmJiBmcmFnbWVudEVudGl0eS5yYW5nZS5hdWRpby5wYXJ0aWFsID09PSB0cnVlKSk7XG4gICAgfTtcbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmlzVGltZUJ1ZmZlcmVkID0gZnVuY3Rpb24gKHN0YXJ0UFRTLCBlbmRQVFMsIHRpbWVSYW5nZSkge1xuICAgICAgICB2YXIgc3RhcnRUaW1lLCBlbmRUaW1lO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbWVSYW5nZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3RhcnRUaW1lID0gdGltZVJhbmdlLnN0YXJ0KGkpIC0gdGhpcy5idWZmZXJQYWRkaW5nO1xuICAgICAgICAgICAgZW5kVGltZSA9IHRpbWVSYW5nZS5lbmQoaSkgKyB0aGlzLmJ1ZmZlclBhZGRpbmc7XG4gICAgICAgICAgICBpZiAoc3RhcnRQVFMgPj0gc3RhcnRUaW1lICYmIGVuZFBUUyA8PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kUFRTIDw9IHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gY2hlY2sgdGhlIHJlc3Qgb2YgdGhlIHRpbWVSYW5nZSBhcyBpdCBpcyBpbiBvcmRlclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBmcmFnbWVudCA9IGUuZnJhZztcbiAgICAgICAgLy8gZG9uJ3QgdHJhY2sgaW5pdHNlZ21lbnQgKGZvciB3aGljaCBzbiBpcyBub3QgYSBudW1iZXIpXG4gICAgICAgIC8vIGRvbid0IHRyYWNrIGZyYWdzIHVzZWQgZm9yIGJpdHJhdGVUZXN0LCB0aGV5J3JlIGlycmVsZXZhbnQuXG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZ21lbnQuc24pICYmICFmcmFnbWVudC5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudHNbdGhpcy5nZXRGcmFnbWVudEtleShmcmFnbWVudCldID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGZyYWdtZW50LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcmVkOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgYnVmZmVyIGlzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTdG9yZSB0aGUgbGF0ZXN0IHRpbWVSYW5nZXMgbG9hZGVkIGluIHRoZSBidWZmZXJcbiAgICAgICAgdGhpcy50aW1lUmFuZ2VzID0gZS50aW1lUmFuZ2VzO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnRpbWVSYW5nZXMpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnRhcnlTdHJlYW0pIHtcbiAgICAgICAgICAgIHZhciB0aW1lUmFuZ2UgPSBfdGhpcy50aW1lUmFuZ2VzW2VsZW1lbnRhcnlTdHJlYW1dO1xuICAgICAgICAgICAgX3RoaXMuZGV0ZWN0RXZpY3RlZEZyYWdtZW50cyhlbGVtZW50YXJ5U3RyZWFtLCB0aW1lUmFuZ2UpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpcmVzIGFmdGVyIGEgZnJhZ21lbnQgaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIHNvdXJjZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uRnJhZ0J1ZmZlcmVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5kZXRlY3RQYXJ0aWFsRnJhZ21lbnRzKGUuZnJhZyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBmcmFnbWVudCB0cmFja2VyIGhhcyB0aGUgZnJhZ21lbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZyYWdtZW50XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5oYXNGcmFnbWVudCA9IGZ1bmN0aW9uIChmcmFnbWVudCkge1xuICAgICAgICB2YXIgZnJhZ0tleSA9IHRoaXMuZ2V0RnJhZ21lbnRLZXkoZnJhZ21lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFnbWVudHNbZnJhZ0tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGZyYWdtZW50IGZyb20gZnJhZ21lbnQgdHJhY2tlciB1bnRpbCBpdCBpcyBsb2FkZWQgYWdhaW5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZnJhZ21lbnQgVGhlIGZyYWdtZW50IHRvIHJlbW92ZVxuICAgICAqL1xuICAgIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUucmVtb3ZlRnJhZ21lbnQgPSBmdW5jdGlvbiAoZnJhZ21lbnQpIHtcbiAgICAgICAgdmFyIGZyYWdLZXkgPSB0aGlzLmdldEZyYWdtZW50S2V5KGZyYWdtZW50KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBmcmFnbWVudHMgZnJvbSBmcmFnbWVudCB0cmFja2VyLlxuICAgICAqL1xuICAgIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUucmVtb3ZlQWxsRnJhZ21lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfTtcbiAgICByZXR1cm4gRnJhZ21lbnRUcmFja2VyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5GcmFnbWVudFRyYWNrZXIgPSBGcmFnbWVudFRyYWNrZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZ2FwLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2dhcC1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBidWZmZXJfaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9idWZmZXItaGVscGVyICovIFwiLi9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBzdGFsbERlYm91bmNlSW50ZXJ2YWwgPSAxMDAwO1xudmFyIGp1bXBUaHJlc2hvbGQgPSAwLjU7IC8vIHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIHJhbmdlIGVuZFxudmFyIEdhcENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR2FwQ29udHJvbGxlcihjb25maWcsIG1lZGlhLCBmcmFnbWVudFRyYWNrZXIsIGhscykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5tZWRpYSA9IG1lZGlhO1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgdGhpcy5obHMgPSBobHM7XG4gICAgICAgIHRoaXMuc3RhbGxSZXBvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHBsYXloZWFkIGlzIHN0dWNrIHdpdGhpbiBhIGdhcCwgYW5kIGlmIHNvLCBhdHRlbXB0cyB0byBmcmVlIGl0LlxuICAgICAqIEEgZ2FwIGlzIGFuIHVuYnVmZmVyZWQgcmFuZ2UgYmV0d2VlbiB0d28gYnVmZmVyZWQgcmFuZ2VzIChvciB0aGUgc3RhcnQgYW5kIHRoZSBmaXJzdCBidWZmZXJlZCByYW5nZSkuXG4gICAgICogQHBhcmFtIGxhc3RDdXJyZW50VGltZVxuICAgICAqIEBwYXJhbSBidWZmZXJlZFxuICAgICAqL1xuICAgIEdhcENvbnRyb2xsZXIucHJvdG90eXBlLnBvbGwgPSBmdW5jdGlvbiAobGFzdEN1cnJlbnRUaW1lLCBidWZmZXJlZCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjb25maWcgPSBfYS5jb25maWcsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICB2YXIgdG5vdyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lICE9PSBsYXN0Q3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFRoZSBwbGF5aGVhZCBpcyBub3cgbW92aW5nLCBidXQgd2FzIHByZXZpb3VzbHkgc3RhbGxlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhbGxSZXBvcnRlZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwicGxheWJhY2sgbm90IHN0dWNrIGFueW1vcmUgQFwiICsgY3VycmVudFRpbWUgKyBcIiwgYWZ0ZXIgXCIgKyBNYXRoLnJvdW5kKHRub3cgLSB0aGlzLnN0YWxsZWQpICsgXCJtc1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm51ZGdlUmV0cnkgPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZWRpYS5lbmRlZCB8fCAhbWVkaWEuYnVmZmVyZWQubGVuZ3RoIHx8IG1lZGlhLnJlYWR5U3RhdGUgPiAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lZGlhLnNlZWtpbmcgJiYgYnVmZmVyX2hlbHBlcl8xLkJ1ZmZlckhlbHBlci5pc0J1ZmZlcmVkKG1lZGlhLCBjdXJyZW50VGltZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgcGxheWhlYWQgaXNuJ3QgbW92aW5nIGJ1dCBpdCBzaG91bGQgYmVcbiAgICAgICAgLy8gQWxsb3cgc29tZSBzbGFjayB0aW1lIHRvIGZvciBzbWFsbCBzdGFsbHMgdG8gcmVzb2x2ZSB0aGVtc2VsdmVzXG4gICAgICAgIHZhciBzdGFsbGVkRHVyYXRpb24gPSB0bm93IC0gdGhpcy5zdGFsbGVkO1xuICAgICAgICB2YXIgYnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyhtZWRpYSwgY3VycmVudFRpbWUsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKTtcbiAgICAgICAgaWYgKCF0aGlzLnN0YWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IHRub3c7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhbGxlZER1cmF0aW9uID49IHN0YWxsRGVib3VuY2VJbnRlcnZhbCkge1xuICAgICAgICAgICAgLy8gUmVwb3J0IHN0YWxsaW5nIGFmdGVyIHRyeWluZyB0byBmaXhcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydFN0YWxsKGJ1ZmZlckluZm8ubGVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cnlGaXhCdWZmZXJTdGFsbChidWZmZXJJbmZvLCBzdGFsbGVkRHVyYXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBhbmQgYXR0ZW1wdHMgdG8gZml4IGtub3duIGJ1ZmZlciBzdGFsbGluZyBpc3N1ZXMuXG4gICAgICogQHBhcmFtIGJ1ZmZlckluZm8gLSBUaGUgcHJvcGVydGllcyBvZiB0aGUgY3VycmVudCBidWZmZXIuXG4gICAgICogQHBhcmFtIHN0YWxsZWREdXJhdGlvbiAtIFRoZSBhbW91bnQgb2YgdGltZSBIbHMuanMgaGFzIGJlZW4gc3RhbGxpbmcgZm9yLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgR2FwQ29udHJvbGxlci5wcm90b3R5cGUuX3RyeUZpeEJ1ZmZlclN0YWxsID0gZnVuY3Rpb24gKGJ1ZmZlckluZm8sIHN0YWxsZWREdXJhdGlvbikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjb25maWcgPSBfYS5jb25maWcsIGZyYWdtZW50VHJhY2tlciA9IF9hLmZyYWdtZW50VHJhY2tlciwgbWVkaWEgPSBfYS5tZWRpYTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgIHZhciBwYXJ0aWFsID0gZnJhZ21lbnRUcmFja2VyLmdldFBhcnRpYWxGcmFnbWVudChjdXJyZW50VGltZSk7XG4gICAgICAgIGlmIChwYXJ0aWFsKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gc2tpcCBvdmVyIHRoZSBidWZmZXIgaG9sZSBjYXVzZWQgYnkgYSBwYXJ0aWFsIGZyYWdtZW50XG4gICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBpc24ndCBsaW1pdGVkIGJ5IHRoZSBzaXplIG9mIHRoZSBnYXAgYmV0d2VlbiBidWZmZXJlZCByYW5nZXNcbiAgICAgICAgICAgIHRoaXMuX3RyeVNraXBCdWZmZXJIb2xlKHBhcnRpYWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXJJbmZvLmxlbiA+IGp1bXBUaHJlc2hvbGQgJiYgc3RhbGxlZER1cmF0aW9uID4gY29uZmlnLmhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZCAqIDEwMDApIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBudWRnZSBjdXJyZW50VGltZSBvdmVyIGEgYnVmZmVyIGhvbGUgaWYgd2UndmUgYmVlbiBzdGFsbGluZyBmb3IgdGhlIGNvbmZpZ3VyZWQgYW1vdW50IG9mIHNlY29uZHNcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgdHJ5IHRvIGp1bXAgdGhlIGhvbGUgaWYgaXQncyB1bmRlciB0aGUgY29uZmlndXJlZCBzaXplXG4gICAgICAgICAgICAvLyBSZXNldCBzdGFsbGVkIHNvIHRvIHJlYXJtIHdhdGNoZG9nIHRpbWVyXG4gICAgICAgICAgICB0aGlzLnN0YWxsZWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdHJ5TnVkZ2VCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYSBCVUZGRVJfU1RBTExFRF9FUlJPUiBldmVudCwgYnV0IG9ubHkgb25jZSBwZXIgc3RhbGwgcGVyaW9kLlxuICAgICAqIEBwYXJhbSBidWZmZXJMZW4gLSBUaGUgcGxheWhlYWQgZGlzdGFuY2UgZnJvbSB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGJ1ZmZlciBzZWdtZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgR2FwQ29udHJvbGxlci5wcm90b3R5cGUuX3JlcG9ydFN0YWxsID0gZnVuY3Rpb24gKGJ1ZmZlckxlbikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBobHMgPSBfYS5obHMsIG1lZGlhID0gX2EubWVkaWEsIHN0YWxsUmVwb3J0ZWQgPSBfYS5zdGFsbFJlcG9ydGVkO1xuICAgICAgICBpZiAoIXN0YWxsUmVwb3J0ZWQpIHtcbiAgICAgICAgICAgIC8vIFJlcG9ydCBzdGFsbGVkIGVycm9yIG9uY2VcbiAgICAgICAgICAgIHRoaXMuc3RhbGxSZXBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIlBsYXliYWNrIHN0YWxsaW5nIGF0IEBcIiArIG1lZGlhLmN1cnJlbnRUaW1lICsgXCIgZHVlIHRvIGxvdyBidWZmZXJcIik7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX1NUQUxMRURfRVJST1IsXG4gICAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyTGVuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gZml4IGJ1ZmZlciBzdGFsbHMgYnkganVtcGluZyBvdmVyIGtub3duIGdhcHMgY2F1c2VkIGJ5IHBhcnRpYWwgZnJhZ21lbnRzXG4gICAgICogQHBhcmFtIHBhcnRpYWwgLSBUaGUgcGFydGlhbCBmcmFnbWVudCBmb3VuZCBhdCB0aGUgY3VycmVudCB0aW1lICh3aGVyZSBwbGF5YmFjayBpcyBzdGFsbGluZykuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBHYXBDb250cm9sbGVyLnByb3RvdHlwZS5fdHJ5U2tpcEJ1ZmZlckhvbGUgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBobHMgPSBfYS5obHMsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICB2YXIgbGFzdEVuZFRpbWUgPSAwO1xuICAgICAgICAvLyBDaGVjayBpZiBjdXJyZW50VGltZSBpcyBiZXR3ZWVuIHVuYnVmZmVyZWQgcmVnaW9ucyBvZiBwYXJ0aWFsIGZyYWdtZW50c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lID0gbWVkaWEuYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gbGFzdEVuZFRpbWUgJiYgY3VycmVudFRpbWUgPCBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IE1hdGgubWF4KHN0YXJ0VGltZSwgbWVkaWEuY3VycmVudFRpbWUgKyAwLjEpO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwic2tpcHBpbmcgaG9sZSwgYWRqdXN0aW5nIGN1cnJlbnRUaW1lIGZyb20gXCIgKyBjdXJyZW50VGltZSArIFwiIHRvIFwiICsgbWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX1NFRUtfT1ZFUl9IT0xFLFxuICAgICAgICAgICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJmcmFnbWVudCBsb2FkZWQgd2l0aCBidWZmZXIgaG9sZXMsIHNlZWtpbmcgZnJvbSBcIiArIGN1cnJlbnRUaW1lICsgXCIgdG8gXCIgKyBtZWRpYS5jdXJyZW50VGltZSxcbiAgICAgICAgICAgICAgICAgICAgZnJhZzogcGFydGlhbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RFbmRUaW1lID0gbWVkaWEuYnVmZmVyZWQuZW5kKGkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBmaXggYnVmZmVyIHN0YWxscyBieSBhZHZhbmNpbmcgdGhlIG1lZGlhRWxlbWVudCdzIGN1cnJlbnQgdGltZSBieSBhIHNtYWxsIGFtb3VudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEdhcENvbnRyb2xsZXIucHJvdG90eXBlLl90cnlOdWRnZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgY29uZmlnID0gX2EuY29uZmlnLCBobHMgPSBfYS5obHMsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICB2YXIgbnVkZ2VSZXRyeSA9ICh0aGlzLm51ZGdlUmV0cnkgfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLm51ZGdlUmV0cnkgPSBudWRnZVJldHJ5O1xuICAgICAgICBpZiAobnVkZ2VSZXRyeSA8IGNvbmZpZy5udWRnZU1heFJldHJ5KSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0VGltZSA9IGN1cnJlbnRUaW1lICsgbnVkZ2VSZXRyeSAqIGNvbmZpZy5udWRnZU9mZnNldDtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJhZGp1c3QgY3VycmVudFRpbWUgZnJvbSBcIiArIGN1cnJlbnRUaW1lICsgXCIgdG8gXCIgKyB0YXJnZXRUaW1lKTtcbiAgICAgICAgICAgIC8vIHBsYXliYWNrIHN0YWxsZWQgaW4gYnVmZmVyZWQgYXJlYSAuLi4gbGV0J3MgbnVkZ2UgY3VycmVudFRpbWUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXNcbiAgICAgICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gdGFyZ2V0VGltZTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfTlVER0VfT05fU1RBTEwsXG4gICAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcInN0aWxsIHN0dWNrIGluIGhpZ2ggYnVmZmVyIEBcIiArIGN1cnJlbnRUaW1lICsgXCIgYWZ0ZXIgXCIgKyBjb25maWcubnVkZ2VNYXhSZXRyeSArIFwiLCByYWlzZSBmYXRhbCBlcnJvclwiKTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfU1RBTExFRF9FUlJPUixcbiAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHYXBDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEdhcENvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9pZDMtdHJhY2stY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvaWQzLXRyYWNrLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLypcbiAqIGlkMyBtZXRhZGF0YSB0cmFjayBjb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgaWQzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9pZDMgKi8gXCIuL3NyYy9kZW11eC9pZDMuanNcIik7XG52YXIgdGV4dHRyYWNrX3V0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy90ZXh0dHJhY2stdXRpbHMgKi8gXCIuL3NyYy91dGlscy90ZXh0dHJhY2stdXRpbHMuanNcIik7XG52YXIgSUQzVHJhY2tDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJRDNUcmFja0NvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSUQzVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNIRUQsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19NRVRBREFUQSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWQzVHJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLm1lZGlhID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8vIEFkZCBJRDMgbWV0YXRhZGF0YSB0ZXh0IHRyYWNrLlxuICAgIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5tZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRleHR0cmFja191dGlsc18xLmNsZWFyQ3VycmVudEN1ZXModGhpcy5pZDNUcmFjayk7XG4gICAgICAgIHRoaXMuaWQzVHJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWVkaWEgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLmdldElEM1RyYWNrID0gZnVuY3Rpb24gKHRleHRUcmFja3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dFRyYWNrID0gdGV4dFRyYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICh0ZXh0VHJhY2sua2luZCA9PT0gJ21ldGFkYXRhJyAmJiB0ZXh0VHJhY2subGFiZWwgPT09ICdpZDMnKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VuZCAnYWRkdHJhY2snIHdoZW4gcmV1c2luZyB0aGUgdGV4dFRyYWNrIGZvciBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAvLyBzYW1lIGFzIHdoYXQgd2UgZG8gZm9yIGNhcHRpb25zXG4gICAgICAgICAgICAgICAgdGV4dHRyYWNrX3V0aWxzXzEuc2VuZEFkZFRyYWNrRXZlbnQodGV4dFRyYWNrLCB0aGlzLm1lZGlhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dFRyYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhLmFkZFRleHRUcmFjaygnbWV0YWRhdGEnLCAnaWQzJyk7XG4gICAgfTtcbiAgICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdNZXRhZGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnbWVudCA9IGRhdGEuZnJhZztcbiAgICAgICAgdmFyIHNhbXBsZXMgPSBkYXRhLnNhbXBsZXM7XG4gICAgICAgIC8vIGNyZWF0ZSB0cmFjayBkeW5hbWljYWxseVxuICAgICAgICBpZiAoIXRoaXMuaWQzVHJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuaWQzVHJhY2sgPSB0aGlzLmdldElEM1RyYWNrKHRoaXMubWVkaWEudGV4dFRyYWNrcyk7XG4gICAgICAgICAgICB0aGlzLmlkM1RyYWNrLm1vZGUgPSAnaGlkZGVuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBBdHRlbXB0IHRvIHJlY3JlYXRlIFNhZmFyaSBmdW5jdGlvbmFsaXR5IGJ5IGNyZWF0aW5nXG4gICAgICAgIC8vIFdlYktpdERhdGFDdWUgb2JqZWN0cyB3aGVuIGF2YWlsYWJsZSBhbmQgc3RvcmUgdGhlIGRlY29kZWRcbiAgICAgICAgLy8gSUQzIGRhdGEgaW4gdGhlIHZhbHVlIHByb3BlcnR5IG9mIHRoZSBjdWVcbiAgICAgICAgdmFyIEN1ZSA9IHdpbmRvdy5XZWJLaXREYXRhQ3VlIHx8IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZnJhbWVzXzEgPSBpZDNfMS5kZWZhdWx0LmdldElEM0ZyYW1lcyhzYW1wbGVzW2ldLmRhdGEpO1xuICAgICAgICAgICAgaWYgKGZyYW1lc18xKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZSA9IHNhbXBsZXNbaV0ucHRzO1xuICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lID0gaSA8IHNhbXBsZXMubGVuZ3RoIC0gMSA/IHNhbXBsZXNbaSArIDFdLnB0cyA6IGZyYWdtZW50LmVuZFBUUztcbiAgICAgICAgICAgICAgICAvLyBHaXZlIGEgc2xpZ2h0IGJ1bXAgdG8gdGhlIGVuZFRpbWUgaWYgaXQncyBlcXVhbCB0byBzdGFydFRpbWUgdG8gYXZvaWQgYSBTeW50YXhFcnJvciBpbiBJRVxuICAgICAgICAgICAgICAgIGlmIChzdGFydFRpbWUgPT09IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSArPSAwLjAwMDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZnJhbWVzXzEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gZnJhbWVzXzFbal07XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IHB1dCB0aGUgdGltZXN0YW1wIGZyYW1lIGluIHRoZSBUZXh0VHJhY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZDNfMS5kZWZhdWx0LmlzVGltZVN0YW1wRnJhbWUoZnJhbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VlID0gbmV3IEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ZS52YWx1ZSA9IGZyYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZDNUcmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIElEM1RyYWNrQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IElEM1RyYWNrQ29udHJvbGxlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBMZXZlbCBDb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgY29kZWNzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9jb2RlY3MgKi8gXCIuL3NyYy91dGlscy9jb2RlY3MuanNcIik7XG52YXIgbGV2ZWxfaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xldmVsLWhlbHBlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtaGVscGVyLmpzXCIpO1xudmFyIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlO1xudmFyIGNocm9tZU9yRmlyZWZveDtcbnZhciBMZXZlbENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExldmVsQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMZXZlbENvbnRyb2xsZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuTEVWRUxfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSEVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jYW5sb2FkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmN1cnJlbnRMZXZlbEluZGV4ID0gbnVsbDtcbiAgICAgICAgX3RoaXMubWFudWFsTGV2ZWxJbmRleCA9IC0xO1xuICAgICAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIGNocm9tZU9yRmlyZWZveCA9IC9jaHJvbWV8ZmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgIHRoaXMubWFudWFsTGV2ZWxJbmRleCA9IC0xO1xuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5jbGVhclRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuICAgICAgICB0aGlzLmNhbmxvYWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxldmVsUmV0cnlDb3VudCA9IDA7XG4gICAgICAgIC8vIGNsZWFuIHVwIGxpdmUgbGV2ZWwgZGV0YWlscyB0byBmb3JjZSByZWxvYWQgdGhlbSwgYW5kIHJlc2V0IGxvYWQgZXJyb3JzXG4gICAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgICAgIGxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsRGV0YWlscyA9IGxldmVsLmRldGFpbHM7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsRGV0YWlscyAmJiBsZXZlbERldGFpbHMubGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXZlbC5kZXRhaWxzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNwZWVkIHVwIGxpdmUgcGxheWxpc3QgcmVmcmVzaCBpZiB0aW1lciBleGlzdHNcbiAgICAgICAgaWYgKHRoaXMudGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZExldmVsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcExvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FubG9hZCA9IGZhbHNlO1xuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGxldmVscyA9IFtdO1xuICAgICAgICB2YXIgYXVkaW9UcmFja3MgPSBbXTtcbiAgICAgICAgdmFyIGJpdHJhdGVTdGFydDtcbiAgICAgICAgdmFyIGxldmVsU2V0ID0ge307XG4gICAgICAgIHZhciBsZXZlbEZyb21TZXQgPSBudWxsO1xuICAgICAgICB2YXIgdmlkZW9Db2RlY0ZvdW5kID0gZmFsc2U7XG4gICAgICAgIHZhciBhdWRpb0NvZGVjRm91bmQgPSBmYWxzZTtcbiAgICAgICAgLy8gcmVncm91cCByZWR1bmRhbnQgbGV2ZWxzIHRvZ2V0aGVyXG4gICAgICAgIGRhdGEubGV2ZWxzLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGxldmVsLmF0dHJzO1xuICAgICAgICAgICAgbGV2ZWwubG9hZEVycm9yID0gMDtcbiAgICAgICAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZpZGVvQ29kZWNGb3VuZCA9IHZpZGVvQ29kZWNGb3VuZCB8fCAhIWxldmVsLnZpZGVvQ29kZWM7XG4gICAgICAgICAgICBhdWRpb0NvZGVjRm91bmQgPSBhdWRpb0NvZGVjRm91bmQgfHwgISFsZXZlbC5hdWRpb0NvZGVjO1xuICAgICAgICAgICAgLy8gZXJhc2UgYXVkaW8gY29kZWMgaW5mbyBpZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgbXA0YS40MC4zNC5cbiAgICAgICAgICAgIC8vIGRlbXV4ZXIgd2lsbCBhdXRvZGV0ZWN0IGNvZGVjIGFuZCBmYWxsYmFjayB0byBtcGVnL2F1ZGlvXG4gICAgICAgICAgICBpZiAoY2hyb21lT3JGaXJlZm94ICYmIGxldmVsLmF1ZGlvQ29kZWMgJiYgbGV2ZWwuYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjM0JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwuYXVkaW9Db2RlYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsRnJvbVNldCA9IGxldmVsU2V0W2xldmVsLmJpdHJhdGVdOyAvLyBGSVhNRTogd2Ugd291bGQgYWxzbyBoYXZlIHRvIG1hdGNoIHRoZSByZXNvbHV0aW9uIGhlcmVcbiAgICAgICAgICAgIGlmICghbGV2ZWxGcm9tU2V0KSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwudXJsID0gW2xldmVsLnVybF07XG4gICAgICAgICAgICAgICAgbGV2ZWwudXJsSWQgPSAwO1xuICAgICAgICAgICAgICAgIGxldmVsU2V0W2xldmVsLmJpdHJhdGVdID0gbGV2ZWw7XG4gICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxGcm9tU2V0LnVybC5wdXNoKGxldmVsLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLkFVRElPKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQ29kZWNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsX2hlbHBlcl8xLmFkZEdyb3VwSWQobGV2ZWxGcm9tU2V0IHx8IGxldmVsLCAnYXVkaW8nLCBhdHRyaWJ1dGVzLkFVRElPKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuU1VCVElUTEVTKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsX2hlbHBlcl8xLmFkZEdyb3VwSWQobGV2ZWxGcm9tU2V0IHx8IGxldmVsLCAndGV4dCcsIGF0dHJpYnV0ZXMuU1VCVElUTEVTKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyByZW1vdmUgYXVkaW8tb25seSBsZXZlbCBpZiB3ZSBhbHNvIGhhdmUgbGV2ZWxzIHdpdGggYXVkaW8rdmlkZW8gY29kZWNzIHNpZ25hbGxlZFxuICAgICAgICBpZiAodmlkZW9Db2RlY0ZvdW5kICYmIGF1ZGlvQ29kZWNGb3VuZCkge1xuICAgICAgICAgICAgbGV2ZWxzID0gbGV2ZWxzLmZpbHRlcihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9Db2RlYyA9IF9hLnZpZGVvQ29kZWM7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdmlkZW9Db2RlYztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkga2VlcCBsZXZlbHMgd2l0aCBzdXBwb3J0ZWQgYXVkaW8vdmlkZW8gY29kZWNzXG4gICAgICAgIGxldmVscyA9IGxldmVscy5maWx0ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9Db2RlYyA9IF9hLmF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMgPSBfYS52aWRlb0NvZGVjO1xuICAgICAgICAgICAgcmV0dXJuICghYXVkaW9Db2RlYyB8fCBjb2RlY3NfMS5pc0NvZGVjU3VwcG9ydGVkSW5NcDQoYXVkaW9Db2RlYywgJ2F1ZGlvJykpICYmICghdmlkZW9Db2RlYyB8fCBjb2RlY3NfMS5pc0NvZGVjU3VwcG9ydGVkSW5NcDQodmlkZW9Db2RlYywgJ3ZpZGVvJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRhdGEuYXVkaW9UcmFja3MpIHtcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzID0gZGF0YS5hdWRpb1RyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrKSB7IHJldHVybiAhdHJhY2suYXVkaW9Db2RlYyB8fCBjb2RlY3NfMS5pc0NvZGVjU3VwcG9ydGVkSW5NcDQodHJhY2suYXVkaW9Db2RlYywgJ2F1ZGlvJyk7IH0pO1xuICAgICAgICAgICAgLy8gUmVhc3NpZ24gaWQncyBhZnRlciBmaWx0ZXJpbmcgc2luY2UgdGhleSdyZSB1c2VkIGFzIGFycmF5IGluZGljZXNcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHRyYWNrLmlkID0gaW5kZXg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IGJpdHJhdGUgaXMgdGhlIGZpcnN0IGJpdHJhdGUgb2YgdGhlIG1hbmlmZXN0XG4gICAgICAgICAgICBiaXRyYXRlU3RhcnQgPSBsZXZlbHNbMF0uYml0cmF0ZTtcbiAgICAgICAgICAgIC8vIHNvcnQgbGV2ZWwgb24gYml0cmF0ZVxuICAgICAgICAgICAgbGV2ZWxzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuYml0cmF0ZSAtIGIuYml0cmF0ZTsgfSk7XG4gICAgICAgICAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7XG4gICAgICAgICAgICAvLyBmaW5kIGluZGV4IG9mIGZpcnN0IGxldmVsIGluIHNvcnRlZCBsZXZlbHNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsc1tpXS5iaXRyYXRlID09PSBiaXRyYXRlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyc3RMZXZlbCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJtYW5pZmVzdCBsb2FkZWQsXCIgKyBsZXZlbHMubGVuZ3RoICsgXCIgbGV2ZWwocykgZm91bmQsIGZpcnN0IGJpdHJhdGU6XCIgKyBiaXRyYXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdWRpbyBpcyBvbmx5IGFsdGVybmF0ZSBpZiBtYW5pZmVzdCBpbmNsdWRlIGEgVVJJIGFsb25nIHdpdGggdGhlIGF1ZGlvIGdyb3VwIHRhZ1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX1BBUlNFRCwge1xuICAgICAgICAgICAgICAgIGxldmVsczogbGV2ZWxzLFxuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tzOiBhdWRpb1RyYWNrcyxcbiAgICAgICAgICAgICAgICBmaXJzdExldmVsOiB0aGlzLl9maXJzdExldmVsLFxuICAgICAgICAgICAgICAgIHN0YXRzOiBkYXRhLnN0YXRzLFxuICAgICAgICAgICAgICAgIGF1ZGlvOiBhdWRpb0NvZGVjRm91bmQsXG4gICAgICAgICAgICAgICAgdmlkZW86IHZpZGVvQ29kZWNGb3VuZCxcbiAgICAgICAgICAgICAgICBhbHRBdWRpbzogYXVkaW9UcmFja3Muc29tZShmdW5jdGlvbiAodCkgeyByZXR1cm4gISF0LnVybDsgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUixcbiAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1cmw6IHRoaXMuaGxzLnVybCxcbiAgICAgICAgICAgICAgICByZWFzb246ICdubyBsZXZlbCB3aXRoIGNvbXBhdGlibGUgY29kZWNzIGZvdW5kIGluIG1hbmlmZXN0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLCBcImxldmVsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldmVscztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwibGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRMZXZlbEluZGV4O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICAgICAgdmFyIGxldmVscyA9IHRoaXMuX2xldmVscztcbiAgICAgICAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgICAgICAgICBuZXdMZXZlbCA9IE1hdGgubWluKG5ld0xldmVsLCBsZXZlbHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExldmVsSW5kZXggIT09IG5ld0xldmVsIHx8ICFsZXZlbHNbbmV3TGV2ZWxdLmRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMZXZlbEludGVybmFsKG5ld0xldmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc2V0TGV2ZWxJbnRlcm5hbCA9IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgICAgICBpZiAobmV3TGV2ZWwgPj0gMCAmJiBuZXdMZXZlbCA8IGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWxJbmRleCAhPT0gbmV3TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwic3dpdGNoaW5nIHRvIGxldmVsIFwiICsgbmV3TGV2ZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExldmVsSW5kZXggPSBuZXdMZXZlbDtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxQcm9wZXJ0aWVzID0gbGV2ZWxzW25ld0xldmVsXTtcbiAgICAgICAgICAgICAgICBsZXZlbFByb3BlcnRpZXMubGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkxFVkVMX1NXSVRDSElORywgbGV2ZWxQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsZXZlbCA9IGxldmVsc1tuZXdMZXZlbF07XG4gICAgICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbGV2ZWwuZGV0YWlscztcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBsZXZlbFxuICAgICAgICAgICAgaWYgKCFsZXZlbERldGFpbHMgfHwgbGV2ZWxEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgICAgICAvLyBsZXZlbCBub3QgcmV0cmlldmVkIHlldCwgb3IgbGl2ZSBwbGF5bGlzdCB3ZSBuZWVkIHRvIChyZSlsb2FkIGl0XG4gICAgICAgICAgICAgICAgdmFyIHVybElkID0gbGV2ZWwudXJsSWQ7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9MT0FESU5HLCB7IHVybDogbGV2ZWwudXJsW3VybElkXSwgbGV2ZWw6IG5ld0xldmVsLCBpZDogdXJsSWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbnZhbGlkIGxldmVsIGlkIGdpdmVuLCB0cmlnZ2VyIGVycm9yXG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5PVEhFUl9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfU1dJVENIX0VSUk9SLFxuICAgICAgICAgICAgICAgIGxldmVsOiBuZXdMZXZlbCxcbiAgICAgICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVhc29uOiAnaW52YWxpZCBsZXZlbCBpZHgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwibWFudWFsTGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hbnVhbExldmVsSW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICB0aGlzLm1hbnVhbExldmVsSW5kZXggPSBuZXdMZXZlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydExldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydExldmVsID0gbmV3TGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3TGV2ZWwgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZSwgXCJmaXJzdExldmVsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3RMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwic3RhcnRMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gaGxzLnN0YXJ0TGV2ZWwgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGNvbmZpZy5zdGFydExldmVsXG4gICAgICAgICAgICAvLyBpZiBub25lIG9mIHRoZXNlIHZhbHVlcyBhcmUgZGVmaW5lZCwgZmFsbGJhY2sgb24gdGhpcy5fZmlyc3RMZXZlbCAoZmlyc3QgcXVhbGl0eSBsZXZlbCBhcHBlYXJpbmcgaW4gdmFyaWFudCBtYW5pZmVzdClcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydExldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlnU3RhcnRMZXZlbCA9IHRoaXMuaGxzLmNvbmZpZy5zdGFydExldmVsO1xuICAgICAgICAgICAgICAgIGlmIChjb25maWdTdGFydExldmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ1N0YXJ0TGV2ZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3RMZXZlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IGVycm9yc18xLkVycm9yVHlwZXMuTkVUV09SS19FUlJPUikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZXZlbEVycm9yID0gZmFsc2UsIGZyYWdtZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgdmFyIGxldmVsSW5kZXg7XG4gICAgICAgIC8vIHRyeSB0byByZWNvdmVyIG5vdCBmYXRhbCBlcnJvcnNcbiAgICAgICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX0xPQURfRVJST1I6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIGxldmVsSW5kZXggPSBkYXRhLmZyYWcubGV2ZWw7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5MRVZFTF9MT0FEX0VSUk9SOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIGxldmVsSW5kZXggPSBkYXRhLmNvbnRleHQubGV2ZWw7XG4gICAgICAgICAgICAgICAgbGV2ZWxFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5SRU1VWF9BTExPQ19FUlJPUjpcbiAgICAgICAgICAgICAgICBsZXZlbEluZGV4ID0gZGF0YS5sZXZlbDtcbiAgICAgICAgICAgICAgICBsZXZlbEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWxJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJMZXZlbChkYXRhLCBsZXZlbEluZGV4LCBsZXZlbEVycm9yLCBmcmFnbWVudEVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3dpdGNoIHRvIGEgcmVkdW5kYW50IHN0cmVhbSBpZiBhbnkgYXZhaWxhYmxlLlxuICAgICAqIElmIHJlZHVuZGFudCBzdHJlYW0gaXMgbm90IGF2YWlsYWJsZSwgZW1lcmdlbmN5IHN3aXRjaCBkb3duIGlmIEFCUiBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXJyb3JFdmVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbEluZGV4IGN1cnJlbnQgbGV2ZWwgaW5kZXhcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGxldmVsRXJyb3JcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZyYWdtZW50RXJyb3JcbiAgICAgKi9cbiAgICAvLyBGSVhNRSBGaW5kIGEgYmV0dGVyIGFic3RyYWN0aW9uIHdoZXJlIGZyYWdtZW50L2xldmVsIHJldHJ5IG1hbmFnZW1lbnQgaXMgd2VsbCBkZWNvdXBsZWRcbiAgICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLnJlY292ZXJMZXZlbCA9IGZ1bmN0aW9uIChlcnJvckV2ZW50LCBsZXZlbEluZGV4LCBsZXZlbEVycm9yLCBmcmFnbWVudEVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgICAgIHZhciBlcnJvckRldGFpbHMgPSBlcnJvckV2ZW50LmRldGFpbHM7XG4gICAgICAgIHZhciBsZXZlbCA9IHRoaXMuX2xldmVsc1tsZXZlbEluZGV4XTtcbiAgICAgICAgdmFyIHJlZHVuZGFudExldmVscywgZGVsYXksIG5leHRMZXZlbDtcbiAgICAgICAgbGV2ZWwubG9hZEVycm9yKys7XG4gICAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmcmFnbWVudEVycm9yO1xuICAgICAgICBpZiAobGV2ZWxFcnJvcikge1xuICAgICAgICAgICAgaWYgKCh0aGlzLmxldmVsUmV0cnlDb3VudCArIDEpIDw9IGNvbmZpZy5sZXZlbExvYWRpbmdNYXhSZXRyeSkge1xuICAgICAgICAgICAgICAgIC8vIGV4cG9uZW50aWFsIGJhY2tvZmYgY2FwcGVkIHRvIG1heCByZXRyeSB0aW1lb3V0XG4gICAgICAgICAgICAgICAgZGVsYXkgPSBNYXRoLm1pbihNYXRoLnBvdygyLCB0aGlzLmxldmVsUmV0cnlDb3VudCkgKiBjb25maWcubGV2ZWxMb2FkaW5nUmV0cnlEZWxheSwgY29uZmlnLmxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dCk7XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgbGV2ZWwgcmVsb2FkXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubG9hZExldmVsKCk7IH0sIGRlbGF5KTtcbiAgICAgICAgICAgICAgICAvLyBib29sZWFuIHVzZWQgdG8gaW5mb3JtIHN0cmVhbSBjb250cm9sbGVyIG5vdCB0byBzd2l0Y2ggYmFjayB0byBJRExFIG9uIG5vbiBmYXRhbCBlcnJvclxuICAgICAgICAgICAgICAgIGVycm9yRXZlbnQubGV2ZWxSZXRyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbFJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcImxldmVsIGNvbnRyb2xsZXIsIFwiICsgZXJyb3JEZXRhaWxzICsgXCIsIHJldHJ5IGluIFwiICsgZGVsYXkgKyBcIiBtcywgY3VycmVudCByZXRyeSBjb3VudCBpcyBcIiArIHRoaXMubGV2ZWxSZXRyeUNvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcImxldmVsIGNvbnRyb2xsZXIsIGNhbm5vdCByZWNvdmVyIGZyb20gXCIgKyBlcnJvckRldGFpbHMgKyBcIiBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbEluZGV4ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggZXJyb3IgdG8gZmF0YWxcbiAgICAgICAgICAgICAgICBlcnJvckV2ZW50LmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJ5IGFueSByZWR1bmRhbnQgc3RyZWFtcyBpZiBhdmFpbGFibGUgZm9yIGJvdGggZXJyb3JzOiBsZXZlbCBhbmQgZnJhZ21lbnRcbiAgICAgICAgLy8gSWYgbGV2ZWwubG9hZEVycm9yIHJlYWNoZXMgcmVkdW5kYW50TGV2ZWxzIGl0IG1lYW5zIHRoYXQgd2UgdHJpZWQgdGhlbSBhbGwsIG5vIGhvcGUgID0+IGxldCdzIHN3aXRjaCBkb3duXG4gICAgICAgIGlmIChsZXZlbEVycm9yIHx8IGZyYWdtZW50RXJyb3IpIHtcbiAgICAgICAgICAgIHJlZHVuZGFudExldmVscyA9IGxldmVsLnVybC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocmVkdW5kYW50TGV2ZWxzID4gMSAmJiBsZXZlbC5sb2FkRXJyb3IgPCByZWR1bmRhbnRMZXZlbHMpIHtcbiAgICAgICAgICAgICAgICBsZXZlbC51cmxJZCA9IChsZXZlbC51cmxJZCArIDEpICUgcmVkdW5kYW50TGV2ZWxzO1xuICAgICAgICAgICAgICAgIGxldmVsLmRldGFpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsZXZlbCBjb250cm9sbGVyLCBcIiArIGVycm9yRGV0YWlscyArIFwiIGZvciBsZXZlbCBcIiArIGxldmVsSW5kZXggKyBcIjogc3dpdGNoaW5nIHRvIHJlZHVuZGFudCBVUkwtaWQgXCIgKyBsZXZlbC51cmxJZCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0N1cnJlbnQgYXVkaW8gdHJhY2sgZ3JvdXAgSUQ6JywgdGhpcy5obHMuYXVkaW9UcmFja3NbdGhpcy5obHMuYXVkaW9UcmFja10uZ3JvdXBJZCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ05ldyB2aWRlbyBxdWFsaXR5IGxldmVsIGF1ZGlvIGdyb3VwIGlkOicsIGxldmVsLmF0dHJzLkFVRElPKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlYXJjaCBmb3IgYXZhaWxhYmxlIGxldmVsXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFudWFsTGV2ZWxJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBsb3dlc3QgbGV2ZWwgaGFzIGJlZW4gcmVhY2hlZCwgbGV0J3Mgc3RhcnQgaHVudCBmcm9tIHRoZSB0b3BcbiAgICAgICAgICAgICAgICAgICAgbmV4dExldmVsID0gKGxldmVsSW5kZXggPT09IDApID8gdGhpcy5fbGV2ZWxzLmxlbmd0aCAtIDEgOiBsZXZlbEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsZXZlbCBjb250cm9sbGVyLCBcIiArIGVycm9yRGV0YWlscyArIFwiOiBzd2l0Y2ggdG8gXCIgKyBuZXh0TGV2ZWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhscy5uZXh0QXV0b0xldmVsID0gdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG5leHRMZXZlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZnJhZ21lbnRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBmcmFnbWVudCByZXRyeSBhcyBsb25nIGFzIGNvbmZpZ3VyYXRpb24gYWxsb3dzLlxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCB0aGlzLl9sZXZlbCBzbyB0aGF0IGFub3RoZXIgY2FsbCB0byBzZXQgbGV2ZWwoKSB3aWxsIHRyaWdnZXIgYWdhaW4gYSBmcmFnIGxvYWRcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsZXZlbCBjb250cm9sbGVyLCBcIiArIGVycm9yRGV0YWlscyArIFwiOiByZWxvYWQgYSBmcmFnbWVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyByZXNldCBlcnJvcnMgb24gdGhlIHN1Y2Nlc3NmdWwgbG9hZCBvZiBhIGZyYWdtZW50XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkZWQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBfYS5mcmFnO1xuICAgICAgICBpZiAoZnJhZyAhPT0gdW5kZWZpbmVkICYmIGZyYWcudHlwZSA9PT0gJ21haW4nKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgICAgICAgICBpZiAobGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxSZXRyeUNvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxldmVsSWQgPSBkYXRhLmxldmVsO1xuICAgICAgICAvLyBvbmx5IHByb2Nlc3MgbGV2ZWwgbG9hZGVkIGV2ZW50cyBtYXRjaGluZyB3aXRoIGV4cGVjdGVkIGxldmVsXG4gICAgICAgIGlmIChsZXZlbElkICE9PSB0aGlzLmN1cnJlbnRMZXZlbEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1ckxldmVsID0gdGhpcy5fbGV2ZWxzW2xldmVsSWRdO1xuICAgICAgICAvLyByZXNldCBsZXZlbCBsb2FkIGVycm9yIGNvdW50ZXIgb24gc3VjY2Vzc2Z1bCBsZXZlbCBsb2FkZWQgb25seSBpZiB0aGVyZSBpcyBubyBpc3N1ZXMgd2l0aCBmcmFnbWVudHNcbiAgICAgICAgaWYgKCFjdXJMZXZlbC5mcmFnbWVudEVycm9yKSB7XG4gICAgICAgICAgICBjdXJMZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgdGhpcy5sZXZlbFJldHJ5Q291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdEZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgICAvLyBpZiBjdXJyZW50IHBsYXlsaXN0IGlzIGEgbGl2ZSBwbGF5bGlzdCwgYXJtIGEgdGltZXIgdG8gcmVsb2FkIGl0XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRkdXJhdGlvbk1zID0gMTAwMCAqIChuZXdEZXRhaWxzLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiA/IG5ld0RldGFpbHMuYXZlcmFnZXRhcmdldGR1cmF0aW9uIDogbmV3RGV0YWlscy50YXJnZXRkdXJhdGlvbik7XG4gICAgICAgICAgICB2YXIgcmVsb2FkSW50ZXJ2YWwgPSB0YXJnZXRkdXJhdGlvbk1zLCBjdXJEZXRhaWxzID0gY3VyTGV2ZWwuZGV0YWlscztcbiAgICAgICAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZW5kU04gPT09IGN1ckRldGFpbHMuZW5kU04pIHtcbiAgICAgICAgICAgICAgICAvLyBmb2xsb3cgSExTIFNwZWMsIElmIHRoZSBjbGllbnQgcmVsb2FkcyBhIFBsYXlsaXN0IGZpbGUgYW5kIGZpbmRzIHRoYXQgaXQgaGFzIG5vdFxuICAgICAgICAgICAgICAgIC8vIGNoYW5nZWQgdGhlbiBpdCBNVVNUIHdhaXQgZm9yIGEgcGVyaW9kIG9mIG9uZS1oYWxmIHRoZSB0YXJnZXRcbiAgICAgICAgICAgICAgICAvLyBkdXJhdGlvbiBiZWZvcmUgcmV0cnlpbmcuXG4gICAgICAgICAgICAgICAgcmVsb2FkSW50ZXJ2YWwgLz0gMjtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzYW1lIGxpdmUgcGxheWxpc3QsIHJlbG9hZCB0d2ljZSBmYXN0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlY3JlbWVudCByZWxvYWRJbnRlcnZhbCB3aXRoIGxldmVsIGxvYWRpbmcgZGVsYXlcbiAgICAgICAgICAgIHJlbG9hZEludGVydmFsIC09IHBlcmZvcm1hbmNlLm5vdygpIC0gZGF0YS5zdGF0cy50cmVxdWVzdDtcbiAgICAgICAgICAgIC8vIGluIGFueSBjYXNlLCBkb24ndCByZWxvYWQgbW9yZSB0aGFuIGhhbGYgb2YgdGFyZ2V0IGR1cmF0aW9uXG4gICAgICAgICAgICByZWxvYWRJbnRlcnZhbCA9IE1hdGgubWF4KHRhcmdldGR1cmF0aW9uTXMgLyAyLCBNYXRoLnJvdW5kKHJlbG9hZEludGVydmFsKSk7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBwbGF5bGlzdCwgcmVsb2FkIGluIFwiICsgTWF0aC5yb3VuZChyZWxvYWRJbnRlcnZhbCkgKyBcIiBtc1wiKTtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmxvYWRMZXZlbCgpOyB9LCByZWxvYWRJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBhdWRpb0dyb3VwSWQgPSB0aGlzLmhscy5hdWRpb1RyYWNrc1tkYXRhLmlkXS5ncm91cElkO1xuICAgICAgICB2YXIgY3VycmVudExldmVsID0gdGhpcy5obHMubGV2ZWxzW3RoaXMuY3VycmVudExldmVsSW5kZXhdO1xuICAgICAgICBpZiAoIWN1cnJlbnRMZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50TGV2ZWwuYXVkaW9Hcm91cElkcykge1xuICAgICAgICAgICAgdmFyIHVybElkID0gY3VycmVudExldmVsLmF1ZGlvR3JvdXBJZHMuZmluZEluZGV4KGZ1bmN0aW9uIChncm91cElkKSB7IHJldHVybiBncm91cElkID09PSBhdWRpb0dyb3VwSWQ7IH0pO1xuICAgICAgICAgICAgaWYgKHVybElkICE9PSBjdXJyZW50TGV2ZWwudXJsSWQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwudXJsSWQgPSB1cmxJZDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0TG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmxvYWRMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKCdjYWxsIHRvIGxvYWRMZXZlbCcpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWxJbmRleCAhPT0gbnVsbCAmJiB0aGlzLmNhbmxvYWQpIHtcbiAgICAgICAgICAgIHZhciBsZXZlbE9iamVjdCA9IHRoaXMuX2xldmVsc1t0aGlzLmN1cnJlbnRMZXZlbEluZGV4XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGV2ZWxPYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgbGV2ZWxPYmplY3QudXJsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLmN1cnJlbnRMZXZlbEluZGV4O1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IGxldmVsT2JqZWN0LnVybElkO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBsZXZlbE9iamVjdC51cmxbaWRdO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJBdHRlbXB0IGxvYWRpbmcgbGV2ZWwgaW5kZXggXCIgKyBsZXZlbCArIFwiIHdpdGggVVJMLWlkIFwiICsgaWQpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDdXJyZW50IGF1ZGlvIHRyYWNrIGdyb3VwIElEOicsIHRoaXMuaGxzLmF1ZGlvVHJhY2tzW3RoaXMuaGxzLmF1ZGlvVHJhY2tdLmdyb3VwSWQpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdOZXcgdmlkZW8gcXVhbGl0eSBsZXZlbCBhdWRpbyBncm91cCBpZDonLCBsZXZlbE9iamVjdC5hdHRycy5BVURJTywgbGV2ZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9MT0FESU5HLCB7IHVybDogdXJsLCBsZXZlbDogbGV2ZWwsIGlkOiBpZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwibmV4dExvYWRMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWFudWFsTGV2ZWxJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxMZXZlbEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGxzLm5leHRBdXRvTGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5leHRMZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5sZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1hbnVhbExldmVsSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5obHMubmV4dEF1dG9MZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIExldmVsQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExldmVsQ29udHJvbGxlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qKlxuICogQG1vZHVsZSBMZXZlbEhlbHBlclxuICpcbiAqIFByb3ZpZGluZyBtZXRob2RzIGRlYWxpbmcgd2l0aCBwbGF5bGlzdCBzbGlkaW5nIGFuZCBkcmlmdFxuICpcbiAqIFRPRE86IENyZWF0ZSBhbiBhY3R1YWwgYExldmVsYCBjbGFzcy9tb2RlbCB0aGF0IGRlYWxzIHdpdGggYWxsIHRoaXMgbG9naWMgaW4gYW4gb2JqZWN0LW9yaWVudGVkLW1hbm5lci5cbiAqXG4gKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZnVuY3Rpb24gYWRkR3JvdXBJZChsZXZlbCwgdHlwZSwgaWQpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgICAgaWYgKCFsZXZlbC5hdWRpb0dyb3VwSWRzKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwuYXVkaW9Hcm91cElkcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWwuYXVkaW9Hcm91cElkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIGlmICghbGV2ZWwudGV4dEdyb3VwSWRzKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwudGV4dEdyb3VwSWRzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbC50ZXh0R3JvdXBJZHMucHVzaChpZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5leHBvcnRzLmFkZEdyb3VwSWQgPSBhZGRHcm91cElkO1xuZnVuY3Rpb24gdXBkYXRlUFRTKGZyYWdtZW50cywgZnJvbUlkeCwgdG9JZHgpIHtcbiAgICB2YXIgZnJhZ0Zyb20gPSBmcmFnbWVudHNbZnJvbUlkeF0sIGZyYWdUbyA9IGZyYWdtZW50c1t0b0lkeF0sIGZyYWdUb1BUUyA9IGZyYWdUby5zdGFydFBUUztcbiAgICAvLyBpZiB3ZSBrbm93IHN0YXJ0UFRTW3RvSWR4XVxuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZ1RvUFRTKSkge1xuICAgICAgICAvLyB1cGRhdGUgZnJhZ21lbnQgZHVyYXRpb24uXG4gICAgICAgIC8vIGl0IGhlbHBzIHRvIGZpeCBkcmlmdHMgYmV0d2VlbiBwbGF5bGlzdCByZXBvcnRlZCBkdXJhdGlvbiBhbmQgZnJhZ21lbnQgcmVhbCBkdXJhdGlvblxuICAgICAgICBpZiAodG9JZHggPiBmcm9tSWR4KSB7XG4gICAgICAgICAgICBmcmFnRnJvbS5kdXJhdGlvbiA9IGZyYWdUb1BUUyAtIGZyYWdGcm9tLnN0YXJ0O1xuICAgICAgICAgICAgaWYgKGZyYWdGcm9tLmR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwibmVnYXRpdmUgZHVyYXRpb24gY29tcHV0ZWQgZm9yIGZyYWcgXCIgKyBmcmFnRnJvbS5zbiArIFwiLGxldmVsIFwiICsgZnJhZ0Zyb20ubGV2ZWwgKyBcIiwgdGhlcmUgc2hvdWxkIGJlIHNvbWUgZHVyYXRpb24gZHJpZnQgYmV0d2VlbiBwbGF5bGlzdCBhbmQgZnJhZ21lbnQhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJhZ1RvLmR1cmF0aW9uID0gZnJhZ0Zyb20uc3RhcnQgLSBmcmFnVG9QVFM7XG4gICAgICAgICAgICBpZiAoZnJhZ1RvLmR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwibmVnYXRpdmUgZHVyYXRpb24gY29tcHV0ZWQgZm9yIGZyYWcgXCIgKyBmcmFnVG8uc24gKyBcIixsZXZlbCBcIiArIGZyYWdUby5sZXZlbCArIFwiLCB0aGVyZSBzaG91bGQgYmUgc29tZSBkdXJhdGlvbiBkcmlmdCBiZXR3ZWVuIHBsYXlsaXN0IGFuZCBmcmFnbWVudCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHdlIGRvbnQga25vdyBzdGFydFBUU1t0b0lkeF1cbiAgICAgICAgaWYgKHRvSWR4ID4gZnJvbUlkeCkge1xuICAgICAgICAgICAgZnJhZ1RvLnN0YXJ0ID0gZnJhZ0Zyb20uc3RhcnQgKyBmcmFnRnJvbS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZyYWdUby5zdGFydCA9IE1hdGgubWF4KGZyYWdGcm9tLnN0YXJ0IC0gZnJhZ1RvLmR1cmF0aW9uLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMudXBkYXRlUFRTID0gdXBkYXRlUFRTO1xuZnVuY3Rpb24gdXBkYXRlRnJhZ1BUU0RUUyhkZXRhaWxzLCBmcmFnLCBzdGFydFBUUywgZW5kUFRTLCBzdGFydERUUywgZW5kRFRTKSB7XG4gICAgLy8gdXBkYXRlIGZyYWcgUFRTL0RUU1xuICAgIHZhciBtYXhTdGFydFBUUyA9IHN0YXJ0UFRTO1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZy5zdGFydFBUUykpIHtcbiAgICAgICAgLy8gZGVsdGEgUFRTIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvXG4gICAgICAgIHZhciBkZWx0YVBUUyA9IE1hdGguYWJzKGZyYWcuc3RhcnRQVFMgLSBzdGFydFBUUyk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGZyYWcuZGVsdGFQVFMpKSB7XG4gICAgICAgICAgICBmcmFnLmRlbHRhUFRTID0gZGVsdGFQVFM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcmFnLmRlbHRhUFRTID0gTWF0aC5tYXgoZGVsdGFQVFMsIGZyYWcuZGVsdGFQVFMpO1xuICAgICAgICB9XG4gICAgICAgIG1heFN0YXJ0UFRTID0gTWF0aC5tYXgoc3RhcnRQVFMsIGZyYWcuc3RhcnRQVFMpO1xuICAgICAgICBzdGFydFBUUyA9IE1hdGgubWluKHN0YXJ0UFRTLCBmcmFnLnN0YXJ0UFRTKTtcbiAgICAgICAgZW5kUFRTID0gTWF0aC5tYXgoZW5kUFRTLCBmcmFnLmVuZFBUUyk7XG4gICAgICAgIHN0YXJ0RFRTID0gTWF0aC5taW4oc3RhcnREVFMsIGZyYWcuc3RhcnREVFMpO1xuICAgICAgICBlbmREVFMgPSBNYXRoLm1heChlbmREVFMsIGZyYWcuZW5kRFRTKTtcbiAgICB9XG4gICAgdmFyIGRyaWZ0ID0gc3RhcnRQVFMgLSBmcmFnLnN0YXJ0O1xuICAgIGZyYWcuc3RhcnQgPSBmcmFnLnN0YXJ0UFRTID0gc3RhcnRQVFM7XG4gICAgZnJhZy5tYXhTdGFydFBUUyA9IG1heFN0YXJ0UFRTO1xuICAgIGZyYWcuZW5kUFRTID0gZW5kUFRTO1xuICAgIGZyYWcuc3RhcnREVFMgPSBzdGFydERUUztcbiAgICBmcmFnLmVuZERUUyA9IGVuZERUUztcbiAgICBmcmFnLmR1cmF0aW9uID0gZW5kUFRTIC0gc3RhcnRQVFM7XG4gICAgdmFyIHNuID0gZnJhZy5zbjtcbiAgICAvLyBleGl0IGlmIHNuIG91dCBvZiByYW5nZVxuICAgIGlmICghZGV0YWlscyB8fCBzbiA8IGRldGFpbHMuc3RhcnRTTiB8fCBzbiA+IGRldGFpbHMuZW5kU04pIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBmcmFnSWR4LCBmcmFnbWVudHMsIGk7XG4gICAgZnJhZ0lkeCA9IHNuIC0gZGV0YWlscy5zdGFydFNOO1xuICAgIGZyYWdtZW50cyA9IGRldGFpbHMuZnJhZ21lbnRzO1xuICAgIC8vIHVwZGF0ZSBmcmFnIHJlZmVyZW5jZSBpbiBmcmFnbWVudHMgYXJyYXlcbiAgICAvLyByYXRpb25hbGUgaXMgdGhhdCBmcmFnbWVudHMgYXJyYXkgbWlnaHQgbm90IGNvbnRhaW4gdGhpcyBmcmFnIG9iamVjdC5cbiAgICAvLyB0aGlzIHdpbGwgaGFwcGVuIGlmIHBsYXlsaXN0IGhhcyBiZWVuIHJlZnJlc2hlZCBiZXR3ZWVuIGZyYWcgbG9hZGluZyBhbmQgY2FsbCB0byB1cGRhdGVGcmFnUFRTRFRTKClcbiAgICAvLyBpZiB3ZSBkb24ndCB1cGRhdGUgZnJhZywgd2Ugd29uJ3QgYmUgYWJsZSB0byBwcm9wYWdhdGUgUFRTIGluZm8gb24gdGhlIHBsYXlsaXN0XG4gICAgLy8gcmVzdWx0aW5nIGluIGludmFsaWQgc2xpZGluZyBjb21wdXRhdGlvblxuICAgIGZyYWdtZW50c1tmcmFnSWR4XSA9IGZyYWc7XG4gICAgLy8gYWRqdXN0IGZyYWdtZW50IFBUUy9kdXJhdGlvbiBmcm9tIHNlcW51bS0xIHRvIGZyYWcgMFxuICAgIGZvciAoaSA9IGZyYWdJZHg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgdXBkYXRlUFRTKGZyYWdtZW50cywgaSwgaSAtIDEpO1xuICAgIH1cbiAgICAvLyBhZGp1c3QgZnJhZ21lbnQgUFRTL2R1cmF0aW9uIGZyb20gc2VxbnVtIHRvIGxhc3QgZnJhZ1xuICAgIGZvciAoaSA9IGZyYWdJZHg7IGkgPCBmcmFnbWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHVwZGF0ZVBUUyhmcmFnbWVudHMsIGksIGkgKyAxKTtcbiAgICB9XG4gICAgZGV0YWlscy5QVFNLbm93biA9IHRydWU7XG4gICAgcmV0dXJuIGRyaWZ0O1xufVxuZXhwb3J0cy51cGRhdGVGcmFnUFRTRFRTID0gdXBkYXRlRnJhZ1BUU0RUUztcbmZ1bmN0aW9uIG1lcmdlRGV0YWlscyhvbGREZXRhaWxzLCBuZXdEZXRhaWxzKSB7XG4gICAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgob2xkRGV0YWlscy5zdGFydFNOLCBuZXdEZXRhaWxzLnN0YXJ0U04pIC0gbmV3RGV0YWlscy5zdGFydFNOLCBlbmQgPSBNYXRoLm1pbihvbGREZXRhaWxzLmVuZFNOLCBuZXdEZXRhaWxzLmVuZFNOKSAtIG5ld0RldGFpbHMuc3RhcnRTTiwgZGVsdGEgPSBuZXdEZXRhaWxzLnN0YXJ0U04gLSBvbGREZXRhaWxzLnN0YXJ0U04sIG9sZGZyYWdtZW50cyA9IG9sZERldGFpbHMuZnJhZ21lbnRzLCBuZXdmcmFnbWVudHMgPSBuZXdEZXRhaWxzLmZyYWdtZW50cywgY2NPZmZzZXQgPSAwLCBQVFNGcmFnO1xuICAgIC8vIHBvdGVudGlhbGx5IHJldHJpZXZlIGNhY2hlZCBpbml0c2VnbWVudFxuICAgIGlmIChuZXdEZXRhaWxzLmluaXRTZWdtZW50ICYmIG9sZERldGFpbHMuaW5pdFNlZ21lbnQpIHtcbiAgICAgICAgbmV3RGV0YWlscy5pbml0U2VnbWVudCA9IG9sZERldGFpbHMuaW5pdFNlZ21lbnQ7XG4gICAgfVxuICAgIC8vIGNoZWNrIGlmIG9sZC9uZXcgcGxheWxpc3RzIGhhdmUgZnJhZ21lbnRzIGluIGNvbW1vblxuICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gbG9vcCB0aHJvdWdoIG92ZXJsYXBwaW5nIFNOIGFuZCB1cGRhdGUgc3RhcnRQVFMgLCBjYywgYW5kIGR1cmF0aW9uIGlmIGFueSBmb3VuZFxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgICAgICB2YXIgb2xkRnJhZyA9IG9sZGZyYWdtZW50c1tkZWx0YSArIGldLCBuZXdGcmFnID0gbmV3ZnJhZ21lbnRzW2ldO1xuICAgICAgICBpZiAobmV3RnJhZyAmJiBvbGRGcmFnKSB7XG4gICAgICAgICAgICBjY09mZnNldCA9IG9sZEZyYWcuY2MgLSBuZXdGcmFnLmNjO1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShvbGRGcmFnLnN0YXJ0UFRTKSkge1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuc3RhcnQgPSBuZXdGcmFnLnN0YXJ0UFRTID0gb2xkRnJhZy5zdGFydFBUUztcbiAgICAgICAgICAgICAgICBuZXdGcmFnLmVuZFBUUyA9IG9sZEZyYWcuZW5kUFRTO1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuZHVyYXRpb24gPSBvbGRGcmFnLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuYmFja3RyYWNrZWQgPSBvbGRGcmFnLmJhY2t0cmFja2VkO1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuZHJvcHBlZCA9IG9sZEZyYWcuZHJvcHBlZDtcbiAgICAgICAgICAgICAgICBQVFNGcmFnID0gbmV3RnJhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2NPZmZzZXQpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGlzY29udGludWl0eSBzbGlkaW5nIGZyb20gcGxheWxpc3QsIHRha2UgZHJpZnQgaW50byBhY2NvdW50Jyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXdmcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5ld2ZyYWdtZW50c1tpXS5jYyArPSBjY09mZnNldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBhdCBsZWFzdCBvbmUgZnJhZ21lbnQgY29udGFpbnMgUFRTIGluZm8sIHJlY29tcHV0ZSBQVFMgaW5mb3JtYXRpb24gZm9yIGFsbCBmcmFnbWVudHNcbiAgICBpZiAoUFRTRnJhZykge1xuICAgICAgICB1cGRhdGVGcmFnUFRTRFRTKG5ld0RldGFpbHMsIFBUU0ZyYWcsIFBUU0ZyYWcuc3RhcnRQVFMsIFBUU0ZyYWcuZW5kUFRTLCBQVFNGcmFnLnN0YXJ0RFRTLCBQVFNGcmFnLmVuZERUUyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBlbnN1cmUgdGhhdCBkZWx0YSBpcyB3aXRoaW4gb2xkZnJhZ21lbnRzIHJhbmdlXG4gICAgICAgIC8vIGFsc28gYWRqdXN0IHNsaWRpbmcgaW4gY2FzZSBkZWx0YSBpcyAwICh3ZSBjb3VsZCBoYXZlIG9sZD1bNTAtNjBdIGFuZCBuZXc9b2xkPVs1MC02MV0pXG4gICAgICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBhbHNvIG5lZWQgdG8gYWRqdXN0IHN0YXJ0IG9mZnNldCBvZiBhbGwgZnJhZ21lbnRzXG4gICAgICAgIGlmIChkZWx0YSA+PSAwICYmIGRlbHRhIDwgb2xkZnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gYWRqdXN0IHN0YXJ0IGJ5IHNsaWRpbmcgb2Zmc2V0XG4gICAgICAgICAgICB2YXIgc2xpZGluZyA9IG9sZGZyYWdtZW50c1tkZWx0YV0uc3RhcnQ7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3ZnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbmV3ZnJhZ21lbnRzW2ldLnN0YXJ0ICs9IHNsaWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgd2UgYXJlIGhlcmUsIGl0IG1lYW5zIHdlIGhhdmUgZnJhZ21lbnRzIG92ZXJsYXBwaW5nIGJldHdlZW5cbiAgICAvLyBvbGQgYW5kIG5ldyBsZXZlbC4gcmVsaWFibGUgUFRTIGluZm8gaXMgdGh1cyByZWx5aW5nIG9uIG9sZCBsZXZlbFxuICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBvbGREZXRhaWxzLlBUU0tub3duO1xufVxuZXhwb3J0cy5tZXJnZURldGFpbHMgPSBtZXJnZURldGFpbHM7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvc3RyZWFtLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL3N0cmVhbS1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogU3RyZWFtIENvbnRyb2xsZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBiaW5hcnlfc2VhcmNoXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9iaW5hcnktc2VhcmNoICovIFwiLi9zcmMvdXRpbHMvYmluYXJ5LXNlYXJjaC5qc1wiKTtcbnZhciBidWZmZXJfaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9idWZmZXItaGVscGVyICovIFwiLi9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci5qc1wiKTtcbnZhciBkZW11eGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9kZW11eGVyICovIFwiLi9zcmMvZGVtdXgvZGVtdXhlci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LXRyYWNrZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIik7XG52YXIgZnJhZ21lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2xvYWRlci9mcmFnbWVudCAqLyBcIi4vc3JjL2xvYWRlci9mcmFnbWVudC5qc1wiKTtcbnZhciBwbGF5bGlzdF9sb2FkZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIgKi8gXCIuL3NyYy9sb2FkZXIvcGxheWxpc3QtbG9hZGVyLmpzXCIpO1xudmFyIExldmVsSGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1oZWxwZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qc1wiKTtcbnZhciB0aW1lX3Jhbmdlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvdGltZS1yYW5nZXMgKi8gXCIuL3NyYy91dGlscy90aW1lLXJhbmdlcy5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBkaXNjb250aW51aXRpZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2Rpc2NvbnRpbnVpdGllcyAqLyBcIi4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qc1wiKTtcbnZhciBmcmFnbWVudF9maW5kZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LWZpbmRlcnMgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LWZpbmRlcnMuanNcIik7XG52YXIgZ2FwX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ2FwLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2dhcC1jb250cm9sbGVyLmpzXCIpO1xudmFyIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFzZS1zdHJlYW0tY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYmFzZS1zdHJlYW0tY29udHJvbGxlci5qc1wiKTtcbnZhciBUSUNLX0lOVEVSVkFMID0gMTAwOyAvLyBob3cgb2Z0ZW4gdG8gdGljayBpbiBtc1xudmFyIFN0cmVhbUNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0cmVhbUNvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RyZWFtQ29udHJvbGxlcihobHMsIGZyYWdtZW50VHJhY2tlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNIRUQsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfUEFSU0VELCBldmVudHNfMS5kZWZhdWx0LkxFVkVMX0xPQURFRCwgZXZlbnRzXzEuZGVmYXVsdC5LRVlfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19EQVRBLCBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0VELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SLCBldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSElORywgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19TV0lUQ0hFRCwgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQ1JFQVRFRCwgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQVBQRU5ERUQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0ZMVVNIRUQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAgICAgX3RoaXMuYXVkaW9Db2RlY1N3YXAgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3N0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlNUT1BQRUQ7XG4gICAgICAgIF90aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZ2FwQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wTG9hZCgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3lpbmcuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlciA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWVkLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5sZXZlbHMpIHtcbiAgICAgICAgICAgIHZhciBsYXN0Q3VycmVudFRpbWUgPSB0aGlzLmxhc3RDdXJyZW50VGltZSwgaGxzXzEgPSB0aGlzLmhscztcbiAgICAgICAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgICAgICAgICB0aGlzLmxldmVsID0gLTE7XG4gICAgICAgICAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBsb2FkIGxldmVsXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0TGV2ZWwgPSBobHNfMS5zdGFydExldmVsO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydExldmVsID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAtMSA6IGd1ZXNzIHN0YXJ0IExldmVsIGJ5IGRvaW5nIGEgYml0cmF0ZSB0ZXN0IGJ5IGxvYWRpbmcgZmlyc3QgZnJhZ21lbnQgb2YgbG93ZXN0IHF1YWxpdHkgbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRMZXZlbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0cmF0ZVRlc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzZXQgbmV3IGxldmVsIHRvIHBsYXlsaXN0IGxvYWRlciA6IHRoaXMgd2lsbCB0cmlnZ2VyIHN0YXJ0IGxldmVsIGxvYWRcbiAgICAgICAgICAgICAgICAvLyBobHMubmV4dExvYWRMZXZlbCByZW1haW5zIHVudGlsIGl0IGlzIHNldCB0byBhIG5ldyB2YWx1ZSBvciB1bnRpbCBhIG5ldyBmcmFnIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWRcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsID0gaGxzXzEubmV4dExvYWRMZXZlbCA9IHN0YXJ0TGV2ZWw7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgc3RhcnRQb3NpdGlvbiB1bmRlZmluZWQgYnV0IGxhc3RDdXJyZW50VGltZSBzZXQsIHNldCBzdGFydFBvc2l0aW9uIHRvIGxhc3QgY3VycmVudFRpbWVcbiAgICAgICAgICAgIGlmIChsYXN0Q3VycmVudFRpbWUgPiAwICYmIHN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm92ZXJyaWRlIHN0YXJ0UG9zaXRpb24gd2l0aCBsYXN0Q3VycmVudFRpbWUgQFwiICsgbGFzdEN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24gPSBsYXN0Q3VycmVudFRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VTdGFydExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgaWYgKGZyYWcubG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgZnJhZy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5kZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICB0aGlzLmZvcmNlU3RhcnRMb2FkID0gZmFsc2U7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuQlVGRkVSX0ZMVVNISU5HOlxuICAgICAgICAgICAgICAgIC8vIGluIGJ1ZmZlciBmbHVzaGluZyBzdGF0ZSwgcmVzZXQgZnJhZ0xvYWRFcnJvciBjb3VudGVyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU6XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9UaWNrSWRsZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuV0FJVElOR19MRVZFTDpcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBwbGF5bGlzdCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgICAgIGlmIChsZXZlbCAmJiBsZXZlbC5kZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5GUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTpcbiAgICAgICAgICAgICAgICB2YXIgbm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgICAgIHZhciByZXRyeURhdGUgPSB0aGlzLnJldHJ5RGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBpZiBjdXJyZW50IHRpbWUgaXMgZ3QgdGhhbiByZXRyeURhdGUsIG9yIGlmIG1lZGlhIHNlZWtpbmcgbGV0J3Mgc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gcmV0cnkgbG9hZGluZ1xuICAgICAgICAgICAgICAgIGlmICghcmV0cnlEYXRlIHx8IChub3cgPj0gcmV0cnlEYXRlKSB8fCAodGhpcy5tZWRpYSAmJiB0aGlzLm1lZGlhLnNlZWtpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ21lZGlhQ29udHJvbGxlcjogcmV0cnlEYXRlIHJlYWNoZWQsIHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVSUk9SOlxuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTRUQ6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FTkRFRDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgYnVmZmVyXG4gICAgICAgIHRoaXMuX2NoZWNrQnVmZmVyKCk7XG4gICAgICAgIC8vIGNoZWNrL3VwZGF0ZSBjdXJyZW50IGZyYWdtZW50XG4gICAgICAgIHRoaXMuX2NoZWNrRnJhZ21lbnRDaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvLyBJcm9uaWNhbGx5IHRoZSBcImlkbGVcIiBzdGF0ZSBpcyB0aGUgb24gd2UgZG8gdGhlIG1vc3QgbG9naWMgaW4gaXQgc2VlbXMgLi4uLlxuICAgIC8vIE5PVEU6IE1heWJlIHdlIGNvdWxkIHJhdGhlciBzY2hlZHVsZSBhIGNoZWNrIGZvciBidWZmZXIgbGVuZ3RoIGFmdGVyIGhhbGYgb2YgdGhlIGN1cnJlbnRseVxuICAgIC8vICAgICAgIHBsYXllZCBzZWdtZW50LCBvciBvbiBwYXVzZS9wbGF5L3NlZWsgaW5zdGVhZCBvZiBuYWl2ZWx5IGNoZWNraW5nIGV2ZXJ5IDEwMG1zP1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9kb1RpY2tJZGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHMsIGNvbmZpZyA9IGhscy5jb25maWcsIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgLy8gaWYgc3RhcnQgbGV2ZWwgbm90IHBhcnNlZCB5ZXQgT1JcbiAgICAgICAgLy8gaWYgdmlkZW8gbm90IGF0dGFjaGVkIEFORCBzdGFydCBmcmFnbWVudCBhbHJlYWR5IHJlcXVlc3RlZCBPUiBzdGFydCBmcmFnIHByZWZldGNoIGRpc2FibGVcbiAgICAgICAgLy8gZXhpdCBsb29wLCBhcyB3ZSBlaXRoZXIgbmVlZCBtb3JlIGluZm8gKGxldmVsIG5vdCBwYXJzZWQpIG9yIHdlIG5lZWQgbWVkaWEgdG8gYmUgYXR0YWNoZWQgdG8gbG9hZCBuZXcgZnJhZ21lbnRcbiAgICAgICAgaWYgKHRoaXMubGV2ZWxMYXN0TG9hZGVkID09PSB1bmRlZmluZWQgfHwgKCFtZWRpYSAmJiAodGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgfHwgIWNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBub3QgeWV0IGxvYWRlZCBhbnkgZnJhZ21lbnQsIHN0YXJ0IGxvYWRpbmcgZnJvbSBzdGFydCBwb3NpdGlvblxuICAgICAgICB2YXIgcG9zO1xuICAgICAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgICAgICAgcG9zID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb3MgPSB0aGlzLm5leHRMb2FkUG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGV0ZXJtaW5lIG5leHQgbG9hZCBsZXZlbFxuICAgICAgICB2YXIgbGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCwgbGV2ZWxJbmZvID0gdGhpcy5sZXZlbHNbbGV2ZWxdO1xuICAgICAgICBpZiAoIWxldmVsSW5mbykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZXZlbEJpdHJhdGUgPSBsZXZlbEluZm8uYml0cmF0ZSwgbWF4QnVmTGVuO1xuICAgICAgICAvLyBjb21wdXRlIG1heCBCdWZmZXIgTGVuZ3RoIHRoYXQgd2UgY291bGQgZ2V0IGZyb20gdGhpcyBsb2FkIGxldmVsLCBiYXNlZCBvbiBsZXZlbCBiaXRyYXRlLiBkb24ndCBidWZmZXIgbW9yZSB0aGFuIDYwIE1CIGFuZCBtb3JlIHRoYW4gMzBzXG4gICAgICAgIGlmIChsZXZlbEJpdHJhdGUpIHtcbiAgICAgICAgICAgIG1heEJ1ZkxlbiA9IE1hdGgubWF4KDggKiBjb25maWcubWF4QnVmZmVyU2l6ZSAvIGxldmVsQml0cmF0ZSwgY29uZmlnLm1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhCdWZMZW4gPSBjb25maWcubWF4QnVmZmVyTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIG1heEJ1ZkxlbiA9IE1hdGgubWluKG1heEJ1ZkxlbiwgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgIC8vIGRldGVybWluZSBuZXh0IGNhbmRpZGF0ZSBmcmFnbWVudCB0byBiZSBsb2FkZWQsIGJhc2VkIG9uIGN1cnJlbnQgcG9zaXRpb24gYW5kIGVuZCBvZiBidWZmZXIgcG9zaXRpb25cbiAgICAgICAgLy8gZW5zdXJlIHVwIHRvIGBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoYCBvZiBidWZmZXIgdXBmcm9udFxuICAgICAgICB2YXIgYnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyh0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IG1lZGlhLCBwb3MsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKSwgYnVmZmVyTGVuID0gYnVmZmVySW5mby5sZW47XG4gICAgICAgIC8vIFN0YXkgaWRsZSBpZiB3ZSBhcmUgc3RpbGwgd2l0aCBidWZmZXIgbWFyZ2luc1xuICAgICAgICBpZiAoYnVmZmVyTGVuID49IG1heEJ1Zkxlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGJ1ZmZlciBsZW5ndGggaXMgbGVzcyB0aGFuIG1heEJ1ZkxlbiB0cnkgdG8gbG9hZCBhIG5ldyBmcmFnbWVudCAuLi5cbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLnRyYWNlKFwiYnVmZmVyIGxlbmd0aCBvZiBcIiArIGJ1ZmZlckxlbi50b0ZpeGVkKDMpICsgXCIgaXMgYmVsb3cgbWF4IG9mIFwiICsgbWF4QnVmTGVuLnRvRml4ZWQoMykgKyBcIi4gY2hlY2tpbmcgZm9yIG1vcmUgcGF5bG9hZCAuLi5cIik7XG4gICAgICAgIC8vIHNldCBuZXh0IGxvYWQgbGV2ZWwgOiB0aGlzIHdpbGwgdHJpZ2dlciBhIHBsYXlsaXN0IGxvYWQgaWYgbmVlZGVkXG4gICAgICAgIHRoaXMubGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbGV2ZWxJbmZvLmRldGFpbHM7XG4gICAgICAgIC8vIGlmIGxldmVsIGluZm8gbm90IHJldHJpZXZlZCB5ZXQsIHN3aXRjaCBzdGF0ZSBhbmQgd2FpdCBmb3IgbGV2ZWwgcmV0cmlldmFsXG4gICAgICAgIC8vIGlmIGxpdmUgcGxheWxpc3QsIGVuc3VyZSB0aGF0IG5ldyBwbGF5bGlzdCBoYXMgYmVlbiByZWZyZXNoZWQgdG8gYXZvaWQgbG9hZGluZy90cnkgdG8gbG9hZFxuICAgICAgICAvLyBhIHVzZWxlc3MgYW5kIG91dGRhdGVkIGZyYWdtZW50ICh0aGF0IG1pZ2h0IGV2ZW4gaW50cm9kdWNlIGxvYWQgZXJyb3IgaWYgaXQgaXMgYWxyZWFkeSBvdXQgb2YgdGhlIGxpdmUgcGxheWxpc3QpXG4gICAgICAgIGlmICghbGV2ZWxEZXRhaWxzIHx8IChsZXZlbERldGFpbHMubGl2ZSAmJiB0aGlzLmxldmVsTGFzdExvYWRlZCAhPT0gbGV2ZWwpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfTEVWRUw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbUVuZGVkKGJ1ZmZlckluZm8sIGxldmVsRGV0YWlscykpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICBpZiAodGhpcy5hbHRBdWRpbykge1xuICAgICAgICAgICAgICAgIGRhdGEudHlwZSA9ICd2aWRlbyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0VPUywgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVOREVEO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgdGhlIGxldmVsRGV0YWlscyBmb3IgdGhlIHNlbGVjdGVkIHZhcmlhbnQsIGxldHMgY29udGludWUgZW5yaWNoZW4gb3VyIHN0cmVhbSAobG9hZCBrZXlzL2ZyYWdtZW50cyBvciB0cmlnZ2VyIEVPUywgZXRjLi4pXG4gICAgICAgIHRoaXMuX2ZldGNoUGF5bG9hZE9yRW9zKHBvcywgYnVmZmVySW5mbywgbGV2ZWxEZXRhaWxzKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9mZXRjaFBheWxvYWRPckVvcyA9IGZ1bmN0aW9uIChwb3MsIGJ1ZmZlckluZm8sIGxldmVsRGV0YWlscykge1xuICAgICAgICB2YXIgZnJhZ1ByZXZpb3VzID0gdGhpcy5mcmFnUHJldmlvdXMsIGxldmVsID0gdGhpcy5sZXZlbCwgZnJhZ21lbnRzID0gbGV2ZWxEZXRhaWxzLmZyYWdtZW50cywgZnJhZ0xlbiA9IGZyYWdtZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIGVtcHR5IHBsYXlsaXN0XG4gICAgICAgIGlmIChmcmFnTGVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluZCBmcmFnbWVudCBpbmRleCwgY29udGlndW91cyB3aXRoIGVuZCBvZiBidWZmZXIgcG9zaXRpb25cbiAgICAgICAgdmFyIHN0YXJ0ID0gZnJhZ21lbnRzWzBdLnN0YXJ0LCBlbmQgPSBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLnN0YXJ0ICsgZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXS5kdXJhdGlvbiwgYnVmZmVyRW5kID0gYnVmZmVySW5mby5lbmQsIGZyYWc7XG4gICAgICAgIGlmIChsZXZlbERldGFpbHMuaW5pdFNlZ21lbnQgJiYgIWxldmVsRGV0YWlscy5pbml0U2VnbWVudC5kYXRhKSB7XG4gICAgICAgICAgICBmcmFnID0gbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSBvZiBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgcmVxdWVzdGVkIHBvc2l0aW9uIGlzIG5vdCBsb2NhdGVkIGJlZm9yZSBwbGF5bGlzdCBzdGFydFxuICAgICAgICAgICAgaWYgKGxldmVsRGV0YWlscy5saXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRpYWxMaXZlTWFuaWZlc3RTaXplID0gdGhpcy5jb25maWcuaW5pdGlhbExpdmVNYW5pZmVzdFNpemU7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWdMZW4gPCBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIkNhbiBub3Qgc3RhcnQgcGxheWJhY2sgb2YgYSBsZXZlbCwgcmVhc29uOiBub3QgZW5vdWdoIGZyYWdtZW50cyBcIiArIGZyYWdMZW4gKyBcIiA8IFwiICsgaW5pdGlhbExpdmVNYW5pZmVzdFNpemUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZyYWcgPSB0aGlzLl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50KGxldmVsRGV0YWlscywgYnVmZmVyRW5kLCBzdGFydCwgZW5kLCBmcmFnUHJldmlvdXMsIGZyYWdtZW50cywgZnJhZ0xlbik7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgZXhwbGljaXRlbHkgcmV0dXJucyBudWxsIGRvbid0IGxvYWQgYW55IGZyYWdtZW50IGFuZCBleGl0IGZ1bmN0aW9uIG5vd1xuICAgICAgICAgICAgICAgIGlmIChmcmFnID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBWb0QgcGxheWxpc3Q6IGlmIGJ1ZmZlckVuZCBiZWZvcmUgc3RhcnQgb2YgcGxheWxpc3QsIGxvYWQgZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyRW5kIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhZyA9IGZyYWdtZW50c1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmcmFnKSB7XG4gICAgICAgICAgICBmcmFnID0gdGhpcy5fZmluZEZyYWdtZW50KHN0YXJ0LCBmcmFnUHJldmlvdXMsIGZyYWdMZW4sIGZyYWdtZW50cywgYnVmZmVyRW5kLCBlbmQsIGxldmVsRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgIGlmIChmcmFnLmVuY3J5cHRlZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIGtleSBmb3IgXCIgKyBmcmFnLnNuICsgXCIgb2YgW1wiICsgbGV2ZWxEZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyBsZXZlbERldGFpbHMuZW5kU04gKyBcIl0sbGV2ZWwgXCIgKyBsZXZlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZEtleShmcmFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIFwiICsgZnJhZy5zbiArIFwiIG9mIFtcIiArIGxldmVsRGV0YWlscy5zdGFydFNOICsgXCIgLFwiICsgbGV2ZWxEZXRhaWxzLmVuZFNOICsgXCJdLGxldmVsIFwiICsgbGV2ZWwgKyBcIiwgY3VycmVudFRpbWU6XCIgKyBwb3MudG9GaXhlZCgzKSArIFwiLGJ1ZmZlckVuZDpcIiArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRnJhZ21lbnQoZnJhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50ID0gZnVuY3Rpb24gKGxldmVsRGV0YWlscywgYnVmZmVyRW5kLCBzdGFydCwgZW5kLCBmcmFnUHJldmlvdXMsIGZyYWdtZW50cywgZnJhZ0xlbikge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnLCBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIHZhciBmcmFnO1xuICAgICAgICAvLyBjaGVjayBpZiByZXF1ZXN0ZWQgcG9zaXRpb24gaXMgd2l0aGluIHNlZWthYmxlIGJvdW5kYXJpZXMgOlxuICAgICAgICAvLyBsb2dnZXIubG9nKGBzdGFydC9wb3MvYnVmRW5kL3NlZWtpbmc6JHtzdGFydC50b0ZpeGVkKDMpfS8ke3Bvcy50b0ZpeGVkKDMpfS8ke2J1ZmZlckVuZC50b0ZpeGVkKDMpfS8ke3RoaXMubWVkaWEuc2Vla2luZ31gKTtcbiAgICAgICAgdmFyIG1heExhdGVuY3kgPSBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gOiBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50ICogbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uO1xuICAgICAgICBpZiAoYnVmZmVyRW5kIDwgTWF0aC5tYXgoc3RhcnQgLSBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgZW5kIC0gbWF4TGF0ZW5jeSkpIHtcbiAgICAgICAgICAgIHZhciBsaXZlU3luY1Bvc2l0aW9uID0gdGhpcy5saXZlU3luY1Bvc2l0aW9uID0gdGhpcy5jb21wdXRlTGl2ZVBvc2l0aW9uKHN0YXJ0LCBsZXZlbERldGFpbHMpO1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImJ1ZmZlciBlbmQ6IFwiICsgYnVmZmVyRW5kLnRvRml4ZWQoMykgKyBcIiBpcyBsb2NhdGVkIHRvbyBmYXIgZnJvbSB0aGUgZW5kIG9mIGxpdmUgc2xpZGluZyBwbGF5bGlzdCwgcmVzZXQgY3VycmVudFRpbWUgdG8gOiBcIiArIGxpdmVTeW5jUG9zaXRpb24udG9GaXhlZCgzKSk7XG4gICAgICAgICAgICBidWZmZXJFbmQgPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKG1lZGlhICYmIG1lZGlhLnJlYWR5U3RhdGUgJiYgbWVkaWEuZHVyYXRpb24gPiBsaXZlU3luY1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gbGl2ZVN5bmNQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBlbmQgb2YgYnVmZmVyIGdyZWF0ZXIgdGhhbiBsaXZlIGVkZ2UsIGRvbid0IGxvYWQgYW55IGZyYWdtZW50XG4gICAgICAgIC8vIHRoaXMgY291bGQgaGFwcGVuIGlmIGxpdmUgcGxheWxpc3QgaW50ZXJtaXR0ZW50bHkgc2xpZGVzIGluIHRoZSBwYXN0LlxuICAgICAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTYxLDE4MjU4MDE2N11cbiAgICAgICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2MiwxODI1ODAxNjldXG4gICAgICAgIC8vIExvYWRpbmcgMTgyNTgwMTY4IG9mIFsxODI1ODAxNjIgLDE4MjU4MDE2OV0sbGV2ZWwgMSAuLlxuICAgICAgICAvLyBMb2FkaW5nIDE4MjU4MDE2OSBvZiBbMTgyNTgwMTYyICwxODI1ODAxNjldLGxldmVsIDEgLi5cbiAgICAgICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2MiwxODI1ODAxNjhdIDw9PT09PT09PT09PT09IGhlcmUgd2Ugc2hvdWxkIGhhdmUgYnVmZmVyRW5kID4gZW5kLiBpbiB0aGF0IGNhc2UgYnJlYWsgdG8gYXZvaWQgcmVsb2FkaW5nIDE4MjU4MDE2OFxuICAgICAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTY0LDE4MjU4MDE3MV1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gZG9uJ3QgcmV0dXJuIG51bGwgaW4gY2FzZSBtZWRpYSBub3QgbG9hZGVkIHlldCAocmVhZHlzdGF0ZSA9PT0gMClcbiAgICAgICAgaWYgKGxldmVsRGV0YWlscy5QVFNLbm93biAmJiBidWZmZXJFbmQgPiBlbmQgJiYgbWVkaWEgJiYgbWVkaWEucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkICYmICFsZXZlbERldGFpbHMuUFRTS25vd24pIHtcbiAgICAgICAgICAgIC8qIHdlIGFyZSBzd2l0Y2hpbmcgbGV2ZWwgb24gbGl2ZSBwbGF5bGlzdCwgYnV0IHdlIGRvbid0IGhhdmUgYW55IFBUUyBpbmZvIGZvciB0aGF0IHF1YWxpdHkgbGV2ZWwgLi4uXG4gICAgICAgICAgICAgICB0cnkgdG8gbG9hZCBmcmFnIG1hdGNoaW5nIHdpdGggbmV4dCBTTi5cbiAgICAgICAgICAgICAgIGV2ZW4gaWYgU04gYXJlIG5vdCBzeW5jaHJvbml6ZWQgYmV0d2VlbiBwbGF5bGlzdHMsIGxvYWRpbmcgdGhpcyBmcmFnIHdpbGwgaGVscCB1c1xuICAgICAgICAgICAgICAgY29tcHV0ZSBwbGF5bGlzdCBzbGlkaW5nIGFuZCBmaW5kIHRoZSByaWdodCBvbmUgYWZ0ZXIgaW4gY2FzZSBpdCB3YXMgbm90IHRoZSByaWdodCBjb25zZWN1dGl2ZSBvbmUgKi9cbiAgICAgICAgICAgIGlmIChmcmFnUHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWxEZXRhaWxzLmhhc1Byb2dyYW1EYXRlVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWxpZXMgb24gUERUIGluIG9yZGVyIHRvIHN3aXRjaCBiaXRyYXRlcyAoU3VwcG9ydCBFWFQtWC1ESVNDT05USU5VSVRZIHdpdGhvdXQgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSlcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggc2FtZSBQRFQ6IFwiICsgZnJhZ1ByZXZpb3VzLnByb2dyYW1EYXRlVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQRFQoZnJhZ21lbnRzLCBmcmFnUHJldmlvdXMuZW5kUHJvZ3JhbURhdGVUaW1lLCBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2VzIGJ1ZmZlciBhbmQgc2VxdWVuY2UgbnVtYmVyIHRvIGNhbGN1bGF0ZSBzd2l0Y2ggc2VnbWVudCAocmVxdWlyZWQgaWYgdXNpbmcgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFNOID0gZnJhZ1ByZXZpb3VzLnNuICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFNOID49IGxldmVsRGV0YWlscy5zdGFydFNOICYmIHRhcmdldFNOIDw9IGxldmVsRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdOZXh0ID0gZnJhZ21lbnRzW3RhcmdldFNOIC0gbGV2ZWxEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdQcmV2aW91cy5jYyA9PT0gZnJhZ05leHQuY2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ05leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggbmV4dCBTTjogXCIgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGZyYWcgU04gbm90IGF2YWlsYWJsZSAob3Igbm90IHdpdGggc2FtZSBjb250aW51aXR5IGNvdW50ZXIpXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb2sgZm9yIGEgZnJhZyBzaGFyaW5nIHRoZSBzYW1lIENDXG4gICAgICAgICAgICAgICAgICAgIGlmICghZnJhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IGJpbmFyeV9zZWFyY2hfMS5kZWZhdWx0LnNlYXJjaChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYWdQcmV2aW91cy5jYyAtIGZyYWcuY2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggc2FtZSBDQzogXCIgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZnJhZykge1xuICAgICAgICAgICAgICAgIC8qIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB3aGljaCBmcmFnbWVudCBzaG91bGQgYmUgbG9hZGVkLlxuICAgICAgICAgICAgICAgICAgIHNvIGxldCdzIGxvYWQgbWlkIGZyYWdtZW50LiBpdCB3aWxsIGhlbHAgY29tcHV0aW5nIHBsYXlsaXN0IHNsaWRpbmcgYW5kIGZpbmQgdGhlIHJpZ2h0IG9uZVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnJhZyA9IGZyYWdtZW50c1tNYXRoLm1pbihmcmFnTGVuIC0gMSwgTWF0aC5yb3VuZChmcmFnTGVuIC8gMikpXTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBwbGF5bGlzdCwgc3dpdGNoaW5nIHBsYXlsaXN0LCB1bmtub3duLCBsb2FkIG1pZGRsZSBmcmFnIDogXCIgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZztcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9maW5kRnJhZ21lbnQgPSBmdW5jdGlvbiAoc3RhcnQsIGZyYWdQcmV2aW91cywgZnJhZ0xlbiwgZnJhZ21lbnRzLCBidWZmZXJFbmQsIGVuZCwgbGV2ZWxEZXRhaWxzKSB7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgICAgIHZhciBmcmFnO1xuICAgICAgICBpZiAoYnVmZmVyRW5kIDwgZW5kKSB7XG4gICAgICAgICAgICB2YXIgbG9va3VwVG9sZXJhbmNlID0gKGJ1ZmZlckVuZCA+IGVuZCAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlKSA/IDAgOiBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG9sZXJhbmNlIGlmIGl0IHdvdWxkIHB1dCB0aGUgYnVmZmVyRW5kIHBhc3QgdGhlIGFjdHVhbCBlbmQgb2Ygc3RyZWFtXG4gICAgICAgICAgICAvLyBVc2VzIGJ1ZmZlciBhbmQgc2VxdWVuY2UgbnVtYmVyIHRvIGNhbGN1bGF0ZSBzd2l0Y2ggc2VnbWVudCAocmVxdWlyZWQgaWYgdXNpbmcgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSlcbiAgICAgICAgICAgIGZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQVFMoZnJhZ1ByZXZpb3VzLCBmcmFnbWVudHMsIGJ1ZmZlckVuZCwgbG9va3VwVG9sZXJhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlYWNoIGVuZCBvZiBwbGF5bGlzdFxuICAgICAgICAgICAgZnJhZyA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgIHZhciBjdXJTTklkeCA9IGZyYWcuc24gLSBsZXZlbERldGFpbHMuc3RhcnRTTjtcbiAgICAgICAgICAgIHZhciBzYW1lTGV2ZWwgPSBmcmFnUHJldmlvdXMgJiYgZnJhZy5sZXZlbCA9PT0gZnJhZ1ByZXZpb3VzLmxldmVsO1xuICAgICAgICAgICAgdmFyIHByZXZGcmFnID0gZnJhZ21lbnRzW2N1clNOSWR4IC0gMV07XG4gICAgICAgICAgICB2YXIgbmV4dEZyYWcgPSBmcmFnbWVudHNbY3VyU05JZHggKyAxXTtcbiAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2ZpbmQgU04gbWF0Y2hpbmcgd2l0aCBwb3M6JyArICBidWZmZXJFbmQgKyAnOicgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgIGlmIChmcmFnUHJldmlvdXMgJiYgZnJhZy5zbiA9PT0gZnJhZ1ByZXZpb3VzLnNuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhbWVMZXZlbCAmJiAhZnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZy5zbiA8IGxldmVsRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhUFRTID0gZnJhZ1ByZXZpb3VzLmRlbHRhUFRTO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBzaWduaWZpY2FudCBkZWx0YSBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgbGFyZ2VyIHRoYW4gbWF4IGFsbG93ZWQgaG9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpZiBwcmV2aW91cyByZW11eGVkIGZyYWdtZW50IGRpZCBub3Qgc3RhcnQgd2l0aCBhIGtleWZyYW1lLiAoZnJhZ1ByZXZpb3VzLmRyb3BwZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyB0cnkgdG8gbG9hZCBwcmV2aW91cyBmcmFnbWVudCBhZ2FpbiB0byBnZXQgbGFzdCBrZXlmcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiB3ZSB3aWxsIHJlbG9hZCBhZ2FpbiBjdXJyZW50IGZyYWdtZW50ICh0aGF0IHdheSB3ZSBzaG91bGQgYmUgYWJsZSB0byBmaWxsIHRoZSBidWZmZXIgaG9sZSAuLi4pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFQVFMgJiYgZGVsdGFQVFMgPiBjb25maWcubWF4QnVmZmVySG9sZSAmJiBmcmFnUHJldmlvdXMuZHJvcHBlZCAmJiBjdXJTTklkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignU04ganVzdCBsb2FkZWQsIHdpdGggbGFyZ2UgUFRTIGdhcCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgbWF5YmUgZnJhZyBpcyBub3Qgc3RhcnRpbmcgd2l0aCBhIGtleWZyYW1lID8gbG9hZCBwcmV2aW91cyBvbmUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBuZXh0RnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiU04ganVzdCBsb2FkZWQsIGxvYWQgbmV4dCBvbmU6IFwiICsgZnJhZy5zbiwgZnJhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmcmFnLmJhY2t0cmFja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgYmFja3RyYWNrIGEgbWF4IG9mIDEgY29uc2VjdXRpdmUgZnJhZ21lbnQgdG8gcHJldmVudCBzbGlkaW5nIGJhY2sgdG9vIGZhciB3aGVuIGxpdHRsZSBvciBubyBmcmFncyBzdGFydCB3aXRoIGtleWZyYW1lc1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEZyYWcgJiYgbmV4dEZyYWcuYmFja3RyYWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiQWxyZWFkeSBiYWNrdHJhY2tlZCBmcm9tIGZyYWdtZW50IFwiICsgbmV4dEZyYWcuc24gKyBcIiwgd2lsbCBub3QgYmFja3RyYWNrIHRvIGZyYWdtZW50IFwiICsgZnJhZy5zbiArIFwiLiBMb2FkaW5nIGZyYWdtZW50IFwiICsgbmV4dEZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IG5leHRGcmFnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBmcmFnbWVudCBoYXMgZHJvcHBlZCBmcmFtZXMgYW5kIGl0J3MgaW4gYSBzYW1lIGxldmVsL3NlcXVlbmNlLCBsb2FkIHRoZSBwcmV2aW91cyBmcmFnbWVudCB0byB0cnkgYW5kIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgZHJvcHBlZCBjb3VudCBub3cgc2luY2UgaXQgd29uJ3QgYmUgcmVzZXQgdW50aWwgd2UgcGFyc2UgdGhlIGZyYWdtZW50IGFnYWluLCB3aGljaCBwcmV2ZW50cyBpbmZpbml0ZSBiYWNrdHJhY2tpbmcgb24gdGhlIHNhbWUgc2VnbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0xvYWRlZCBmcmFnbWVudCB3aXRoIGRyb3BwZWQgZnJhbWVzLCBiYWNrdHJhY2tpbmcgMSBzZWdtZW50IHRvIGZpbmQgYSBrZXlmcmFtZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5kcm9wcGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RnJhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmJhY2t0cmFja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1clNOSWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuJ3QgYmFja3RyYWNrIG9uIHZlcnkgZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZztcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9sb2FkS2V5ID0gZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5LRVlfTE9BRElORztcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fbG9hZEZyYWdtZW50ID0gZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZnJhZ21lbnQgaXMgbm90IGxvYWRlZFxuICAgICAgICB2YXIgZnJhZ1N0YXRlID0gdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0U3RhdGUoZnJhZyk7XG4gICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBuZXh0TG9hZFBvc2l0aW9uIGZvciBmcmFnbWVudHMgd2hpY2ggYXJlIG5vdCBidWZmZXJlZFxuICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGZyYWcuc24pICYmICFmcmFnLmJpdHJhdGVUZXN0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBmcmFnLnN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGxvdyBiYWNrdHJhY2tlZCBmcmFnbWVudHMgdG8gbG9hZFxuICAgICAgICBpZiAoZnJhZy5iYWNrdHJhY2tlZCB8fCBmcmFnU3RhdGUgPT09IGZyYWdtZW50X3RyYWNrZXJfMS5GcmFnbWVudFN0YXRlLk5PVF9MT0FERUQgfHwgZnJhZ1N0YXRlID09PSBmcmFnbWVudF90cmFja2VyXzEuRnJhZ21lbnRTdGF0ZS5QQVJUSUFMKSB7XG4gICAgICAgICAgICBmcmFnLmF1dG9MZXZlbCA9IHRoaXMuaGxzLmF1dG9MZXZlbEVuYWJsZWQ7XG4gICAgICAgICAgICBmcmFnLmJpdHJhdGVUZXN0ID0gdGhpcy5iaXRyYXRlVGVzdDtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgIC8vIGxhenkgZGVtdXhlciBpbml0LCBhcyB0aGlzIGNvdWxkIHRha2Ugc29tZSB0aW1lIC4uLiBkbyBpdCBkdXJpbmcgZnJhZyBsb2FkaW5nXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGVtdXhlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eGVyXzEuZGVmYXVsdCh0aGlzLmhscywgJ21haW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZyYWdTdGF0ZSA9PT0gZnJhZ21lbnRfdHJhY2tlcl8xLkZyYWdtZW50U3RhdGUuQVBQRU5ESU5HKSB7XG4gICAgICAgICAgICAvLyBMb3dlciB0aGUgYnVmZmVyIHNpemUgYW5kIHRyeSBhZ2FpblxuICAgICAgICAgICAgaWYgKHRoaXMuX3JlZHVjZU1heEJ1ZmZlckxlbmd0aChmcmFnLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV4dFN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJtYWluIHN0cmVhbTpcIiArIHByZXZpb3VzU3RhdGUgKyBcIi0+XCIgKyBuZXh0U3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5TVFJFQU1fU1RBVEVfVFJBTlNJVElPTiwgeyBwcmV2aW91c1N0YXRlOiBwcmV2aW91c1N0YXRlLCBuZXh0U3RhdGU6IG5leHRTdGF0ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0QnVmZmVyZWRGcmFnID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRCdWZmZXJlZEZyYWcocG9zaXRpb24sIHBsYXlsaXN0X2xvYWRlcl8xLmRlZmF1bHQuTGV2ZWxUeXBlLk1BSU4pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLCBcImN1cnJlbnRMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFnID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcmFnLmxldmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLCBcIm5leHRCdWZmZXJlZEZyYWdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCBnZXQgZW5kIHJhbmdlIG9mIGN1cnJlbnQgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcodGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5mb2xsb3dpbmdCdWZmZXJlZEZyYWcgPSBmdW5jdGlvbiAoZnJhZykge1xuICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCByYW5nZSBvZiBuZXh0IGZyYWdtZW50ICg1MDBtcyBhZnRlciB0aGlzIHJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGZyYWcuZW5kUFRTICsgMC41KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSwgXCJuZXh0TGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmcmFnID0gdGhpcy5uZXh0QnVmZmVyZWRGcmFnO1xuICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhZy5sZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrRnJhZ21lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhZ1BsYXlpbmdDdXJyZW50LCBjdXJyZW50VGltZSwgdmlkZW8gPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAodmlkZW8gJiYgdmlkZW8ucmVhZHlTdGF0ZSAmJiB2aWRlby5zZWVraW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY3VycmVudFRpbWUgPSB2aWRlby5jdXJyZW50VGltZTtcbiAgICAgICAgICAgIC8qIGlmIHZpZGVvIGVsZW1lbnQgaXMgaW4gc2Vla2VkIHN0YXRlLCBjdXJyZW50VGltZSBjYW4gb25seSBpbmNyZWFzZS5cbiAgICAgICAgICAgICAgKGFzc3VtaW5nIHRoYXQgcGxheWJhY2sgcmF0ZSBpcyBwb3NpdGl2ZSAuLi4pXG4gICAgICAgICAgICAgIEFzIHNvbWV0aW1lcyBjdXJyZW50VGltZSBqdW1wcyBiYWNrIHRvIHplcm8gYWZ0ZXIgYVxuICAgICAgICAgICAgICBtZWRpYSBkZWNvZGUgZXJyb3IsIGNoZWNrIHRoaXMsIHRvIGF2b2lkIHNlZWtpbmcgYmFjayB0b1xuICAgICAgICAgICAgICB3cm9uZyBwb3NpdGlvbiBhZnRlciBhIG1lZGlhIGRlY29kZSBlcnJvclxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdEN1cnJlbnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQodmlkZW8sIGN1cnJlbnRUaW1lKSkge1xuICAgICAgICAgICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCh2aWRlbywgY3VycmVudFRpbWUgKyAwLjEpKSB7XG4gICAgICAgICAgICAgICAgLyogZW5zdXJlIHRoYXQgRlJBR19DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZCBhdCBzdGFydHVwLFxuICAgICAgICAgICAgICAgICAgd2hlbiBmaXJzdCB2aWRlbyBmcmFtZSBpcyBkaXNwbGF5ZWQgYW5kIHBsYXliYWNrIGlzIHBhdXNlZC5cbiAgICAgICAgICAgICAgICAgIGFkZCBhIHRvbGVyYW5jZSBvZiAxMDBtcywgaW4gY2FzZSBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCxcbiAgICAgICAgICAgICAgICAgIGNoZWNrIGlmIGN1cnJlbnQgcG9zKzEwMG1zIGlzIGJ1ZmZlcmVkIGFuZCB1c2UgdGhhdCBidWZmZXIgcmFuZ2VcbiAgICAgICAgICAgICAgICAgIGZvciBGUkFHX0NIQU5HRUQgZXZlbnQgcmVwb3J0aW5nICovXG4gICAgICAgICAgICAgICAgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcoY3VycmVudFRpbWUgKyAwLjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYWdQbGF5aW5nQ3VycmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFnUGxheWluZyA9IGZyYWdQbGF5aW5nQ3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ1BsYXlpbmcgIT09IHRoaXMuZnJhZ1BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQ0hBTkdFRCwgeyBmcmFnOiBmcmFnUGxheWluZyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdQbGF5aW5nTGV2ZWwgPSBmcmFnUGxheWluZy5sZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZyYWdQbGF5aW5nIHx8IHRoaXMuZnJhZ1BsYXlpbmcubGV2ZWwgIT09IGZyYWdQbGF5aW5nTGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9TV0lUQ0hFRCwgeyBsZXZlbDogZnJhZ1BsYXlpbmdMZXZlbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdQbGF5aW5nID0gZnJhZ1BsYXlpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxuICAgICAgb24gaW1tZWRpYXRlIGxldmVsIHN3aXRjaCA6XG4gICAgICAgLSBwYXVzZSBwbGF5YmFjayBpZiBwbGF5aW5nXG4gICAgICAgLSBjYW5jZWwgYW55IHBlbmRpbmcgbG9hZCByZXF1ZXN0XG4gICAgICAgLSBhbmQgdHJpZ2dlciBhIGJ1ZmZlciBmbHVzaFxuICAgICovXG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuaW1tZWRpYXRlTGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2ltbWVkaWF0ZUxldmVsU3dpdGNoJyk7XG4gICAgICAgIGlmICghdGhpcy5pbW1lZGlhdGVTd2l0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMuaW1tZWRpYXRlU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEsIHByZXZpb3VzbHlQYXVzZWQgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c2x5UGF1c2VkID0gbWVkaWEucGF1c2VkO1xuICAgICAgICAgICAgICAgIG1lZGlhLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCByZXN0YXJ0IHBsYXliYWNrIGFmdGVyIGluc3RhbnQgbGV2ZWwgc3dpdGNoIGluIGNhc2UgbWVkaWEgbm90IGF0dGFjaGVkXG4gICAgICAgICAgICAgICAgcHJldmlvdXNseVBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzbHlQYXVzZWQgPSBwcmV2aW91c2x5UGF1c2VkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIGlmIChmcmFnQ3VycmVudCAmJiBmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAvLyBmbHVzaCBldmVyeXRoaW5nXG4gICAgICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBvbiBpbW1lZGlhdGUgbGV2ZWwgc3dpdGNoIGVuZCwgYWZ0ZXIgbmV3IGZyYWdtZW50IGhhcyBiZWVuIGJ1ZmZlcmVkOlxuICAgICAqIC0gbnVkZ2UgdmlkZW8gZGVjb2RlciBieSBzbGlnaHRseSBhZGp1c3RpbmcgdmlkZW8gY3VycmVudFRpbWUgKGlmIGN1cnJlbnRUaW1lIGJ1ZmZlcmVkKVxuICAgICAqIC0gcmVzdW1lIHRoZSBwbGF5YmFjayBpZiBuZWVkZWRcbiAgICAgKi9cbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5pbW1lZGlhdGVMZXZlbFN3aXRjaEVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgaWYgKG1lZGlhICYmIG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVTd2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIG1lZGlhLmN1cnJlbnRUaW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgbnVkZ2UgaWYgY3VycmVudFRpbWUgaXMgYnVmZmVyZWRcbiAgICAgICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSAtPSAwLjAwMDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJldmlvdXNseVBhdXNlZCkge1xuICAgICAgICAgICAgICAgIG1lZGlhLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogdHJ5IHRvIHN3aXRjaCBBU0FQIHdpdGhvdXQgYnJlYWtpbmcgdmlkZW8gcGxheWJhY2s6XG4gICAgICogaW4gb3JkZXIgdG8gZW5zdXJlIHNtb290aCBidXQgcXVpY2sgbGV2ZWwgc3dpdGNoaW5nLFxuICAgICAqIHdlIG5lZWQgdG8gZmluZCB0aGUgbmV4dCBmbHVzaGFibGUgYnVmZmVyIHJhbmdlXG4gICAgICogd2Ugc2hvdWxkIHRha2UgaW50byBhY2NvdW50IG5ldyBzZWdtZW50IGZldGNoIHRpbWVcbiAgICAgKi9cbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5uZXh0TGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IG1lZGlhIGlzIGRlZmluZWQgYW5kIHRoYXQgbWV0YWRhdGEgYXJlIGF2YWlsYWJsZSAodG8gcmV0cmlldmUgY3VycmVudFRpbWUpXG4gICAgICAgIGlmIChtZWRpYSAmJiBtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgZmV0Y2hkZWxheSA9IHZvaWQgMCwgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdm9pZCAwLCBuZXh0QnVmZmVyZWRGcmFnID0gdm9pZCAwO1xuICAgICAgICAgICAgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgaWYgKGZyYWdQbGF5aW5nQ3VycmVudCAmJiBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnRQVFMgPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gZmx1c2ggYnVmZmVyIHByZWNlZGluZyBjdXJyZW50IGZyYWdtZW50IChmbHVzaCB1bnRpbCBjdXJyZW50IGZyYWdtZW50IHN0YXJ0IG9mZnNldClcbiAgICAgICAgICAgICAgICAvLyBtaW51cyAxcyB0byBhdm9pZCB2aWRlbyBmcmVlemluZywgdGhhdCBjb3VsZCBoYXBwZW4gaWYgd2UgZmx1c2gga2V5ZnJhbWUgb2YgY3VycmVudCB2aWRlbyAuLi5cbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLCBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnRQVFMgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWVkaWEucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgc2FmZXR5IGRlbGF5IG9mIDFzXG4gICAgICAgICAgICAgICAgdmFyIG5leHRMZXZlbElkID0gdGhpcy5obHMubmV4dExvYWRMZXZlbCwgbmV4dExldmVsID0gdGhpcy5sZXZlbHNbbmV4dExldmVsSWRdLCBmcmFnTGFzdEticHMgPSB0aGlzLmZyYWdMYXN0S2JwcztcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ0xhc3RLYnBzICYmIHRoaXMuZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hkZWxheSA9IHRoaXMuZnJhZ0N1cnJlbnQuZHVyYXRpb24gKiBuZXh0TGV2ZWwuYml0cmF0ZSAvICgxMDAwICogZnJhZ0xhc3RLYnBzKSArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmZXRjaGRlbGF5ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmZXRjaGRlbGF5ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2ZldGNoZGVsYXk6JytmZXRjaGRlbGF5KTtcbiAgICAgICAgICAgIC8vIGZpbmQgYnVmZmVyIHJhbmdlIHRoYXQgd2lsbCBiZSByZWFjaGVkIG9uY2UgbmV3IGZyYWdtZW50IHdpbGwgYmUgZmV0Y2hlZFxuICAgICAgICAgICAgbmV4dEJ1ZmZlcmVkRnJhZyA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lICsgZmV0Y2hkZWxheSk7XG4gICAgICAgICAgICBpZiAobmV4dEJ1ZmZlcmVkRnJhZykge1xuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBmbHVzaCBidWZmZXIgcmFuZ2UgZm9sbG93aW5nIHRoaXMgb25lIHdpdGhvdXQgc3RhbGxpbmcgcGxheWJhY2tcbiAgICAgICAgICAgICAgICBuZXh0QnVmZmVyZWRGcmFnID0gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcobmV4dEJ1ZmZlcmVkRnJhZyk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRCdWZmZXJlZEZyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhlcmUsIHdlIGNhbiBhbHNvIGNhbmNlbCBhbnkgbG9hZGluZy9kZW11eGluZyBpbiBwcm9ncmVzcywgYXMgdGhleSBhcmUgdXNlbGVzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnQ3VycmVudC5sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgZmx1c2ggcG9zaXRpb24gaXMgdGhlIHN0YXJ0IFBUUyBvZiBuZXh0IGJ1ZmZlcmVkIGZyYWcuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHVzZSBmcmFnLm5heFN0YXJ0UFRTIHdoaWNoIGlzIG1heChhdWRpbyBzdGFydFBUUywgdmlkZW8gc3RhcnRQVFMpLlxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZXJlIGlzIGEgc21hbGwgUFRTIERlbHRhIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvLCB1c2luZyBtYXhTdGFydFBUUyBhdm9pZHMgZmx1c2hpbmcgbGFzdCBzYW1wbGVzIGZyb20gY3VycmVudCBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcihuZXh0QnVmZmVyZWRGcmFnLm1heFN0YXJ0UFRTLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZmx1c2hNYWluQnVmZmVyID0gZnVuY3Rpb24gKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5CVUZGRVJfRkxVU0hJTkc7XG4gICAgICAgIHZhciBmbHVzaFNjb3BlID0geyBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsIGVuZE9mZnNldDogZW5kT2Zmc2V0IH07XG4gICAgICAgIC8vIGlmIGFsdGVybmF0ZSBhdWRpbyB0cmFja3MgYXJlIHVzZWQsIG9ubHkgZmx1c2ggdmlkZW8sIG90aGVyd2lzZSBmbHVzaCBldmVyeXRoaW5nXG4gICAgICAgIGlmICh0aGlzLmFsdEF1ZGlvKSB7XG4gICAgICAgICAgICBmbHVzaFNjb3BlLnR5cGUgPSAndmlkZW8nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRkxVU0hJTkcsIGZsdXNoU2NvcGUpO1xuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBkYXRhLm1lZGlhO1xuICAgICAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub252c2Vla2VkID0gdGhpcy5vbk1lZGlhU2Vla2VkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub252ZW5kZWQgPSB0aGlzLm9uTWVkaWFFbmRlZC5iaW5kKHRoaXMpO1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICAgICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbnZzZWVrZWQpO1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub252ZW5kZWQpO1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIGlmICh0aGlzLmxldmVscyAmJiBjb25maWcuYXV0b1N0YXJ0TG9hZCkge1xuICAgICAgICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdhcENvbnRyb2xsZXIgPSBuZXcgZ2FwX2NvbnRyb2xsZXJfMS5kZWZhdWx0KGNvbmZpZywgbWVkaWEsIHRoaXMuZnJhZ21lbnRUcmFja2VyLCB0aGlzLmhscyk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAobWVkaWEgJiYgbWVkaWEuZW5kZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzZXQgZnJhZ21lbnQgYmFja3RyYWNrZWQgZmxhZ1xuICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5sZXZlbHM7XG4gICAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbC5kZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsLmRldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5iYWNrdHJhY2tlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHZpZGVvIGxpc3RlbmVyc1xuICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgICAgICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbnZzZWVrZWQpO1xuICAgICAgICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgICAgICAgIHRoaXMub252c2Vla2luZyA9IHRoaXMub252c2Vla2VkID0gdGhpcy5vbnZlbmRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTZWVrZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEsIGN1cnJlbnRUaW1lID0gbWVkaWEgPyBtZWRpYS5jdXJyZW50VGltZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShjdXJyZW50VGltZSkpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJtZWRpYSBzZWVrZWQgdG8gXCIgKyBjdXJyZW50VGltZS50b0ZpeGVkKDMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIEZSQUdNRU5UX1BMQVlJTkcgdHJpZ2dlcmluZ1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZXNldCBidWZmZXIgb24gbWFuaWZlc3QgbG9hZGluZ1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCd0cmlnZ2VyIEJVRkZFUl9SRVNFVCcpO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX1JFU0VUKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlQWxsRnJhZ21lbnRzKCk7XG4gICAgICAgIHRoaXMuc3RhbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0UGFyc2VkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGFhYyA9IGZhbHNlLCBoZWFhYyA9IGZhbHNlLCBjb2RlYztcbiAgICAgICAgZGF0YS5sZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgICAgIC8vIGRldGVjdCBpZiB3ZSBoYXZlIGRpZmZlcmVudCBraW5kIG9mIGF1ZGlvIGNvZGVjcyB1c2VkIGFtb25nc3QgcGxheWxpc3RzXG4gICAgICAgICAgICBjb2RlYyA9IGxldmVsLmF1ZGlvQ29kZWM7XG4gICAgICAgICAgICBpZiAoY29kZWMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29kZWMuaW5kZXhPZignbXA0YS40MC4yJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGFhYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2RlYy5pbmRleE9mKCdtcDRhLjQwLjUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhYWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlY1N3aXRjaCA9IChhYWMgJiYgaGVhYWMpO1xuICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dpdGNoKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdib3RoIEFBQy9IRS1BQUMgYXVkaW8gZm91bmQgaW4gbGV2ZWxzOyBkZWNsYXJpbmcgbGV2ZWwgY29kZWMgYXMgSEUtQUFDJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZXZlbHMgPSBkYXRhLmxldmVscztcbiAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICBpZiAoY29uZmlnLmF1dG9TdGFydExvYWQgfHwgdGhpcy5mb3JjZVN0YXJ0TG9hZCkge1xuICAgICAgICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBuZXdEZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgICB2YXIgbmV3TGV2ZWxJZCA9IGRhdGEubGV2ZWw7XG4gICAgICAgIHZhciBsYXN0TGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsTGFzdExvYWRlZF07XG4gICAgICAgIHZhciBjdXJMZXZlbCA9IHRoaXMubGV2ZWxzW25ld0xldmVsSWRdO1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBuZXdEZXRhaWxzLnRvdGFsZHVyYXRpb247XG4gICAgICAgIHZhciBzbGlkaW5nID0gMDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxldmVsIFwiICsgbmV3TGV2ZWxJZCArIFwiIGxvYWRlZCBbXCIgKyBuZXdEZXRhaWxzLnN0YXJ0U04gKyBcIixcIiArIG5ld0RldGFpbHMuZW5kU04gKyBcIl0sZHVyYXRpb246XCIgKyBkdXJhdGlvbik7XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIHZhciBjdXJEZXRhaWxzID0gY3VyTGV2ZWwuZGV0YWlscztcbiAgICAgICAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhdmUgZGV0YWlscyBmb3IgdGhhdCBsZXZlbCwgbWVyZ2UgdGhlbVxuICAgICAgICAgICAgICAgIExldmVsSGVscGVyLm1lcmdlRGV0YWlscyhjdXJEZXRhaWxzLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBzbGlkaW5nID0gbmV3RGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5saXZlU3luY1Bvc2l0aW9uID0gdGhpcy5jb21wdXRlTGl2ZVBvc2l0aW9uKHNsaWRpbmcsIGN1ckRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdEZXRhaWxzLlBUU0tub3duICYmIE51bWJlci5pc0Zpbml0ZShzbGlkaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBwbGF5bGlzdCBzbGlkaW5nOlwiICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2xpdmUgcGxheWxpc3QgLSBvdXRkYXRlZCBQVFMsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgICAgICAgICAgICAgICBkaXNjb250aW51aXRpZXNfMS5hbGlnblN0cmVhbSh0aGlzLmZyYWdQcmV2aW91cywgbGFzdExldmVsLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdsaXZlIHBsYXlsaXN0IC0gZmlyc3QgbG9hZCwgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICAgICAgICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRpc2NvbnRpbnVpdGllc18xLmFsaWduU3RyZWFtKHRoaXMuZnJhZ1ByZXZpb3VzLCBsYXN0TGV2ZWwsIG5ld0RldGFpbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG92ZXJyaWRlIGxldmVsIGluZm9cbiAgICAgICAgY3VyTGV2ZWwuZGV0YWlscyA9IG5ld0RldGFpbHM7XG4gICAgICAgIHRoaXMubGV2ZWxMYXN0TG9hZGVkID0gbmV3TGV2ZWxJZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkxFVkVMX1VQREFURUQsIHsgZGV0YWlsczogbmV3RGV0YWlscywgbGV2ZWw6IG5ld0xldmVsSWQgfSk7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb24gaWYgc2V0IHRvIC0xLiB1c2UgaXQgc3RyYWlnaHQgYXdheSBpZiB2YWx1ZSBpcyBkZWZpbmVkXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydFBvc2l0aW9uID09PSAtMSB8fCB0aGlzLmxhc3RDdXJyZW50VGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCwgY2hlY2sgaWYgc3RhcnQgdGltZSBvZmZzZXQgaGFzIGJlZW4gc2V0IGluIHBsYXlsaXN0LCBpZiB5ZXMsIHVzZSB0aGlzIHZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZU9mZnNldCA9IG5ld0RldGFpbHMuc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoc3RhcnRUaW1lT2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRUaW1lT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm5lZ2F0aXZlIHN0YXJ0IHRpbWUgb2Zmc2V0IFwiICsgc3RhcnRUaW1lT2Zmc2V0ICsgXCIsIGNvdW50IGZyb20gZW5kIG9mIGxhc3QgZnJhZ21lbnRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVPZmZzZXQgPSBzbGlkaW5nICsgZHVyYXRpb24gKyBzdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN0YXJ0IHRpbWUgb2Zmc2V0IGZvdW5kIGluIHBsYXlsaXN0LCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiB0byBcIiArIHN0YXJ0VGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGxpdmUgcGxheWxpc3QsIHNldCBzdGFydCBwb3NpdGlvbiB0byBiZSBmcmFnbWVudCBOLXRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCAodXN1YWxseSAzKVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RGV0YWlscy5saXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmNvbXB1dGVMaXZlUG9zaXRpb24oc2xpZGluZywgbmV3RGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiY29uZmlndXJlIHN0YXJ0UG9zaXRpb24gdG8gXCIgKyB0aGlzLnN0YXJ0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IHN3aXRjaCBiYXRjayB0byBJRExFIHN0YXRlIGlmIHdlIHdlcmUgd2FpdGluZyBmb3IgbGV2ZWwgdG8gc3RhcnQgZG93bmxvYWRpbmcgYSBuZXcgZnJhZ21lbnRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5XQUlUSU5HX0xFVkVMKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uS2V5TG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLktFWV9MT0FESU5HKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZnJhZ0N1cnJlbnQgPSBfYS5mcmFnQ3VycmVudCwgaGxzID0gX2EuaGxzLCBsZXZlbHMgPSBfYS5sZXZlbHMsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBmcmFnTG9hZGVkID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElORyAmJlxuICAgICAgICAgICAgZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGZyYWdMb2FkZWQudHlwZSA9PT0gJ21haW4nICYmXG4gICAgICAgICAgICBmcmFnTG9hZGVkLmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgZnJhZ0xvYWRlZC5zbiA9PT0gZnJhZ0N1cnJlbnQuc24pIHtcbiAgICAgICAgICAgIHZhciBzdGF0cyA9IGRhdGEuc3RhdHM7XG4gICAgICAgICAgICB2YXIgY3VycmVudExldmVsID0gbGV2ZWxzW2ZyYWdDdXJyZW50LmxldmVsXTtcbiAgICAgICAgICAgIHZhciBkZXRhaWxzID0gY3VycmVudExldmVsLmRldGFpbHM7XG4gICAgICAgICAgICAvLyByZXNldCBmcmFnIGJpdHJhdGUgdGVzdCBpbiBhbnkgY2FzZSBhZnRlciBmcmFnIGxvYWRlZCBldmVudFxuICAgICAgICAgICAgLy8gaWYgdGhpcyBmcmFnIHdhcyBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdCBBTkQgaWYgaGxzLm5leHRMb2FkTGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgICAgICAgIC8vIHRoZW4gdGhpcyBtZWFucyB0aGF0IHdlIHNob3VsZCBiZSBhYmxlIHRvIGxvYWQgYSBmcmFnbWVudCBhdCBhIGhpZ2hlciBxdWFsaXR5IGxldmVsXG4gICAgICAgICAgICB0aGlzLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0YXRzID0gc3RhdHM7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiTG9hZGVkIFwiICsgZnJhZ0N1cnJlbnQuc24gKyBcIiBvZiBbXCIgKyBkZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyBkZXRhaWxzLmVuZFNOICsgXCJdLGxldmVsIFwiICsgZnJhZ0N1cnJlbnQubGV2ZWwpO1xuICAgICAgICAgICAgaWYgKGZyYWdMb2FkZWQuYml0cmF0ZVRlc3QgJiYgaGxzLm5leHRMb2FkTGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlIC4uLiB3ZSBqdXN0IGxvYWRlZCBhIGZyYWdtZW50IHRvIGRldGVybWluZSBhZGVxdWF0ZSBzdGFydCBiaXRyYXRlIGFuZCBpbml0aWFsaXplIGF1dG9zd2l0Y2ggYWxnb1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0JVRkZFUkVELCB7IHN0YXRzOiBzdGF0cywgZnJhZzogZnJhZ0N1cnJlbnQsIGlkOiAnbWFpbicgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcmFnTG9hZGVkLnNuID09PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgZGV0YWlscy5pbml0U2VnbWVudC5kYXRhID0gZGF0YS5wYXlsb2FkO1xuICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19CVUZGRVJFRCwgeyBzdGF0czogc3RhdHMsIGZyYWc6IGZyYWdDdXJyZW50LCBpZDogJ21haW4nIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIlBhcnNpbmcgXCIgKyBmcmFnQ3VycmVudC5zbiArIFwiIG9mIFtcIiArIGRldGFpbHMuc3RhcnRTTiArIFwiICxcIiArIGRldGFpbHMuZW5kU04gKyBcIl0sbGV2ZWwgXCIgKyBmcmFnQ3VycmVudC5sZXZlbCArIFwiLCBjYyBcIiArIGZyYWdDdXJyZW50LmNjKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gQml0cmF0ZSB0ZXN0IGZyYWdzIGFyZSBub3QgdXN1YWxseSBidWZmZXJlZCBzbyB0aGUgZnJhZ21lbnQgdHJhY2tlciBpZ25vcmVzIHRoZW0uIElmIEhscy5qcyBkZWNpZGVzIHRvIGJ1ZmZlclxuICAgICAgICAgICAgICAgIC8vIGl0IChhbmQgdGhlcmVmb3JlIGVuZHMgdXAgYXQgdGhpcyBsaW5lKSwgdGhlbiB0aGUgZnJhZ21lbnQgdHJhY2tlciBuZWVkcyB0byBiZSBtYW51YWxseSBpbmZvcm1lZC5cbiAgICAgICAgICAgICAgICBpZiAoZnJhZ0xvYWRlZC5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFnTG9hZGVkLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLm9uRnJhZ0xvYWRlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnOiBmcmFnTG9hZGVkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aW1lIE9mZnNldCBpcyBhY2N1cmF0ZSBpZiBsZXZlbCBQVFMgaXMga25vd24sIG9yIGlmIHBsYXlsaXN0IGlzIG5vdCBzbGlkaW5nIChub3QgbGl2ZSkgYW5kIGlmIG1lZGlhIGlzIG5vdCBzZWVraW5nICh0aGlzIGlzIHRvIG92ZXJjb21lIHBvdGVudGlhbCB0aW1lc3RhbXAgZHJpZnRzIGJldHdlZW4gcGxheWxpc3RzIGFuZCBmcmFnbWVudHMpXG4gICAgICAgICAgICAgICAgdmFyIGFjY3VyYXRlVGltZU9mZnNldCA9ICEobWVkaWEgJiYgbWVkaWEuc2Vla2luZykgJiYgKGRldGFpbHMuUFRTS25vd24gfHwgIWRldGFpbHMubGl2ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRTZWdtZW50RGF0YSA9IGRldGFpbHMuaW5pdFNlZ21lbnQgPyBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgOiBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYXVkaW9Db2RlYyA9IHRoaXMuX2dldEF1ZGlvQ29kZWMoY3VycmVudExldmVsKTtcbiAgICAgICAgICAgICAgICAvLyB0cmFuc211eCB0aGUgTVBFRy1UUyBkYXRhIHRvIElTTy1CTUZGIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXIgfHwgbmV3IGRlbXV4ZXJfMS5kZWZhdWx0KHRoaXMuaGxzLCAnbWFpbicpO1xuICAgICAgICAgICAgICAgIGRlbXV4ZXIucHVzaChkYXRhLnBheWxvYWQsIGluaXRTZWdtZW50RGF0YSwgYXVkaW9Db2RlYywgY3VycmVudExldmVsLnZpZGVvQ29kZWMsIGZyYWdDdXJyZW50LCBkZXRhaWxzLnRvdGFsZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdJbml0U2VnbWVudCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAoZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGRhdGEuaWQgPT09ICdtYWluJyAmJlxuICAgICAgICAgICAgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiZcbiAgICAgICAgICAgIGZyYWdOZXcubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmXG4gICAgICAgICAgICB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgICAgdmFyIHRyYWNrcyA9IGRhdGEudHJhY2tzLCB0cmFja05hbWUgPSB2b2lkIDAsIHRyYWNrID0gdm9pZCAwO1xuICAgICAgICAgICAgLy8gaWYgYXVkaW8gdHJhY2sgaXMgZXhwZWN0ZWQgdG8gY29tZSBmcm9tIGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyLCBkaXNjYXJkIGFueSBjb21pbmcgZnJvbSBtYWluXG4gICAgICAgICAgICBpZiAodHJhY2tzLmF1ZGlvICYmIHRoaXMuYWx0QXVkaW8pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdHJhY2tzLmF1ZGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW5jbHVkZSBsZXZlbENvZGVjIGluIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3NcbiAgICAgICAgICAgIHRyYWNrID0gdHJhY2tzLmF1ZGlvO1xuICAgICAgICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvQ29kZWMgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXS5hdWRpb0NvZGVjLCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9Db2RlYyAmJiB0aGlzLmF1ZGlvQ29kZWNTd2FwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3N3YXBwaW5nIHBsYXlsaXN0IGF1ZGlvIGNvZGVjJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgQUFDIGFuZCBIRS1BQUMgYXVkaW8gY29kZWNzIGFyZSBzaWduYWxsZWQgaW4gbWFuaWZlc3RcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSBIRS1BQUMgLCBhcyBpdCBzZWVtcyB0aGF0IG1vc3QgYnJvd3NlcnMgcHJlZmVycyB0aGF0IHdheSxcbiAgICAgICAgICAgICAgICAvLyBleGNlcHQgZm9yIG1vbm8gc3RyZWFtcyBPUiBvbiBGRlxuICAgICAgICAgICAgICAgIC8vIHRoZXNlIGNvbmRpdGlvbnMgbWlnaHQgbmVlZCB0byBiZSByZXZpZXdlZCAuLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dpdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGZvcmNlIEhFLUFBQyBpZiBtb25vIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2subWV0YWRhdGEuY2hhbm5lbENvdW50ICE9PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBmb3JjZSBIRS1BQUMgaWYgZmlyZWZveFxuICAgICAgICAgICAgICAgICAgICAgICAgdWEuaW5kZXhPZignZmlyZWZveCcpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhFLUFBQyBpcyBicm9rZW4gb24gQW5kcm9pZCwgYWx3YXlzIHNpZ25hbCBhdWRpbyBjb2RlYyBhcyBBQUMgZXZlbiBpZiB2YXJpYW50IG1hbmlmZXN0IHN0YXRlcyBvdGhlcndpc2VcbiAgICAgICAgICAgICAgICBpZiAodWEuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMSAmJiB0cmFjay5jb250YWluZXIgIT09ICdhdWRpby9tcGVnJykgeyAvLyBFeGNsdWRlIG1wZWcgYXVkaW9cbiAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiQW5kcm9pZDogZm9yY2UgYXVkaW8gY29kZWMgdG8gXCIgKyBhdWRpb0NvZGVjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhY2subGV2ZWxDb2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICAgICAgICAgICAgdHJhY2suaWQgPSBkYXRhLmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2sgPSB0cmFja3MudmlkZW87XG4gICAgICAgICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICB0cmFjay5sZXZlbENvZGVjID0gdGhpcy5sZXZlbHNbdGhpcy5sZXZlbF0udmlkZW9Db2RlYztcbiAgICAgICAgICAgICAgICB0cmFjay5pZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0cmFja3MgdGhhdCBhcmUgZ29pbmcgdG8gYmUgcHJvdmlkZWQgdG8gYnVmZmVyQ29udHJvbGxlclxuICAgICAgICAgICAgZm9yICh0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgdHJhY2sgPSB0cmFja3NbdHJhY2tOYW1lXTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibWFpbiB0cmFjazpcIiArIHRyYWNrTmFtZSArIFwiLGNvbnRhaW5lcjpcIiArIHRyYWNrLmNvbnRhaW5lciArIFwiLGNvZGVjc1tsZXZlbC9wYXJzZWRdPVtcIiArIHRyYWNrLmxldmVsQ29kZWMgKyBcIi9cIiArIHRyYWNrLmNvZGVjICsgXCJdXCIpO1xuICAgICAgICAgICAgICAgIHZhciBpbml0U2VnbWVudCA9IHRyYWNrLmluaXRTZWdtZW50O1xuICAgICAgICAgICAgICAgIGlmIChpbml0U2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9BUFBFTkRJTkcsIHsgdHlwZTogdHJhY2tOYW1lLCBkYXRhOiBpbml0U2VnbWVudCwgcGFyZW50OiAnbWFpbicsIGNvbnRlbnQ6ICdpbml0U2VnbWVudCcgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgdmFyIGZyYWdOZXcgPSBkYXRhLmZyYWc7XG4gICAgICAgIGlmIChmcmFnQ3VycmVudCAmJlxuICAgICAgICAgICAgZGF0YS5pZCA9PT0gJ21haW4nICYmXG4gICAgICAgICAgICBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJlxuICAgICAgICAgICAgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiZcbiAgICAgICAgICAgICEoZGF0YS50eXBlID09PSAnYXVkaW8nICYmIHRoaXMuYWx0QXVkaW8pICYmIC8vIGZpbHRlciBvdXQgbWFpbiBhdWRpbyBpZiBhdWRpbyB0cmFjayBpcyBsb2FkZWQgdGhyb3VnaCBhdWRpbyBzdHJlYW0gY29udHJvbGxlclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHZhciBsZXZlbCA9IHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxdLCBmcmFnID0gZnJhZ0N1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShkYXRhLmVuZFBUUykpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmVuZFBUUyA9IGRhdGEuc3RhcnRQVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBkYXRhLmVuZERUUyA9IGRhdGEuc3RhcnREVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLmhhc0F1ZGlvID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZnJhZy5hZGRFbGVtZW50YXJ5U3RyZWFtKGZyYWdtZW50XzEuZGVmYXVsdC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuaGFzVmlkZW8gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBmcmFnLmFkZEVsZW1lbnRhcnlTdHJlYW0oZnJhZ21lbnRfMS5kZWZhdWx0LkVsZW1lbnRhcnlTdHJlYW1UeXBlcy5WSURFTyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiUGFyc2VkIFwiICsgZGF0YS50eXBlICsgXCIsUFRTOltcIiArIGRhdGEuc3RhcnRQVFMudG9GaXhlZCgzKSArIFwiLFwiICsgZGF0YS5lbmRQVFMudG9GaXhlZCgzKSArIFwiXSxEVFM6W1wiICsgZGF0YS5zdGFydERUUy50b0ZpeGVkKDMpICsgXCIvXCIgKyBkYXRhLmVuZERUUy50b0ZpeGVkKDMpICsgXCJdLG5iOlwiICsgZGF0YS5uYiArIFwiLGRyb3BwZWQ6XCIgKyAoZGF0YS5kcm9wcGVkIHx8IDApKTtcbiAgICAgICAgICAgIC8vIERldGVjdCBnYXBzIGluIGEgZnJhZ21lbnQgIGFuZCB0cnkgdG8gZml4IGl0IGJ5IGZpbmRpbmcgYSBrZXlmcmFtZSBpbiB0aGUgcHJldmlvdXMgZnJhZ21lbnQgKHNlZSBfZmluZEZyYWdtZW50cylcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgICAgICBmcmFnLmRyb3BwZWQgPSBkYXRhLmRyb3BwZWQ7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWcuZHJvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZyYWcuYmFja3RyYWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZXZlbERldGFpbHMgPSBsZXZlbC5kZXRhaWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxldmVsRGV0YWlscyAmJiBmcmFnLnNuID09PSBsZXZlbERldGFpbHMuc3RhcnRTTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdtaXNzaW5nIHZpZGVvIGZyYW1lKHMpIG9uIGZpcnN0IGZyYWcsIGFwcGVuZGluZyB3aXRoIGdhcCcsIGZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ21pc3NpbmcgdmlkZW8gZnJhbWUocyksIGJhY2t0cmFja2luZyBmcmFnbWVudCcsIGZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBiYWNrIHRvIHRoZSBJRExFIHN0YXRlIHdpdGhvdXQgYXBwZW5kaW5nIHRvIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhdXNlcyBmaW5kRnJhZ21lbnRzIHRvIGJhY2t0cmFjayBhIHNlZ21lbnQgYW5kIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXVkaW8gZnJhZ21lbnRzIGFycml2aW5nIGJlZm9yZSB2aWRlbyBzZXRzIHRoZSBuZXh0TG9hZFBvc2l0aW9uLCBjYXVzaW5nIF9maW5kRnJhZ21lbnRzIHRvIHNraXAgdGhlIGJhY2t0cmFja2VkIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZnJhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gZGF0YS5zdGFydFBUUztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdBbHJlYWR5IGJhY2t0cmFja2VkIG9uIHRoaXMgZnJhZ21lbnQsIGFwcGVuZGluZyB3aXRoIHRoZSBnYXAnLCBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZXNldCB0aGUgYmFja3RyYWNrZWQgZmxhZyBpZiB3ZSd2ZSBsb2FkZWQgdGhlIGZyYWcgd2l0aG91dCBhbnkgZHJvcHBlZCBmcmFtZXNcbiAgICAgICAgICAgICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkcmlmdCA9IExldmVsSGVscGVyLnVwZGF0ZUZyYWdQVFNEVFMobGV2ZWwuZGV0YWlscywgZnJhZywgZGF0YS5zdGFydFBUUywgZGF0YS5lbmRQVFMsIGRhdGEuc3RhcnREVFMsIGRhdGEuZW5kRFRTKSwgaGxzXzIgPSB0aGlzLmhscztcbiAgICAgICAgICAgIGhsc18yLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9QVFNfVVBEQVRFRCwgeyBkZXRhaWxzOiBsZXZlbC5kZXRhaWxzLCBsZXZlbDogdGhpcy5sZXZlbCwgZHJpZnQ6IGRyaWZ0LCB0eXBlOiBkYXRhLnR5cGUsIHN0YXJ0OiBkYXRhLnN0YXJ0UFRTLCBlbmQ6IGRhdGEuZW5kUFRTIH0pO1xuICAgICAgICAgICAgLy8gaGFzIHJlbXV4ZXIgZHJvcHBlZCB2aWRlbyBmcmFtZXMgbG9jYXRlZCBiZWZvcmUgZmlyc3Qga2V5ZnJhbWUgP1xuICAgICAgICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgYXBwZW5kIGluIFBBUlNJTkcgc3RhdGUgKHJhdGlvbmFsZSBpcyB0aGF0IGFuIGFwcGVuZGluZyBlcnJvciBjb3VsZCBoYXBwZW4gc3luY2hyb25vdXNseSBvbiBmaXJzdCBzZWdtZW50IGFwcGVuZGluZylcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgaXQgaXMgdXNlbGVzcyB0byBhcHBlbmQgZm9sbG93aW5nIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlciAmJiBidWZmZXIubGVuZ3RoICYmIF90aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hcHBlbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBobHNfMi50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVORElORywgeyB0eXBlOiBkYXRhLnR5cGUsIGRhdGE6IGJ1ZmZlciwgcGFyZW50OiAnbWFpbicsIGNvbnRlbnQ6ICdkYXRhJyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBkYXRhLmlkID09PSAnbWFpbicgJiZcbiAgICAgICAgICAgIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmXG4gICAgICAgICAgICBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHMudHBhcnNlZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBpZiBhbnkgVVJMIGZvdW5kIG9uIG5ldyBhdWRpbyB0cmFjaywgaXQgaXMgYW4gYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrXG4gICAgICAgIHZhciBhbHRBdWRpbyA9ICEhZGF0YS51cmwsIHRyYWNrSWQgPSBkYXRhLmlkO1xuICAgICAgICAvLyBpZiB3ZSBzd2l0Y2ggb24gbWFpbiBhdWRpbywgZW5zdXJlIHRoYXQgbWFpbiBmcmFnbWVudCBzY2hlZHVsaW5nIGlzIHN5bmNlZCB3aXRoIG1lZGlhLmJ1ZmZlcmVkXG4gICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHdlIHN3aXRjaCB0byBhbHQgYXVkaW86IGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyIGlzIGhhbmRsaW5nIGl0LlxuICAgICAgICAvLyB3ZSB3aWxsIGp1c3QgaGF2ZSB0byBjaGFuZ2UgYnVmZmVyIHNjaGVkdWxpbmcgb24gYXVkaW9UcmFja1N3aXRjaGVkXG4gICAgICAgIGlmICghYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhQnVmZmVyICE9PSB0aGlzLm1lZGlhKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dpdGNoaW5nIG9uIG1haW4gYXVkaW8sIHVzZSBtZWRpYS5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVmaWxsIGF1ZGlvIGJ1ZmZlciBmcm9tIG1haW46IGNhbmNlbCBhbnkgZnJhZyBsb2FkaW5nIHRvIHNwZWVkIHVwIGF1ZGlvIHN3aXRjaFxuICAgICAgICAgICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dpdGNoaW5nIHRvIG1haW4gYXVkaW8gdHJhY2ssIGNhbmNlbCBtYWluIGZyYWdtZW50IGxvYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ0N1cnJlbnQubG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBkZXN0cm95IGRlbXV4ZXIgdG8gZm9yY2UgaW5pdCBzZWdtZW50IGdlbmVyYXRpb24gKGZvbGxvd2luZyBhdWRpbyBzd2l0Y2gpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byBsb2FkIG5ldyBmcmFnbWVudFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBobHNfMyA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgLy8gc3dpdGNoaW5nIHRvIG1haW4gYXVkaW8sIGZsdXNoIGFsbCBhdWRpbyBhbmQgdHJpZ2dlciB0cmFjayBzd2l0Y2hlZFxuICAgICAgICAgICAgaGxzXzMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9GTFVTSElORywgeyBzdGFydE9mZnNldDogMCwgZW5kT2Zmc2V0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICAgICAgICBobHNfMy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgICAgICB0aGlzLmFsdEF1ZGlvID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja1N3aXRjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHRyYWNrSWQgPSBkYXRhLmlkLCBhbHRBdWRpbyA9ICEhdGhpcy5obHMuYXVkaW9UcmFja3NbdHJhY2tJZF0udXJsO1xuICAgICAgICBpZiAoYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIHZhciB2aWRlb0J1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXI7XG4gICAgICAgICAgICAvLyBpZiB3ZSBzd2l0Y2hlZCBvbiBhbHRlcm5hdGUgYXVkaW8sIGVuc3VyZSB0aGF0IG1haW4gZnJhZ21lbnQgc2NoZWR1bGluZyBpcyBzeW5jZWQgd2l0aCB2aWRlbyBzb3VyY2VidWZmZXIgYnVmZmVyZWRcbiAgICAgICAgICAgIGlmICh2aWRlb0J1ZmZlciAmJiB0aGlzLm1lZGlhQnVmZmVyICE9PSB2aWRlb0J1ZmZlcikge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3N3aXRjaGluZyBvbiBhbHRlcm5hdGUgYXVkaW8sIHVzZSB2aWRlby5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdmlkZW9CdWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbHRBdWRpbyA9IGFsdEF1ZGlvO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ3JlYXRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciB0cmFja3MgPSBkYXRhLnRyYWNrcywgbWVkaWFUcmFjaywgbmFtZSwgYWx0ZXJuYXRlID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbdHlwZV07XG4gICAgICAgICAgICBpZiAodHJhY2suaWQgPT09ICdtYWluJykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIG1lZGlhVHJhY2sgPSB0cmFjaztcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHZpZGVvIHNvdXJjZSBidWZmZXIgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb0J1ZmZlciA9IHRyYWNrc1t0eXBlXS5idWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWx0ZXJuYXRlICYmIG1lZGlhVHJhY2spIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJhbHRlcm5hdGUgdHJhY2sgZm91bmQsIHVzZSBcIiArIG5hbWUgKyBcIi5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmdcIik7XG4gICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gbWVkaWFUcmFjay5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ21haW4nKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORyB8fCBzdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNFRCkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiBhcHBlbmRlZFxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IChkYXRhLnBlbmRpbmcgPiAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0FwcGVuZGVkUGFyc2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9jaGVja0FwcGVuZGVkUGFyc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEICYmICghdGhpcy5hcHBlbmRlZCB8fCAhdGhpcy5wZW5kaW5nQnVmZmVyaW5nKSkge1xuICAgICAgICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm1haW4gYnVmZmVyZWQgOiBcIiArIHRpbWVfcmFuZ2VzXzEuZGVmYXVsdC50b1N0cmluZyhtZWRpYS5idWZmZXJlZCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gZnJhZztcbiAgICAgICAgICAgICAgICB2YXIgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRidWZmZXJlZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICAvLyB3ZSBzaG91bGQgZ2V0IHJpZCBvZiB0aGlzLmZyYWdMYXN0S2Jwc1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0xhc3RLYnBzID0gTWF0aC5yb3VuZCg4ICogc3RhdHMudG90YWwgLyAoc3RhdHMudGJ1ZmZlcmVkIC0gc3RhdHMudGZpcnN0KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnLCBpZDogJ21haW4nIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcgfHwgdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gbWFpbiBmcmFnbWVudFxuICAgICAgICBpZiAoZnJhZyAmJiBmcmFnLnR5cGUgIT09ICdtYWluJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIDAuNSA6IHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIGVuZFxuICAgICAgICB2YXIgbWVkaWFCdWZmZXJlZCA9ICEhdGhpcy5tZWRpYSAmJiBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQodGhpcy5tZWRpYSwgdGhpcy5tZWRpYS5jdXJyZW50VGltZSkgJiYgYnVmZmVyX2hlbHBlcl8xLkJ1ZmZlckhlbHBlci5pc0J1ZmZlcmVkKHRoaXMubWVkaWEsIHRoaXMubWVkaWEuY3VycmVudFRpbWUgKyAwLjUpO1xuICAgICAgICBzd2l0Y2ggKGRhdGEuZGV0YWlscykge1xuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19MT0FEX0VSUk9SOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLktFWV9MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgcmV0cnlpbmcgdW50aWwgdGhlIGxpbWl0IHdpbGwgYmUgcmVhY2hlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMuZnJhZ0xvYWRFcnJvciArIDEpIDw9IHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cG9uZW50aWFsIGJhY2tvZmYgY2FwcGVkIHRvIGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gTWF0aC5taW4oTWF0aC5wb3coMiwgdGhpcy5mcmFnTG9hZEVycm9yKSAqIHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nUmV0cnlEZWxheSwgdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJtZWRpYUNvbnRyb2xsZXI6IGZyYWcgbG9hZGluZyBmYWlsZWQsIHJldHJ5IGluIFwiICsgZGVsYXkgKyBcIiBtc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cnlEYXRlID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpICsgZGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXRyeSBsb2FkaW5nIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBsb2FkZWRtZXRhZGF0YSBpcyBub3Qgc2V0LCBpdCBtZWFucyB0aGF0IHdlIGFyZSBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gb24gZmlyc3QgZnJhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlLCByZXNldCBzdGFydEZyYWdSZXF1ZXN0ZWQgZmxhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdMb2FkRXJyb3IrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJtZWRpYUNvbnRyb2xsZXI6IFwiICsgZGF0YS5kZXRhaWxzICsgXCIgcmVhY2hlcyBtYXggcmV0cnksIHJlZGlzcGF0Y2ggYXMgZmF0YWwgLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5MRVZFTF9MT0FEX0VSUk9SOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGZhdGFsIGVycm9yLCBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1I7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcInN0cmVhbUNvbnRyb2xsZXI6IFwiICsgZGF0YS5kZXRhaWxzICsgXCIsc3dpdGNoIHRvIFwiICsgdGhpcy5zdGF0ZSArIFwiIHN0YXRlIC4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugb2Ygbm9uIGZhdGFsIGVycm9yIHdoaWxlIGxvYWRpbmcgbGV2ZWwsIGlmIGxldmVsIGNvbnRyb2xsZXIgaXMgbm90IHJldHJ5aW5nIHRvIGxvYWQgbGV2ZWwgLCBzd2l0Y2ggYmFjayB0byBJRExFXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEubGV2ZWxSZXRyeSAmJiB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuV0FJVElOR19MRVZFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkJVRkZFUl9GVUxMX0VSUk9SOlxuICAgICAgICAgICAgICAgIC8vIGlmIGluIGFwcGVuZGluZyBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ21haW4nICYmICh0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgbWF4IGJ1ZiBsZW4gaWYgY3VycmVudCBwb3NpdGlvbiBpcyBidWZmZXJlZFxuICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWFCdWZmZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVkdWNlTWF4QnVmZmVyTGVuZ3RoKHRoaXMuY29uZmlnLm1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCwgYnV0IGJyb3dzZXIgaXMgc3RpbGwgY29tcGxhaW5pbmcgYWJvdXQgYnVmZmVyIGZ1bGwgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFwcGVucyBvbiBJRS9FZGdlLCByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzcwOFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGZsdXNoIHRoZSB3aG9sZSBidWZmZXIgdG8gcmVjb3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2J1ZmZlciBmdWxsIGVycm9yIGFsc28gbWVkaWEuY3VycmVudFRpbWUgaXMgbm90IGJ1ZmZlcmVkLCBmbHVzaCBldmVyeXRoaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZsdXNoIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fcmVkdWNlTWF4QnVmZmVyTGVuZ3RoID0gZnVuY3Rpb24gKG1pbkxlbmd0aCkge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIGlmIChjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoID49IG1pbkxlbmd0aCkge1xuICAgICAgICAgICAgLy8gcmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIGFzIGl0IG1pZ2h0IGJlIHRvbyBoaWdoLiB3ZSBkbyB0aGlzIHRvIGF2b2lkIGxvb3AgZmx1c2hpbmcgLi4uXG4gICAgICAgICAgICBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoIC89IDI7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIm1haW46cmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIHRvIFwiICsgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCArIFwic1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGUgaGVhbHRoIG9mIHRoZSBidWZmZXIgYW5kIGF0dGVtcHRzIHRvIHJlc29sdmUgcGxheWJhY2sgc3RhbGxzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAoIW1lZGlhIHx8IG1lZGlhLnJlYWR5U3RhdGUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV4aXQgZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBtZWRpYSBvciBpZiB0aGUgbWVkaWEgaGFzbid0IGJ1ZmZlcmQgYW55dGhpbmcgeWV0IChyZWFkeVN0YXRlIDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYTtcbiAgICAgICAgdmFyIGJ1ZmZlcmVkID0gbWVkaWFCdWZmZXIuYnVmZmVyZWQ7XG4gICAgICAgIGlmICghdGhpcy5sb2FkZWRtZXRhZGF0YSAmJiBidWZmZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc2Vla1RvU3RhcnRQb3MoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmltbWVkaWF0ZVN3aXRjaCkge1xuICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVMZXZlbFN3aXRjaEVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nYXBDb250cm9sbGVyLnBvbGwodGhpcy5sYXN0Q3VycmVudFRpbWUsIGJ1ZmZlcmVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgLy8gaWYgbG9hZGVkbWV0YWRhdGEgaXMgbm90IHNldCwgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgZW1lcmdlbmN5IHN3aXRjaCBkb3duIG9uIGZpcnN0IGZyYWdcbiAgICAgICAgLy8gaW4gdGhhdCBjYXNlLCByZXNldCBzdGFydEZyYWdSZXF1ZXN0ZWQgZmxhZ1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qIGFmdGVyIHN1Y2Nlc3NmdWwgYnVmZmVyIGZsdXNoaW5nLCBmaWx0ZXIgZmx1c2hlZCBmcmFnbWVudHMgZnJvbSBidWZmZXJlZEZyYWdzXG4gICAgICAgICAgdXNlIG1lZGlhQnVmZmVyZWQgaW5zdGVhZCBvZiBtZWRpYSAoc28gdGhhdCB3ZSB3aWxsIGNoZWNrIGFnYWluc3QgdmlkZW8uYnVmZmVyZWQgcmFuZ2VzIGluIGNhc2Ugb2YgYWx0IGF1ZGlvIHRyYWNrKVxuICAgICAgICAqL1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgLy8gZmlsdGVyIGZyYWdtZW50cyBwb3RlbnRpYWxseSBldmljdGVkIGZyb20gYnVmZmVyLiB0aGlzIGlzIHRvIGF2b2lkIG1lbWxlYWsgb24gbGl2ZSBzdHJlYW1zXG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5kZXRlY3RFdmljdGVkRnJhZ21lbnRzKGZyYWdtZW50XzEuZGVmYXVsdC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU8sIG1lZGlhLmJ1ZmZlcmVkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtb3ZlIHRvIElETEUgb25jZSBmbHVzaCBjb21wbGV0ZS4gdGhpcyBzaG91bGQgdHJpZ2dlciBuZXcgZnJhZ21lbnQgbG9hZGluZ1xuICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBmcmFnXG4gICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN3YXBBdWRpb0NvZGVjID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWNTd2FwID0gIXRoaXMuYXVkaW9Db2RlY1N3YXA7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5jb21wdXRlTGl2ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHNsaWRpbmcsIGxldmVsRGV0YWlscykge1xuICAgICAgICB2YXIgdGFyZ2V0TGF0ZW5jeSA9IHRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IHRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gOiB0aGlzLmNvbmZpZy5saXZlU3luY0R1cmF0aW9uQ291bnQgKiBsZXZlbERldGFpbHMudGFyZ2V0ZHVyYXRpb247XG4gICAgICAgIHJldHVybiBzbGlkaW5nICsgTWF0aC5tYXgoMCwgbGV2ZWxEZXRhaWxzLnRvdGFsZHVyYXRpb24gLSB0YXJnZXRMYXRlbmN5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZWtzIHRvIHRoZSBzZXQgc3RhcnRQb3NpdGlvbiBpZiBub3QgZXF1YWwgdG8gdGhlIG1lZGlhRWxlbWVudCdzIGN1cnJlbnQgdGltZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9zZWVrVG9TdGFydFBvcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgIC8vIG9ubHkgYWRqdXN0IGN1cnJlbnRUaW1lIGlmIGRpZmZlcmVudCBmcm9tIHN0YXJ0UG9zaXRpb24gb3IgaWYgc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWRcbiAgICAgICAgLy8gYXQgdGhhdCBzdGFnZSwgdGhlcmUgc2hvdWxkIGJlIG9ubHkgb25lIGJ1ZmZlcmVkIHJhbmdlLCBhcyB3ZSByZWFjaCB0aGF0IGNvZGUgYWZ0ZXIgZmlyc3QgZnJhZ21lbnQgaGFzIGJlZW4gYnVmZmVyZWRcbiAgICAgICAgdmFyIHN0YXJ0UG9zaXRpb24gPSBtZWRpYS5zZWVraW5nID8gY3VycmVudFRpbWUgOiB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgICAgIC8vIGlmIGN1cnJlbnRUaW1lIG5vdCBtYXRjaGluZyB3aXRoIGV4cGVjdGVkIHN0YXJ0UG9zaXRpb24gb3Igc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWQgYnV0IGNsb3NlIHRvIGZpcnN0IGJ1ZmZlcmVkXG4gICAgICAgIGlmIChjdXJyZW50VGltZSAhPT0gc3RhcnRQb3NpdGlvbikge1xuICAgICAgICAgICAgLy8gaWYgc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWQsIGxldCdzIHNlZWsgdG8gYnVmZmVyZWQuc3RhcnQoMClcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJ0YXJnZXQgc3RhcnQgcG9zaXRpb24gbm90IGJ1ZmZlcmVkLCBzZWVrIHRvIGJ1ZmZlcmVkLnN0YXJ0KDApIFwiICsgc3RhcnRQb3NpdGlvbiArIFwiIGZyb20gY3VycmVudCB0aW1lIFwiICsgY3VycmVudFRpbWUgKyBcIiBcIik7XG4gICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9nZXRBdWRpb0NvZGVjID0gZnVuY3Rpb24gKGN1cnJlbnRMZXZlbCkge1xuICAgICAgICB2YXIgYXVkaW9Db2RlYyA9IHRoaXMuY29uZmlnLmRlZmF1bHRBdWRpb0NvZGVjIHx8IGN1cnJlbnRMZXZlbC5hdWRpb0NvZGVjO1xuICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dhcCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dhcHBpbmcgcGxheWxpc3QgYXVkaW8gY29kZWMnKTtcbiAgICAgICAgICAgIGlmIChhdWRpb0NvZGVjKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC4yJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF1ZGlvQ29kZWM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUsIFwibGl2ZVN5bmNQb3NpdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpdmVTeW5jUG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9saXZlU3luY1Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTdHJlYW1Db250cm9sbGVyO1xufShiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3RyZWFtQ29udHJvbGxlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9zdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAY2xhc3MgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGRlY3J5cHRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY3J5cHQvZGVjcnlwdGVyICovIFwiLi9zcmMvY3J5cHQvZGVjcnlwdGVyLmpzXCIpO1xudmFyIHRhc2tfbG9vcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdGFzay1sb29wICovIFwiLi9zcmMvdGFzay1sb29wLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGZyYWdtZW50X2ZpbmRlcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZnJhZ21lbnQtZmluZGVycyAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtZmluZGVycy5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LXRyYWNrZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIik7XG52YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG5leHBvcnRzLlN1YnRpdGxlU3RyZWFtQ29udHJvbGxlclN0YXRlID0ge1xuICAgIFNUT1BQRUQ6ICdTVE9QUEVEJyxcbiAgICBJRExFOiAnSURMRScsXG4gICAgS0VZX0xPQURJTkc6ICdLRVlfTE9BRElORycsXG4gICAgRlJBR19MT0FESU5HOiAnRlJBR19MT0FESU5HJ1xufTtcbnZhciBTdGF0ZSA9IGV4cG9ydHMuU3VidGl0bGVTdHJlYW1Db250cm9sbGVyU3RhdGU7XG52YXIgVElDS19JTlRFUlZBTCA9IDUwMDsgLy8gaG93IG9mdGVuIHRvIHRpY2sgaW4gbXNcbnZhciBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIoaGxzLCBmcmFnbWVudFRyYWNrZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0FUVEFDSEVELCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgZXZlbnRzXzEuZGVmYXVsdC5LRVlfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLU19VUERBVEVELCBldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX1NXSVRDSCwgZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9UUkFDS19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgICAgICBfdGhpcy50cmFja3MgPSBbXTtcbiAgICAgICAgX3RoaXMudHJhY2tzQnVmZmVyZWQgPSBbXTtcbiAgICAgICAgX3RoaXMuY3VycmVudFRyYWNrSWQgPSAtMTtcbiAgICAgICAgX3RoaXMuZGVjcnlwdGVyID0gbmV3IGRlY3J5cHRlcl8xLmRlZmF1bHQoaGxzLCBobHMuY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95ZWQuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZUZyYWdQcm9jZXNzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyZWQgPSB0aGlzLnRyYWNrc0J1ZmZlcmVkW3RoaXMuY3VycmVudFRyYWNrSWRdO1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgICAgICBpZiAoIWJ1ZmZlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlL3VwZGF0ZSBhIGJ1ZmZlcmVkIGFycmF5IG1hdGNoaW5nIHRoZSBpbnRlcmZhY2UgdXNlZCBieSBCdWZmZXJIZWxwZXIuYnVmZmVyZWRJbmZvXG4gICAgICAgIC8vIHNvIHdlIGNhbiByZS11c2UgdGhlIGxvZ2ljIHVzZWQgdG8gZGV0ZWN0IGhvdyBtdWNoIGhhdmUgYmVlbiBidWZmZXJlZFxuICAgICAgICAvLyBGSVhNRTogcHV0IHRoaXMgaW4gYSB1dGlsaXR5IGZ1bmN0aW9uIG9yIHByb3BlciBvYmplY3QgZm9yIHRpbWUtcmFuZ2VzIG1hbmlwdWxhdGlvbj9cbiAgICAgICAgdmFyIHRpbWVSYW5nZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZyYWcuc3RhcnQgPj0gYnVmZmVyZWRbaV0uc3RhcnQgJiYgZnJhZy5zdGFydCA8PSBidWZmZXJlZFtpXS5lbmQpIHtcbiAgICAgICAgICAgICAgICB0aW1lUmFuZ2UgPSBidWZmZXJlZFtpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZVJhbmdlKSB7XG4gICAgICAgICAgICB0aW1lUmFuZ2UuZW5kID0gZnJhZy5zdGFydCArIGZyYWcuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBidWZmZXJlZC5wdXNoKHtcbiAgICAgICAgICAgICAgICBzdGFydDogZnJhZy5zdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IGZyYWcuc3RhcnQgKyBmcmFnLmR1cmF0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubWVkaWEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICB9O1xuICAgIC8vIElmIHNvbWV0aGluZyBnb2VzIHdyb25nLCBwcm9jZWRlIHRvIG5leHQgZnJhZywgaWYgd2Ugd2VyZSBwcm9jZXNzaW5nIG9uZS5cbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGVycm9yIG5vdCByZWxhdGVkIHRvIHN1YnRpdGxlIGZyYWdtZW50XG4gICAgICAgIGlmICghZnJhZyB8fCBmcmFnLnR5cGUgIT09ICdzdWJ0aXRsZScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICB9O1xuICAgIC8vIEdvdCBhbGwgbmV3IHN1YnRpdGxlIHRyYWNrcy5cbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja3NVcGRhdGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3VidGl0bGUgdHJhY2tzIHVwZGF0ZWQnKTtcbiAgICAgICAgdGhpcy50cmFja3NCdWZmZXJlZCA9IFtdO1xuICAgICAgICB0aGlzLnRyYWNrcyA9IGRhdGEuc3VidGl0bGVUcmFja3M7XG4gICAgICAgIHRoaXMudHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgICBfdGhpcy50cmFja3NCdWZmZXJlZFt0cmFjay5pZF0gPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja1N3aXRjaCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFRyYWNrSWQgPSBkYXRhLmlkO1xuICAgICAgICBpZiAoIXRoaXMudHJhY2tzIHx8IHRoaXMuY3VycmVudFRyYWNrSWQgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0cmFjayBoYXMgdGhlIG5lY2Vzc2FyeSBkZXRhaWxzIHRvIGxvYWQgZnJhZ21lbnRzXG4gICAgICAgIHZhciBjdXJyZW50VHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLmN1cnJlbnRUcmFja0lkXTtcbiAgICAgICAgaWYgKGN1cnJlbnRUcmFjayAmJiBjdXJyZW50VHJhY2suZGV0YWlscykge1xuICAgICAgICAgICAgdGhpcy5zZXRJbnRlcnZhbChUSUNLX0lOVEVSVkFMKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gR290IGEgbmV3IHNldCBvZiBzdWJ0aXRsZSBmcmFnbWVudHMuXG4gICAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaWQgPSBkYXRhLmlkLCBkZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgICBpZiAoIXRoaXMudHJhY2tzKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignQ2FuIG5vdCB1cGRhdGUgc3VidGl0bGUgZGV0YWlscywgbm8gdHJhY2tzIGZvdW5kJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhY2tzW2lkXSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnVXBkYXRpbmcgc3VidGl0bGUgdHJhY2sgZGV0YWlscycpO1xuICAgICAgICAgICAgdGhpcy50cmFja3NbaWRdLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uS2V5TG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuS0VZX0xPQURJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIHZhciBkZWNyeXB0RGF0YSA9IGRhdGEuZnJhZy5kZWNyeXB0ZGF0YTtcbiAgICAgICAgdmFyIGZyYWdMb2FkZWQgPSBkYXRhLmZyYWc7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkZSQUdfTE9BRElORyAmJlxuICAgICAgICAgICAgZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGRhdGEuZnJhZy50eXBlID09PSAnc3VidGl0bGUnICYmXG4gICAgICAgICAgICBmcmFnQ3VycmVudC5zbiA9PT0gZGF0YS5mcmFnLnNuKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB0byBzZWUgaWYgdGhlIHBheWxvYWQgbmVlZHMgdG8gYmUgZGVjcnlwdGVkXG4gICAgICAgICAgICBpZiAoZGF0YS5wYXlsb2FkLmJ5dGVMZW5ndGggPiAwICYmIChkZWNyeXB0RGF0YSAmJiBkZWNyeXB0RGF0YS5rZXkgJiYgZGVjcnlwdERhdGEubWV0aG9kID09PSAnQUVTLTEyOCcpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZV8xID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgLy8gZGVjcnlwdCB0aGUgc3VidGl0bGVzXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyeXB0ZXIuZGVjcnlwdChkYXRhLnBheWxvYWQsIGRlY3J5cHREYXRhLmtleS5idWZmZXIsIGRlY3J5cHREYXRhLml2LmJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0RFQ1JZUFRFRCwgeyBmcmFnOiBmcmFnTG9hZGVkLCBwYXlsb2FkOiBkZWNyeXB0ZWREYXRhLCBzdGF0czogeyB0c3RhcnQ6IHN0YXJ0VGltZV8xLCB0ZGVjcnlwdDogZW5kVGltZSB9IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRvVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lZGlhKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgU3RhdGUuSURMRTpcbiAgICAgICAgICAgICAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3M7XG4gICAgICAgICAgICAgICAgdmFyIHRyYWNrSWQgPSB0aGlzLmN1cnJlbnRUcmFja0lkO1xuICAgICAgICAgICAgICAgIGlmICghdHJhY2tzIHx8ICF0cmFja3NbdHJhY2tJZF0gfHwgIXRyYWNrc1t0cmFja0lkXS5kZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdHJhY2tEZXRhaWxzID0gdHJhY2tzW3RyYWNrSWRdLmRldGFpbHM7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgICAgICAgIHZhciBtYXhCdWZmZXJIb2xlID0gY29uZmlnLm1heEJ1ZmZlckhvbGU7XG4gICAgICAgICAgICAgICAgdmFyIG1heENvbmZpZ0J1ZmZlciA9IE1hdGgubWluKGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgsIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlcmVkSW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVyZWRJbmZvKHRoaXMuX2dldEJ1ZmZlcmVkKCksIHRoaXMubWVkaWEuY3VycmVudFRpbWUsIG1heEJ1ZmZlckhvbGUpO1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXJFbmQgPSBidWZmZXJlZEluZm8uZW5kO1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXJMZW4gPSBidWZmZXJlZEluZm8ubGVuO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudHMgPSB0cmFja0RldGFpbHMuZnJhZ21lbnRzO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnTGVuID0gZnJhZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXS5zdGFydCArIGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uZHVyYXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kRnJhZyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyTGVuIDwgbWF4Q29uZmlnQnVmZmVyICYmIGJ1ZmZlckVuZCA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQVFModGhpcy5mcmFnUHJldmlvdXMsIGZyYWdtZW50cywgYnVmZmVyRW5kLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHJhY2tEZXRhaWxzLmhhc1Byb2dyYW1EYXRlVGltZSAmJiB0aGlzLmZyYWdQcmV2aW91cykge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQRFQoZnJhZ21lbnRzLCB0aGlzLmZyYWdQcmV2aW91cy5lbmRQcm9ncmFtRGF0ZVRpbWUsIG1heEZyYWdMb29rVXBUb2xlcmFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm91bmRGcmFnICYmIGZvdW5kRnJhZy5lbmNyeXB0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIkxvYWRpbmcga2V5IGZvciBcIiArIGZvdW5kRnJhZy5zbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5LRVlfTE9BRElORztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FESU5HLCB7IGZyYWc6IGZvdW5kRnJhZyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZm91bmRGcmFnICYmIHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKGZvdW5kRnJhZykgPT09IGZyYWdtZW50X3RyYWNrZXJfMS5GcmFnbWVudFN0YXRlLk5PVF9MT0FERUQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBsb2FkIGlmIGZyYWdtZW50IGlzIG5vdCBsb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgZm91bmRGcmFnLnRyYWNrSWQgPSB0cmFja0lkOyAvLyBGcmFncyBkb24ndCBrbm93IHRoZWlyIHN1YnRpdGxlIHRyYWNrIElELCBzbyBsZXQncyBqdXN0IGFkZCB0aGF0Li4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmb3VuZEZyYWc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5GUkFHX0xPQURJTkc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURJTkcsIHsgZnJhZzogZm91bmRGcmFnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fZ2V0QnVmZmVyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrc0J1ZmZlcmVkW3RoaXMuY3VycmVudFRyYWNrSWRdIHx8IFtdO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtcbn0odGFza19sb29wXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5TdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9zdWJ0aXRsZS10cmFjay1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogc3VidGl0bGUgdHJhY2sgY29udHJvbGxlclxuKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGV2ZW50X2hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50LWhhbmRsZXIgKi8gXCIuL3NyYy9ldmVudC1oYW5kbGVyLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZnVuY3Rpb24gZmlsdGVyU3VidGl0bGVUcmFja3ModGV4dFRyYWNrTGlzdCkge1xuICAgIHZhciB0cmFja3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRleHRUcmFja0xpc3RbaV0ua2luZCA9PT0gJ3N1YnRpdGxlcycpIHtcbiAgICAgICAgICAgIHRyYWNrcy5wdXNoKHRleHRUcmFja0xpc3RbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cmFja3M7XG59XG52YXIgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNIRUQsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURFRCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHJhY2tzID0gW107XG4gICAgICAgIF90aGlzLnRyYWNrSWQgPSAtMTtcbiAgICAgICAgX3RoaXMubWVkaWEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn0gc3VidGl0bGVEaXNwbGF5IEVuYWJsZS9kaXNhYmxlIHN1YnRpdGxlIGRpc3BsYXkgcmVuZGVyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdWJ0aXRsZURpc3BsYXkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fb25UZXh0VHJhY2tzQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gTWVkaWEgaXMgdW5kZWZpbmVkIHdoZW4gc3dpdGNoaW5nIHN0cmVhbXMgdmlhIGxvYWRTb3VyY2UoKVxuICAgICAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhY2tJZCA9IC0xO1xuICAgICAgICB2YXIgdHJhY2tzID0gZmlsdGVyU3VidGl0bGVUcmFja3ModGhpcy5tZWRpYS50ZXh0VHJhY2tzKTtcbiAgICAgICAgZm9yICh2YXIgaWQgPSAwOyBpZCA8IHRyYWNrcy5sZW5ndGg7IGlkKyspIHtcbiAgICAgICAgICAgIGlmICh0cmFja3NbaWRdLm1vZGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGJyZWFrIGluIGNhc2UgdGhlcmUgaXMgYSBmb2xsb3dpbmcgdHJhY2sgd2l0aCBzaG93aW5nLlxuICAgICAgICAgICAgICAgIHRyYWNrSWQgPSBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRyYWNrc1tpZF0ubW9kZSA9PT0gJ3Nob3dpbmcnKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tJZCA9IGlkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldHRpbmcgY3VycmVudCBzdWJ0aXRsZVRyYWNrIHdpbGwgaW52b2tlIGNvZGUuXG4gICAgICAgIHRoaXMuc3VidGl0bGVUcmFjayA9IHRyYWNrSWQ7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8vIExpc3RlbiBmb3Igc3VidGl0bGUgdHJhY2sgY2hhbmdlLCB0aGVuIGV4dHJhY3QgdGhlIGN1cnJlbnQgdHJhY2sgSUQuXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgICAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5xdWV1ZWREZWZhdWx0VHJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuc3VidGl0bGVUcmFjayA9IHRoaXMucXVldWVkRGVmYXVsdFRyYWNrO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRGVmYXVsdFRyYWNrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2tDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX29uVGV4dFRyYWNrc0NoYW5nZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nID0gISh0aGlzLm1lZGlhLnRleHRUcmFja3MgJiYgJ29uY2hhbmdlJyBpbiB0aGlzLm1lZGlhLnRleHRUcmFja3MpO1xuICAgICAgICBpZiAodGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRpdGxlUG9sbGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhLnRleHRUcmFja3MuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy50cmFja0NoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVzZVRleHRUcmFja1BvbGxpbmcpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhLnRleHRUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy50cmFja0NoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICB9O1xuICAgIC8vIFJlc2V0IHN1YnRpdGxlIHRyYWNrcyBvbiBtYW5pZmVzdCBsb2FkaW5nXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgICB9O1xuICAgIC8vIEZpcmVkIHdoZW5ldmVyIGEgbmV3IG1hbmlmZXN0IGlzIGxvYWRlZC5cbiAgICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB0cmFja3MgPSBkYXRhLnN1YnRpdGxlcyB8fCBbXTtcbiAgICAgICAgdGhpcy50cmFja3MgPSB0cmFja3M7XG4gICAgICAgIHRoaXMudHJhY2tJZCA9IC0xO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfVFJBQ0tTX1VQREFURUQsIHsgc3VidGl0bGVUcmFja3M6IHRyYWNrcyB9KTtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGF2YWlsYWJsZSBzdWJ0aXRsZSB0cmFja3MgYW5kIGF1dG9zZWxlY3QgZGVmYXVsdCBpZiBuZWVkZWRcbiAgICAgICAgLy8gVE9ETzogaW1wcm92ZSBzZWxlY3Rpb24gbG9naWMgdG8gaGFuZGxlIGZvcmNlZCwgZXRjXG4gICAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgaWYgKHRyYWNrLmRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAvLyBzZXR0aW5nIHRoaXMuc3VidGl0bGVUcmFjayB3aWxsIHRyaWdnZXIgaW50ZXJuYWwgbG9naWNcbiAgICAgICAgICAgICAgICAvLyBpZiBtZWRpYSBoYXMgbm90IGJlZW4gYXR0YWNoZWQgeWV0LCBpdCB3aWxsIGZhaWxcbiAgICAgICAgICAgICAgICAvLyB3ZSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBkZWZhdWx0IHRyYWNrIGlkXG4gICAgICAgICAgICAgICAgLy8gYW5kIHdlJ2xsIHNldCBzdWJ0aXRsZVRyYWNrIHdoZW4gb25NZWRpYUF0dGFjaGVkIGlzIHRyaWdnZXJlZFxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5tZWRpYSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdWJ0aXRsZVRyYWNrID0gdHJhY2suaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5xdWV1ZWREZWZhdWx0VHJhY2sgPSB0cmFjay5pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gVHJpZ2dlciBzdWJ0aXRsZSB0cmFjayBwbGF5bGlzdCByZWxvYWQuXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyYWNrSWQgPSB0aGlzLnRyYWNrSWQ7XG4gICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrID0gdGhpcy50cmFja3NbdHJhY2tJZF07XG4gICAgICAgIGlmICghc3VidGl0bGVUcmFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXRhaWxzID0gc3VidGl0bGVUcmFjay5kZXRhaWxzO1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIGxvYWQgcGxheWxpc3QgZm9yIHRoaXMgc3VidGl0bGUgVHJhY2tcbiAgICAgICAgaWYgKCFkZXRhaWxzIHx8IGRldGFpbHMubGl2ZSkge1xuICAgICAgICAgICAgLy8gdHJhY2sgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIihyZSlsb2FkaW5nIHBsYXlsaXN0IGZvciBzdWJ0aXRsZSB0cmFjayBcIiArIHRyYWNrSWQpO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURJTkcsIHsgdXJsOiBzdWJ0aXRsZVRyYWNrLnVybCwgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGF0YS5pZCA8IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN1YnRpdGxlIHRyYWNrIFwiICsgZGF0YS5pZCArIFwiIGxvYWRlZFwiKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2tzW2RhdGEuaWRdLmRldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjdXJyZW50IHBsYXlsaXN0IGlzIGEgbGl2ZSBwbGF5bGlzdFxuICAgICAgICAgICAgaWYgKGRhdGEuZGV0YWlscy5saXZlICYmICF0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCB3ZSB3aWxsIGhhdmUgdG8gcmVsb2FkIGl0IHBlcmlvZGljYWxseVxuICAgICAgICAgICAgICAgIC8vIHNldCByZWxvYWQgcGVyaW9kIHRvIHBsYXlsaXN0IHRhcmdldCBkdXJhdGlvblxuICAgICAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uVGljaygpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDAgKiBkYXRhLmRldGFpbHMudGFyZ2V0ZHVyYXRpb24sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXRhLmRldGFpbHMubGl2ZSAmJiB0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICAgICAgLy8gcGxheWxpc3QgaXMgbm90IGxpdmUgYW5kIHRpbWVyIGlzIGFybWVkIDogc3RvcHBpbmcgaXRcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wVGltZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZSwgXCJzdWJ0aXRsZVRyYWNrc1wiLCB7XG4gICAgICAgIC8qKiBnZXQgYWx0ZXJuYXRlIHN1YnRpdGxlIHRyYWNrcyBsaXN0IGZyb20gcGxheWxpc3QgKiovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLCBcInN1YnRpdGxlVHJhY2tcIiwge1xuICAgICAgICAvKiogZ2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpICoqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYWNrSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBzZWxlY3QgYSBzdWJ0aXRsZSB0cmFjaywgYmFzZWQgb24gaXRzIGluZGV4IGluIHN1YnRpdGxlIHRyYWNrIGxpc3RzKiovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN1YnRpdGxlVHJhY2tJZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tJZCAhPT0gc3VidGl0bGVUcmFja0lkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlVHJhY2tNb2RlcyhzdWJ0aXRsZVRyYWNrSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3VidGl0bGVUcmFja0ludGVybmFsKHN1YnRpdGxlVHJhY2tJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIGZvciB2YWxpZGF0aW5nIHRoZSBzdWJ0aXRsZSBpbmRleCBhbmQgcGVyaW9kaWNhbGx5IHJlbG9hZGluZyBpZiBsaXZlLlxuICAgICAqIERpc3BhdGNoZXMgdGhlIFNVQlRJVExFX1RSQUNLX1NXSVRDSCBldmVudCwgd2hpY2ggaW5zdHJ1Y3RzIHRoZSBzdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlciB0byBsb2FkIHRoZSBzZWxlY3RlZCB0cmFjay5cbiAgICAgKiBAcGFyYW0gbmV3SWQgLSBUaGUgaWQgb2YgdGhlIHN1YnRpdGxlIHRyYWNrIHRvIGFjdGl2YXRlLlxuICAgICAqL1xuICAgIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5zZXRTdWJ0aXRsZVRyYWNrSW50ZXJuYWwgPSBmdW5jdGlvbiAobmV3SWQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGxzID0gX2EuaGxzLCB0cmFja3MgPSBfYS50cmFja3M7XG4gICAgICAgIGlmICh0eXBlb2YgbmV3SWQgIT09ICdudW1iZXInIHx8IG5ld0lkIDwgLTEgfHwgbmV3SWQgPj0gdHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0b3BUaW1lcigpO1xuICAgICAgICB0aGlzLnRyYWNrSWQgPSBuZXdJZDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN3aXRjaGluZyB0byBzdWJ0aXRsZSB0cmFjayBcIiArIG5ld0lkKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9UUkFDS19TV0lUQ0gsIHsgaWQ6IG5ld0lkIH0pO1xuICAgICAgICBpZiAobmV3SWQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIHN1YnRpdGxlIFRyYWNrXG4gICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrID0gdHJhY2tzW25ld0lkXTtcbiAgICAgICAgdmFyIGRldGFpbHMgPSBzdWJ0aXRsZVRyYWNrLmRldGFpbHM7XG4gICAgICAgIGlmICghZGV0YWlscyB8fCBkZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIC8vIHRyYWNrIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCIocmUpbG9hZGluZyBwbGF5bGlzdCBmb3Igc3VidGl0bGUgdHJhY2sgXCIgKyBuZXdJZCk7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURJTkcsIHsgdXJsOiBzdWJ0aXRsZVRyYWNrLnVybCwgaWQ6IG5ld0lkIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX3N0b3BUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIG9sZCBzdWJ0aXRsZVRyYWNrIGFuZCBzZXRzIGN1cnJlbnQgbW9kZSBvbiB0aGUgbmV4dCBzdWJ0aXRsZVRyYWNrLlxuICAgICAqIFRoaXMgb3BlcmF0ZXMgb24gdGhlIERPTSB0ZXh0VHJhY2tzLlxuICAgICAqIEEgdmFsdWUgb2YgLTEgd2lsbCBkaXNhYmxlIGFsbCBzdWJ0aXRsZSB0cmFja3MuXG4gICAgICogQHBhcmFtIG5ld0lkIC0gVGhlIGlkIG9mIHRoZSBuZXh0IHRyYWNrIHRvIGVuYWJsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl90b2dnbGVUcmFja01vZGVzID0gZnVuY3Rpb24gKG5ld0lkKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG1lZGlhID0gX2EubWVkaWEsIHN1YnRpdGxlRGlzcGxheSA9IF9hLnN1YnRpdGxlRGlzcGxheSwgdHJhY2tJZCA9IF9hLnRyYWNrSWQ7XG4gICAgICAgIGlmICghbWVkaWEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dFRyYWNrcyA9IGZpbHRlclN1YnRpdGxlVHJhY2tzKG1lZGlhLnRleHRUcmFja3MpO1xuICAgICAgICBpZiAobmV3SWQgPT09IC0xKSB7XG4gICAgICAgICAgICBbXS5zbGljZS5jYWxsKHRleHRUcmFja3MpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgdHJhY2subW9kZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvbGRUcmFjayA9IHRleHRUcmFja3NbdHJhY2tJZF07XG4gICAgICAgICAgICBpZiAob2xkVHJhY2spIHtcbiAgICAgICAgICAgICAgICBvbGRUcmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV4dFRyYWNrID0gdGV4dFRyYWNrc1tuZXdJZF07XG4gICAgICAgIGlmIChuZXh0VHJhY2spIHtcbiAgICAgICAgICAgIG5leHRUcmFjay5tb2RlID0gc3VidGl0bGVEaXNwbGF5ID8gJ3Nob3dpbmcnIDogJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvdGltZWxpbmUtY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29udHJvbGxlci90aW1lbGluZS1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qXG4gKiBUaW1lbGluZSBDb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgY2VhXzYwOF9wYXJzZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2NlYS02MDgtcGFyc2VyICovIFwiLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanNcIik7XG52YXIgb3V0cHV0X2ZpbHRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvb3V0cHV0LWZpbHRlciAqLyBcIi4vc3JjL3V0aWxzL291dHB1dC1maWx0ZXIuanNcIik7XG52YXIgd2VidnR0X3BhcnNlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvd2VidnR0LXBhcnNlciAqLyBcIi4vc3JjL3V0aWxzL3dlYnZ0dC1wYXJzZXIuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgdGV4dHRyYWNrX3V0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy90ZXh0dHJhY2stdXRpbHMgKi8gXCIuL3NyYy91dGlscy90ZXh0dHJhY2stdXRpbHMuanNcIik7XG5mdW5jdGlvbiBjYW5SZXVzZVZ0dFRleHRUcmFjayhpblVzZVRyYWNrLCBtYW5pZmVzdFRyYWNrKSB7XG4gICAgcmV0dXJuIGluVXNlVHJhY2sgJiYgaW5Vc2VUcmFjay5sYWJlbCA9PT0gbWFuaWZlc3RUcmFjay5uYW1lICYmICEoaW5Vc2VUcmFjay50ZXh0VHJhY2sxIHx8IGluVXNlVHJhY2sudGV4dFRyYWNrMik7XG59XG5mdW5jdGlvbiBpbnRlcnNlY3Rpb24oeDEsIHgyLCB5MSwgeTIpIHtcbiAgICByZXR1cm4gTWF0aC5taW4oeDIsIHkyKSAtIE1hdGgubWF4KHgxLCB5MSk7XG59XG52YXIgVGltZWxpbmVDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaW1lbGluZUNvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGltZWxpbmVDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19ERUNSWVBURUQsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BRElORywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuTEVWRUxfU1dJVENISU5HLCBldmVudHNfMS5kZWZhdWx0LklOSVRfUFRTX0ZPVU5EKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5obHMgPSBobHM7XG4gICAgICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgICAgIF90aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5DdWVzID0gaGxzLmNvbmZpZy5jdWVIYW5kbGVyO1xuICAgICAgICBfdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgICAgIF90aGlzLnRyYWNrcyA9IFtdO1xuICAgICAgICBfdGhpcy51bnBhcnNlZFZ0dEZyYWdzID0gW107XG4gICAgICAgIF90aGlzLmluaXRQVFMgPSBbXTtcbiAgICAgICAgX3RoaXMuY3VlUmFuZ2VzID0gW107XG4gICAgICAgIF90aGlzLmNhcHRpb25zVHJhY2tzID0ge307XG4gICAgICAgIF90aGlzLmNhcHRpb25zUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHRleHRUcmFjazE6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhYmVsLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHRUcmFjazI6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhYmVsLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhbmd1YWdlQ29kZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoX3RoaXMuY29uZmlnLmVuYWJsZUNFQTcwOENhcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbDEgPSBuZXcgb3V0cHV0X2ZpbHRlcl8xLmRlZmF1bHQoX3RoaXMsICd0ZXh0VHJhY2sxJyk7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbDIgPSBuZXcgb3V0cHV0X2ZpbHRlcl8xLmRlZmF1bHQoX3RoaXMsICd0ZXh0VHJhY2syJyk7XG4gICAgICAgICAgICBfdGhpcy5jZWE2MDhQYXJzZXIgPSBuZXcgY2VhXzYwOF9wYXJzZXJfMS5kZWZhdWx0KDAsIGNoYW5uZWwxLCBjaGFubmVsMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmFkZEN1ZXMgPSBmdW5jdGlvbiAodHJhY2tOYW1lLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbikge1xuICAgICAgICAvLyBza2lwIGN1ZXMgd2hpY2ggb3ZlcmxhcCBtb3JlIHRoYW4gNTAlIHdpdGggcHJldmlvdXNseSBwYXJzZWQgdGltZSByYW5nZXNcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuY3VlUmFuZ2VzO1xuICAgICAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSByYW5nZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICB2YXIgY3VlUmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgICAgICB2YXIgb3ZlcmxhcCA9IGludGVyc2VjdGlvbihjdWVSYW5nZVswXSwgY3VlUmFuZ2VbMV0sIHN0YXJ0VGltZSwgZW5kVGltZSk7XG4gICAgICAgICAgICBpZiAob3ZlcmxhcCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VlUmFuZ2VbMF0gPSBNYXRoLm1pbihjdWVSYW5nZVswXSwgc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICBjdWVSYW5nZVsxXSA9IE1hdGgubWF4KGN1ZVJhbmdlWzFdLCBlbmRUaW1lKTtcbiAgICAgICAgICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICgob3ZlcmxhcCAvIChlbmRUaW1lIC0gc3RhcnRUaW1lKSkgPiAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2goW3N0YXJ0VGltZSwgZW5kVGltZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuQ3Vlcy5uZXdDdWUodGhpcy5jYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbik7XG4gICAgfTtcbiAgICAvLyBUcmlnZ2VyZWQgd2hlbiBhbiBpbml0aWFsIFBUUyBpcyBmb3VuZDsgdXNlZCBmb3Igc3luY2hyb25pc2F0aW9uIG9mIFdlYlZUVC5cbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSW5pdFB0c0ZvdW5kID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGRhdGEuaWQgPT09ICdtYWluJykge1xuICAgICAgICAgICAgdGhpcy5pbml0UFRTW2RhdGEuZnJhZy5jY10gPSBkYXRhLmluaXRQVFM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHVlIHRvIGFzeW5jaHJvbm91cyBwcm9jZXNzaW5nLCBpbml0aWFsIFBUUyBtYXkgYXJyaXZlIGxhdGVyIHRoYW4gdGhlIGZpcnN0IFZUVCBmcmFnbWVudHMgYXJlIGxvYWRlZC5cbiAgICAgICAgLy8gUGFyc2UgYW55IHVucGFyc2VkIGZyYWdtZW50cyB1cG9uIHJlY2VpdmluZyB0aGUgaW5pdGlhbCBQVFMuXG4gICAgICAgIGlmICh0aGlzLnVucGFyc2VkVnR0RnJhZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdW5wYXJzZWRWdHRGcmFncyA9IHRoaXMudW5wYXJzZWRWdHRGcmFncztcbiAgICAgICAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncyA9IFtdO1xuICAgICAgICAgICAgdW5wYXJzZWRWdHRGcmFncy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25GcmFnTG9hZGVkKGZyYWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0RXhpc3RpbmdUcmFjayA9IGZ1bmN0aW9uICh0cmFja05hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhLnRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrID0gbWVkaWEudGV4dFRyYWNrc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFRyYWNrW3RyYWNrTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHRUcmFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZUNhcHRpb25zVHJhY2sgPSBmdW5jdGlvbiAodHJhY2tOYW1lKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuY2FwdGlvbnNQcm9wZXJ0aWVzW3RyYWNrTmFtZV0sIGxhYmVsID0gX2EubGFiZWwsIGxhbmd1YWdlQ29kZSA9IF9hLmxhbmd1YWdlQ29kZTtcbiAgICAgICAgdmFyIGNhcHRpb25zVHJhY2tzID0gdGhpcy5jYXB0aW9uc1RyYWNrcztcbiAgICAgICAgaWYgKCFjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdKSB7XG4gICAgICAgICAgICAvLyBFbmFibGUgcmV1c2Ugb2YgZXhpc3RpbmcgdGV4dCB0cmFjay5cbiAgICAgICAgICAgIHZhciBleGlzdGluZ1RyYWNrID0gdGhpcy5nZXRFeGlzdGluZ1RyYWNrKHRyYWNrTmFtZSk7XG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nVHJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrID0gdGhpcy5jcmVhdGVUZXh0VHJhY2soJ2NhcHRpb25zJywgbGFiZWwsIGxhbmd1YWdlQ29kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgYSBzcGVjaWFsIHByb3BlcnR5IG9uIHRoZSB0cmFjayBzbyB3ZSBrbm93IGl0J3MgbWFuYWdlZCBieSBIbHMuanNcbiAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrW3RyYWNrTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdID0gdGV4dFRyYWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0gPSBleGlzdGluZ1RyYWNrO1xuICAgICAgICAgICAgICAgIHRleHR0cmFja191dGlsc18xLmNsZWFyQ3VycmVudEN1ZXMoY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSk7XG4gICAgICAgICAgICAgICAgdGV4dHRyYWNrX3V0aWxzXzEuc2VuZEFkZFRyYWNrRXZlbnQoY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSwgdGhpcy5tZWRpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuY3JlYXRlVGV4dFRyYWNrID0gZnVuY3Rpb24gKGtpbmQsIGxhYmVsLCBsYW5nKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lZGlhLmFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgICAgICB0aGlzLl9jbGVhblRyYWNrcygpO1xuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FwdGlvbnNUcmFja3MgPSB0aGlzLmNhcHRpb25zVHJhY2tzO1xuICAgICAgICBPYmplY3Qua2V5cyhjYXB0aW9uc1RyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAodHJhY2tOYW1lKSB7XG4gICAgICAgICAgICB0ZXh0dHJhY2tfdXRpbHNfMS5jbGVhckN1cnJlbnRDdWVzKGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0pO1xuICAgICAgICAgICAgZGVsZXRlIGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXN0U24gPSAtMTsgLy8gRGV0ZWN0IGRpc2NvbnRpZ3VpdHkgaW4gZnJhZ21lbnQgcGFyc2luZ1xuICAgICAgICB0aGlzLnByZXZDQyA9IC0xO1xuICAgICAgICB0aGlzLnZ0dENDcyA9IHtcbiAgICAgICAgICAgIGNjT2Zmc2V0OiAwLFxuICAgICAgICAgICAgcHJlc2VudGF0aW9uT2Zmc2V0OiAwLFxuICAgICAgICAgICAgMDoge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiAwLCBwcmV2Q0M6IC0xLCBuZXc6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NsZWFuVHJhY2tzKCk7XG4gICAgfTtcbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLl9jbGVhblRyYWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2xlYXIgb3V0ZGF0ZWQgc3VidGl0bGVzXG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgdmFyIHRleHRUcmFja3MgPSBtZWRpYS50ZXh0VHJhY2tzO1xuICAgICAgICAgICAgaWYgKHRleHRUcmFja3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHRyYWNrX3V0aWxzXzEuY2xlYXJDdXJyZW50Q3Vlcyh0ZXh0VHJhY2tzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudGV4dFRyYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgPSB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgfHwgW107XG4gICAgICAgIHRoaXMuaW5pdFBUUyA9IFtdO1xuICAgICAgICB0aGlzLmN1ZVJhbmdlcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlV2ViVlRUKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrcyA9IGRhdGEuc3VidGl0bGVzIHx8IFtdO1xuICAgICAgICAgICAgdmFyIGluVXNlVHJhY2tzXzEgPSB0aGlzLm1lZGlhID8gdGhpcy5tZWRpYS50ZXh0VHJhY2tzIDogW107XG4gICAgICAgICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGluVXNlVHJhY2tzXzEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpblVzZVRyYWNrID0gW10uc2xpY2UuY2FsbChpblVzZVRyYWNrc18xKS5maW5kKGZ1bmN0aW9uIChpblVzZVRyYWNrKSB7IHJldHVybiBjYW5SZXVzZVZ0dFRleHRUcmFjayhpblVzZVRyYWNrLCB0cmFjayk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXVzZSB0cmFja3Mgd2l0aCB0aGUgc2FtZSBsYWJlbCwgYnV0IGRvIG5vdCByZXVzZSA2MDgvNzA4IHRyYWNrc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5Vc2VUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrID0gaW5Vc2VUcmFjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRleHRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhY2sgPSBfdGhpcy5jcmVhdGVUZXh0VHJhY2soJ3N1YnRpdGxlcycsIHRyYWNrLm5hbWUsIHRyYWNrLmxhbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHJhY2suZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhY2subW9kZSA9IF90aGlzLmhscy5zdWJ0aXRsZURpc3BsYXkgPyAnc2hvd2luZycgOiAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRUcmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMudGV4dFRyYWNrcy5wdXNoKHRleHRUcmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkxldmVsU3dpdGNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0aGlzLmhscy5jdXJyZW50TGV2ZWwuY2xvc2VkQ2FwdGlvbnMgIT09ICdOT05FJztcbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcsIHBheWxvYWQgPSBkYXRhLnBheWxvYWQ7XG4gICAgICAgIGlmIChmcmFnLnR5cGUgPT09ICdtYWluJykge1xuICAgICAgICAgICAgdmFyIHNuID0gZnJhZy5zbjtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZnJhZyBpc24ndCBjb250aWd1b3VzLCBjbGVhciB0aGUgcGFyc2VyIHNvIGN1ZXMgd2l0aCBiYWQgc3RhcnQvZW5kIHRpbWVzIGFyZW4ndCBhZGRlZCB0byB0aGUgdGV4dFRyYWNrXG4gICAgICAgICAgICBpZiAoc24gIT09IHRoaXMubGFzdFNuICsgMSkge1xuICAgICAgICAgICAgICAgIHZhciBjZWE2MDhQYXJzZXIgPSB0aGlzLmNlYTYwOFBhcnNlcjtcbiAgICAgICAgICAgICAgICBpZiAoY2VhNjA4UGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNlYTYwOFBhcnNlci5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdFNuID0gc247XG4gICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBicmFjZS1zdHlsZVxuICAgICAgICAvLyBJZiBmcmFnbWVudCBpcyBzdWJ0aXRsZSB0eXBlLCBwYXJzZSBhcyBXZWJWVFQuXG4gICAgICAgIGVsc2UgaWYgKGZyYWcudHlwZSA9PT0gJ3N1YnRpdGxlJykge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgYW4gaW5pdGlhbCBzeW5jaHJvbmlzYXRpb24gUFRTLiBTdG9yZSBmcmFnbWVudHMgYXMgbG9uZyBhcyBub25lIGhhcyBhcnJpdmVkLlxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHRoaXMuaW5pdFBUU1tmcmFnLmNjXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnBhcnNlZFZ0dEZyYWdzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRQVFMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdW5zdWNjZXNzZnVsbHksIG90aGVyd2lzZSB0aGUgc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIgY291bGQgYmUgYmxvY2tlZCBmcm9tIGxvYWRpbmcgbmV3IGZyYWdzLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7IHN1Y2Nlc3M6IGZhbHNlLCBmcmFnOiBmcmFnIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGRlY3J5cHREYXRhID0gZnJhZy5kZWNyeXB0ZGF0YTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc3VidGl0bGVzIGFyZSBub3QgZW5jcnlwdGVkLCBwYXJzZSBWVFRzIG5vdy4gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHdhaXQuXG4gICAgICAgICAgICAgICAgaWYgKChkZWNyeXB0RGF0YSA9PSBudWxsKSB8fCAoZGVjcnlwdERhdGEua2V5ID09IG51bGwpIHx8IChkZWNyeXB0RGF0YS5tZXRob2QgIT09ICdBRVMtMTI4JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VWVFRzKGZyYWcsIHBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluIGNhc2UgdGhlcmUgaXMgbm8gcGF5bG9hZCwgZmluaXNoIHVuc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCwgeyBzdWNjZXNzOiBmYWxzZSwgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5fcGFyc2VWVFRzID0gZnVuY3Rpb24gKGZyYWcsIHBheWxvYWQpIHtcbiAgICAgICAgdmFyIHZ0dENDcyA9IHRoaXMudnR0Q0NzO1xuICAgICAgICBpZiAoIXZ0dENDc1tmcmFnLmNjXSkge1xuICAgICAgICAgICAgdnR0Q0NzW2ZyYWcuY2NdID0geyBzdGFydDogZnJhZy5zdGFydCwgcHJldkNDOiB0aGlzLnByZXZDQywgbmV3OiB0cnVlIH07XG4gICAgICAgICAgICB0aGlzLnByZXZDQyA9IGZyYWcuY2M7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHRUcmFja3MgPSB0aGlzLnRleHRUcmFja3MsIGhscyA9IHRoaXMuaGxzO1xuICAgICAgICAvLyBQYXJzZSB0aGUgV2ViVlRUIGZpbGUgY29udGVudHMuXG4gICAgICAgIHdlYnZ0dF9wYXJzZXJfMS5kZWZhdWx0LnBhcnNlKHBheWxvYWQsIHRoaXMuaW5pdFBUU1tmcmFnLmNjXSwgdnR0Q0NzLCBmcmFnLmNjLCBmdW5jdGlvbiAoY3Vlcykge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUcmFjayA9IHRleHRUcmFja3NbZnJhZy50cmFja0lkXTtcbiAgICAgICAgICAgIC8vIFdlYlZUVFBhcnNlci5wYXJzZSBpcyBhbiBhc3luYyBtZXRob2QgYW5kIGlmIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGV4dCB0cmFjayBtb2RlIGlzIHNldCB0byBcImRpc2FibGVkXCJcbiAgICAgICAgICAgIC8vIGJlZm9yZSBwYXJzaW5nIGlzIGRvbmUgdGhlbiBkb24ndCB0cnkgdG8gYWNjZXNzIGN1cnJlbnRUcmFjay5jdWVzLmdldEN1ZUJ5SWQgYXMgY3VlcyB3aWxsIGJlIG51bGxcbiAgICAgICAgICAgIC8vIGFuZCB0cnlpbmcgdG8gYWNjZXNzIGdldEN1ZUJ5SWQgbWV0aG9kIG9mIGN1ZXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb25cbiAgICAgICAgICAgIGlmIChjdXJyZW50VHJhY2subW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIGN1ZXMgYW5kIHRyaWdnZXIgZXZlbnQgd2l0aCBzdWNjZXNzIHRydWUuXG4gICAgICAgICAgICBjdWVzLmZvckVhY2goZnVuY3Rpb24gKGN1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGVyZSBhcmUgY3VlIG92ZXJsYXBzIG9uIHNlZ21lbnRlZCB2dHRzIHNvIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gY3VlIGNhbiBhcHBlYXIgbW9yZSB0aGFuIG9uY2UgaW4gZGlmZmVyZW50IHZ0dCBmaWxlcy5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGF2b2lkIHNob3dpbmcgZHVwbGljYXRlZCBjdWVzIHdpdGggc2FtZSB0aW1lY29kZSBhbmQgdGV4dC5cbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRUcmFjay5jdWVzLmdldEN1ZUJ5SWQoY3VlLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNrLmFkZEN1ZShjdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0VHJhY2tDdWUgPSBuZXcgd2luZG93LlRleHRUcmFja0N1ZShjdWUuc3RhcnRUaW1lLCBjdWUuZW5kVGltZSwgY3VlLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrQ3VlLmlkID0gY3VlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNrLmFkZEN1ZSh0ZXh0VHJhY2tDdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7IHN1Y2Nlc3M6IHRydWUsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBwYXJzaW5nLiBUcmlnZ2VyIGV2ZW50IHdpdGggc3VjY2VzcyBmYWxzZS5cbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJGYWlsZWQgdG8gcGFyc2UgVlRUIGN1ZTogXCIgKyBlKTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdEZWNyeXB0ZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZGVjcnlwdGVkRGF0YSA9IGRhdGEucGF5bG9hZCwgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWcudHlwZSA9PT0gJ3N1YnRpdGxlJykge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGhpcy5pbml0UFRTW2ZyYWcuY2NdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3BhcnNlVlRUcyhmcmFnLCBkZWNyeXB0ZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nVXNlcmRhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBwdXNoIGFsbCBvZiB0aGUgQ0VBLTcwOCBtZXNzYWdlcyBpbnRvIHRoZSBpbnRlcnByZXRlclxuICAgICAgICAvLyBpbW1lZGlhdGVseS4gSXQgd2lsbCBjcmVhdGUgdGhlIHByb3BlciB0aW1lc3RhbXBzIGJhc2VkIG9uIG91ciBQVFMgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmNvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2NkYXRhcyA9IHRoaXMuZXh0cmFjdENlYTYwOERhdGEoZGF0YS5zYW1wbGVzW2ldLmJ5dGVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNlYTYwOFBhcnNlci5hZGREYXRhKGRhdGEuc2FtcGxlc1tpXS5wdHMsIGNjZGF0YXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmV4dHJhY3RDZWE2MDhEYXRhID0gZnVuY3Rpb24gKGJ5dGVBcnJheSkge1xuICAgICAgICB2YXIgY291bnQgPSBieXRlQXJyYXlbMF0gJiAzMTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gMjtcbiAgICAgICAgdmFyIHRtcEJ5dGUsIGNjYnl0ZTEsIGNjYnl0ZTIsIGNjVmFsaWQsIGNjVHlwZTtcbiAgICAgICAgdmFyIGFjdHVhbENDQnl0ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICB0bXBCeXRlID0gYnl0ZUFycmF5W3Bvc2l0aW9uKytdO1xuICAgICAgICAgICAgY2NieXRlMSA9IDB4N0YgJiBieXRlQXJyYXlbcG9zaXRpb24rK107XG4gICAgICAgICAgICBjY2J5dGUyID0gMHg3RiAmIGJ5dGVBcnJheVtwb3NpdGlvbisrXTtcbiAgICAgICAgICAgIGNjVmFsaWQgPSAoNCAmIHRtcEJ5dGUpICE9PSAwO1xuICAgICAgICAgICAgY2NUeXBlID0gMyAmIHRtcEJ5dGU7XG4gICAgICAgICAgICBpZiAoY2NieXRlMSA9PT0gMCAmJiBjY2J5dGUyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2NWYWxpZCkge1xuICAgICAgICAgICAgICAgIGlmIChjY1R5cGUgPT09IDApIHsgLy8gfHwgY2NUeXBlID09PSAxXG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbENDQnl0ZXMucHVzaChjY2J5dGUxKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsQ0NCeXRlcy5wdXNoKGNjYnl0ZTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0dWFsQ0NCeXRlcztcbiAgICB9O1xuICAgIHJldHVybiBUaW1lbGluZUNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXJfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lbGluZUNvbnRyb2xsZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NyeXB0L2Flcy1jcnlwdG8uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jcnlwdC9hZXMtY3J5cHRvLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBRVNDcnlwdG8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQUVTQ3J5cHRvKHN1YnRsZSwgaXYpIHtcbiAgICAgICAgdGhpcy5zdWJ0bGUgPSBzdWJ0bGU7XG4gICAgICAgIHRoaXMuYWVzSVYgPSBpdjtcbiAgICB9XG4gICAgQUVTQ3J5cHRvLnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gKGRhdGEsIGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJ0bGUuZGVjcnlwdCh7IG5hbWU6ICdBRVMtQ0JDJywgaXY6IHRoaXMuYWVzSVYgfSwga2V5LCBkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBBRVNDcnlwdG87XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQUVTQ3J5cHRvO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NyeXB0L2Flcy1kZWNyeXB0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jcnlwdC9hZXMtZGVjcnlwdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFBLQ1M3XG5mdW5jdGlvbiByZW1vdmVQYWRkaW5nKGJ1ZmZlcikge1xuICAgIHZhciBvdXRwdXRCeXRlcyA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBvdXRwdXRCeXRlcyAmJiAobmV3IERhdGFWaWV3KGJ1ZmZlcikpLmdldFVpbnQ4KG91dHB1dEJ5dGVzIC0gMSk7XG4gICAgaWYgKHBhZGRpbmdCeXRlcykge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKDAsIG91dHB1dEJ5dGVzIC0gcGFkZGluZ0J5dGVzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxufVxuZXhwb3J0cy5yZW1vdmVQYWRkaW5nID0gcmVtb3ZlUGFkZGluZztcbnZhciBBRVNEZWNyeXB0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQUVTRGVjcnlwdG9yKCkge1xuICAgICAgICAvLyBTdGF0aWMgYWZ0ZXIgcnVubmluZyBpbml0VGFibGVcbiAgICAgICAgdGhpcy5yY29uID0gWzB4MCwgMHgxLCAweDIsIDB4NCwgMHg4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XTtcbiAgICAgICAgdGhpcy5zdWJNaXggPSBbbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NildO1xuICAgICAgICB0aGlzLmludlN1Yk1peCA9IFtuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KV07XG4gICAgICAgIHRoaXMuc0JveCA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xuICAgICAgICB0aGlzLmludlNCb3ggPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICAgICAgLy8gQ2hhbmdlcyBkdXJpbmcgcnVudGltZVxuICAgICAgICB0aGlzLmtleSA9IG5ldyBVaW50MzJBcnJheSgwKTtcbiAgICAgICAgdGhpcy5pbml0VGFibGUoKTtcbiAgICB9XG4gICAgLy8gVXNpbmcgdmlldy5nZXRVaW50MzIoKSBhbHNvIHN3YXBzIHRoZSBieXRlIG9yZGVyLlxuICAgIEFFU0RlY3J5cHRvci5wcm90b3R5cGUudWludDhBcnJheVRvVWludDMyQXJyYXlfID0gZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgbmV3QXJyYXlbaV0gPSB2aWV3LmdldFVpbnQzMihpICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgIH07XG4gICAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS5pbml0VGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzQm94ID0gdGhpcy5zQm94O1xuICAgICAgICB2YXIgaW52U0JveCA9IHRoaXMuaW52U0JveDtcbiAgICAgICAgdmFyIHN1Yk1peCA9IHRoaXMuc3ViTWl4O1xuICAgICAgICB2YXIgc3ViTWl4MCA9IHN1Yk1peFswXTtcbiAgICAgICAgdmFyIHN1Yk1peDEgPSBzdWJNaXhbMV07XG4gICAgICAgIHZhciBzdWJNaXgyID0gc3ViTWl4WzJdO1xuICAgICAgICB2YXIgc3ViTWl4MyA9IHN1Yk1peFszXTtcbiAgICAgICAgdmFyIGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgICAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICAgICAgdmFyIGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgICAgIHZhciBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgICAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcbiAgICAgICAgdmFyIGQgPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICB2YXIgeGkgPSAwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPCAxMjgpIHtcbiAgICAgICAgICAgICAgICBkW2ldID0gaSA8PCAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZFtpXSA9IChpIDw8IDEpIF4gMHgxMWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ggPSB4aSBeICh4aSA8PCAxKSBeICh4aSA8PCAyKSBeICh4aSA8PCAzKSBeICh4aSA8PCA0KTtcbiAgICAgICAgICAgIHN4ID0gKHN4ID4+PiA4KSBeIChzeCAmIDB4ZmYpIF4gMHg2MztcbiAgICAgICAgICAgIHNCb3hbeF0gPSBzeDtcbiAgICAgICAgICAgIGludlNCb3hbc3hdID0geDtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgbXVsdGlwbGljYXRpb25cbiAgICAgICAgICAgIHZhciB4MiA9IGRbeF07XG4gICAgICAgICAgICB2YXIgeDQgPSBkW3gyXTtcbiAgICAgICAgICAgIHZhciB4OCA9IGRbeDRdO1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSBzdWIvaW52U3ViIGJ5dGVzLCBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgICAgICAgIHZhciB0ID0gKGRbc3hdICogMHgxMDEpIF4gKHN4ICogMHgxMDEwMTAwKTtcbiAgICAgICAgICAgIHN1Yk1peDBbeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCk7XG4gICAgICAgICAgICBzdWJNaXgxW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcbiAgICAgICAgICAgIHN1Yk1peDJbeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XG4gICAgICAgICAgICBzdWJNaXgzW3hdID0gdDtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgaW52IHN1YiBieXRlcywgaW52IG1peCBjb2x1bW5zIHRhYmxlc1xuICAgICAgICAgICAgdCA9ICh4OCAqIDB4MTAxMDEwMSkgXiAoeDQgKiAweDEwMDAxKSBeICh4MiAqIDB4MTAxKSBeICh4ICogMHgxMDEwMTAwKTtcbiAgICAgICAgICAgIGludlN1Yk1peDBbc3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpO1xuICAgICAgICAgICAgaW52U3ViTWl4MVtzeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpO1xuICAgICAgICAgICAgaW52U3ViTWl4MltzeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XG4gICAgICAgICAgICBpbnZTdWJNaXgzW3N4XSA9IHQ7XG4gICAgICAgICAgICAvLyBDb21wdXRlIG5leHQgY291bnRlclxuICAgICAgICAgICAgaWYgKCF4KSB7XG4gICAgICAgICAgICAgICAgeCA9IHhpID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV07XG4gICAgICAgICAgICAgICAgeGkgXj0gZFtkW3hpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFFU0RlY3J5cHRvci5wcm90b3R5cGUuZXhwYW5kS2V5ID0gZnVuY3Rpb24gKGtleUJ1ZmZlcikge1xuICAgICAgICAvLyBjb252ZXJ0IGtleUJ1ZmZlciB0byBVaW50MzJBcnJheVxuICAgICAgICB2YXIga2V5ID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oa2V5QnVmZmVyKTtcbiAgICAgICAgdmFyIHNhbWVLZXkgPSB0cnVlO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGtleS5sZW5ndGggJiYgc2FtZUtleSkge1xuICAgICAgICAgICAgc2FtZUtleSA9IChrZXlbb2Zmc2V0XSA9PT0gdGhpcy5rZXlbb2Zmc2V0XSk7XG4gICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FtZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB2YXIga2V5U2l6ZSA9IHRoaXMua2V5U2l6ZSA9IGtleS5sZW5ndGg7XG4gICAgICAgIGlmIChrZXlTaXplICE9PSA0ICYmIGtleVNpemUgIT09IDYgJiYga2V5U2l6ZSAhPT0gOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFlcyBrZXkgc2l6ZT0nICsga2V5U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtzUm93cyA9IHRoaXMua3NSb3dzID0gKGtleVNpemUgKyA2ICsgMSkgKiA0O1xuICAgICAgICB2YXIga3NSb3c7XG4gICAgICAgIHZhciBpbnZLc1JvdztcbiAgICAgICAgdmFyIGtleVNjaGVkdWxlID0gdGhpcy5rZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheShrc1Jvd3MpO1xuICAgICAgICB2YXIgaW52S2V5U2NoZWR1bGUgPSB0aGlzLmludktleVNjaGVkdWxlID0gbmV3IFVpbnQzMkFycmF5KGtzUm93cyk7XG4gICAgICAgIHZhciBzYm94ID0gdGhpcy5zQm94O1xuICAgICAgICB2YXIgcmNvbiA9IHRoaXMucmNvbjtcbiAgICAgICAgdmFyIGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgICAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICAgICAgdmFyIGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgICAgIHZhciBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgICAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcbiAgICAgICAgdmFyIHByZXY7XG4gICAgICAgIHZhciB0O1xuICAgICAgICBmb3IgKGtzUm93ID0gMDsga3NSb3cgPCBrc1Jvd3M7IGtzUm93KyspIHtcbiAgICAgICAgICAgIGlmIChrc1JvdyA8IGtleVNpemUpIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0ga2V5U2NoZWR1bGVba3NSb3ddID0ga2V5W2tzUm93XTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQgPSBwcmV2O1xuICAgICAgICAgICAgaWYgKGtzUm93ICUga2V5U2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFJvdCB3b3JkXG4gICAgICAgICAgICAgICAgdCA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcbiAgICAgICAgICAgICAgICAvLyBTdWIgd29yZFxuICAgICAgICAgICAgICAgIHQgPSAoc2JveFt0ID4+PiAyNF0gPDwgMjQpIHwgKHNib3hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChzYm94Wyh0ID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgc2JveFt0ICYgMHhmZl07XG4gICAgICAgICAgICAgICAgLy8gTWl4IFJjb25cbiAgICAgICAgICAgICAgICB0IF49IHJjb25bKGtzUm93IC8ga2V5U2l6ZSkgfCAwXSA8PCAyNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleVNpemUgPiA2ICYmIGtzUm93ICUga2V5U2l6ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIC8vIFN1YiB3b3JkXG4gICAgICAgICAgICAgICAgdCA9IChzYm94W3QgPj4+IDI0XSA8PCAyNCkgfCAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKHNib3hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBzYm94W3QgJiAweGZmXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleVNjaGVkdWxlW2tzUm93XSA9IHByZXYgPSAoa2V5U2NoZWR1bGVba3NSb3cgLSBrZXlTaXplXSBeIHQpID4+PiAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgICAgICAgICAga3NSb3cgPSBrc1Jvd3MgLSBpbnZLc1JvdztcbiAgICAgICAgICAgIGlmIChpbnZLc1JvdyAmIDMpIHtcbiAgICAgICAgICAgICAgICB0ID0ga2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdCA9IGtleVNjaGVkdWxlW2tzUm93IC0gNF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW52S3NSb3cgPCA0IHx8IGtzUm93IDw9IDQpIHtcbiAgICAgICAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52U3ViTWl4MFtzYm94W3QgPj4+IDI0XV0gXiBpbnZTdWJNaXgxW3Nib3hbKHQgPj4+IDE2KSAmIDB4ZmZdXSBeIGludlN1Yk1peDJbc2JveFsodCA+Pj4gOCkgJiAweGZmXV0gXiBpbnZTdWJNaXgzW3Nib3hbdCAmIDB4ZmZdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktleVNjaGVkdWxlW2ludktzUm93XSA+Pj4gMDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQWRkaW5nIHRoaXMgYXMgYSBtZXRob2QgZ3JlYXRseSBpbXByb3ZlcyBwZXJmb3JtYW5jZS5cbiAgICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAgPSBmdW5jdGlvbiAod29yZCkge1xuICAgICAgICByZXR1cm4gKHdvcmQgPDwgMjQpIHwgKCh3b3JkICYgMHhmZjAwKSA8PCA4KSB8ICgod29yZCAmIDB4ZmYwMDAwKSA+PiA4KSB8ICh3b3JkID4+PiAyNCk7XG4gICAgfTtcbiAgICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiAoaW5wdXRBcnJheUJ1ZmZlciwgb2Zmc2V0LCBhZXNJViwgcmVtb3ZlUEtDUzdQYWRkaW5nKSB7XG4gICAgICAgIHZhciBuUm91bmRzID0gdGhpcy5rZXlTaXplICsgNjtcbiAgICAgICAgdmFyIGludktleVNjaGVkdWxlID0gdGhpcy5pbnZLZXlTY2hlZHVsZTtcbiAgICAgICAgdmFyIGludlNCT1ggPSB0aGlzLmludlNCb3g7XG4gICAgICAgIHZhciBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICAgICAgdmFyIGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgICAgIHZhciBpbnZTdWJNaXgxID0gaW52U3ViTWl4WzFdO1xuICAgICAgICB2YXIgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICAgICAgdmFyIGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG4gICAgICAgIHZhciBpbml0VmVjdG9yID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oYWVzSVYpO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjAgPSBpbml0VmVjdG9yWzBdO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjEgPSBpbml0VmVjdG9yWzFdO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjIgPSBpbml0VmVjdG9yWzJdO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjMgPSBpbml0VmVjdG9yWzNdO1xuICAgICAgICB2YXIgaW5wdXRJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGlucHV0QXJyYXlCdWZmZXIpO1xuICAgICAgICB2YXIgb3V0cHV0SW50MzIgPSBuZXcgSW50MzJBcnJheShpbnB1dEludDMyLmxlbmd0aCk7XG4gICAgICAgIHZhciB0MCwgdDEsIHQyLCB0MztcbiAgICAgICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuICAgICAgICB2YXIgaW5wdXRXb3JkczAsIGlucHV0V29yZHMxLCBpbnB1dFdvcmRzMiwgaW5wdXRXb3JkczM7XG4gICAgICAgIHZhciBrc1JvdywgaTtcbiAgICAgICAgdmFyIHN3YXBXb3JkID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgaW5wdXRJbnQzMi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlucHV0V29yZHMwID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXRdKTtcbiAgICAgICAgICAgIGlucHV0V29yZHMxID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAxXSk7XG4gICAgICAgICAgICBpbnB1dFdvcmRzMiA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgMl0pO1xuICAgICAgICAgICAgaW5wdXRXb3JkczMgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldCArIDNdKTtcbiAgICAgICAgICAgIHMwID0gaW5wdXRXb3JkczAgXiBpbnZLZXlTY2hlZHVsZVswXTtcbiAgICAgICAgICAgIHMxID0gaW5wdXRXb3JkczMgXiBpbnZLZXlTY2hlZHVsZVsxXTtcbiAgICAgICAgICAgIHMyID0gaW5wdXRXb3JkczIgXiBpbnZLZXlTY2hlZHVsZVsyXTtcbiAgICAgICAgICAgIHMzID0gaW5wdXRXb3JkczEgXiBpbnZLZXlTY2hlZHVsZVszXTtcbiAgICAgICAgICAgIGtzUm93ID0gNDtcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcm91bmRzIG9mIGRlY3J5cHRpb25cbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBuUm91bmRzOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0MCA9IGludlN1Yk1peDBbczAgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMxID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczIgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczMgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgICAgICAgICAgICB0MSA9IGludlN1Yk1peDBbczEgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMyID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczMgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczAgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMV07XG4gICAgICAgICAgICAgICAgdDIgPSBpbnZTdWJNaXgwW3MyID4+PiAyNF0gXiBpbnZTdWJNaXgxWyhzMyA+PiAxNikgJiAweGZmXSBeIGludlN1Yk1peDJbKHMwID4+IDgpICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MxICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xuICAgICAgICAgICAgICAgIHQzID0gaW52U3ViTWl4MFtzMyA+Pj4gMjRdIF4gaW52U3ViTWl4MVsoczAgPj4gMTYpICYgMHhmZl0gXiBpbnZTdWJNaXgyWyhzMSA+PiA4KSAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMiAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgICAgICAgICAgICBzMCA9IHQwO1xuICAgICAgICAgICAgICAgIHMxID0gdDE7XG4gICAgICAgICAgICAgICAgczIgPSB0MjtcbiAgICAgICAgICAgICAgICBzMyA9IHQzO1xuICAgICAgICAgICAgICAgIGtzUm93ID0ga3NSb3cgKyA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2hpZnQgcm93cywgc3ViIGJ5dGVzLCBhZGQgcm91bmQga2V5XG4gICAgICAgICAgICB0MCA9ICgoaW52U0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMSA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczIgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczMgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICAgICAgICB0MSA9ICgoaW52U0JPWFtzMSA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMiA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczMgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczAgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xuICAgICAgICAgICAgdDIgPSAoKGludlNCT1hbczIgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczMgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMwID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MxICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcbiAgICAgICAgICAgIHQzID0gKChpbnZTQk9YW3MzID4+PiAyNF0gPDwgMjQpIF4gKGludlNCT1hbKHMwID4+IDE2KSAmIDB4ZmZdIDw8IDE2KSBeIChpbnZTQk9YWyhzMSA+PiA4KSAmIDB4ZmZdIDw8IDgpIF4gaW52U0JPWFtzMiAmIDB4ZmZdKSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgM107XG4gICAgICAgICAgICBrc1JvdyA9IGtzUm93ICsgMztcbiAgICAgICAgICAgIC8vIFdyaXRlXG4gICAgICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXRdID0gc3dhcFdvcmQodDAgXiBpbml0VmVjdG9yMCk7XG4gICAgICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAxXSA9IHN3YXBXb3JkKHQzIF4gaW5pdFZlY3RvcjEpO1xuICAgICAgICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgMl0gPSBzd2FwV29yZCh0MiBeIGluaXRWZWN0b3IyKTtcbiAgICAgICAgICAgIG91dHB1dEludDMyW29mZnNldCArIDNdID0gc3dhcFdvcmQodDEgXiBpbml0VmVjdG9yMyk7XG4gICAgICAgICAgICAvLyByZXNldCBpbml0VmVjdG9yIHRvIGxhc3QgNCB1bnNpZ25lZCBpbnRcbiAgICAgICAgICAgIGluaXRWZWN0b3IwID0gaW5wdXRXb3JkczA7XG4gICAgICAgICAgICBpbml0VmVjdG9yMSA9IGlucHV0V29yZHMxO1xuICAgICAgICAgICAgaW5pdFZlY3RvcjIgPSBpbnB1dFdvcmRzMjtcbiAgICAgICAgICAgIGluaXRWZWN0b3IzID0gaW5wdXRXb3JkczM7XG4gICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyA0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVQS0NTN1BhZGRpbmcgPyByZW1vdmVQYWRkaW5nKG91dHB1dEludDMyLmJ1ZmZlcikgOiBvdXRwdXRJbnQzMi5idWZmZXI7XG4gICAgfTtcbiAgICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMua2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmtleVNpemUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMua3NSb3dzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNCb3ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW52U0JveCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdWJNaXggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW52U3ViTWl4ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmtleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmludktleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJjb24gPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQUVTRGVjcnlwdG9yO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFFU0RlY3J5cHRvcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jcnlwdC9kZWNyeXB0ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NyeXB0L2RlY3J5cHRlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBhZXNfY3J5cHRvXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Flcy1jcnlwdG8gKi8gXCIuL3NyYy9jcnlwdC9hZXMtY3J5cHRvLmpzXCIpO1xudmFyIGZhc3RfYWVzX2tleV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mYXN0LWFlcy1rZXkgKi8gXCIuL3NyYy9jcnlwdC9mYXN0LWFlcy1rZXkuanNcIik7XG52YXIgYWVzX2RlY3J5cHRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9hZXMtZGVjcnlwdG9yICovIFwiLi9zcmMvY3J5cHQvYWVzLWRlY3J5cHRvci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBnZXRfc2VsZl9zY29wZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2V0LXNlbGYtc2NvcGUgKi8gXCIuL3NyYy91dGlscy9nZXQtc2VsZi1zY29wZS5qc1wiKTtcbi8vIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTEyMzcyNTkvNTg5NDkzXG52YXIgZ2xvYmFsID0gZ2V0X3NlbGZfc2NvcGVfMS5nZXRTZWxmU2NvcGUoKTsgLy8gc2FmZWd1YXJkIGZvciBjb2RlIHRoYXQgbWlnaHQgcnVuIGJvdGggb24gd29ya2VyIGFuZCBtYWluIHRocmVhZFxudmFyIERlY3J5cHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNyeXB0ZXIob2JzZXJ2ZXIsIGNvbmZpZywgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5yZW1vdmVQS0NTN1BhZGRpbmcsIHJlbW92ZVBLQ1M3UGFkZGluZyA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2I7XG4gICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucmVtb3ZlUEtDUzdQYWRkaW5nID0gcmVtb3ZlUEtDUzdQYWRkaW5nO1xuICAgICAgICAvLyBidWlsdCBpbiBkZWNyeXB0b3IgZXhwZWN0cyBQS0NTNyBwYWRkaW5nXG4gICAgICAgIGlmIChyZW1vdmVQS0NTN1BhZGRpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGJyb3dzZXJDcnlwdG8gPSBnbG9iYWwuY3J5cHRvO1xuICAgICAgICAgICAgICAgIGlmIChicm93c2VyQ3J5cHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VidGxlID0gYnJvd3NlckNyeXB0by5zdWJ0bGUgfHwgYnJvd3NlckNyeXB0by53ZWJraXRTdWJ0bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzYWJsZVdlYkNyeXB0byA9ICF0aGlzLnN1YnRsZTtcbiAgICB9XG4gICAgRGVjcnlwdGVyLnByb3RvdHlwZS5pc1N5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5kaXNhYmxlV2ViQ3J5cHRvICYmIHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKTtcbiAgICB9O1xuICAgIERlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdCA9IGZ1bmN0aW9uIChkYXRhLCBrZXksIGl2LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlV2ViQ3J5cHRvICYmIHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnSlMgQUVTIGRlY3J5cHQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkZWNyeXB0b3IgPSB0aGlzLmRlY3J5cHRvcjtcbiAgICAgICAgICAgIGlmICghZGVjcnlwdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyeXB0b3IgPSBkZWNyeXB0b3IgPSBuZXcgYWVzX2RlY3J5cHRvcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlY3J5cHRvci5leHBhbmRLZXkoa2V5KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGRlY3J5cHRvci5kZWNyeXB0KGRhdGEsIDAsIGl2LCB0aGlzLnJlbW92ZVBLQ1M3UGFkZGluZykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1dlYkNyeXB0byBBRVMgZGVjcnlwdCcpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN1YnRsZV8xID0gdGhpcy5zdWJ0bGU7XG4gICAgICAgICAgICBpZiAodGhpcy5rZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgIHRoaXMuZmFzdEFlc0tleSA9IG5ldyBmYXN0X2Flc19rZXlfMS5kZWZhdWx0KHN1YnRsZV8xLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mYXN0QWVzS2V5LmV4cGFuZEtleSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFlc0tleSkge1xuICAgICAgICAgICAgICAgIC8vIGRlY3J5cHQgdXNpbmcgd2ViIGNyeXB0b1xuICAgICAgICAgICAgICAgIHZhciBjcnlwdG8gPSBuZXcgYWVzX2NyeXB0b18xLmRlZmF1bHQoc3VidGxlXzEsIGl2KTtcbiAgICAgICAgICAgICAgICBjcnlwdG8uZGVjcnlwdChkYXRhLCBhZXNLZXkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVjcnlwdGVyLnByb3RvdHlwZS5vbldlYkNyeXB0b0Vycm9yID0gZnVuY3Rpb24gKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdXZWJDcnlwdG8gRXJyb3IsIGRpc2FibGUgV2ViQ3J5cHRvIEFQSScpO1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlV2ViQ3J5cHRvID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlY3J5cHQoZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKFwiZGVjcnlwdGluZyBlcnJvciA6IFwiICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfREVDUllQVF9FUlJPUiwgZmF0YWw6IHRydWUsIHJlYXNvbjogZXJyLm1lc3NhZ2UgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY3J5cHRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlY3J5cHRvciA9IHRoaXMuZGVjcnlwdG9yO1xuICAgICAgICBpZiAoZGVjcnlwdG9yKSB7XG4gICAgICAgICAgICBkZWNyeXB0b3IuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEZWNyeXB0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRGVjcnlwdGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NyeXB0L2Zhc3QtYWVzLWtleS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY3J5cHQvZmFzdC1hZXMta2V5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEZhc3RBRVNLZXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFzdEFFU0tleShzdWJ0bGUsIGtleSkge1xuICAgICAgICB0aGlzLnN1YnRsZSA9IHN1YnRsZTtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgfVxuICAgIEZhc3RBRVNLZXkucHJvdG90eXBlLmV4cGFuZEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VidGxlLmltcG9ydEtleSgncmF3JywgdGhpcy5rZXksIHsgbmFtZTogJ0FFUy1DQkMnIH0sIGZhbHNlLCBbJ2VuY3J5cHQnLCAnZGVjcnlwdCddKTtcbiAgICB9O1xuICAgIHJldHVybiBGYXN0QUVTS2V5O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZhc3RBRVNLZXk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvYWFjZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2FhY2RlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQUFDIGRlbXV4ZXJcbiAqL1xudmFyIEFEVFMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FkdHMgKi8gXCIuL3NyYy9kZW11eC9hZHRzLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGlkM18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvaWQzICovIFwiLi9zcmMvZGVtdXgvaWQzLmpzXCIpO1xudmFyIEFBQ0RlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQUFDRGVtdXhlcihvYnNlcnZlciwgcmVtdXhlciwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucmVtdXhlciA9IHJlbXV4ZXI7XG4gICAgfVxuICAgIEFBQ0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiAoaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIGR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL2FkdHMnLCB0eXBlOiAnYXVkaW8nLCBpZDogMCwgc2VxdWVuY2VOdW1iZXI6IDAsIGlzQUFDOiB0cnVlLCBzYW1wbGVzOiBbXSwgbGVuOiAwLCBtYW5pZmVzdENvZGVjOiBhdWRpb0NvZGVjLCBkdXJhdGlvbjogZHVyYXRpb24sIGlucHV0VGltZVNjYWxlOiA5MDAwMCB9O1xuICAgIH07XG4gICAgQUFDRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBBQUNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBBRFRTIHN5bmMgd29yZFxuICAgICAgICAvLyBMb29rIGZvciBBRFRTIGhlYWRlciB8IDExMTEgMTExMSB8IDExMTEgWDAwWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDFcbiAgICAgICAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyAwIGZvciBBRFRTXG4gICAgICAgIC8vIE1vcmUgaW5mbyBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuICAgICAgICB2YXIgaWQzRGF0YSA9IGlkM18xLmRlZmF1bHQuZ2V0SUQzRGF0YShkYXRhLCAwKSB8fCBbXTtcbiAgICAgICAgdmFyIG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBsZW5ndGhfMSA9IGRhdGEubGVuZ3RoOyBvZmZzZXQgPCBsZW5ndGhfMTsgb2Zmc2V0KyspIHtcbiAgICAgICAgICAgIGlmIChBRFRTLnByb2JlKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdBRFRTIHN5bmMgd29yZCBmb3VuZCAhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuICAgIEFBQ0RlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdGhpcy5fYXVkaW9UcmFjaztcbiAgICAgICAgdmFyIGlkM0RhdGEgPSBpZDNfMS5kZWZhdWx0LmdldElEM0RhdGEoZGF0YSwgMCkgfHwgW107XG4gICAgICAgIHZhciB0aW1lc3RhbXAgPSBpZDNfMS5kZWZhdWx0LmdldFRpbWVTdGFtcChpZDNEYXRhKTtcbiAgICAgICAgdmFyIHB0cyA9IE51bWJlci5pc0Zpbml0ZSh0aW1lc3RhbXApID8gdGltZXN0YW1wICogOTAgOiB0aW1lT2Zmc2V0ICogOTAwMDA7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgdmFyIHN0YW1wID0gcHRzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGlkM1NhbXBsZXMgPSBbeyBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wLCBkYXRhOiBpZDNEYXRhIH1dO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaWYgKEFEVFMuaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSAmJiAob2Zmc2V0ICsgNSkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBBRFRTLmluaXRUcmFja0NvbmZpZyh0cmFjaywgdGhpcy5vYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCB0cmFjay5tYW5pZmVzdENvZGVjKTtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBBRFRTLmFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHN0YW1wID0gZnJhbWUuc2FtcGxlLnB0cztcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnVW5hYmxlIHRvIHBhcnNlIEFBQyBmcmFtZScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpZDNfMS5kZWZhdWx0LmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWQzU2FtcGxlcy5wdXNoKHsgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9KTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbXV4ZXIucmVtdXgodHJhY2ssIHsgc2FtcGxlczogW10gfSwgeyBzYW1wbGVzOiBpZDNTYW1wbGVzLCBpbnB1dFRpbWVTY2FsZTogOTAwMDAgfSwgeyBzYW1wbGVzOiBbXSB9LCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgIH07XG4gICAgQUFDRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIHJldHVybiBBQUNEZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFBQ0RlbXV4ZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L2FkdHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kZW11eC9hZHRzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogIEFEVFMgcGFyc2VyIGhlbHBlclxuICovXG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG5mdW5jdGlvbiBnZXRBdWRpb0NvbmZpZyhvYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCBhdWRpb0NvZGVjKSB7XG4gICAgdmFyIGFkdHNPYmplY3RUeXBlLCAvLyA6aW50XG4gICAgYWR0c1NhbXBsZWluZ0luZGV4LCAvLyA6aW50XG4gICAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4LCAvLyA6aW50XG4gICAgYWR0c0NoYW5lbENvbmZpZywgLy8gOmludFxuICAgIGNvbmZpZywgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLCBtYW5pZmVzdENvZGVjID0gYXVkaW9Db2RlYywgYWR0c1NhbXBsZWluZ1JhdGVzID0gW1xuICAgICAgICA5NjAwMCwgODgyMDAsXG4gICAgICAgIDY0MDAwLCA0ODAwMCxcbiAgICAgICAgNDQxMDAsIDMyMDAwLFxuICAgICAgICAyNDAwMCwgMjIwNTAsXG4gICAgICAgIDE2MDAwLCAxMjAwMCxcbiAgICAgICAgMTEwMjUsIDgwMDAsXG4gICAgICAgIDczNTBcbiAgICBdO1xuICAgIC8vIGJ5dGUgMlxuICAgIGFkdHNPYmplY3RUeXBlID0gKChkYXRhW29mZnNldCArIDJdICYgMHhDMCkgPj4+IDYpICsgMTtcbiAgICBhZHRzU2FtcGxlaW5nSW5kZXggPSAoKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDNDKSA+Pj4gMik7XG4gICAgaWYgKGFkdHNTYW1wbGVpbmdJbmRleCA+IGFkdHNTYW1wbGVpbmdSYXRlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogdHJ1ZSwgcmVhc29uOiBcImludmFsaWQgQURUUyBzYW1wbGluZyBpbmRleDpcIiArIGFkdHNTYW1wbGVpbmdJbmRleCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhZHRzQ2hhbmVsQ29uZmlnID0gKChkYXRhW29mZnNldCArIDJdICYgMHgwMSkgPDwgMik7XG4gICAgLy8gYnl0ZSAzXG4gICAgYWR0c0NoYW5lbENvbmZpZyB8PSAoKGRhdGFbb2Zmc2V0ICsgM10gJiAweEMwKSA+Pj4gNik7XG4gICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm1hbmlmZXN0IGNvZGVjOlwiICsgYXVkaW9Db2RlYyArIFwiLEFEVFMgZGF0YTp0eXBlOlwiICsgYWR0c09iamVjdFR5cGUgKyBcIixzYW1wbGVpbmdJbmRleDpcIiArIGFkdHNTYW1wbGVpbmdJbmRleCArIFwiW1wiICsgYWR0c1NhbXBsZWluZ1JhdGVzW2FkdHNTYW1wbGVpbmdJbmRleF0gKyBcIkh6XSxjaGFubmVsQ29uZmlnOlwiICsgYWR0c0NoYW5lbENvbmZpZyk7XG4gICAgLy8gZmlyZWZveDogZnJlcSBsZXNzIHRoYW4gMjRrSHogPSBBQUMgU0JSIChIRS1BQUMpXG4gICAgaWYgKC9maXJlZm94L2kudGVzdCh1c2VyQWdlbnQpKSB7XG4gICAgICAgIGlmIChhZHRzU2FtcGxlaW5nSW5kZXggPj0gNikge1xuICAgICAgICAgICAgYWR0c09iamVjdFR5cGUgPSA1O1xuICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDQpO1xuICAgICAgICAgICAgLy8gSEUtQUFDIHVzZXMgU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKSAsIGhpZ2ggZnJlcXVlbmNpZXMgYXJlIGNvbnN0cnVjdGVkIGZyb20gbG93IGZyZXF1ZW5jaWVzXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBhIGZhY3RvciAyIGJldHdlZW4gZnJhbWUgc2FtcGxlIHJhdGUgYW5kIG91dHB1dCBzYW1wbGUgcmF0ZVxuICAgICAgICAgICAgLy8gbXVsdGlwbHkgZnJlcXVlbmN5IGJ5IDIgKHNlZSB0YWJsZSBiZWxvdywgZXF1aXZhbGVudCB0byBzdWJzdHJhY3QgMylcbiAgICAgICAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleCAtIDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhZHRzT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICAgICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW5kcm9pZCA6IGFsd2F5cyB1c2UgQUFDXG4gICAgfVxuICAgIGVsc2UgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xKSB7XG4gICAgICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKiAgZm9yIG90aGVyIGJyb3dzZXJzIChDaHJvbWUvVml2YWxkaS9PcGVyYSAuLi4pXG4gICAgICAgICAgICBhbHdheXMgZm9yY2UgYXVkaW8gdHlwZSB0byBiZSBIRS1BQUMgU0JSLCBhcyBzb21lIGJyb3dzZXJzIGRvIG5vdCBzdXBwb3J0IGF1ZGlvIGNvZGVjIHN3aXRjaCBwcm9wZXJseSAobGlrZSBDaHJvbWUgLi4uKVxuICAgICAgICAqL1xuICAgICAgICBhZHRzT2JqZWN0VHlwZSA9IDU7XG4gICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSg0KTtcbiAgICAgICAgLy8gaWYgKG1hbmlmZXN0IGNvZGVjIGlzIEhFLUFBQyBvciBIRS1BQUN2MikgT1IgKG1hbmlmZXN0IGNvZGVjIG5vdCBzcGVjaWZpZWQgQU5EIGZyZXF1ZW5jeSBsZXNzIHRoYW4gMjRrSHopXG4gICAgICAgIGlmICgoYXVkaW9Db2RlYyAmJiAoKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC4yOScpICE9PSAtMSkgfHxcbiAgICAgICAgICAgIChhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkpKSB8fFxuICAgICAgICAgICAgKCFhdWRpb0NvZGVjICYmIGFkdHNTYW1wbGVpbmdJbmRleCA+PSA2KSkge1xuICAgICAgICAgICAgLy8gSEUtQUFDIHVzZXMgU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKSAsIGhpZ2ggZnJlcXVlbmNpZXMgYXJlIGNvbnN0cnVjdGVkIGZyb20gbG93IGZyZXF1ZW5jaWVzXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBhIGZhY3RvciAyIGJldHdlZW4gZnJhbWUgc2FtcGxlIHJhdGUgYW5kIG91dHB1dCBzYW1wbGUgcmF0ZVxuICAgICAgICAgICAgLy8gbXVsdGlwbHkgZnJlcXVlbmN5IGJ5IDIgKHNlZSB0YWJsZSBiZWxvdywgZXF1aXZhbGVudCB0byBzdWJzdHJhY3QgMylcbiAgICAgICAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleCAtIDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiAobWFuaWZlc3QgY29kZWMgaXMgQUFDKSBBTkQgKGZyZXF1ZW5jeSBsZXNzIHRoYW4gMjRrSHogQU5EIG5iIGNoYW5uZWwgaXMgMSkgT1IgKG1hbmlmZXN0IGNvZGVjIG5vdCBzcGVjaWZpZWQgYW5kIG1vbm8gYXVkaW8pXG4gICAgICAgICAgICAvLyBDaHJvbWUgZmFpbHMgdG8gcGxheSBiYWNrIHdpdGggbG93IGZyZXF1ZW5jeSBBQUMgTEMgbW9ubyB3aGVuIGluaXRpYWxpemVkIHdpdGggSEUtQUFDLiAgVGhpcyBpcyBub3QgYSBwcm9ibGVtIHdpdGggc3RlcmVvLlxuICAgICAgICAgICAgaWYgKGF1ZGlvQ29kZWMgJiYgYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjInKSAhPT0gLTEgJiYgKChhZHRzU2FtcGxlaW5nSW5kZXggPj0gNiAmJiBhZHRzQ2hhbmVsQ29uZmlnID09PSAxKSB8fFxuICAgICAgICAgICAgICAgIC92aXZhbGRpL2kudGVzdCh1c2VyQWdlbnQpKSB8fFxuICAgICAgICAgICAgICAgICghYXVkaW9Db2RlYyAmJiBhZHRzQ2hhbmVsQ29uZmlnID09PSAxKSkge1xuICAgICAgICAgICAgICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogcmVmZXIgdG8gaHR0cDovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9TVBFRy00X0F1ZGlvI0F1ZGlvX1NwZWNpZmljX0NvbmZpZ1xuICAgICAgICBJU08gMTQ0OTYtMyAoQUFDKS5wZGYgLSBUYWJsZSAxLjEzIOKAlCBTeW50YXggb2YgQXVkaW9TcGVjaWZpY0NvbmZpZygpXG4gICAgICBBdWRpbyBQcm9maWxlIC8gQXVkaW8gT2JqZWN0IFR5cGVcbiAgICAgIDA6IE51bGxcbiAgICAgIDE6IEFBQyBNYWluXG4gICAgICAyOiBBQUMgTEMgKExvdyBDb21wbGV4aXR5KVxuICAgICAgMzogQUFDIFNTUiAoU2NhbGFibGUgU2FtcGxlIFJhdGUpXG4gICAgICA0OiBBQUMgTFRQIChMb25nIFRlcm0gUHJlZGljdGlvbilcbiAgICAgIDU6IFNCUiAoU3BlY3RyYWwgQmFuZCBSZXBsaWNhdGlvbilcbiAgICAgIDY6IEFBQyBTY2FsYWJsZVxuICAgICBzYW1wbGluZyBmcmVxXG4gICAgICAwOiA5NjAwMCBIelxuICAgICAgMTogODgyMDAgSHpcbiAgICAgIDI6IDY0MDAwIEh6XG4gICAgICAzOiA0ODAwMCBIelxuICAgICAgNDogNDQxMDAgSHpcbiAgICAgIDU6IDMyMDAwIEh6XG4gICAgICA2OiAyNDAwMCBIelxuICAgICAgNzogMjIwNTAgSHpcbiAgICAgIDg6IDE2MDAwIEh6XG4gICAgICA5OiAxMjAwMCBIelxuICAgICAgMTA6IDExMDI1IEh6XG4gICAgICAxMTogODAwMCBIelxuICAgICAgMTI6IDczNTAgSHpcbiAgICAgIDEzOiBSZXNlcnZlZFxuICAgICAgMTQ6IFJlc2VydmVkXG4gICAgICAxNTogZnJlcXVlbmN5IGlzIHdyaXR0ZW4gZXhwbGljdGx5XG4gICAgICBDaGFubmVsIENvbmZpZ3VyYXRpb25zXG4gICAgICBUaGVzZSBhcmUgdGhlIGNoYW5uZWwgY29uZmlndXJhdGlvbnM6XG4gICAgICAwOiBEZWZpbmVkIGluIEFPVCBTcGVjaWZjIENvbmZpZ1xuICAgICAgMTogMSBjaGFubmVsOiBmcm9udC1jZW50ZXJcbiAgICAgIDI6IDIgY2hhbm5lbHM6IGZyb250LWxlZnQsIGZyb250LXJpZ2h0XG4gICAgKi9cbiAgICAvLyBhdWRpb09iamVjdFR5cGUgPSBwcm9maWxlID0+IHByb2ZpbGUsIHRoZSBNUEVHLTQgQXVkaW8gT2JqZWN0IFR5cGUgbWludXMgMVxuICAgIGNvbmZpZ1swXSA9IGFkdHNPYmplY3RUeXBlIDw8IDM7XG4gICAgLy8gc2FtcGxpbmdGcmVxdWVuY3lJbmRleFxuICAgIGNvbmZpZ1swXSB8PSAoYWR0c1NhbXBsZWluZ0luZGV4ICYgMHgwRSkgPj4gMTtcbiAgICBjb25maWdbMV0gfD0gKGFkdHNTYW1wbGVpbmdJbmRleCAmIDB4MDEpIDw8IDc7XG4gICAgLy8gY2hhbm5lbENvbmZpZ3VyYXRpb25cbiAgICBjb25maWdbMV0gfD0gYWR0c0NoYW5lbENvbmZpZyA8PCAzO1xuICAgIGlmIChhZHRzT2JqZWN0VHlwZSA9PT0gNSkge1xuICAgICAgICAvLyBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXhcbiAgICAgICAgY29uZmlnWzFdIHw9IChhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggJiAweDBFKSA+PiAxO1xuICAgICAgICBjb25maWdbMl0gPSAoYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgICAgICAgLy8gYWR0c09iamVjdFR5cGUgKGZvcmNlIHRvIDIsIGNocm9tZSBpcyBjaGVja2luZyB0aGF0IG9iamVjdCB0eXBlIGlzIGxlc3MgdGhhbiA1ID8/P1xuICAgICAgICAvLyAgICBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vY2hyb21pdW0vc3JjLmdpdC8rL21hc3Rlci9tZWRpYS9mb3JtYXRzL21wNC9hYWMuY2NcbiAgICAgICAgY29uZmlnWzJdIHw9IDIgPDwgMjtcbiAgICAgICAgY29uZmlnWzNdID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHsgY29uZmlnOiBjb25maWcsIHNhbXBsZXJhdGU6IGFkdHNTYW1wbGVpbmdSYXRlc1thZHRzU2FtcGxlaW5nSW5kZXhdLCBjaGFubmVsQ291bnQ6IGFkdHNDaGFuZWxDb25maWcsIGNvZGVjOiAoJ21wNGEuNDAuJyArIGFkdHNPYmplY3RUeXBlKSwgbWFuaWZlc3RDb2RlYzogbWFuaWZlc3RDb2RlYyB9O1xufVxuZXhwb3J0cy5nZXRBdWRpb0NvbmZpZyA9IGdldEF1ZGlvQ29uZmlnO1xuZnVuY3Rpb24gaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkge1xuICAgIHJldHVybiBkYXRhW29mZnNldF0gPT09IDB4ZmYgJiYgKGRhdGFbb2Zmc2V0ICsgMV0gJiAweGY2KSA9PT0gMHhmMDtcbn1cbmV4cG9ydHMuaXNIZWFkZXJQYXR0ZXJuID0gaXNIZWFkZXJQYXR0ZXJuO1xuZnVuY3Rpb24gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCkge1xuICAgIHJldHVybiAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MDEgPyA3IDogOSk7XG59XG5leHBvcnRzLmdldEhlYWRlckxlbmd0aCA9IGdldEhlYWRlckxlbmd0aDtcbmZ1bmN0aW9uIGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpIHtcbiAgICByZXR1cm4gKChkYXRhW29mZnNldCArIDNdICYgMHgwMykgPDwgMTEpIHxcbiAgICAgICAgKGRhdGFbb2Zmc2V0ICsgNF0gPDwgMykgfFxuICAgICAgICAoKGRhdGFbb2Zmc2V0ICsgNV0gJiAweEUwKSA+Pj4gNSk7XG59XG5leHBvcnRzLmdldEZ1bGxGcmFtZUxlbmd0aCA9IGdldEZ1bGxGcmFtZUxlbmd0aDtcbmZ1bmN0aW9uIGlzSGVhZGVyKGRhdGEsIG9mZnNldCkge1xuICAgIC8vIExvb2sgZm9yIEFEVFMgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExMSBYMDBYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMVxuICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgMCBmb3IgQURUU1xuICAgIC8vIE1vcmUgaW5mbyBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNIZWFkZXIgPSBpc0hlYWRlcjtcbmZ1bmN0aW9uIHByb2JlKGRhdGEsIG9mZnNldCkge1xuICAgIC8vIHNhbWUgYXMgaXNIZWFkZXIgYnV0IHdlIGFsc28gY2hlY2sgdGhhdCBBRFRTIGZyYW1lIGZvbGxvd3MgbGFzdCBBRFRTIGZyYW1lXG4gICAgLy8gb3IgZW5kIG9mIGRhdGEgaXMgcmVhY2hlZFxuICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgLy8gQURUUyBoZWFkZXIgTGVuZ3RoXG4gICAgICAgIHZhciBoZWFkZXJMZW5ndGggPSBnZXRIZWFkZXJMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgLy8gQURUUyBmcmFtZSBMZW5ndGhcbiAgICAgICAgdmFyIGZyYW1lTGVuZ3RoID0gaGVhZGVyTGVuZ3RoO1xuICAgICAgICBpZiAob2Zmc2V0ICsgNSA8IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBmcmFtZUxlbmd0aCA9IGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdPZmZzZXQgPSBvZmZzZXQgKyBmcmFtZUxlbmd0aDtcbiAgICAgICAgaWYgKG5ld09mZnNldCA9PT0gZGF0YS5sZW5ndGggfHwgKG5ld09mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgbmV3T2Zmc2V0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMucHJvYmUgPSBwcm9iZTtcbmZ1bmN0aW9uIGluaXRUcmFja0NvbmZpZyh0cmFjaywgb2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgYXVkaW9Db2RlYykge1xuICAgIGlmICghdHJhY2suc2FtcGxlcmF0ZSkge1xuICAgICAgICB2YXIgY29uZmlnID0gZ2V0QXVkaW9Db25maWcob2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgYXVkaW9Db2RlYyk7XG4gICAgICAgIHRyYWNrLmNvbmZpZyA9IGNvbmZpZy5jb25maWc7XG4gICAgICAgIHRyYWNrLnNhbXBsZXJhdGUgPSBjb25maWcuc2FtcGxlcmF0ZTtcbiAgICAgICAgdHJhY2suY2hhbm5lbENvdW50ID0gY29uZmlnLmNoYW5uZWxDb3VudDtcbiAgICAgICAgdHJhY2suY29kZWMgPSBjb25maWcuY29kZWM7XG4gICAgICAgIHRyYWNrLm1hbmlmZXN0Q29kZWMgPSBjb25maWcubWFuaWZlc3RDb2RlYztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInBhcnNlZCBjb2RlYzpcIiArIHRyYWNrLmNvZGVjICsgXCIscmF0ZTpcIiArIGNvbmZpZy5zYW1wbGVyYXRlICsgXCIsbmIgY2hhbm5lbDpcIiArIGNvbmZpZy5jaGFubmVsQ291bnQpO1xuICAgIH1cbn1cbmV4cG9ydHMuaW5pdFRyYWNrQ29uZmlnID0gaW5pdFRyYWNrQ29uZmlnO1xuZnVuY3Rpb24gZ2V0RnJhbWVEdXJhdGlvbihzYW1wbGVyYXRlKSB7XG4gICAgcmV0dXJuIDEwMjQgKiA5MDAwMCAvIHNhbXBsZXJhdGU7XG59XG5leHBvcnRzLmdldEZyYW1lRHVyYXRpb24gPSBnZXRGcmFtZUR1cmF0aW9uO1xuZnVuY3Rpb24gcGFyc2VGcmFtZUhlYWRlcihkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCwgZnJhbWVEdXJhdGlvbikge1xuICAgIHZhciBoZWFkZXJMZW5ndGgsIGZyYW1lTGVuZ3RoLCBzdGFtcDtcbiAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgLy8gVGhlIHByb3RlY3Rpb24gc2tpcCBiaXQgdGVsbHMgdXMgaWYgd2UgaGF2ZSAyIGJ5dGVzIG9mIENSQyBkYXRhIGF0IHRoZSBlbmQgb2YgdGhlIEFEVFMgaGVhZGVyXG4gICAgaGVhZGVyTGVuZ3RoID0gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gICAgLy8gcmV0cmlldmUgZnJhbWUgc2l6ZVxuICAgIGZyYW1lTGVuZ3RoID0gZ2V0RnVsbEZyYW1lTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gICAgZnJhbWVMZW5ndGggLT0gaGVhZGVyTGVuZ3RoO1xuICAgIGlmICgoZnJhbWVMZW5ndGggPiAwKSAmJiAoKG9mZnNldCArIGhlYWRlckxlbmd0aCArIGZyYW1lTGVuZ3RoKSA8PSBsZW5ndGgpKSB7XG4gICAgICAgIHN0YW1wID0gcHRzICsgZnJhbWVJbmRleCAqIGZyYW1lRHVyYXRpb247XG4gICAgICAgIC8vIGxvZ2dlci5sb2coYEFBQyBmcmFtZSwgb2Zmc2V0L2xlbmd0aC90b3RhbC9wdHM6JHtvZmZzZXQraGVhZGVyTGVuZ3RofS8ke2ZyYW1lTGVuZ3RofS8ke2RhdGEuYnl0ZUxlbmd0aH0vJHsoc3RhbXAvOTApLnRvRml4ZWQoMCl9YCk7XG4gICAgICAgIHJldHVybiB7IGhlYWRlckxlbmd0aDogaGVhZGVyTGVuZ3RoLCBmcmFtZUxlbmd0aDogZnJhbWVMZW5ndGgsIHN0YW1wOiBzdGFtcCB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5wYXJzZUZyYW1lSGVhZGVyID0gcGFyc2VGcmFtZUhlYWRlcjtcbmZ1bmN0aW9uIGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCkge1xuICAgIHZhciBmcmFtZUR1cmF0aW9uID0gZ2V0RnJhbWVEdXJhdGlvbih0cmFjay5zYW1wbGVyYXRlKTtcbiAgICB2YXIgaGVhZGVyID0gcGFyc2VGcmFtZUhlYWRlcihkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCwgZnJhbWVEdXJhdGlvbik7XG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgICB2YXIgc3RhbXAgPSBoZWFkZXIuc3RhbXA7XG4gICAgICAgIHZhciBoZWFkZXJMZW5ndGggPSBoZWFkZXIuaGVhZGVyTGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWVMZW5ndGggPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgIC8vIGxvZ2dlci5sb2coYEFBQyBmcmFtZSwgb2Zmc2V0L2xlbmd0aC90b3RhbC9wdHM6JHtvZmZzZXQraGVhZGVyTGVuZ3RofS8ke2ZyYW1lTGVuZ3RofS8ke2RhdGEuYnl0ZUxlbmd0aH0vJHsoc3RhbXAvOTApLnRvRml4ZWQoMCl9YCk7XG4gICAgICAgIHZhciBhYWNTYW1wbGUgPSB7XG4gICAgICAgICAgICB1bml0OiBkYXRhLnN1YmFycmF5KG9mZnNldCArIGhlYWRlckxlbmd0aCwgb2Zmc2V0ICsgaGVhZGVyTGVuZ3RoICsgZnJhbWVMZW5ndGgpLFxuICAgICAgICAgICAgcHRzOiBzdGFtcCxcbiAgICAgICAgICAgIGR0czogc3RhbXBcbiAgICAgICAgfTtcbiAgICAgICAgdHJhY2suc2FtcGxlcy5wdXNoKGFhY1NhbXBsZSk7XG4gICAgICAgIHRyYWNrLmxlbiArPSBmcmFtZUxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHsgc2FtcGxlOiBhYWNTYW1wbGUsIGxlbmd0aDogZnJhbWVMZW5ndGggKyBoZWFkZXJMZW5ndGggfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuYXBwZW5kRnJhbWUgPSBhcHBlbmRGcmFtZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKlxuICogaW5saW5lIGRlbXV4ZXI6IHByb2JlIGZyYWdtZW50cyBhbmQgaW5zdGFudGlhdGVcbiAqIGFwcHJvcHJpYXRlIGRlbXV4ZXIgZGVwZW5kaW5nIG9uIGNvbnRlbnQgdHlwZSAoVFNEZW11eGVyLCBBQUNEZW11eGVyLCAuLi4pXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgZGVjcnlwdGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jcnlwdC9kZWNyeXB0ZXIgKi8gXCIuL3NyYy9jcnlwdC9kZWNyeXB0ZXIuanNcIik7XG52YXIgYWFjZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvYWFjZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L2FhY2RlbXV4ZXIuanNcIik7XG52YXIgbXA0ZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvbXA0ZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L21wNGRlbXV4ZXIuanNcIik7XG52YXIgdHNkZW11eGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC90c2RlbXV4ZXIgKi8gXCIuL3NyYy9kZW11eC90c2RlbXV4ZXIuanNcIik7XG52YXIgbXAzZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvbXAzZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L21wM2RlbXV4ZXIuanNcIik7XG52YXIgbXA0X3JlbXV4ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbXV4L21wNC1yZW11eGVyICovIFwiLi9zcmMvcmVtdXgvbXA0LXJlbXV4ZXIuanNcIik7XG52YXIgcGFzc3Rocm91Z2hfcmVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVtdXgvcGFzc3Rocm91Z2gtcmVtdXhlciAqLyBcIi4vc3JjL3JlbXV4L3Bhc3N0aHJvdWdoLXJlbXV4ZXIuanNcIik7XG52YXIgZ2V0X3NlbGZfc2NvcGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dldC1zZWxmLXNjb3BlICovIFwiLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG4vLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExMjM3MjU5LzU4OTQ5M1xudmFyIGdsb2JhbCA9IGdldF9zZWxmX3Njb3BlXzEuZ2V0U2VsZlNjb3BlKCk7IC8vIHNhZmVndWFyZCBmb3IgY29kZSB0aGF0IG1pZ2h0IHJ1biBib3RoIG9uIHdvcmtlciBhbmQgbWFpbiB0aHJlYWRcbnZhciBub3c7XG4vLyBwZXJmb3JtYW5jZS5ub3coKSBub3QgYXZhaWxhYmxlIG9uIFdlYldvcmtlciwgYXQgbGVhc3Qgb24gU2FmYXJpIERlc2t0b3BcbnRyeSB7XG4gICAgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdy5iaW5kKGdsb2JhbC5wZXJmb3JtYW5jZSk7XG59XG5jYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKCdVbmFibGUgdG8gdXNlIFBlcmZvcm1hbmNlIEFQSSBvbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgbm93ID0gZ2xvYmFsLkRhdGUubm93O1xufVxudmFyIERlbXV4ZXJJbmxpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVtdXhlcklubGluZShvYnNlcnZlciwgdHlwZVN1cHBvcnRlZCwgY29uZmlnLCB2ZW5kb3IpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy52ZW5kb3IgPSB2ZW5kb3I7XG4gICAgfVxuICAgIERlbXV4ZXJJbmxpbmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgICBpZiAoZGVtdXhlcikge1xuICAgICAgICAgICAgZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbXV4ZXJJbmxpbmUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZGVjcnlwdGRhdGEsIGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKChkYXRhLmJ5dGVMZW5ndGggPiAwKSAmJiAoZGVjcnlwdGRhdGEgIT0gbnVsbCkgJiYgKGRlY3J5cHRkYXRhLmtleSAhPSBudWxsKSAmJiAoZGVjcnlwdGRhdGEubWV0aG9kID09PSAnQUVTLTEyOCcpKSB7XG4gICAgICAgICAgICB2YXIgZGVjcnlwdGVyID0gdGhpcy5kZWNyeXB0ZXI7XG4gICAgICAgICAgICBpZiAoZGVjcnlwdGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWNyeXB0ZXIgPSB0aGlzLmRlY3J5cHRlciA9IG5ldyBkZWNyeXB0ZXJfMS5kZWZhdWx0KHRoaXMub2JzZXJ2ZXIsIHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGFydFRpbWVfMSA9IG5vdygpO1xuICAgICAgICAgICAgZGVjcnlwdGVyLmRlY3J5cHQoZGF0YSwgZGVjcnlwdGRhdGEua2V5LmJ1ZmZlciwgZGVjcnlwdGRhdGEuaXYuYnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lID0gbm93KCk7XG4gICAgICAgICAgICAgICAgX3RoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfREVDUllQVEVELCB7IHN0YXRzOiB7IHRzdGFydDogc3RhcnRUaW1lXzEsIHRkZWNyeXB0OiBlbmRUaW1lIH0gfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMucHVzaERlY3J5cHRlZChuZXcgVWludDhBcnJheShkZWNyeXB0ZWREYXRhKSwgZGVjcnlwdGRhdGEsIG5ldyBVaW50OEFycmF5KGluaXRTZWdtZW50KSwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wdXNoRGVjcnlwdGVkKG5ldyBVaW50OEFycmF5KGRhdGEpLCBkZWNyeXB0ZGF0YSwgbmV3IFVpbnQ4QXJyYXkoaW5pdFNlZ21lbnQpLCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZW11eGVySW5saW5lLnByb3RvdHlwZS5wdXNoRGVjcnlwdGVkID0gZnVuY3Rpb24gKGRhdGEsIGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKSB7XG4gICAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgICBpZiAoIWRlbXV4ZXIgfHxcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugb2YgY29udGludWl0eSBjaGFuZ2UsIG9yIHRyYWNrIHN3aXRjaFxuICAgICAgICAgICAgLy8gd2UgbWlnaHQgc3dpdGNoIGZyb20gY29udGVudCB0eXBlIChBQUMgY29udGFpbmVyIHRvIFRTIGNvbnRhaW5lciwgb3IgVFMgdG8gZm1wNCBmb3IgZXhhbXBsZSlcbiAgICAgICAgICAgIC8vIHNvIGxldCdzIGNoZWNrIHRoYXQgY3VycmVudCBkZW11eGVyIGlzIHN0aWxsIHZhbGlkXG4gICAgICAgICAgICAoKGRpc2NvbnRpbnVpdHkgfHwgdHJhY2tTd2l0Y2gpICYmICF0aGlzLnByb2JlKGRhdGEpKSkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcjtcbiAgICAgICAgICAgIHZhciB0eXBlU3VwcG9ydGVkID0gdGhpcy50eXBlU3VwcG9ydGVkO1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgICAgLy8gcHJvYmluZyBvcmRlciBpcyBUUy9BQUMvTVAzL01QNFxuICAgICAgICAgICAgdmFyIG11eENvbmZpZyA9IFtcbiAgICAgICAgICAgICAgICB7IGRlbXV4OiB0c2RlbXV4ZXJfMS5kZWZhdWx0LCByZW11eDogbXA0X3JlbXV4ZXJfMS5kZWZhdWx0IH0sXG4gICAgICAgICAgICAgICAgeyBkZW11eDogbXA0ZGVtdXhlcl8xLmRlZmF1bHQsIHJlbXV4OiBwYXNzdGhyb3VnaF9yZW11eGVyXzEuZGVmYXVsdCB9LFxuICAgICAgICAgICAgICAgIHsgZGVtdXg6IGFhY2RlbXV4ZXJfMS5kZWZhdWx0LCByZW11eDogbXA0X3JlbXV4ZXJfMS5kZWZhdWx0IH0sXG4gICAgICAgICAgICAgICAgeyBkZW11eDogbXAzZGVtdXhlcl8xLmRlZmF1bHQsIHJlbXV4OiBtcDRfcmVtdXhlcl8xLmRlZmF1bHQgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIHByb2JlIGZvciBjb250ZW50IHR5cGVcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtdXhDb25maWcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbXV4ID0gbXV4Q29uZmlnW2ldO1xuICAgICAgICAgICAgICAgIHZhciBwcm9iZSA9IG11eC5kZW11eC5wcm9iZTtcbiAgICAgICAgICAgICAgICBpZiAocHJvYmUoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbXV4ZXJfMSA9IHRoaXMucmVtdXhlciA9IG5ldyBtdXgucmVtdXgob2JzZXJ2ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCwgdGhpcy52ZW5kb3IpO1xuICAgICAgICAgICAgICAgICAgICBkZW11eGVyID0gbmV3IG11eC5kZW11eChvYnNlcnZlciwgcmVtdXhlcl8xLCBjb25maWcsIHR5cGVTdXBwb3J0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2JlID0gcHJvYmU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVtdXhlcikge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogdHJ1ZSwgcmVhc29uOiAnbm8gZGVtdXggbWF0Y2hpbmcgd2l0aCBjb250ZW50IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBkZW11eGVyO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW11eGVyID0gdGhpcy5yZW11eGVyO1xuICAgICAgICBpZiAoZGlzY29udGludWl0eSB8fCB0cmFja1N3aXRjaCkge1xuICAgICAgICAgICAgZGVtdXhlci5yZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbik7XG4gICAgICAgICAgICByZW11eGVyLnJlc2V0SW5pdFNlZ21lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzY29udGludWl0eSkge1xuICAgICAgICAgICAgZGVtdXhlci5yZXNldFRpbWVTdGFtcChkZWZhdWx0SW5pdFBUUyk7XG4gICAgICAgICAgICByZW11eGVyLnJlc2V0VGltZVN0YW1wKGRlZmF1bHRJbml0UFRTKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEoZGVjcnlwdGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGRlbXV4ZXIuYXBwZW5kKGRhdGEsIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVtdXhlcklubGluZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEZW11eGVySW5saW5lO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L2RlbXV4ZXItd29ya2VyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2RlbXV4ZXItd29ya2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKiBkZW11eGVyIHdlYiB3b3JrZXIuXG4gKiAgLSBsaXN0ZW4gdG8gd29ya2VyIG1lc3NhZ2UsIGFuZCB0cmlnZ2VyIERlbXV4ZXJJbmxpbmUgdXBvbiByZWNlcHRpb24gb2YgRnJhZ21lbnRzLlxuICogIC0gcHJvdmlkZXMgTVA0IEJveGVzIGJhY2sgdG8gbWFpbiB0aHJlYWQgdXNpbmcgW3RyYW5zZmVyYWJsZSBvYmplY3RzXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDExLzEyL1RyYW5zZmVyYWJsZS1PYmplY3RzLUxpZ2h0bmluZy1GYXN0KSBpbiBvcmRlciB0byBtaW5pbWl6ZSBtZXNzYWdlIHBhc3Npbmcgb3ZlcmhlYWQuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkZW11eGVyX2lubGluZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvZGVtdXhlci1pbmxpbmUgKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBldmVudHNfMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGV2ZW50cyAqLyBcIi4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzXCIpO1xudmFyIERlbXV4ZXJXb3JrZXIgPSBmdW5jdGlvbiAoc2VsZikge1xuICAgIC8vIG9ic2VydmVyIHNldHVwXG4gICAgdmFyIG9ic2VydmVyID0gbmV3IGV2ZW50c18yLkV2ZW50RW1pdHRlcigpO1xuICAgIG9ic2VydmVyLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBkYXRhW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIG9ic2VydmVyLmVtaXQuYXBwbHkob2JzZXJ2ZXIsIFtldmVudCwgZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gICAgfTtcbiAgICBvYnNlcnZlci5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGRhdGFbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgb2JzZXJ2ZXIucmVtb3ZlTGlzdGVuZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgICB9O1xuICAgIHZhciBmb3J3YXJkTWVzc2FnZSA9IGZ1bmN0aW9uIChldiwgZGF0YSkge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgZXZlbnQ6IGV2LCBkYXRhOiBkYXRhIH0pO1xuICAgIH07XG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHZhciBkYXRhID0gZXYuZGF0YTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RlbXV4ZXIgY21kOicgKyBkYXRhLmNtZCk7XG4gICAgICAgIHN3aXRjaCAoZGF0YS5jbWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2luaXQnOlxuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBKU09OLnBhcnNlKGRhdGEuY29uZmlnKTtcbiAgICAgICAgICAgICAgICBzZWxmLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl9pbmxpbmVfMS5kZWZhdWx0KG9ic2VydmVyLCBkYXRhLnR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgZGF0YS52ZW5kb3IpO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmVuYWJsZUxvZ3MoY29uZmlnLmRlYnVnKTtcbiAgICAgICAgICAgICAgICAvLyBzaWduYWwgZW5kIG9mIHdvcmtlciBpbml0XG4gICAgICAgICAgICAgICAgZm9yd2FyZE1lc3NhZ2UoJ2luaXQnLCBudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RlbXV4JzpcbiAgICAgICAgICAgICAgICBzZWxmLmRlbXV4ZXIucHVzaChkYXRhLmRhdGEsIGRhdGEuZGVjcnlwdGRhdGEsIGRhdGEuaW5pdFNlZ21lbnQsIGRhdGEuYXVkaW9Db2RlYywgZGF0YS52aWRlb0NvZGVjLCBkYXRhLnRpbWVPZmZzZXQsIGRhdGEuZGlzY29udGludWl0eSwgZGF0YS50cmFja1N3aXRjaCwgZGF0YS5jb250aWd1b3VzLCBkYXRhLmR1cmF0aW9uLCBkYXRhLmFjY3VyYXRlVGltZU9mZnNldCwgZGF0YS5kZWZhdWx0SW5pdFBUUyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gZm9yd2FyZCBldmVudHMgdG8gbWFpbiB0aHJlYWRcbiAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkZSQUdfREVDUllQVEVELCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19NRVRBREFUQSwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5JTklUX1BUU19GT1VORCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgRlJBR19QQVJTSU5HX0RBVEE6IHBhc3MgZGF0YTEvZGF0YTIgYXMgdHJhbnNmZXJhYmxlIG9iamVjdCAobm8gY29weSlcbiAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19EQVRBLCBmdW5jdGlvbiAoZXYsIGRhdGEpIHtcbiAgICAgICAgdmFyIHRyYW5zZmVyYWJsZSA9IFtdO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHsgZXZlbnQ6IGV2LCBkYXRhOiBkYXRhIH07XG4gICAgICAgIGlmIChkYXRhLmRhdGExKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmRhdGExID0gZGF0YS5kYXRhMS5idWZmZXI7XG4gICAgICAgICAgICB0cmFuc2ZlcmFibGUucHVzaChkYXRhLmRhdGExLmJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS5kYXRhMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kYXRhMikge1xuICAgICAgICAgICAgbWVzc2FnZS5kYXRhMiA9IGRhdGEuZGF0YTIuYnVmZmVyO1xuICAgICAgICAgICAgdHJhbnNmZXJhYmxlLnB1c2goZGF0YS5kYXRhMi5idWZmZXIpO1xuICAgICAgICAgICAgZGVsZXRlIGRhdGEuZGF0YTI7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShtZXNzYWdlLCB0cmFuc2ZlcmFibGUpO1xuICAgIH0pO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IERlbXV4ZXJXb3JrZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2RlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB3b3JrID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgd2Vid29ya2lmeS13ZWJwYWNrICovIFwiLi9ub2RlX21vZHVsZXMvd2Vid29ya2lmeS13ZWJwYWNrL2luZGV4LmpzXCIpO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGRlbXV4ZXJfaW5saW5lXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9kZW11eGVyLWlubGluZSAqLyBcIi4vc3JjL2RlbXV4L2RlbXV4ZXItaW5saW5lLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGVycm9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXJyb3JzICovIFwiLi9zcmMvZXJyb3JzLmpzXCIpO1xudmFyIG1lZGlhc291cmNlX2hlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyICovIFwiLi9zcmMvdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyLmpzXCIpO1xudmFyIGdldF9zZWxmX3Njb3BlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nZXQtc2VsZi1zY29wZSAqLyBcIi4vc3JjL3V0aWxzL2dldC1zZWxmLXNjb3BlLmpzXCIpO1xudmFyIG9ic2VydmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9vYnNlcnZlciAqLyBcIi4vc3JjL29ic2VydmVyLmpzXCIpO1xuLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMTIzNzI1OS81ODk0OTNcbnZhciBnbG9iYWwgPSBnZXRfc2VsZl9zY29wZV8xLmdldFNlbGZTY29wZSgpOyAvLyBzYWZlZ3VhcmQgZm9yIGNvZGUgdGhhdCBtaWdodCBydW4gYm90aCBvbiB3b3JrZXIgYW5kIG1haW4gdGhyZWFkXG52YXIgTWVkaWFTb3VyY2UgPSBtZWRpYXNvdXJjZV9oZWxwZXJfMS5nZXRNZWRpYVNvdXJjZSgpO1xudmFyIERlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVtdXhlcihobHMsIGlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGxzID0gaGxzO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXIgPSBuZXcgb2JzZXJ2ZXJfMS5PYnNlcnZlcigpO1xuICAgICAgICB2YXIgY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAgICAgdmFyIGZvcndhcmRNZXNzYWdlID0gZnVuY3Rpb24gKGV2LCBkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gZGF0YSB8fCB7fTtcbiAgICAgICAgICAgIGRhdGEuZnJhZyA9IF90aGlzLmZyYWc7XG4gICAgICAgICAgICBkYXRhLmlkID0gX3RoaXMuaWQ7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldiwgZGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGZvcndhcmQgZXZlbnRzIHRvIG1haW4gdGhyZWFkXG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19ERUNSWVBURUQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIGZvcndhcmRNZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgICAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX01FVEFEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuSU5JVF9QVFNfRk9VTkQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICAgICAgdmFyIHR5cGVTdXBwb3J0ZWQgPSB7XG4gICAgICAgICAgICBtcDQ6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vbXA0JyksXG4gICAgICAgICAgICBtcGVnOiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ2F1ZGlvL21wZWcnKSxcbiAgICAgICAgICAgIG1wMzogTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCdhdWRpby9tcDQ7IGNvZGVjcz1cIm1wM1wiJylcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbmF2aWdhdG9yLnZlbmRvciBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZSBpbiBXZWIgV29ya2VyXG4gICAgICAgIC8vIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Xb3JrZXJHbG9iYWxTY29wZS9uYXZpZ2F0b3JcbiAgICAgICAgdmFyIHZlbmRvciA9IG5hdmlnYXRvci52ZW5kb3I7XG4gICAgICAgIGlmIChjb25maWcuZW5hYmxlV29ya2VyICYmICh0eXBlb2YgKFdvcmtlcikgIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGVtdXhpbmcgaW4gd2Vid29ya2VyJyk7XG4gICAgICAgICAgICB2YXIgdyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdyA9IHRoaXMudyA9IHdvcmsoLypyZXF1aXJlLnJlc29sdmUqLygvKiEgLi4vZGVtdXgvZGVtdXhlci13b3JrZXIuanMgKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLXdvcmtlci5qc1wiKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbndtc2cgPSB0aGlzLm9uV29ya2VyTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHcuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub253bXNnKTtcbiAgICAgICAgICAgICAgICB3Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk9USEVSX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuSU5URVJOQUxfRVhDRVBUSU9OLCBmYXRhbDogdHJ1ZSwgZXZlbnQ6ICdkZW11eGVyV29ya2VyJywgZXJyOiB7IG1lc3NhZ2U6IGV2ZW50Lm1lc3NhZ2UgKyAnICgnICsgZXZlbnQuZmlsZW5hbWUgKyAnOicgKyBldmVudC5saW5lbm8gKyAnKScgfSB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHcucG9zdE1lc3NhZ2UoeyBjbWQ6ICdpbml0JywgdHlwZVN1cHBvcnRlZDogdHlwZVN1cHBvcnRlZCwgdmVuZG9yOiB2ZW5kb3IsIGlkOiBpZCwgY29uZmlnOiBKU09OLnN0cmluZ2lmeShjb25maWcpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdFcnJvciBpbiB3b3JrZXI6JywgZXJyKTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0Vycm9yIHdoaWxlIGluaXRpYWxpemluZyBEZW11eGVyV29ya2VyLCBmYWxsYmFjayBvbiBEZW11eGVySW5saW5lJyk7XG4gICAgICAgICAgICAgICAgaWYgKHcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV2b2tlIHRoZSBPYmplY3QgVVJMIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIGRlbXV4ZXIgd29ya2VyLCBzbyBhcyBub3QgdG8gbGVhayBpdFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuVVJMLnJldm9rZU9iamVjdFVSTCh3Lm9iamVjdFVSTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eGVyX2lubGluZV8xLmRlZmF1bHQob2JzZXJ2ZXIsIHR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgdmVuZG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLncgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl9pbmxpbmVfMS5kZWZhdWx0KG9ic2VydmVyLCB0eXBlU3VwcG9ydGVkLCBjb25maWcsIHZlbmRvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLnc7XG4gICAgICAgIGlmICh3KSB7XG4gICAgICAgICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9ud21zZyk7XG4gICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy53ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgICAgICAgaWYgKGRlbXV4ZXIpIHtcbiAgICAgICAgICAgICAgICBkZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVtdXhlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZnJhZywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLnc7XG4gICAgICAgIHZhciB0aW1lT2Zmc2V0ID0gTnVtYmVyLmlzRmluaXRlKGZyYWcuc3RhcnRQVFMpID8gZnJhZy5zdGFydFBUUyA6IGZyYWcuc3RhcnQ7XG4gICAgICAgIHZhciBkZWNyeXB0ZGF0YSA9IGZyYWcuZGVjcnlwdGRhdGE7XG4gICAgICAgIHZhciBsYXN0RnJhZyA9IHRoaXMuZnJhZztcbiAgICAgICAgdmFyIGRpc2NvbnRpbnVpdHkgPSAhKGxhc3RGcmFnICYmIChmcmFnLmNjID09PSBsYXN0RnJhZy5jYykpO1xuICAgICAgICB2YXIgdHJhY2tTd2l0Y2ggPSAhKGxhc3RGcmFnICYmIChmcmFnLmxldmVsID09PSBsYXN0RnJhZy5sZXZlbCkpO1xuICAgICAgICB2YXIgbmV4dFNOID0gbGFzdEZyYWcgJiYgKGZyYWcuc24gPT09IChsYXN0RnJhZy5zbiArIDEpKTtcbiAgICAgICAgdmFyIGNvbnRpZ3VvdXMgPSAhdHJhY2tTd2l0Y2ggJiYgbmV4dFNOO1xuICAgICAgICBpZiAoZGlzY29udGludWl0eSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyh0aGlzLmlkICsgXCI6ZGlzY29udGludWl0eSBkZXRlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2tTd2l0Y2gpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2codGhpcy5pZCArIFwiOnN3aXRjaCBkZXRlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYWcgPSBmcmFnO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgLy8gcG9zdCBmcmFnbWVudCBwYXlsb2FkIGFzIHRyYW5zZmVyYWJsZSBvYmplY3RzIGZvciBBcnJheUJ1ZmZlciAobm8gY29weSlcbiAgICAgICAgICAgIHcucG9zdE1lc3NhZ2UoeyBjbWQ6ICdkZW11eCcsIGRhdGE6IGRhdGEsIGRlY3J5cHRkYXRhOiBkZWNyeXB0ZGF0YSwgaW5pdFNlZ21lbnQ6IGluaXRTZWdtZW50LCBhdWRpb0NvZGVjOiBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjOiB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0OiB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5OiBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaDogdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXM6IGNvbnRpZ3VvdXMsIGR1cmF0aW9uOiBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0OiBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTOiBkZWZhdWx0SW5pdFBUUyB9LCBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBbZGF0YV0gOiBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGVtdXhlciA9IHRoaXMuZGVtdXhlcjtcbiAgICAgICAgICAgIGlmIChkZW11eGVyKSB7XG4gICAgICAgICAgICAgICAgZGVtdXhlci5wdXNoKGRhdGEsIGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVtdXhlci5wcm90b3R5cGUub25Xb3JrZXJNZXNzYWdlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHZhciBkYXRhID0gZXYuZGF0YSwgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIHN3aXRjaCAoZGF0YS5ldmVudCkge1xuICAgICAgICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgICAgICAgICAgLy8gcmV2b2tlIHRoZSBPYmplY3QgVVJMIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIGRlbXV4ZXIgd29ya2VyLCBzbyBhcyBub3QgdG8gbGVhayBpdFxuICAgICAgICAgICAgICAgIGdsb2JhbC5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMudy5vYmplY3RVUkwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBGUkFHX1BBUlNJTkdfREFUQTogZGF0YTEgYW5kIGRhdGEyIGFyZSB0cmFuc2ZlcmFibGUgb2JqZWN0c1xuICAgICAgICAgICAgY2FzZSBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19EQVRBOlxuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5kYXRhMSA9IG5ldyBVaW50OEFycmF5KGRhdGEuZGF0YTEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5kYXRhMiA9IG5ldyBVaW50OEFycmF5KGRhdGEuZGF0YTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhID0gZGF0YS5kYXRhIHx8IHt9O1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5mcmFnID0gdGhpcy5mcmFnO1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5pZCA9IHRoaXMuaWQ7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZGF0YS5ldmVudCwgZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlbXV4ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRGVtdXhlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvZXhwLWdvbG9tYi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2V4cC1nb2xvbWIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBQYXJzZXIgZm9yIGV4cG9uZW50aWFsIEdvbG9tYiBjb2RlcywgYSB2YXJpYWJsZS1iaXR3aWR0aCBudW1iZXIgZW5jb2Rpbmcgc2NoZW1lIHVzZWQgYnkgaDI2NC5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgRXhwR29sb21iID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4cEdvbG9tYihkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIC8vIHRoZSBudW1iZXIgb2YgYnl0ZXMgbGVmdCB0byBleGFtaW5lIGluIHRoaXMuZGF0YVxuICAgICAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAvLyB0aGUgY3VycmVudCB3b3JkIGJlaW5nIGV4YW1pbmVkXG4gICAgICAgIHRoaXMud29yZCA9IDA7IC8vIDp1aW50XG4gICAgICAgIC8vIHRoZSBudW1iZXIgb2YgYml0cyBsZWZ0IHRvIGV4YW1pbmUgaW4gdGhlIGN1cnJlbnQgd29yZFxuICAgICAgICB0aGlzLmJpdHNBdmFpbGFibGUgPSAwOyAvLyA6dWludFxuICAgIH1cbiAgICAvLyAoKTp2b2lkXG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5sb2FkV29yZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEsIGJ5dGVzQXZhaWxhYmxlID0gdGhpcy5ieXRlc0F2YWlsYWJsZSwgcG9zaXRpb24gPSBkYXRhLmJ5dGVMZW5ndGggLSBieXRlc0F2YWlsYWJsZSwgd29ya2luZ0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCksIGF2YWlsYWJsZUJ5dGVzID0gTWF0aC5taW4oNCwgYnl0ZXNBdmFpbGFibGUpO1xuICAgICAgICBpZiAoYXZhaWxhYmxlQnl0ZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gYnl0ZXMgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya2luZ0J5dGVzLnNldChkYXRhLnN1YmFycmF5KHBvc2l0aW9uLCBwb3NpdGlvbiArIGF2YWlsYWJsZUJ5dGVzKSk7XG4gICAgICAgIHRoaXMud29yZCA9IG5ldyBEYXRhVmlldyh3b3JraW5nQnl0ZXMuYnVmZmVyKS5nZXRVaW50MzIoMCk7XG4gICAgICAgIC8vIHRyYWNrIHRoZSBhbW91bnQgb2YgdGhpcy5kYXRhIHRoYXQgaGFzIGJlZW4gcHJvY2Vzc2VkXG4gICAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSA9IGF2YWlsYWJsZUJ5dGVzICogODtcbiAgICAgICAgdGhpcy5ieXRlc0F2YWlsYWJsZSAtPSBhdmFpbGFibGVCeXRlcztcbiAgICB9O1xuICAgIC8vIChjb3VudDppbnQpOnZvaWRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBCaXRzID0gZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICAgIHZhciBza2lwQnl0ZXM7IC8vIDppbnRcbiAgICAgICAgaWYgKHRoaXMuYml0c0F2YWlsYWJsZSA+IGNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLndvcmQgPDw9IGNvdW50O1xuICAgICAgICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY291bnQgLT0gdGhpcy5iaXRzQXZhaWxhYmxlO1xuICAgICAgICAgICAgc2tpcEJ5dGVzID0gY291bnQgPj4gMztcbiAgICAgICAgICAgIGNvdW50IC09IChza2lwQnl0ZXMgPj4gMyk7XG4gICAgICAgICAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlIC09IHNraXBCeXRlcztcbiAgICAgICAgICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICAgICAgICAgIHRoaXMud29yZCA8PD0gY291bnQ7XG4gICAgICAgICAgICB0aGlzLmJpdHNBdmFpbGFibGUgLT0gY291bnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIChzaXplOmludCk6dWludFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZEJpdHMgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgYml0cyA9IE1hdGgubWluKHRoaXMuYml0c0F2YWlsYWJsZSwgc2l6ZSksIC8vIDp1aW50XG4gICAgICAgIHZhbHUgPSB0aGlzLndvcmQgPj4+ICgzMiAtIGJpdHMpOyAvLyA6dWludFxuICAgICAgICBpZiAoc2l6ZSA+IDMyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0Nhbm5vdCByZWFkIG1vcmUgdGhhbiAzMiBiaXRzIGF0IGEgdGltZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBiaXRzO1xuICAgICAgICBpZiAodGhpcy5iaXRzQXZhaWxhYmxlID4gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JkIDw8PSBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYnl0ZXNBdmFpbGFibGUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRXb3JkKCk7XG4gICAgICAgIH1cbiAgICAgICAgYml0cyA9IHNpemUgLSBiaXRzO1xuICAgICAgICBpZiAoYml0cyA+IDAgJiYgdGhpcy5iaXRzQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdSA8PCBiaXRzIHwgdGhpcy5yZWFkQml0cyhiaXRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyAoKTp1aW50XG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwTFogPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsZWFkaW5nWmVyb0NvdW50OyAvLyA6dWludFxuICAgICAgICBmb3IgKGxlYWRpbmdaZXJvQ291bnQgPSAwOyBsZWFkaW5nWmVyb0NvdW50IDwgdGhpcy5iaXRzQXZhaWxhYmxlOyArK2xlYWRpbmdaZXJvQ291bnQpIHtcbiAgICAgICAgICAgIGlmICgodGhpcy53b3JkICYgKDB4ODAwMDAwMDAgPj4+IGxlYWRpbmdaZXJvQ291bnQpKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBiaXQgb2Ygd29ya2luZyB3b3JkIGlzIDFcbiAgICAgICAgICAgICAgICB0aGlzLndvcmQgPDw9IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgZXhoYXVzdGVkIHdvcmQgYW5kIHN0aWxsIGhhdmUgbm90IGZvdW5kIGEgMVxuICAgICAgICB0aGlzLmxvYWRXb3JkKCk7XG4gICAgICAgIHJldHVybiBsZWFkaW5nWmVyb0NvdW50ICsgdGhpcy5za2lwTFooKTtcbiAgICB9O1xuICAgIC8vICgpOnZvaWRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBVRUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2tpcEJpdHMoMSArIHRoaXMuc2tpcExaKCkpO1xuICAgIH07XG4gICAgLy8gKCk6dm9pZFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcEVHID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMWigpKTtcbiAgICB9O1xuICAgIC8vICgpOnVpbnRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRVRUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbHogPSB0aGlzLnNraXBMWigpOyAvLyA6dWludFxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyhjbHogKyAxKSAtIDE7XG4gICAgfTtcbiAgICAvLyAoKTppbnRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRFRyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHUgPSB0aGlzLnJlYWRVRUcoKTsgLy8gOmludFxuICAgICAgICBpZiAoMHgwMSAmIHZhbHUpIHtcbiAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgaXMgb2RkIGlmIHRoZSBsb3cgb3JkZXIgYml0IGlzIHNldFxuICAgICAgICAgICAgcmV0dXJuICgxICsgdmFsdSkgPj4+IDE7IC8vIGFkZCAxIHRvIG1ha2UgaXQgZXZlbiwgYW5kIGRpdmlkZSBieSAyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLTEgKiAodmFsdSA+Pj4gMSk7IC8vIGRpdmlkZSBieSB0d28gdGhlbiBtYWtlIGl0IG5lZ2F0aXZlXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFNvbWUgY29udmVuaWVuY2UgZnVuY3Rpb25zXG4gICAgLy8gOkJvb2xlYW5cbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRCb29sZWFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxKSA9PT0gMTtcbiAgICB9O1xuICAgIC8vICgpOmludFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVCeXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyg4KTtcbiAgICB9O1xuICAgIC8vICgpOmludFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVTaG9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMTYpO1xuICAgIH07XG4gICAgLy8gKCk6aW50XG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkVUludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMzIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWR2YW5jZSB0aGUgRXhwR29sb21iIGRlY29kZXIgcGFzdCBhIHNjYWxpbmcgbGlzdC4gVGhlIHNjYWxpbmdcbiAgICAgKiBsaXN0IGlzIG9wdGlvbmFsbHkgdHJhbnNtaXR0ZWQgYXMgcGFydCBvZiBhIHNlcXVlbmNlIHBhcmFtZXRlclxuICAgICAqIHNldCBhbmQgaXMgbm90IHJlbGV2YW50IHRvIHRyYW5zbXV4aW5nLlxuICAgICAqIEBwYXJhbSBjb3VudCB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhpcyBzY2FsaW5nIGxpc3RcbiAgICAgKiBAc2VlIFJlY29tbWVuZGF0aW9uIElUVS1UIEguMjY0LCBTZWN0aW9uIDcuMy4yLjEuMS4xXG4gICAgICovXG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwU2NhbGluZ0xpc3QgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgICAgdmFyIGxhc3RTY2FsZSA9IDgsIG5leHRTY2FsZSA9IDgsIGosIGRlbHRhU2NhbGU7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICBpZiAobmV4dFNjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFTY2FsZSA9IHRoaXMucmVhZEVHKCk7XG4gICAgICAgICAgICAgICAgbmV4dFNjYWxlID0gKGxhc3RTY2FsZSArIGRlbHRhU2NhbGUgKyAyNTYpICUgMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFNjYWxlID0gKG5leHRTY2FsZSA9PT0gMCkgPyBsYXN0U2NhbGUgOiBuZXh0U2NhbGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgYSBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0IGFuZCByZXR1cm4gc29tZSBpbnRlcmVzdGluZyB2aWRlb1xuICAgICAqIHByb3BlcnRpZXMuIEEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldCBpcyB0aGUgSDI2NCBtZXRhZGF0YSB0aGF0XG4gICAgICogZGVzY3JpYmVzIHRoZSBwcm9wZXJ0aWVzIG9mIHVwY29taW5nIHZpZGVvIGZyYW1lcy5cbiAgICAgKiBAcGFyYW0gZGF0YSB7VWludDhBcnJheX0gdGhlIGJ5dGVzIG9mIGEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldFxuICAgICAqIEByZXR1cm4ge29iamVjdH0gYW4gb2JqZWN0IHdpdGggY29uZmlndXJhdGlvbiBwYXJzZWQgZnJvbSB0aGVcbiAgICAgKiBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0LCBpbmNsdWRpbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlXG4gICAgICogYXNzb2NpYXRlZCB2aWRlbyBmcmFtZXMuXG4gICAgICovXG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkU1BTID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVDcm9wTGVmdE9mZnNldCA9IDAsIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ID0gMCwgZnJhbWVDcm9wVG9wT2Zmc2V0ID0gMCwgZnJhbWVDcm9wQm90dG9tT2Zmc2V0ID0gMCwgcHJvZmlsZUlkYywgcHJvZmlsZUNvbXBhdCwgbGV2ZWxJZGMsIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSwgcGljV2lkdGhJbk1ic01pbnVzMSwgcGljSGVpZ2h0SW5NYXBVbml0c01pbnVzMSwgZnJhbWVNYnNPbmx5RmxhZywgc2NhbGluZ0xpc3RDb3VudCwgaSwgcmVhZFVCeXRlID0gdGhpcy5yZWFkVUJ5dGUuYmluZCh0aGlzKSwgcmVhZEJpdHMgPSB0aGlzLnJlYWRCaXRzLmJpbmQodGhpcyksIHJlYWRVRUcgPSB0aGlzLnJlYWRVRUcuYmluZCh0aGlzKSwgcmVhZEJvb2xlYW4gPSB0aGlzLnJlYWRCb29sZWFuLmJpbmQodGhpcyksIHNraXBCaXRzID0gdGhpcy5za2lwQml0cy5iaW5kKHRoaXMpLCBza2lwRUcgPSB0aGlzLnNraXBFRy5iaW5kKHRoaXMpLCBza2lwVUVHID0gdGhpcy5za2lwVUVHLmJpbmQodGhpcyksIHNraXBTY2FsaW5nTGlzdCA9IHRoaXMuc2tpcFNjYWxpbmdMaXN0LmJpbmQodGhpcyk7XG4gICAgICAgIHJlYWRVQnl0ZSgpO1xuICAgICAgICBwcm9maWxlSWRjID0gcmVhZFVCeXRlKCk7IC8vIHByb2ZpbGVfaWRjXG4gICAgICAgIHByb2ZpbGVDb21wYXQgPSByZWFkQml0cyg1KTsgLy8gY29uc3RyYWludF9zZXRbMC00XV9mbGFnLCB1KDUpXG4gICAgICAgIHNraXBCaXRzKDMpOyAvLyByZXNlcnZlZF96ZXJvXzNiaXRzIHUoMyksXG4gICAgICAgIGxldmVsSWRjID0gcmVhZFVCeXRlKCk7IC8vIGxldmVsX2lkYyB1KDgpXG4gICAgICAgIHNraXBVRUcoKTsgLy8gc2VxX3BhcmFtZXRlcl9zZXRfaWRcbiAgICAgICAgLy8gc29tZSBwcm9maWxlcyBoYXZlIG1vcmUgb3B0aW9uYWwgZGF0YSB3ZSBkb24ndCBuZWVkXG4gICAgICAgIGlmIChwcm9maWxlSWRjID09PSAxMDAgfHxcbiAgICAgICAgICAgIHByb2ZpbGVJZGMgPT09IDExMCB8fFxuICAgICAgICAgICAgcHJvZmlsZUlkYyA9PT0gMTIyIHx8XG4gICAgICAgICAgICBwcm9maWxlSWRjID09PSAyNDQgfHxcbiAgICAgICAgICAgIHByb2ZpbGVJZGMgPT09IDQ0IHx8XG4gICAgICAgICAgICBwcm9maWxlSWRjID09PSA4MyB8fFxuICAgICAgICAgICAgcHJvZmlsZUlkYyA9PT0gODYgfHxcbiAgICAgICAgICAgIHByb2ZpbGVJZGMgPT09IDExOCB8fFxuICAgICAgICAgICAgcHJvZmlsZUlkYyA9PT0gMTI4KSB7XG4gICAgICAgICAgICB2YXIgY2hyb21hRm9ybWF0SWRjID0gcmVhZFVFRygpO1xuICAgICAgICAgICAgaWYgKGNocm9tYUZvcm1hdElkYyA9PT0gMykge1xuICAgICAgICAgICAgICAgIHNraXBCaXRzKDEpO1xuICAgICAgICAgICAgfSAvLyBzZXBhcmF0ZV9jb2xvdXJfcGxhbmVfZmxhZ1xuICAgICAgICAgICAgc2tpcFVFRygpOyAvLyBiaXRfZGVwdGhfbHVtYV9taW51czhcbiAgICAgICAgICAgIHNraXBVRUcoKTsgLy8gYml0X2RlcHRoX2Nocm9tYV9taW51czhcbiAgICAgICAgICAgIHNraXBCaXRzKDEpOyAvLyBxcHByaW1lX3lfemVyb190cmFuc2Zvcm1fYnlwYXNzX2ZsYWdcbiAgICAgICAgICAgIGlmIChyZWFkQm9vbGVhbigpKSB7IC8vIHNlcV9zY2FsaW5nX21hdHJpeF9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBzY2FsaW5nTGlzdENvdW50ID0gKGNocm9tYUZvcm1hdElkYyAhPT0gMykgPyA4IDogMTI7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNjYWxpbmdMaXN0Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVhZEJvb2xlYW4oKSkgeyAvLyBzZXFfc2NhbGluZ19saXN0X3ByZXNlbnRfZmxhZ1sgaSBdXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwU2NhbGluZ0xpc3QoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNjYWxpbmdMaXN0KDY0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBza2lwVUVHKCk7IC8vIGxvZzJfbWF4X2ZyYW1lX251bV9taW51czRcbiAgICAgICAgdmFyIHBpY09yZGVyQ250VHlwZSA9IHJlYWRVRUcoKTtcbiAgICAgICAgaWYgKHBpY09yZGVyQ250VHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgcmVhZFVFRygpOyAvLyBsb2cyX21heF9waWNfb3JkZXJfY250X2xzYl9taW51czRcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIHNraXBCaXRzKDEpOyAvLyBkZWx0YV9waWNfb3JkZXJfYWx3YXlzX3plcm9fZmxhZ1xuICAgICAgICAgICAgc2tpcEVHKCk7IC8vIG9mZnNldF9mb3Jfbm9uX3JlZl9waWNcbiAgICAgICAgICAgIHNraXBFRygpOyAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgICAgICAgIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSA9IHJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGU7IGkrKykge1xuICAgICAgICAgICAgICAgIHNraXBFRygpO1xuICAgICAgICAgICAgfSAvLyBvZmZzZXRfZm9yX3JlZl9mcmFtZVsgaSBdXG4gICAgICAgIH1cbiAgICAgICAgc2tpcFVFRygpOyAvLyBtYXhfbnVtX3JlZl9mcmFtZXNcbiAgICAgICAgc2tpcEJpdHMoMSk7IC8vIGdhcHNfaW5fZnJhbWVfbnVtX3ZhbHVlX2FsbG93ZWRfZmxhZ1xuICAgICAgICBwaWNXaWR0aEluTWJzTWludXMxID0gcmVhZFVFRygpO1xuICAgICAgICBwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxID0gcmVhZFVFRygpO1xuICAgICAgICBmcmFtZU1ic09ubHlGbGFnID0gcmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChmcmFtZU1ic09ubHlGbGFnID09PSAwKSB7XG4gICAgICAgICAgICBza2lwQml0cygxKTtcbiAgICAgICAgfSAvLyBtYl9hZGFwdGl2ZV9mcmFtZV9maWVsZF9mbGFnXG4gICAgICAgIHNraXBCaXRzKDEpOyAvLyBkaXJlY3RfOHg4X2luZmVyZW5jZV9mbGFnXG4gICAgICAgIGlmIChyZWFkQm9vbGVhbigpKSB7IC8vIGZyYW1lX2Nyb3BwaW5nX2ZsYWdcbiAgICAgICAgICAgIGZyYW1lQ3JvcExlZnRPZmZzZXQgPSByZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZUNyb3BSaWdodE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lQ3JvcFRvcE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lQ3JvcEJvdHRvbU9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IFsxLCAxXTtcbiAgICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgIC8vIHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICB2YXIgYXNwZWN0UmF0aW9JZGMgPSByZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGFzcGVjdFJhdGlvSWRjKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMSwgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxMiwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTAsIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE2LCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0MCwgMzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMjQsIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvID0gWzIwLCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFszMiwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbODAsIDMzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxOCwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE1LCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbNjQsIDMzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxNjAsIDk5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0LCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFszLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsyLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI1NToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFtyZWFkVUJ5dGUoKSA8PCA4IHwgcmVhZFVCeXRlKCksIHJlYWRVQnl0ZSgpIDw8IDggfCByZWFkVUJ5dGUoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IE1hdGguY2VpbCgoKChwaWNXaWR0aEluTWJzTWludXMxICsgMSkgKiAxNikgLSBmcmFtZUNyb3BMZWZ0T2Zmc2V0ICogMiAtIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ICogMikpLFxuICAgICAgICAgICAgaGVpZ2h0OiAoKDIgLSBmcmFtZU1ic09ubHlGbGFnKSAqIChwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxICsgMSkgKiAxNikgLSAoKGZyYW1lTWJzT25seUZsYWcgPyAyIDogNCkgKiAoZnJhbWVDcm9wVG9wT2Zmc2V0ICsgZnJhbWVDcm9wQm90dG9tT2Zmc2V0KSksXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiBwaXhlbFJhdGlvXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRTbGljZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHNraXAgTkFMdSB0eXBlXG4gICAgICAgIHRoaXMucmVhZFVCeXRlKCk7XG4gICAgICAgIC8vIGRpc2NhcmQgZmlyc3RfbWJfaW5fc2xpY2VcbiAgICAgICAgdGhpcy5yZWFkVUVHKCk7XG4gICAgICAgIC8vIHJldHVybiBzbGljZV90eXBlXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRVRUcoKTtcbiAgICB9O1xuICAgIHJldHVybiBFeHBHb2xvbWI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXhwR29sb21iO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L2lkMy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZGVtdXgvaWQzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBJRDMgcGFyc2VyXG4gKi9cbnZhciBJRDMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSUQzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYW4gSUQzIGhlYWRlciBjYW4gYmUgZm91bmQgYXQgb2Zmc2V0IGluIGRhdGFcbiAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAtIFRydWUgaWYgYW4gSUQzIGhlYWRlciBpcyBmb3VuZFxuICAgICAqL1xuICAgIElEMy5pc0hlYWRlciA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLypcbiAgICAgICAgKiBodHRwOi8vaWQzLm9yZy9pZDN2Mi4zLjBcbiAgICAgICAgKiBbMF0gICAgID0gJ0knXG4gICAgICAgICogWzFdICAgICA9ICdEJ1xuICAgICAgICAqIFsyXSAgICAgPSAnMydcbiAgICAgICAgKiBbMyw0XSAgID0ge1ZlcnNpb259XG4gICAgICAgICogWzVdICAgICA9IHtGbGFnc31cbiAgICAgICAgKiBbNi05XSAgID0ge0lEMyBTaXplfVxuICAgICAgICAqXG4gICAgICAgICogQW4gSUQzdjIgdGFnIGNhbiBiZSBkZXRlY3RlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGF0dGVybjpcbiAgICAgICAgKiAgJDQ5IDQ0IDMzIHl5IHl5IHh4IHp6IHp6IHp6IHp6XG4gICAgICAgICogV2hlcmUgeXkgaXMgbGVzcyB0aGFuICRGRiwgeHggaXMgdGhlICdmbGFncycgYnl0ZSBhbmQgenogaXMgbGVzcyB0aGFuICQ4MFxuICAgICAgICAqL1xuICAgICAgICBpZiAob2Zmc2V0ICsgMTAgPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGxvb2sgZm9yICdJRDMnIGlkZW50aWZpZXJcbiAgICAgICAgICAgIGlmIChkYXRhW29mZnNldF0gPT09IDB4NDkgJiYgZGF0YVtvZmZzZXQgKyAxXSA9PT0gMHg0NCAmJiBkYXRhW29mZnNldCArIDJdID09PSAweDMzKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgdmVyc2lvbiBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyAzXSA8IDB4RkYgJiYgZGF0YVtvZmZzZXQgKyA0XSA8IDB4RkYpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgc2l6ZSBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbb2Zmc2V0ICsgNl0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgN10gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOF0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOV0gPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYW4gSUQzIGZvb3RlciBjYW4gYmUgZm91bmQgYXQgb2Zmc2V0IGluIGRhdGFcbiAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAtIFRydWUgaWYgYW4gSUQzIGZvb3RlciBpcyBmb3VuZFxuICAgICAqL1xuICAgIElEMy5pc0Zvb3RlciA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLypcbiAgICAgICAgKiBUaGUgZm9vdGVyIGlzIGEgY29weSBvZiB0aGUgaGVhZGVyLCBidXQgd2l0aCBhIGRpZmZlcmVudCBpZGVudGlmaWVyXG4gICAgICAgICovXG4gICAgICAgIGlmIChvZmZzZXQgKyAxMCA8PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gbG9vayBmb3IgJzNESScgaWRlbnRpZmllclxuICAgICAgICAgICAgaWYgKGRhdGFbb2Zmc2V0XSA9PT0gMHgzMyAmJiBkYXRhW29mZnNldCArIDFdID09PSAweDQ0ICYmIGRhdGFbb2Zmc2V0ICsgMl0gPT09IDB4NDkpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayB2ZXJzaW9uIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW29mZnNldCArIDNdIDwgMHhGRiAmJiBkYXRhW29mZnNldCArIDRdIDwgMHhGRikge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBzaXplIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyA2XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA3XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA4XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA5XSA8IDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW55IGFkamFjZW50IElEMyB0YWdzIGZvdW5kIGluIGRhdGEgc3RhcnRpbmcgYXQgb2Zmc2V0LCBhcyBvbmUgYmxvY2sgb2YgZGF0YVxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlYXJjaCBpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZ1xuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IC0gVGhlIGJsb2NrIG9mIGRhdGEgY29udGFpbmluZyBhbnkgSUQzIHRhZ3MgZm91bmRcbiAgICAgKi9cbiAgICBJRDMuZ2V0SUQzRGF0YSA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGZyb250ID0gb2Zmc2V0O1xuICAgICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgICAgd2hpbGUgKElEMy5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAvLyBJRDMgaGVhZGVyIGlzIDEwIGJ5dGVzXG4gICAgICAgICAgICBsZW5ndGggKz0gMTA7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IElEMy5fcmVhZFNpemUoZGF0YSwgb2Zmc2V0ICsgNik7XG4gICAgICAgICAgICBsZW5ndGggKz0gc2l6ZTtcbiAgICAgICAgICAgIGlmIChJRDMuaXNGb290ZXIoZGF0YSwgb2Zmc2V0ICsgMTApKSB7XG4gICAgICAgICAgICAgICAgLy8gSUQzIGZvb3RlciBpcyAxMCBieXRlc1xuICAgICAgICAgICAgICAgIGxlbmd0aCArPSAxMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCArPSBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnN1YmFycmF5KGZyb250LCBmcm9udCArIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIElEMy5fcmVhZFNpemUgPSBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBzaXplID0gMDtcbiAgICAgICAgc2l6ZSA9ICgoZGF0YVtvZmZzZXRdICYgMHg3ZikgPDwgMjEpO1xuICAgICAgICBzaXplIHw9ICgoZGF0YVtvZmZzZXQgKyAxXSAmIDB4N2YpIDw8IDE0KTtcbiAgICAgICAgc2l6ZSB8PSAoKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDdmKSA8PCA3KTtcbiAgICAgICAgc2l6ZSB8PSAoZGF0YVtvZmZzZXQgKyAzXSAmIDB4N2YpO1xuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIGZvciB0aGUgRWxlbWVudGFyeSBTdHJlYW0gdGltZXN0YW1wIGZvdW5kIGluIHRoZSBJRDMgZGF0YSBjaHVua1xuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YSAtIEJsb2NrIG9mIGRhdGEgY29udGFpbmluZyBvbmUgb3IgbW9yZSBJRDMgdGFnc1xuICAgICAqIEByZXR1cm4ge251bWJlcn0gLSBUaGUgdGltZXN0YW1wXG4gICAgICovXG4gICAgSUQzLmdldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFtZXMgPSBJRDMuZ2V0SUQzRnJhbWVzKGRhdGEpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZyYW1lID0gZnJhbWVzW2ldO1xuICAgICAgICAgICAgaWYgKElEMy5pc1RpbWVTdGFtcEZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJRDMuX3JlYWRUaW1lU3RhbXAoZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIElEMyBmcmFtZSBpcyBhbiBFbGVtZW50YXJ5IFN0cmVhbSB0aW1lc3RhbXAgZnJhbWVcbiAgICAgKiBAcGFyYW0ge0lEMyBmcmFtZX0gZnJhbWVcbiAgICAgKi9cbiAgICBJRDMuaXNUaW1lU3RhbXBGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICByZXR1cm4gKGZyYW1lICYmIGZyYW1lLmtleSA9PT0gJ1BSSVYnICYmIGZyYW1lLmluZm8gPT09ICdjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCcpO1xuICAgIH07XG4gICAgSUQzLl9nZXRGcmFtZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvKlxuICAgICAgICBGcmFtZSBJRCAgICAgICAkeHggeHggeHggeHggKGZvdXIgY2hhcmFjdGVycylcbiAgICAgICAgU2l6ZSAgICAgICAgICAgJHh4IHh4IHh4IHh4XG4gICAgICAgIEZsYWdzICAgICAgICAgICR4eCB4eFxuICAgICAgICAqL1xuICAgICAgICB2YXIgdHlwZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSwgZGF0YVszXSk7XG4gICAgICAgIHZhciBzaXplID0gSUQzLl9yZWFkU2l6ZShkYXRhLCA0KTtcbiAgICAgICAgLy8gc2tpcCBmcmFtZSBpZCwgc2l6ZSwgYW5kIGZsYWdzXG4gICAgICAgIHZhciBvZmZzZXQgPSAxMDtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogdHlwZSwgc2l6ZTogc2l6ZSwgZGF0YTogZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHNpemUpIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIElEMyBmcmFtZXMgZm91bmQgaW4gYWxsIHRoZSBJRDMgdGFncyBpbiB0aGUgaWQzRGF0YVxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gaWQzRGF0YSAtIFRoZSBJRDMgZGF0YSBjb250YWluaW5nIG9uZSBvciBtb3JlIElEMyB0YWdzXG4gICAgICogQHJldHVybiB7SUQzIGZyYW1lW119IC0gQXJyYXkgb2YgSUQzIGZyYW1lIG9iamVjdHNcbiAgICAgKi9cbiAgICBJRDMuZ2V0SUQzRnJhbWVzID0gZnVuY3Rpb24gKGlkM0RhdGEpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBmcmFtZXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKElEMy5pc0hlYWRlcihpZDNEYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IElEMy5fcmVhZFNpemUoaWQzRGF0YSwgb2Zmc2V0ICsgNik7XG4gICAgICAgICAgICAvLyBza2lwIHBhc3QgSUQzIGhlYWRlclxuICAgICAgICAgICAgb2Zmc2V0ICs9IDEwO1xuICAgICAgICAgICAgdmFyIGVuZCA9IG9mZnNldCArIHNpemU7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggZnJhbWVzIGluIHRoZSBJRDMgdGFnXG4gICAgICAgICAgICB3aGlsZSAob2Zmc2V0ICsgOCA8IGVuZCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZURhdGEgPSBJRDMuX2dldEZyYW1lRGF0YShpZDNEYXRhLnN1YmFycmF5KG9mZnNldCkpO1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IElEMy5fZGVjb2RlRnJhbWUoZnJhbWVEYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBza2lwIGZyYW1lIGhlYWRlciBhbmQgZnJhbWUgZGF0YVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZURhdGEuc2l6ZSArIDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKElEMy5pc0Zvb3RlcihpZDNEYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFtZXM7XG4gICAgfTtcbiAgICBJRDMuX2RlY29kZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgIGlmIChmcmFtZS50eXBlID09PSAnUFJJVicpIHtcbiAgICAgICAgICAgIHJldHVybiBJRDMuX2RlY29kZVByaXZGcmFtZShmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZnJhbWUudHlwZVswXSA9PT0gJ1QnKSB7XG4gICAgICAgICAgICByZXR1cm4gSUQzLl9kZWNvZGVUZXh0RnJhbWUoZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZyYW1lLnR5cGVbMF0gPT09ICdXJykge1xuICAgICAgICAgICAgcmV0dXJuIElEMy5fZGVjb2RlVVJMRnJhbWUoZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBJRDMuX3JlYWRUaW1lU3RhbXAgPSBmdW5jdGlvbiAodGltZVN0YW1wRnJhbWUpIHtcbiAgICAgICAgaWYgKHRpbWVTdGFtcEZyYW1lLmRhdGEuYnl0ZUxlbmd0aCA9PT0gOCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheSh0aW1lU3RhbXBGcmFtZS5kYXRhKTtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCBpcyAzMyBiaXQgZXhwcmVzc2VkIGFzIGEgYmlnLWVuZGlhbiBlaWdodC1vY3RldCBudW1iZXIsXG4gICAgICAgICAgICAvLyB3aXRoIHRoZSB1cHBlciAzMSBiaXRzIHNldCB0byB6ZXJvLlxuICAgICAgICAgICAgdmFyIHB0czMzQml0ID0gZGF0YVszXSAmIDB4MTtcbiAgICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSAoZGF0YVs0XSA8PCAyMykgK1xuICAgICAgICAgICAgICAgIChkYXRhWzVdIDw8IDE1KSArXG4gICAgICAgICAgICAgICAgKGRhdGFbNl0gPDwgNykgK1xuICAgICAgICAgICAgICAgIGRhdGFbN107XG4gICAgICAgICAgICB0aW1lc3RhbXAgLz0gNDU7XG4gICAgICAgICAgICBpZiAocHRzMzNCaXQpIHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgKz0gNDc3MjE4NTguODQ7XG4gICAgICAgICAgICB9IC8vIDJeMzIgLyA5MFxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgSUQzLl9kZWNvZGVQcml2RnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgLypcbiAgICAgICAgRm9ybWF0OiA8dGV4dCBzdHJpbmc+XFwwPGJpbmFyeSBkYXRhPlxuICAgICAgICAqL1xuICAgICAgICBpZiAoZnJhbWUuc2l6ZSA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG93bmVyID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLCB0cnVlKTtcbiAgICAgICAgdmFyIHByaXZhdGVEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZnJhbWUuZGF0YS5zdWJhcnJheShvd25lci5sZW5ndGggKyAxKSk7XG4gICAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgaW5mbzogb3duZXIsIGRhdGE6IHByaXZhdGVEYXRhLmJ1ZmZlciB9O1xuICAgIH07XG4gICAgSUQzLl9kZWNvZGVUZXh0RnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgaWYgKGZyYW1lLnNpemUgPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFtZS50eXBlID09PSAnVFhYWCcpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBGb3JtYXQ6XG4gICAgICAgICAgICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICAgICAgICAgICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1ZhbHVlfVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBpbmRleCA9IDE7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcbiAgICAgICAgICAgIGluZGV4ICs9IGRlc2NyaXB0aW9uLmxlbmd0aCArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcbiAgICAgICAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgaW5mbzogZGVzY3JpcHRpb24sIGRhdGE6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgRm9ybWF0OlxuICAgICAgICAgICAgWzBdICAgPSB7VGV4dCBFbmNvZGluZ31cbiAgICAgICAgICAgIFsxLT9dID0ge1ZhbHVlfVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciB0ZXh0ID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KDEpKTtcbiAgICAgICAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgZGF0YTogdGV4dCB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJRDMuX2RlY29kZVVSTEZyYW1lID0gZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgIGlmIChmcmFtZS50eXBlID09PSAnV1hYWCcpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBGb3JtYXQ6XG4gICAgICAgICAgICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICAgICAgICAgICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1VSTH1cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZnJhbWUuc2l6ZSA8IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gMTtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuICAgICAgICAgICAgaW5kZXggKz0gZGVzY3JpcHRpb24ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBkZXNjcmlwdGlvbiwgZGF0YTogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBGb3JtYXQ6XG4gICAgICAgICAgICBbMC0/XSA9IHtVUkx9XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHVybCA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGRhdGE6IHVybCB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg5MzY5ODQvdWludDhhcnJheS10by1zdHJpbmctaW4tamF2YXNjcmlwdC8yMjM3MzE5N1xuICAgIC8vIGh0dHA6Ly93d3cub25pY29zLmNvbS9zdGFmZi9pei9hbXVzZS9qYXZhc2NyaXB0L2V4cGVydC91dGYudHh0XG4gICAgLyogdXRmLmpzIC0gVVRGLTggPD0+IFVURi0xNiBjb252ZXJ0aW9uXG4gICAgICpcbiAgICAgKiBDb3B5cmlnaHQgKEMpIDE5OTkgTWFzYW5hbyBJenVtbyA8aXpAb25pY29zLmNvLmpwPlxuICAgICAqIFZlcnNpb246IDEuMFxuICAgICAqIExhc3RNb2RpZmllZDogRGVjIDI1IDE5OTlcbiAgICAgKiBUaGlzIGxpYnJhcnkgaXMgZnJlZS4gIFlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQuXG4gICAgICovXG4gICAgSUQzLl91dGY4QXJyYXlUb1N0ciA9IGZ1bmN0aW9uIChhcnJheSwgZXhpdE9uTnVsbCkge1xuICAgICAgICBpZiAoZXhpdE9uTnVsbCA9PT0gdm9pZCAwKSB7IGV4aXRPbk51bGwgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB2YXIgYztcbiAgICAgICAgdmFyIGNoYXIyO1xuICAgICAgICB2YXIgY2hhcjM7XG4gICAgICAgIHZhciBvdXQgPSAnJztcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICAgICAgYyA9IGFycmF5W2krK107XG4gICAgICAgICAgICBpZiAoYyA9PT0gMHgwMCAmJiBleGl0T25OdWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IDB4MDAgfHwgYyA9PT0gMHgwMykge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgMyAoRU5EX09GX1RFWFQpIG9yIDAgKE5VTEwpIHRoZW4gc2tpcCBpdFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChjID4+IDQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAvLyAweHh4eHh4eFxuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAvLyAxMTB4IHh4eHggICAxMHh4IHh4eHhcbiAgICAgICAgICAgICAgICAgICAgY2hhcjIgPSBhcnJheVtpKytdO1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgJiAweDFGKSA8PCA2KSB8IChjaGFyMiAmIDB4M0YpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgLy8gMTExMCB4eHh4ICAxMHh4IHh4eHggIDEweHggeHh4eFxuICAgICAgICAgICAgICAgICAgICBjaGFyMiA9IGFycmF5W2krK107XG4gICAgICAgICAgICAgICAgICAgIGNoYXIzID0gYXJyYXlbaSsrXTtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgwRikgPDwgMTIpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICgoY2hhcjIgJiAweDNGKSA8PCA2KSB8XG4gICAgICAgICAgICAgICAgICAgICAgICAoKGNoYXIzICYgMHgzRikgPDwgMCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICByZXR1cm4gSUQzO1xufSgpKTtcbnZhciB1dGY4QXJyYXlUb1N0ciA9IElEMy5fdXRmOEFycmF5VG9TdHI7XG5leHBvcnRzLnV0ZjhBcnJheVRvU3RyID0gdXRmOEFycmF5VG9TdHI7XG5leHBvcnRzLmRlZmF1bHQgPSBJRDM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvbXAzZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L21wM2RlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBNUDMgZGVtdXhlclxuICovXG52YXIgaWQzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9pZDMgKi8gXCIuL3NyYy9kZW11eC9pZDMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgbXBlZ2F1ZGlvXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21wZWdhdWRpbyAqLyBcIi4vc3JjL2RlbXV4L21wZWdhdWRpby5qc1wiKTtcbnZhciBNUDNEZW11eGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1QM0RlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIsIGNvbmZpZykge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICAgIH1cbiAgICBNUDNEZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gKGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgICAgICB0aGlzLl9hdWRpb1RyYWNrID0geyBjb250YWluZXI6ICdhdWRpby9tcGVnJywgdHlwZTogJ2F1ZGlvJywgaWQ6IC0xLCBzZXF1ZW5jZU51bWJlcjogMCwgaXNBQUM6IGZhbHNlLCBzYW1wbGVzOiBbXSwgbGVuOiAwLCBtYW5pZmVzdENvZGVjOiBhdWRpb0NvZGVjLCBkdXJhdGlvbjogZHVyYXRpb24sIGlucHV0VGltZVNjYWxlOiA5MDAwMCB9O1xuICAgIH07XG4gICAgTVAzRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBNUDNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgZGF0YSBjb250YWlucyBJRDMgdGltZXN0YW1wIGFuZCBNUEVHIHN5bmMgd29yZFxuICAgICAgICB2YXIgb2Zmc2V0LCBsZW5ndGg7XG4gICAgICAgIHZhciBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgICAgICBpZiAoaWQzRGF0YSAmJiBpZDNfMS5kZWZhdWx0LmdldFRpbWVTdGFtcChpZDNEYXRhKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBMb29rIGZvciBNUEVHIGhlYWRlciB8IDExMTEgMTExMSB8IDExMVggWFlaWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDEgYW5kIFkgb3IgWiBzaG91bGQgYmUgMVxuICAgICAgICAgICAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyBkaWZmZXJlbnQgZnJvbSAwIChMYXllciBJIG9yIExheWVyIElJIG9yIExheWVyIElJSSlcbiAgICAgICAgICAgIC8vIE1vcmUgaW5mbyBodHRwOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gICAgICAgICAgICBmb3IgKG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoLCBsZW5ndGggPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDEsIG9mZnNldCArIDEwMCk7IG9mZnNldCA8IGxlbmd0aDsgb2Zmc2V0KyspIHtcbiAgICAgICAgICAgICAgICBpZiAobXBlZ2F1ZGlvXzEuZGVmYXVsdC5wcm9iZShkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01QRUcgQXVkaW8gc3luYyB3b3JkIGZvdW5kICEnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8vIGZlZWQgaW5jb21pbmcgZGF0YSB0byB0aGUgZnJvbnQgb2YgdGhlIHBhcnNpbmcgcGlwZWxpbmVcbiAgICBNUDNEZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgICAgIHZhciBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gaWQzXzEuZGVmYXVsdC5nZXRUaW1lU3RhbXAoaWQzRGF0YSk7XG4gICAgICAgIHZhciBwdHMgPSB0aW1lc3RhbXAgPyA5MCAqIHRpbWVzdGFtcCA6IHRpbWVPZmZzZXQgKiA5MDAwMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gMCwgc3RhbXAgPSAwO1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrO1xuICAgICAgICB2YXIgaWQzU2FtcGxlcyA9IFt7IHB0czogcHRzLCBkdHM6IHB0cywgZGF0YTogaWQzRGF0YSB9XTtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKG1wZWdhdWRpb18xLmRlZmF1bHQuaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG1wZWdhdWRpb18xLmRlZmF1bHQuYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdVbmFibGUgdG8gcGFyc2UgTXBlZyBhdWRpbyBmcmFtZScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpZDNfMS5kZWZhdWx0LmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWQzU2FtcGxlcy5wdXNoKHsgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9KTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbXV4ZXIucmVtdXgodHJhY2ssIHsgc2FtcGxlczogW10gfSwgeyBzYW1wbGVzOiBpZDNTYW1wbGVzLCBpbnB1dFRpbWVTY2FsZTogOTAwMDAgfSwgeyBzYW1wbGVzOiBbXSB9LCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgIH07XG4gICAgTVAzRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIHJldHVybiBNUDNEZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1QM0RlbXV4ZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvbXA0ZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L21wNGRlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBNUDQgZGVtdXhlclxuICovXG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgVUlOVDMyX01BWCA9IE1hdGgucG93KDIsIDMyKSAtIDE7XG52YXIgTVA0RGVtdXhlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNUDREZW11eGVyKG9ic2VydmVyLCByZW11eGVyKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5yZW11eGVyID0gcmVtdXhlcjtcbiAgICB9XG4gICAgTVA0RGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoaW5pdFBUUykge1xuICAgICAgICB0aGlzLmluaXRQVFMgPSBpbml0UFRTO1xuICAgIH07XG4gICAgTVA0RGVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uIChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pIHtcbiAgICAgICAgLy8ganNoaW50IHVudXNlZDpmYWxzZVxuICAgICAgICBpZiAoaW5pdFNlZ21lbnQgJiYgaW5pdFNlZ21lbnQuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YSA9IE1QNERlbXV4ZXIucGFyc2VJbml0U2VnbWVudChpbml0U2VnbWVudCk7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IGF1ZGlvIGNvZGVjIGlmIG5vdGhpbmcgc3BlY2lmaWVkXG4gICAgICAgICAgICAvLyBUT0RPIDogZXh0cmFjdCB0aGF0IGZyb20gaW5pdHNlZ21lbnRcbiAgICAgICAgICAgIGlmIChhdWRpb0NvZGVjID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdWRpb0NvZGVjID0gJ21wNGEuNDAuNSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmlkZW9Db2RlYyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmlkZW9Db2RlYyA9ICdhdmMxLjQyZTAxZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHJhY2tzID0ge307XG4gICAgICAgICAgICBpZiAoaW5pdERhdGEuYXVkaW8gJiYgaW5pdERhdGEudmlkZW8pIHtcbiAgICAgICAgICAgICAgICB0cmFja3MuYXVkaW92aWRlbyA9IHsgY29udGFpbmVyOiAndmlkZW8vbXA0JywgY29kZWM6IGF1ZGlvQ29kZWMgKyAnLCcgKyB2aWRlb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpbml0RGF0YS5hdWRpbykge1xuICAgICAgICAgICAgICAgICAgICB0cmFja3MuYXVkaW8gPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL21wNCcsIGNvZGVjOiBhdWRpb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluaXREYXRhLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrcy52aWRlbyA9IHsgY29udGFpbmVyOiAndmlkZW8vbXA0JywgY29kZWM6IHZpZGVvQ29kZWMsIGluaXRTZWdtZW50OiBkdXJhdGlvbiA/IGluaXRTZWdtZW50IDogbnVsbCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIHsgdHJhY2tzOiB0cmFja3MgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9Db2RlYykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmlkZW9Db2RlYykge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IHZpZGVvQ29kZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1QNERlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBlbnN1cmUgd2UgZmluZCBhIG1vb2YgYm94IGluIHRoZSBmaXJzdCAxNiBrQlxuICAgICAgICByZXR1cm4gTVA0RGVtdXhlci5maW5kQm94KHsgZGF0YTogZGF0YSwgc3RhcnQ6IDAsIGVuZDogTWF0aC5taW4oZGF0YS5sZW5ndGgsIDE2Mzg0KSB9LCBbJ21vb2YnXSkubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIE1QNERlbXV4ZXIuYmluMnN0ciA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYnVmZmVyKTtcbiAgICB9O1xuICAgIE1QNERlbXV4ZXIucmVhZFVpbnQxNiA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCkge1xuICAgICAgICBpZiAoYnVmZmVyLmRhdGEpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSBidWZmZXIuc3RhcnQ7XG4gICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gYnVmZmVyW29mZnNldF0gPDwgOCB8XG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV07XG4gICAgICAgIHJldHVybiB2YWwgPCAwID8gNjU1MzYgKyB2YWwgOiB2YWw7XG4gICAgfTtcbiAgICBNUDREZW11eGVyLnJlYWRVaW50MzIgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQpIHtcbiAgICAgICAgaWYgKGJ1ZmZlci5kYXRhKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gYnVmZmVyLnN0YXJ0O1xuICAgICAgICAgICAgYnVmZmVyID0gYnVmZmVyLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbCA9IGJ1ZmZlcltvZmZzZXRdIDw8IDI0IHxcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA8PCAxNiB8XG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMl0gPDwgOCB8XG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgM107XG4gICAgICAgIHJldHVybiB2YWwgPCAwID8gNDI5NDk2NzI5NiArIHZhbCA6IHZhbDtcbiAgICB9O1xuICAgIE1QNERlbXV4ZXIud3JpdGVVaW50MzIgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChidWZmZXIuZGF0YSkge1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGJ1ZmZlci5zdGFydDtcbiAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlcltvZmZzZXRdID0gdmFsdWUgPj4gMjQ7XG4gICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+PiAxNikgJiAweGZmO1xuICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4gOCkgJiAweGZmO1xuICAgICAgICBidWZmZXJbb2Zmc2V0ICsgM10gPSB2YWx1ZSAmIDB4ZmY7XG4gICAgfTtcbiAgICAvLyBGaW5kIHRoZSBkYXRhIGZvciBhIGJveCBzcGVjaWZpZWQgYnkgaXRzIHBhdGhcbiAgICBNUDREZW11eGVyLmZpbmRCb3ggPSBmdW5jdGlvbiAoZGF0YSwgcGF0aCkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdLCBpLCBzaXplLCB0eXBlLCBlbmQsIHN1YnJlc3VsdHMsIHN0YXJ0LCBlbmRib3g7XG4gICAgICAgIGlmIChkYXRhLmRhdGEpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgICAgIGVuZCA9IGRhdGEuZW5kO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGVuZCA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IHRoZSBzZWFyY2ggZm9yIGVtcHR5IHBhdGhzXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDspIHtcbiAgICAgICAgICAgIHNpemUgPSBNUDREZW11eGVyLnJlYWRVaW50MzIoZGF0YSwgaSk7XG4gICAgICAgICAgICB0eXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGRhdGEuc3ViYXJyYXkoaSArIDQsIGkgKyA4KSk7XG4gICAgICAgICAgICBlbmRib3ggPSBzaXplID4gMSA/IGkgKyBzaXplIDogZW5kO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IHBhdGhbMF0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBwYXRoIGFuZCB3ZSd2ZSBmb3VuZCB0aGUgYm94IHdlIHdlcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9va2luZyBmb3JcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgZGF0YTogZGF0YSwgc3RhcnQ6IGkgKyA4LCBlbmQ6IGVuZGJveCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIG5leHQgYm94IGFsb25nIHRoZSBwYXRoXG4gICAgICAgICAgICAgICAgICAgIHN1YnJlc3VsdHMgPSBNUDREZW11eGVyLmZpbmRCb3goeyBkYXRhOiBkYXRhLCBzdGFydDogaSArIDgsIGVuZDogZW5kYm94IH0sIHBhdGguc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VicmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChzdWJyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgPSBlbmRib3g7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UndmUgZmluaXNoZWQgc2VhcmNoaW5nIGFsbCBvZiBkYXRhXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG4gICAgTVA0RGVtdXhlci5wYXJzZVNlZ21lbnRJbmRleCA9IGZ1bmN0aW9uIChpbml0U2VnbWVudCkge1xuICAgICAgICB2YXIgbW9vdiA9IE1QNERlbXV4ZXIuZmluZEJveChpbml0U2VnbWVudCwgWydtb292J10pWzBdO1xuICAgICAgICB2YXIgbW9vdkVuZE9mZnNldCA9IG1vb3YgPyBtb292LmVuZCA6IG51bGw7IC8vIHdlIG5lZWQgdGhpcyBpbiBjYXNlIHdlIG5lZWQgdG8gY2hvcCBvZiBnYXJiYWdlIG9mIHRoZSBlbmQgb2YgY3VycmVudCBkYXRhXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBzaWR4ID0gTVA0RGVtdXhlci5maW5kQm94KGluaXRTZWdtZW50LCBbJ3NpZHgnXSk7XG4gICAgICAgIHZhciByZWZlcmVuY2VzO1xuICAgICAgICBpZiAoIXNpZHggfHwgIXNpZHhbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJlZmVyZW5jZXMgPSBbXTtcbiAgICAgICAgc2lkeCA9IHNpZHhbMF07XG4gICAgICAgIHZhciB2ZXJzaW9uID0gc2lkeC5kYXRhWzBdO1xuICAgICAgICAvLyBzZXQgaW5pdGlhbCBvZmZzZXQsIHdlIHNraXAgdGhlIHJlZmVyZW5jZSBJRCAobm90IG5lZWRlZClcbiAgICAgICAgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gOCA6IDE2O1xuICAgICAgICB2YXIgdGltZXNjYWxlID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHNpZHgsIGluZGV4KTtcbiAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgLy8gVE9ETzogcGFyc2UgZWFybGllc3RQcmVzZW50YXRpb25UaW1lIGFuZCBmaXJzdE9mZnNldFxuICAgICAgICAvLyB1c3VhbGx5IHplcm8gaW4gb3VyIGNhc2VcbiAgICAgICAgdmFyIGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSA9IDA7XG4gICAgICAgIHZhciBmaXJzdE9mZnNldCA9IDA7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgICAgICBpbmRleCArPSA4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggKz0gMTY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2tpcCByZXNlcnZlZFxuICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICB2YXIgc3RhcnRCeXRlID0gc2lkeC5lbmQgKyBmaXJzdE9mZnNldDtcbiAgICAgICAgdmFyIHJlZmVyZW5jZXNDb3VudCA9IE1QNERlbXV4ZXIucmVhZFVpbnQxNihzaWR4LCBpbmRleCk7XG4gICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVmZXJlbmNlc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgdmFyIHJlZmVyZW5jZUluZm8gPSBNUDREZW11eGVyLnJlYWRVaW50MzIoc2lkeCwgcmVmZXJlbmNlSW5kZXgpO1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggKz0gNDtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VTaXplID0gcmVmZXJlbmNlSW5mbyAmIDB4N0ZGRkZGRkY7XG4gICAgICAgICAgICB2YXIgcmVmZXJlbmNlVHlwZSA9IChyZWZlcmVuY2VJbmZvICYgMHg4MDAwMDAwMCkgPj4+IDMxO1xuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1NJRFggaGFzIGhpZXJhcmNoaWNhbCByZWZlcmVuY2VzIChub3Qgc3VwcG9ydGVkKScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdWJzZWdtZW50RHVyYXRpb24gPSBNUDREZW11eGVyLnJlYWRVaW50MzIoc2lkeCwgcmVmZXJlbmNlSW5kZXgpO1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggKz0gNDtcbiAgICAgICAgICAgIHJlZmVyZW5jZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlU2l6ZTogcmVmZXJlbmNlU2l6ZSxcbiAgICAgICAgICAgICAgICBzdWJzZWdtZW50RHVyYXRpb246IHN1YnNlZ21lbnREdXJhdGlvbixcbiAgICAgICAgICAgICAgICBpbmZvOiB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzdWJzZWdtZW50RHVyYXRpb24gLyB0aW1lc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydEJ5dGUsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogc3RhcnRCeXRlICsgcmVmZXJlbmNlU2l6ZSAtIDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXJ0Qnl0ZSArPSByZWZlcmVuY2VTaXplO1xuICAgICAgICAgICAgLy8gU2tpcHBpbmcgMSBiaXQgZm9yIHxzdGFydHNXaXRoU2FwfCwgMyBiaXRzIGZvciB8c2FwVHlwZXwsIGFuZCAyOCBiaXRzXG4gICAgICAgICAgICAvLyBmb3IgfHNhcERlbHRhfC5cbiAgICAgICAgICAgIHJlZmVyZW5jZUluZGV4ICs9IDQ7XG4gICAgICAgICAgICAvLyBza2lwIHRvIG5leHQgcmVmXG4gICAgICAgICAgICBpbmRleCA9IHJlZmVyZW5jZUluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlYXJsaWVzdFByZXNlbnRhdGlvblRpbWU6IGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSxcbiAgICAgICAgICAgIHRpbWVzY2FsZTogdGltZXNjYWxlLFxuICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgICAgIHJlZmVyZW5jZXNDb3VudDogcmVmZXJlbmNlc0NvdW50LFxuICAgICAgICAgICAgcmVmZXJlbmNlczogcmVmZXJlbmNlcyxcbiAgICAgICAgICAgIG1vb3ZFbmRPZmZzZXQ6IG1vb3ZFbmRPZmZzZXRcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbiBNUDQgaW5pdGlhbGl6YXRpb24gc2VnbWVudCBhbmQgZXh0cmFjdHMgc3RyZWFtIHR5cGUgYW5kXG4gICAgICogdGltZXNjYWxlIHZhbHVlcyBmb3IgYW55IGRlY2xhcmVkIHRyYWNrcy4gVGltZXNjYWxlIHZhbHVlcyBpbmRpY2F0ZSB0aGVcbiAgICAgKiBudW1iZXIgb2YgY2xvY2sgdGlja3MgcGVyIHNlY29uZCB0byBhc3N1bWUgZm9yIHRpbWUtYmFzZWQgdmFsdWVzXG4gICAgICogZWxzZXdoZXJlIGluIHRoZSBNUDQuXG4gICAgICpcbiAgICAgKiBUbyBkZXRlcm1pbmUgdGhlIHN0YXJ0IHRpbWUgb2YgYW4gTVA0LCB5b3UgbmVlZCB0d28gcGllY2VzIG9mXG4gICAgICogaW5mb3JtYXRpb246IHRoZSB0aW1lc2NhbGUgdW5pdCBhbmQgdGhlIGVhcmxpZXN0IGJhc2UgbWVkaWEgZGVjb2RlXG4gICAgICogdGltZS4gTXVsdGlwbGUgdGltZXNjYWxlcyBjYW4gYmUgc3BlY2lmaWVkIHdpdGhpbiBhbiBNUDQgYnV0IHRoZVxuICAgICAqIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgaXMgYWx3YXlzIGV4cHJlc3NlZCBpbiB0aGUgdGltZXNjYWxlIGZyb21cbiAgICAgKiB0aGUgbWVkaWEgaGVhZGVyIGJveCBmb3IgdGhlIHRyYWNrOlxuICAgICAqIGBgYFxuICAgICAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IG1kaGQudGltZXNjYWxlXG4gICAgICogbW9vdiA+IHRyYWsgPiBtZGlhID4gaGRsclxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBpbml0IHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgdGhlIGluaXQgc2VnbWVudFxuICAgICAqIEByZXR1cm4ge29iamVjdH0gYSBoYXNoIG9mIHRyYWNrIHR5cGUgdG8gdGltZXNjYWxlIHZhbHVlcyBvciBudWxsIGlmXG4gICAgICogdGhlIGluaXQgc2VnbWVudCBpcyBtYWxmb3JtZWQuXG4gICAgICovXG4gICAgTVA0RGVtdXhlci5wYXJzZUluaXRTZWdtZW50ID0gZnVuY3Rpb24gKGluaXRTZWdtZW50KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIHRyYWtzID0gTVA0RGVtdXhlci5maW5kQm94KGluaXRTZWdtZW50LCBbJ21vb3YnLCAndHJhayddKTtcbiAgICAgICAgdHJha3MuZm9yRWFjaChmdW5jdGlvbiAodHJhaykge1xuICAgICAgICAgICAgdmFyIHRraGQgPSBNUDREZW11eGVyLmZpbmRCb3godHJhaywgWyd0a2hkJ10pWzBdO1xuICAgICAgICAgICAgaWYgKHRraGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbiA9IHRraGQuZGF0YVt0a2hkLnN0YXJ0XTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgICAgICAgICAgICB2YXIgdHJhY2tJZCA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0a2hkLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgdmFyIG1kaGQgPSBNUDREZW11eGVyLmZpbmRCb3godHJhaywgWydtZGlhJywgJ21kaGQnXSlbMF07XG4gICAgICAgICAgICAgICAgaWYgKG1kaGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9IG1kaGQuZGF0YVttZGhkLnN0YXJ0XTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVzY2FsZSA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMihtZGhkLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZGxyID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWssIFsnbWRpYScsICdoZGxyJ10pWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGRscikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhkbHJUeXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGhkbHIuZGF0YS5zdWJhcnJheShoZGxyLnN0YXJ0ICsgOCwgaGRsci5zdGFydCArIDEyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHsgJ3NvdW4nOiAnYXVkaW8nLCAndmlkZSc6ICd2aWRlbycgfVtoZGxyVHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4dHJhY3QgY29kZWMgaW5mby4gVE9ETyA6IHBhcnNlIGNvZGVjIGRldGFpbHMgdG8gYmUgYWJsZSB0byBidWlsZCBNSU1FIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZWNCb3ggPSBNUDREZW11eGVyLmZpbmRCb3godHJhaywgWydtZGlhJywgJ21pbmYnLCAnc3RibCcsICdzdHNkJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlY0JveC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZWNCb3ggPSBjb2RlY0JveFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGVjVHlwZSA9IE1QNERlbXV4ZXIuYmluMnN0cihjb2RlY0JveC5kYXRhLnN1YmFycmF5KGNvZGVjQm94LnN0YXJ0ICsgMTIsIGNvZGVjQm94LnN0YXJ0ICsgMTYpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk1QNERlbXV4ZXI6XCIgKyB0eXBlICsgXCI6XCIgKyBjb2RlY1R5cGUgKyBcIiBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3RyYWNrSWRdID0geyB0aW1lc2NhbGU6IHRpbWVzY2FsZSwgdHlwZTogdHlwZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFt0eXBlXSA9IHsgdGltZXNjYWxlOiB0aW1lc2NhbGUsIGlkOiB0cmFja0lkIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAqIERldGVybWluZSB0aGUgYmFzZSBtZWRpYSBkZWNvZGUgc3RhcnQgdGltZSwgaW4gc2Vjb25kcywgZm9yIGFuIE1QNFxuICAgKiBmcmFnbWVudC4gSWYgbXVsdGlwbGUgZnJhZ21lbnRzIGFyZSBzcGVjaWZpZWQsIHRoZSBlYXJsaWVzdCB0aW1lIGlzXG4gICAqIHJldHVybmVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBtZWRpYSBkZWNvZGUgdGltZSBjYW4gYmUgcGFyc2VkIGZyb20gdHJhY2sgZnJhZ21lbnRcbiAgICogbWV0YWRhdGE6XG4gICAqIGBgYFxuICAgKiBtb29mID4gdHJhZiA+IHRmZHQuYmFzZU1lZGlhRGVjb2RlVGltZVxuICAgKiBgYGBcbiAgICogSXQgcmVxdWlyZXMgdGhlIHRpbWVzY2FsZSB2YWx1ZSBmcm9tIHRoZSBtZGhkIHRvIGludGVycHJldC5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVzY2FsZSB7b2JqZWN0fSBhIGhhc2ggb2YgdHJhY2sgaWRzIHRvIHRpbWVzY2FsZSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGVhcmxpZXN0IGJhc2UgbWVkaWEgZGVjb2RlIHN0YXJ0IHRpbWUgZm9yIHRoZVxuICAgKiBmcmFnbWVudCwgaW4gc2Vjb25kc1xuICAgKi9cbiAgICBNUDREZW11eGVyLmdldFN0YXJ0RFRTID0gZnVuY3Rpb24gKGluaXREYXRhLCBmcmFnbWVudCkge1xuICAgICAgICB2YXIgdHJhZnMsIGJhc2VUaW1lcywgcmVzdWx0O1xuICAgICAgICAvLyB3ZSBuZWVkIGluZm8gZnJvbSB0d28gY2hpbGRyZW5kIG9mIGVhY2ggdHJhY2sgZnJhZ21lbnQgYm94XG4gICAgICAgIHRyYWZzID0gTVA0RGVtdXhlci5maW5kQm94KGZyYWdtZW50LCBbJ21vb2YnLCAndHJhZiddKTtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBzdGFydCB0aW1lcyBmb3IgZWFjaCB0cmFja1xuICAgICAgICBiYXNlVGltZXMgPSBbXS5jb25jYXQuYXBwbHkoW10sIHRyYWZzLm1hcChmdW5jdGlvbiAodHJhZikge1xuICAgICAgICAgICAgcmV0dXJuIE1QNERlbXV4ZXIuZmluZEJveCh0cmFmLCBbJ3RmaGQnXSkubWFwKGZ1bmN0aW9uICh0ZmhkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkLCBzY2FsZSwgYmFzZVRpbWU7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSB0cmFjayBpZCBmcm9tIHRoZSB0ZmhkXG4gICAgICAgICAgICAgICAgaWQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZoZCwgNCk7XG4gICAgICAgICAgICAgICAgLy8gYXNzdW1lIGEgOTBrSHogY2xvY2sgaWYgbm8gdGltZXNjYWxlIHdhcyBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICBzY2FsZSA9IGluaXREYXRhW2lkXS50aW1lc2NhbGUgfHwgOTBlMztcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgZnJvbSB0aGUgdGZkdFxuICAgICAgICAgICAgICAgIGJhc2VUaW1lID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZkdCddKS5tYXAoZnVuY3Rpb24gKHRmZHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlcnNpb24sIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9IHRmZHQuZGF0YVt0ZmR0LnN0YXJ0XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRmZHQsIDQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICo9IE1hdGgucG93KDIsIDMyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KVswXTtcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IGJhc2UgdGltZSB0byBzZWNvbmRzXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUaW1lIC8gc2NhbGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyByZXR1cm4gdGhlIG1pbmltdW1cbiAgICAgICAgcmVzdWx0ID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYmFzZVRpbWVzKTtcbiAgICAgICAgcmV0dXJuIGlzRmluaXRlKHJlc3VsdCkgPyByZXN1bHQgOiAwO1xuICAgIH07XG4gICAgTVA0RGVtdXhlci5vZmZzZXRTdGFydERUUyA9IGZ1bmN0aW9uIChpbml0RGF0YSwgZnJhZ21lbnQsIHRpbWVPZmZzZXQpIHtcbiAgICAgICAgTVA0RGVtdXhlci5maW5kQm94KGZyYWdtZW50LCBbJ21vb2YnLCAndHJhZiddKS5tYXAoZnVuY3Rpb24gKHRyYWYpIHtcbiAgICAgICAgICAgIHJldHVybiBNUDREZW11eGVyLmZpbmRCb3godHJhZiwgWyd0ZmhkJ10pLm1hcChmdW5jdGlvbiAodGZoZCkge1xuICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgdHJhY2sgaWQgZnJvbSB0aGUgdGZoZFxuICAgICAgICAgICAgICAgIHZhciBpZCA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0ZmhkLCA0KTtcbiAgICAgICAgICAgICAgICAvLyBhc3N1bWUgYSA5MGtIeiBjbG9jayBpZiBubyB0aW1lc2NhbGUgd2FzIHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIHZhciB0aW1lc2NhbGUgPSBpbml0RGF0YVtpZF0udGltZXNjYWxlIHx8IDkwZTM7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGZyb20gdGhlIHRmZHRcbiAgICAgICAgICAgICAgICBNUDREZW11eGVyLmZpbmRCb3godHJhZiwgWyd0ZmR0J10pLm1hcChmdW5jdGlvbiAodGZkdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbiA9IHRmZHQuZGF0YVt0ZmR0LnN0YXJ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VNZWRpYURlY29kZVRpbWUgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgNCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDQsIGJhc2VNZWRpYURlY29kZVRpbWUgLSB0aW1lT2Zmc2V0ICogdGltZXNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgKj0gTWF0aC5wb3coMiwgMzIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSArPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lIC09IHRpbWVPZmZzZXQgKiB0aW1lc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lID0gTWF0aC5tYXgoYmFzZU1lZGlhRGVjb2RlVGltZSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBwZXIgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgLyAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb3dlciA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAlIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTVA0RGVtdXhlci53cml0ZVVpbnQzMih0ZmR0LCA0LCB1cHBlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDgsIGxvd2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuICAgIE1QNERlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YTtcbiAgICAgICAgaWYgKCFpbml0RGF0YSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldEluaXRTZWdtZW50KGRhdGEsIHRoaXMuYXVkaW9Db2RlYywgdGhpcy52aWRlb0NvZGVjLCBmYWxzZSk7XG4gICAgICAgICAgICBpbml0RGF0YSA9IHRoaXMuaW5pdERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0RFRTLCBpbml0UFRTID0gdGhpcy5pbml0UFRTO1xuICAgICAgICBpZiAoaW5pdFBUUyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnREVFNfMSA9IE1QNERlbXV4ZXIuZ2V0U3RhcnREVFMoaW5pdERhdGEsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0UFRTID0gaW5pdFBUUyA9IHN0YXJ0RFRTXzEgLSB0aW1lT2Zmc2V0O1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuSU5JVF9QVFNfRk9VTkQsIHsgaW5pdFBUUzogaW5pdFBUUyB9KTtcbiAgICAgICAgfVxuICAgICAgICBNUDREZW11eGVyLm9mZnNldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhLCBpbml0UFRTKTtcbiAgICAgICAgc3RhcnREVFMgPSBNUDREZW11eGVyLmdldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhKTtcbiAgICAgICAgdGhpcy5yZW11eGVyLnJlbXV4KGluaXREYXRhLmF1ZGlvLCBpbml0RGF0YS52aWRlbywgbnVsbCwgbnVsbCwgc3RhcnREVFMsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCwgZGF0YSk7XG4gICAgfTtcbiAgICBNUDREZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBNUDREZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1QNERlbXV4ZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvbXBlZ2F1ZGlvLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kZW11eC9tcGVnYXVkaW8uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqICBNUEVHIHBhcnNlciBoZWxwZXJcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1wZWdBdWRpbyA9IHtcbiAgICBCaXRyYXRlc01hcDogW1xuICAgICAgICAzMiwgNjQsIDk2LCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMjg4LCAzMjAsIDM1MiwgMzg0LCA0MTYsIDQ0OCxcbiAgICAgICAgMzIsIDQ4LCA1NiwgNjQsIDgwLCA5NiwgMTEyLCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMzIwLCAzODQsXG4gICAgICAgIDMyLCA0MCwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAzMjAsXG4gICAgICAgIDMyLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNDQsIDE2MCwgMTc2LCAxOTIsIDIyNCwgMjU2LFxuICAgICAgICA4LCAxNiwgMjQsIDMyLCA0MCwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTQ0LCAxNjBcbiAgICBdLFxuICAgIFNhbXBsaW5nUmF0ZU1hcDogWzQ0MTAwLCA0ODAwMCwgMzIwMDAsIDIyMDUwLCAyNDAwMCwgMTYwMDAsIDExMDI1LCAxMjAwMCwgODAwMF0sXG4gICAgU2FtcGxlc0NvZWZmaWNpZW50czogW1xuICAgICAgICAvLyBNUEVHIDIuNVxuICAgICAgICBbXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgNzIsXG4gICAgICAgICAgICAxNDQsXG4gICAgICAgICAgICAxMiAvLyBMYXllcjFcbiAgICAgICAgXSxcbiAgICAgICAgLy8gUmVzZXJ2ZWRcbiAgICAgICAgW1xuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCAvLyBMYXllcjFcbiAgICAgICAgXSxcbiAgICAgICAgLy8gTVBFRyAyXG4gICAgICAgIFtcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICA3MixcbiAgICAgICAgICAgIDE0NCxcbiAgICAgICAgICAgIDEyIC8vIExheWVyMVxuICAgICAgICBdLFxuICAgICAgICAvLyBNUEVHIDFcbiAgICAgICAgW1xuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDE0NCxcbiAgICAgICAgICAgIDE0NCxcbiAgICAgICAgICAgIDEyIC8vIExheWVyMVxuICAgICAgICBdXG4gICAgXSxcbiAgICBCeXRlc0luU2xvdDogW1xuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICA0IC8vIExheWVyMVxuICAgIF0sXG4gICAgYXBwZW5kRnJhbWU6IGZ1bmN0aW9uICh0cmFjaywgZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgpIHtcbiAgICAgICAgLy8gVXNpbmcgaHR0cDovL3d3dy5kYXRhdm95YWdlLmNvbS9tcGdzY3JpcHQvbXBlZ2hkci5odG0gYXMgYSByZWZlcmVuY2VcbiAgICAgICAgaWYgKG9mZnNldCArIDI0ID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMucGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGhlYWRlciAmJiBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZUR1cmF0aW9uID0gaGVhZGVyLnNhbXBsZXNQZXJGcmFtZSAqIDkwMDAwIC8gaGVhZGVyLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB2YXIgc3RhbXAgPSBwdHMgKyBmcmFtZUluZGV4ICogZnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICAgIHZhciBzYW1wbGUgPSB7IHVuaXQ6IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGgpLCBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wIH07XG4gICAgICAgICAgICB0cmFjay5jb25maWcgPSBbXTtcbiAgICAgICAgICAgIHRyYWNrLmNoYW5uZWxDb3VudCA9IGhlYWRlci5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB0cmFjay5zYW1wbGVyYXRlID0gaGVhZGVyLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB0cmFjay5zYW1wbGVzLnB1c2goc2FtcGxlKTtcbiAgICAgICAgICAgIHRyYWNrLmxlbiArPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4geyBzYW1wbGU6IHNhbXBsZSwgbGVuZ3RoOiBoZWFkZXIuZnJhbWVMZW5ndGggfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgcGFyc2VIZWFkZXI6IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGhlYWRlckIgPSAoZGF0YVtvZmZzZXQgKyAxXSA+PiAzKSAmIDM7XG4gICAgICAgIHZhciBoZWFkZXJDID0gKGRhdGFbb2Zmc2V0ICsgMV0gPj4gMSkgJiAzO1xuICAgICAgICB2YXIgaGVhZGVyRSA9IChkYXRhW29mZnNldCArIDJdID4+IDQpICYgMTU7XG4gICAgICAgIHZhciBoZWFkZXJGID0gKGRhdGFbb2Zmc2V0ICsgMl0gPj4gMikgJiAzO1xuICAgICAgICB2YXIgaGVhZGVyRyA9IChkYXRhW29mZnNldCArIDJdID4+IDEpICYgMTtcbiAgICAgICAgaWYgKGhlYWRlckIgIT09IDEgJiYgaGVhZGVyRSAhPT0gMCAmJiBoZWFkZXJFICE9PSAxNSAmJiBoZWFkZXJGICE9PSAzKSB7XG4gICAgICAgICAgICB2YXIgY29sdW1uSW5CaXRyYXRlcyA9IGhlYWRlckIgPT09IDMgPyAoMyAtIGhlYWRlckMpIDogKGhlYWRlckMgPT09IDMgPyAzIDogNCk7XG4gICAgICAgICAgICB2YXIgYml0UmF0ZSA9IE1wZWdBdWRpby5CaXRyYXRlc01hcFtjb2x1bW5JbkJpdHJhdGVzICogMTQgKyBoZWFkZXJFIC0gMV0gKiAxMDAwO1xuICAgICAgICAgICAgdmFyIGNvbHVtbkluU2FtcGxlUmF0ZXMgPSBoZWFkZXJCID09PSAzID8gMCA6IGhlYWRlckIgPT09IDIgPyAxIDogMjtcbiAgICAgICAgICAgIHZhciBzYW1wbGVSYXRlID0gTXBlZ0F1ZGlvLlNhbXBsaW5nUmF0ZU1hcFtjb2x1bW5JblNhbXBsZVJhdGVzICogMyArIGhlYWRlckZdO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWxDb3VudCA9IGRhdGFbb2Zmc2V0ICsgM10gPj4gNiA9PT0gMyA/IDEgOiAyOyAvLyBJZiBiaXRzIG9mIGNoYW5uZWwgbW9kZSBhcmUgYDExYCB0aGVuIGl0IGlzIGEgc2luZ2xlIGNoYW5uZWwgKE1vbm8pXG4gICAgICAgICAgICB2YXIgc2FtcGxlQ29lZmZpY2llbnQgPSBNcGVnQXVkaW8uU2FtcGxlc0NvZWZmaWNpZW50c1toZWFkZXJCXVtoZWFkZXJDXTtcbiAgICAgICAgICAgIHZhciBieXRlc0luU2xvdCA9IE1wZWdBdWRpby5CeXRlc0luU2xvdFtoZWFkZXJDXTtcbiAgICAgICAgICAgIHZhciBzYW1wbGVzUGVyRnJhbWUgPSBzYW1wbGVDb2VmZmljaWVudCAqIDggKiBieXRlc0luU2xvdDtcbiAgICAgICAgICAgIHZhciBmcmFtZUxlbmd0aCA9IHBhcnNlSW50KHNhbXBsZUNvZWZmaWNpZW50ICogYml0UmF0ZSAvIHNhbXBsZVJhdGUgKyBoZWFkZXJHLCAxMCkgKiBieXRlc0luU2xvdDtcbiAgICAgICAgICAgIHJldHVybiB7IHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUsIGNoYW5uZWxDb3VudDogY2hhbm5lbENvdW50LCBmcmFtZUxlbmd0aDogZnJhbWVMZW5ndGgsIHNhbXBsZXNQZXJGcmFtZTogc2FtcGxlc1BlckZyYW1lIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGlzSGVhZGVyUGF0dGVybjogZnVuY3Rpb24gKGRhdGEsIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZGF0YVtvZmZzZXRdID09PSAweGZmICYmIChkYXRhW29mZnNldCArIDFdICYgMHhlMCkgPT09IDB4ZTAgJiYgKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDA2KSAhPT0gMHgwMDtcbiAgICB9LFxuICAgIGlzSGVhZGVyOiBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIExvb2sgZm9yIE1QRUcgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExWCBYWVpYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMSBhbmQgWSBvciBaIHNob3VsZCBiZSAxXG4gICAgICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgZGlmZmVyZW50IGZyb20gMCAoTGF5ZXIgSSBvciBMYXllciBJSSBvciBMYXllciBJSUkpXG4gICAgICAgIC8vIE1vcmUgaW5mbyBodHRwOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gICAgICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgdGhpcy5pc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgcHJvYmU6IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLy8gc2FtZSBhcyBpc0hlYWRlciBidXQgd2UgYWxzbyBjaGVjayB0aGF0IE1QRUcgZnJhbWUgZm9sbG93cyBsYXN0IE1QRUcgZnJhbWVcbiAgICAgICAgLy8gb3IgZW5kIG9mIGRhdGEgaXMgcmVhY2hlZFxuICAgICAgICBpZiAob2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIHRoaXMuaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgIC8vIE1QRUcgaGVhZGVyIExlbmd0aFxuICAgICAgICAgICAgdmFyIGhlYWRlckxlbmd0aCA9IDQ7XG4gICAgICAgICAgICAvLyBNUEVHIGZyYW1lIExlbmd0aFxuICAgICAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMucGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHZhciBmcmFtZUxlbmd0aCA9IGhlYWRlckxlbmd0aDtcbiAgICAgICAgICAgIGlmIChoZWFkZXIgJiYgaGVhZGVyLmZyYW1lTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZnJhbWVMZW5ndGggPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV3T2Zmc2V0ID0gb2Zmc2V0ICsgZnJhbWVMZW5ndGg7XG4gICAgICAgICAgICBpZiAobmV3T2Zmc2V0ID09PSBkYXRhLmxlbmd0aCB8fCAobmV3T2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIHRoaXMuaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG5ld09mZnNldCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBNcGVnQXVkaW87XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvc2FtcGxlLWFlcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L3NhbXBsZS1hZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBTQU1QTEUtQUVTIGRlY3J5cHRlclxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkZWNyeXB0ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NyeXB0L2RlY3J5cHRlciAqLyBcIi4vc3JjL2NyeXB0L2RlY3J5cHRlci5qc1wiKTtcbnZhciBTYW1wbGVBZXNEZWNyeXB0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2FtcGxlQWVzRGVjcnlwdGVyKG9ic2VydmVyLCBjb25maWcsIGRlY3J5cHRkYXRhLCBkaXNjYXJkRVBCKSB7XG4gICAgICAgIHRoaXMuZGVjcnlwdGRhdGEgPSBkZWNyeXB0ZGF0YTtcbiAgICAgICAgdGhpcy5kaXNjYXJkRVBCID0gZGlzY2FyZEVQQjtcbiAgICAgICAgdGhpcy5kZWNyeXB0ZXIgPSBuZXcgZGVjcnlwdGVyXzEuZGVmYXVsdChvYnNlcnZlciwgY29uZmlnLCB7IHJlbW92ZVBLQ1M3UGFkZGluZzogZmFsc2UgfSk7XG4gICAgfVxuICAgIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEJ1ZmZlciA9IGZ1bmN0aW9uIChlbmNyeXB0ZWREYXRhLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmRlY3J5cHRlci5kZWNyeXB0KGVuY3J5cHRlZERhdGEsIHRoaXMuZGVjcnlwdGRhdGEua2V5LmJ1ZmZlciwgdGhpcy5kZWNyeXB0ZGF0YS5pdi5idWZmZXIsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8vIEFBQyAtIGVuY3J5cHQgYWxsIGZ1bGwgMTYgYnl0ZXMgYmxvY2tzIHN0YXJ0aW5nIGZyb20gb2Zmc2V0IDE2XG4gICAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QWFjU2FtcGxlID0gZnVuY3Rpb24gKHNhbXBsZXMsIHNhbXBsZUluZGV4LCBjYWxsYmFjaywgc3luYykge1xuICAgICAgICB2YXIgY3VyVW5pdCA9IHNhbXBsZXNbc2FtcGxlSW5kZXhdLnVuaXQ7XG4gICAgICAgIHZhciBlbmNyeXB0ZWREYXRhID0gY3VyVW5pdC5zdWJhcnJheSgxNiwgY3VyVW5pdC5sZW5ndGggLSBjdXJVbml0Lmxlbmd0aCAlIDE2KTtcbiAgICAgICAgdmFyIGVuY3J5cHRlZEJ1ZmZlciA9IGVuY3J5cHRlZERhdGEuYnVmZmVyLnNsaWNlKGVuY3J5cHRlZERhdGEuYnl0ZU9mZnNldCwgZW5jcnlwdGVkRGF0YS5ieXRlT2Zmc2V0ICsgZW5jcnlwdGVkRGF0YS5sZW5ndGgpO1xuICAgICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kZWNyeXB0QnVmZmVyKGVuY3J5cHRlZEJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgICAgIGRlY3J5cHRlZERhdGEgPSBuZXcgVWludDhBcnJheShkZWNyeXB0ZWREYXRhKTtcbiAgICAgICAgICAgIGN1clVuaXQuc2V0KGRlY3J5cHRlZERhdGEsIDE2KTtcbiAgICAgICAgICAgIGlmICghc3luYykge1xuICAgICAgICAgICAgICAgIGxvY2FsdGhpcy5kZWNyeXB0QWFjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCArIDEsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHRBYWNTYW1wbGVzID0gZnVuY3Rpb24gKHNhbXBsZXMsIHNhbXBsZUluZGV4LCBjYWxsYmFjaykge1xuICAgICAgICBmb3IgKDs7IHNhbXBsZUluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNhbXBsZXNbc2FtcGxlSW5kZXhdLnVuaXQubGVuZ3RoIDwgMzIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzeW5jID0gdGhpcy5kZWNyeXB0ZXIuaXNTeW5jKCk7XG4gICAgICAgICAgICB0aGlzLmRlY3J5cHRBYWNTYW1wbGUoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrLCBzeW5jKTtcbiAgICAgICAgICAgIGlmICghc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQVZDIC0gZW5jcnlwdCBvbmUgMTYgYnl0ZXMgYmxvY2sgb3V0IG9mIHRlbiwgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMzJcbiAgICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmdldEF2Y0VuY3J5cHRlZERhdGEgPSBmdW5jdGlvbiAoZGVjb2RlZERhdGEpIHtcbiAgICAgICAgdmFyIGVuY3J5cHRlZERhdGFMZW4gPSBNYXRoLmZsb29yKChkZWNvZGVkRGF0YS5sZW5ndGggLSA0OCkgLyAxNjApICogMTYgKyAxNjtcbiAgICAgICAgdmFyIGVuY3J5cHRlZERhdGEgPSBuZXcgSW50OEFycmF5KGVuY3J5cHRlZERhdGFMZW4pO1xuICAgICAgICB2YXIgb3V0cHV0UG9zID0gMDtcbiAgICAgICAgZm9yICh2YXIgaW5wdXRQb3MgPSAzMjsgaW5wdXRQb3MgPD0gZGVjb2RlZERhdGEubGVuZ3RoIC0gMTY7IGlucHV0UG9zICs9IDE2MCwgb3V0cHV0UG9zICs9IDE2KSB7XG4gICAgICAgICAgICBlbmNyeXB0ZWREYXRhLnNldChkZWNvZGVkRGF0YS5zdWJhcnJheShpbnB1dFBvcywgaW5wdXRQb3MgKyAxNiksIG91dHB1dFBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuY3J5cHRlZERhdGE7XG4gICAgfTtcbiAgICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmdldEF2Y0RlY3J5cHRlZFVuaXQgPSBmdW5jdGlvbiAoZGVjb2RlZERhdGEsIGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgZGVjcnlwdGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpO1xuICAgICAgICB2YXIgaW5wdXRQb3MgPSAwO1xuICAgICAgICBmb3IgKHZhciBvdXRwdXRQb3MgPSAzMjsgb3V0cHV0UG9zIDw9IGRlY29kZWREYXRhLmxlbmd0aCAtIDE2OyBvdXRwdXRQb3MgKz0gMTYwLCBpbnB1dFBvcyArPSAxNikge1xuICAgICAgICAgICAgZGVjb2RlZERhdGEuc2V0KGRlY3J5cHRlZERhdGEuc3ViYXJyYXkoaW5wdXRQb3MsIGlucHV0UG9zICsgMTYpLCBvdXRwdXRQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNvZGVkRGF0YTtcbiAgICB9O1xuICAgIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEF2Y1NhbXBsZSA9IGZ1bmN0aW9uIChzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYykge1xuICAgICAgICB2YXIgZGVjb2RlZERhdGEgPSB0aGlzLmRpc2NhcmRFUEIoY3VyVW5pdC5kYXRhKTtcbiAgICAgICAgdmFyIGVuY3J5cHRlZERhdGEgPSB0aGlzLmdldEF2Y0VuY3J5cHRlZERhdGEoZGVjb2RlZERhdGEpO1xuICAgICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kZWNyeXB0QnVmZmVyKGVuY3J5cHRlZERhdGEuYnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgICAgICAgY3VyVW5pdC5kYXRhID0gbG9jYWx0aGlzLmdldEF2Y0RlY3J5cHRlZFVuaXQoZGVjb2RlZERhdGEsIGRlY3J5cHRlZERhdGEpO1xuICAgICAgICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgICAgICAgICAgbG9jYWx0aGlzLmRlY3J5cHRBdmNTYW1wbGVzKHNhbXBsZXMsIHNhbXBsZUluZGV4LCB1bml0SW5kZXggKyAxLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QXZjU2FtcGxlcyA9IGZ1bmN0aW9uIChzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaykge1xuICAgICAgICBmb3IgKDs7IHNhbXBsZUluZGV4KyssIHVuaXRJbmRleCA9IDApIHtcbiAgICAgICAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1clVuaXRzID0gc2FtcGxlc1tzYW1wbGVJbmRleF0udW5pdHM7XG4gICAgICAgICAgICBmb3IgKDs7IHVuaXRJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVuaXRJbmRleCA+PSBjdXJVbml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJVbml0ID0gY3VyVW5pdHNbdW5pdEluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyVW5pdC5sZW5ndGggPD0gNDggfHwgKGN1clVuaXQudHlwZSAhPT0gMSAmJiBjdXJVbml0LnR5cGUgIT09IDUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3luYyA9IHRoaXMuZGVjcnlwdGVyLmlzU3luYygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjcnlwdEF2Y1NhbXBsZShzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYyk7XG4gICAgICAgICAgICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTYW1wbGVBZXNEZWNyeXB0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU2FtcGxlQWVzRGVjcnlwdGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L3RzZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZGVtdXgvdHNkZW11eGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBoaWdobHkgb3B0aW1pemVkIFRTIGRlbXV4ZXI6XG4gKiBwYXJzZSBQQVQsIFBNVFxuICogZXh0cmFjdCBQRVMgcGFja2V0IGZyb20gYXVkaW8gYW5kIHZpZGVvIFBJRHNcbiAqIGV4dHJhY3QgQVZDL0gyNjQgTkFMIHVuaXRzIGFuZCBBQUMvQURUUyBzYW1wbGVzIGZyb20gUEVTIHBhY2tldFxuICogdHJpZ2dlciB0aGUgcmVtdXhlciB1cG9uIHBhcnNpbmcgY29tcGxldGlvblxuICogaXQgYWxzbyB0cmllcyB0byB3b3JrYXJvdW5kIGFzIGJlc3QgYXMgaXQgY2FuIGF1ZGlvIGNvZGVjIHN3aXRjaCAoSEUtQUFDIHRvIEFBQyBhbmQgdmljZSB2ZXJzYSksIHdpdGhvdXQgaGF2aW5nIHRvIHJlc3RhcnQgdGhlIE1lZGlhU291cmNlLlxuICogaXQgYWxzbyBjb250cm9scyB0aGUgcmVtdXhpbmcgcHJvY2VzcyA6XG4gKiB1cG9uIGRpc2NvbnRpbnVpdHkgb3IgbGV2ZWwgc3dpdGNoIGRldGVjdGlvbiwgaXQgd2lsbCBhbHNvIG5vdGlmaWVzIHRoZSByZW11eGVyIHNvIHRoYXQgaXQgY2FuIHJlc2V0IGl0cyBzdGF0ZS5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQURUUyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYWR0cyAqLyBcIi4vc3JjL2RlbXV4L2FkdHMuanNcIik7XG52YXIgbXBlZ2F1ZGlvXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21wZWdhdWRpbyAqLyBcIi4vc3JjL2RlbXV4L21wZWdhdWRpby5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBleHBfZ29sb21iXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2V4cC1nb2xvbWIgKi8gXCIuL3NyYy9kZW11eC9leHAtZ29sb21iLmpzXCIpO1xudmFyIHNhbXBsZV9hZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2FtcGxlLWFlcyAqLyBcIi4vc3JjL2RlbXV4L3NhbXBsZS1hZXMuanNcIik7XG4vLyBpbXBvcnQgSGV4IGZyb20gJy4uL3V0aWxzL2hleCc7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG4vLyBXZSBhcmUgdXNpbmcgZml4ZWQgdHJhY2sgSURzIGZvciBkcml2aW5nIHRoZSBNUDQgcmVtdXhlclxuLy8gaW5zdGVhZCBvZiBmb2xsb3dpbmcgdGhlIFRTIFBJRHMuXG4vLyBUaGVyZSBpcyBubyByZWFzb24gbm90IHRvIGRvIHRoaXMgYW5kIHNvbWUgYnJvd3NlcnMvU291cmNlQnVmZmVyLWRlbXV4ZXJzXG4vLyBtYXkgbm90IGxpa2UgaWYgdGhlcmUgYXJlIFRyYWNrSUQgXCJzd2l0Y2hlc1wiXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzEzMzFcbi8vIEhlcmUgd2UgYXJlIG1hcHBpbmcgb3VyIGludGVybmFsIHRyYWNrIHR5cGVzIHRvIGNvbnN0YW50IE1QNCB0cmFjayBJRHNcbi8vIFdpdGggTVNFIGN1cnJlbnRseSBvbmUgY2FuIG9ubHkgaGF2ZSBvbmUgdHJhY2sgb2YgZWFjaCwgYW5kIHdlIGFyZSBtdXhpbmdcbi8vIHdoYXRldmVyIHZpZGVvL2F1ZGlvIHJlbmRpdGlvbiBpbiB0aGVtLlxudmFyIFJlbXV4ZXJUcmFja0lkQ29uZmlnID0ge1xuICAgIHZpZGVvOiAxLFxuICAgIGF1ZGlvOiAyLFxuICAgIGlkMzogMyxcbiAgICB0ZXh0OiA0XG59O1xudmFyIFRTRGVtdXhlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUU0RlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgICAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICAgICAgICB0aGlzLnNhbXBsZUFlcyA9IG51bGw7XG4gICAgfVxuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuc2V0RGVjcnlwdERhdGEgPSBmdW5jdGlvbiAoZGVjcnlwdGRhdGEpIHtcbiAgICAgICAgaWYgKChkZWNyeXB0ZGF0YSAhPSBudWxsKSAmJiAoZGVjcnlwdGRhdGEua2V5ICE9IG51bGwpICYmIChkZWNyeXB0ZGF0YS5tZXRob2QgPT09ICdTQU1QTEUtQUVTJykpIHtcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlQWVzID0gbmV3IHNhbXBsZV9hZXNfMS5kZWZhdWx0KHRoaXMub2JzZXJ2ZXIsIHRoaXMuY29uZmlnLCBkZWNyeXB0ZGF0YSwgdGhpcy5kaXNjYXJkRVBCKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlQWVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHN5bmNPZmZzZXQgPSBUU0RlbXV4ZXIuX3N5bmNPZmZzZXQoZGF0YSk7XG4gICAgICAgIGlmIChzeW5jT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN5bmNPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIk1QRUcyLVRTIGRldGVjdGVkIGJ1dCBmaXJzdCBzeW5jIHdvcmQgZm91bmQgQCBvZmZzZXQgXCIgKyBzeW5jT2Zmc2V0ICsgXCIsIGp1bmsgYWhlYWQgP1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIuX3N5bmNPZmZzZXQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBzY2FuIDEwMDAgZmlyc3QgYnl0ZXNcbiAgICAgICAgdmFyIHNjYW53aW5kb3cgPSBNYXRoLm1pbigxMDAwLCBkYXRhLmxlbmd0aCAtIDMgKiAxODgpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc2NhbndpbmRvdykge1xuICAgICAgICAgICAgLy8gYSBUUyBmcmFnbWVudCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCAzIFRTIHBhY2tldHMsIGEgUEFULCBhIFBNVCwgYW5kIG9uZSBQSUQsIGVhY2ggc3RhcnRpbmcgd2l0aCAweDQ3XG4gICAgICAgICAgICBpZiAoZGF0YVtpXSA9PT0gMHg0NyAmJiBkYXRhW2kgKyAxODhdID09PSAweDQ3ICYmIGRhdGFbaSArIDIgKiAxODhdID09PSAweDQ3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRyYWNrIG1vZGVsIGludGVybmFsIHRvIGRlbXV4ZXIgdXNlZCB0byBkcml2ZSByZW11eGluZyBpbnB1dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgJ2F1ZGlvJyB8ICd2aWRlbycgfCAnaWQzJyB8ICd0ZXh0J1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVFNEZW11eGVyJ3MgaW50ZXJuYWwgdHJhY2sgbW9kZWxcbiAgICAgKi9cbiAgICBUU0RlbXV4ZXIuY3JlYXRlVHJhY2sgPSBmdW5jdGlvbiAodHlwZSwgZHVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdHlwZSA9PT0gJ3ZpZGVvJyB8fCB0eXBlID09PSAnYXVkaW8nID8gJ3ZpZGVvL21wMnQnIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGlkOiBSZW11eGVyVHJhY2tJZENvbmZpZ1t0eXBlXSxcbiAgICAgICAgICAgIHBpZDogLTEsXG4gICAgICAgICAgICBpbnB1dFRpbWVTY2FsZTogOTAwMDAsXG4gICAgICAgICAgICBzZXF1ZW5jZU51bWJlcjogMCxcbiAgICAgICAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgICAgICAgbGVuOiAwLFxuICAgICAgICAgICAgZHJvcHBlZDogdHlwZSA9PT0gJ3ZpZGVvJyA/IDAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpc0FBQzogdHlwZSA9PT0gJ2F1ZGlvJyA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkdXJhdGlvbjogdHlwZSA9PT0gJ2F1ZGlvJyA/IGR1cmF0aW9uIDogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbml0IHNlZ21lbnQgb24gdGhlIGRlbXV4ZXIvcmVtdXhlciBpbnRlcmZhY2UuIE5lZWRlZCBmb3IgZGlzY29udGludWl0aWVzL3RyYWNrLXN3aXRjaGVzIChvciBhdCBzdHJlYW0gc3RhcnQpXG4gICAgICogUmVzZXRzIGFsbCBpbnRlcm5hbCB0cmFjayBpbnN0YW5jZXMgb2YgdGhlIGRlbXV4ZXIuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGUgSW1wbGVtZW50cyBnZW5lcmljIGRlbXV4aW5nL3JlbXV4aW5nIGludGVyZmFjZSAoc2VlIERlbXV4ZXJJbmxpbmUpXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGluaXRTZWdtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF1ZGlvQ29kZWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmlkZW9Db2RlY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiAoaW4gVFMgdGltZXNjYWxlID0gOTBrSHopXG4gICAgICovXG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gKGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgICAgICB0aGlzLnBtdFBhcnNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wbXRJZCA9IC0xO1xuICAgICAgICB0aGlzLl9hdmNUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygndmlkZW8nLCBkdXJhdGlvbik7XG4gICAgICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSBUU0RlbXV4ZXIuY3JlYXRlVHJhY2soJ2F1ZGlvJywgZHVyYXRpb24pO1xuICAgICAgICB0aGlzLl9pZDNUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygnaWQzJywgZHVyYXRpb24pO1xuICAgICAgICB0aGlzLl90eHRUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygndGV4dCcsIGR1cmF0aW9uKTtcbiAgICAgICAgLy8gZmx1c2ggYW55IHBhcnRpYWwgY29udGVudFxuICAgICAgICB0aGlzLmFhY092ZXJGbG93ID0gbnVsbDtcbiAgICAgICAgdGhpcy5hYWNMYXN0UFRTID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdmNTYW1wbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgICAgICB0aGlzLnZpZGVvQ29kZWMgPSB2aWRlb0NvZGVjO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0VGltZVN0YW1wID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8vIGZlZWQgaW5jb21pbmcgZGF0YSB0byB0aGUgZnJvbnQgb2YgdGhlIHBhcnNpbmcgcGlwZWxpbmVcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIHN0YXJ0LCBsZW4gPSBkYXRhLmxlbmd0aCwgc3R0LCBwaWQsIGF0Ziwgb2Zmc2V0LCBwZXMsIHVua25vd25QSURzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29udGlndW91cyA9IGNvbnRpZ3VvdXM7XG4gICAgICAgIHZhciBwbXRQYXJzZWQgPSB0aGlzLnBtdFBhcnNlZCwgYXZjVHJhY2sgPSB0aGlzLl9hdmNUcmFjaywgYXVkaW9UcmFjayA9IHRoaXMuX2F1ZGlvVHJhY2ssIGlkM1RyYWNrID0gdGhpcy5faWQzVHJhY2ssIGF2Y0lkID0gYXZjVHJhY2sucGlkLCBhdWRpb0lkID0gYXVkaW9UcmFjay5waWQsIGlkM0lkID0gaWQzVHJhY2sucGlkLCBwbXRJZCA9IHRoaXMuX3BtdElkLCBhdmNEYXRhID0gYXZjVHJhY2sucGVzRGF0YSwgYXVkaW9EYXRhID0gYXVkaW9UcmFjay5wZXNEYXRhLCBpZDNEYXRhID0gaWQzVHJhY2sucGVzRGF0YSwgcGFyc2VQQVQgPSB0aGlzLl9wYXJzZVBBVCwgcGFyc2VQTVQgPSB0aGlzLl9wYXJzZVBNVCwgcGFyc2VQRVMgPSB0aGlzLl9wYXJzZVBFUywgcGFyc2VBVkNQRVMgPSB0aGlzLl9wYXJzZUFWQ1BFUy5iaW5kKHRoaXMpLCBwYXJzZUFBQ1BFUyA9IHRoaXMuX3BhcnNlQUFDUEVTLmJpbmQodGhpcyksIHBhcnNlTVBFR1BFUyA9IHRoaXMuX3BhcnNlTVBFR1BFUy5iaW5kKHRoaXMpLCBwYXJzZUlEM1BFUyA9IHRoaXMuX3BhcnNlSUQzUEVTLmJpbmQodGhpcyk7XG4gICAgICAgIHZhciBzeW5jT2Zmc2V0ID0gVFNEZW11eGVyLl9zeW5jT2Zmc2V0KGRhdGEpO1xuICAgICAgICAvLyBkb24ndCBwYXJzZSBsYXN0IFRTIHBhY2tldCBpZiBpbmNvbXBsZXRlXG4gICAgICAgIGxlbiAtPSAobGVuICsgc3luY09mZnNldCkgJSAxODg7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBUUyBwYWNrZXRzXG4gICAgICAgIGZvciAoc3RhcnQgPSBzeW5jT2Zmc2V0OyBzdGFydCA8IGxlbjsgc3RhcnQgKz0gMTg4KSB7XG4gICAgICAgICAgICBpZiAoZGF0YVtzdGFydF0gPT09IDB4NDcpIHtcbiAgICAgICAgICAgICAgICBzdHQgPSAhIShkYXRhW3N0YXJ0ICsgMV0gJiAweDQwKTtcbiAgICAgICAgICAgICAgICAvLyBwaWQgaXMgYSAxMy1iaXQgZmllbGQgc3RhcnRpbmcgYXQgdGhlIGxhc3QgYml0IG9mIFRTWzFdXG4gICAgICAgICAgICAgICAgcGlkID0gKChkYXRhW3N0YXJ0ICsgMV0gJiAweDFmKSA8PCA4KSArIGRhdGFbc3RhcnQgKyAyXTtcbiAgICAgICAgICAgICAgICBhdGYgPSAoZGF0YVtzdGFydCArIDNdICYgMHgzMCkgPj4gNDtcbiAgICAgICAgICAgICAgICAvLyBpZiBhbiBhZGFwdGlvbiBmaWVsZCBpcyBwcmVzZW50LCBpdHMgbGVuZ3RoIGlzIHNwZWNpZmllZCBieSB0aGUgZmlmdGggYnl0ZSBvZiB0aGUgVFMgcGFja2V0IGhlYWRlci5cbiAgICAgICAgICAgICAgICBpZiAoYXRmID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBzdGFydCArIDUgKyBkYXRhW3N0YXJ0ICsgNF07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIGlmIHRoZXJlIGlzIG9ubHkgYWRhcHRhdGlvbiBmaWVsZFxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSAoc3RhcnQgKyAxODgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gc3RhcnQgKyA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBpZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGF2Y0lkOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdmNEYXRhICYmIChwZXMgPSBwYXJzZVBFUyhhdmNEYXRhKSkgJiYgcGVzLnB0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlQVZDUEVTKHBlcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmNEYXRhID0geyBkYXRhOiBbXSwgc2l6ZTogMCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF2Y0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmNEYXRhLmRhdGEucHVzaChkYXRhLnN1YmFycmF5KG9mZnNldCwgc3RhcnQgKyAxODgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmNEYXRhLnNpemUgKz0gc3RhcnQgKyAxODggLSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBhdWRpb0lkOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGF1ZGlvRGF0YSkpICYmIHBlcy5wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VBQUNQRVMocGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlTVBFR1BFUyhwZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0RhdGEuZGF0YS5wdXNoKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBzdGFydCArIDE4OCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvRGF0YS5zaXplICs9IHN0YXJ0ICsgMTg4IC0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaWQzSWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSAmJiBwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJRDNQRVMocGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZDNEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgMTg4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzRGF0YS5zaXplICs9IHN0YXJ0ICsgMTg4IC0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0YVtvZmZzZXRdICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBtdElkID0gdGhpcy5fcG10SWQgPSBwYXJzZVBBVChkYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcG10SWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGFbb2Zmc2V0XSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkUElEcyA9IHBhcnNlUE1UKGRhdGEsIG9mZnNldCwgdGhpcy50eXBlU3VwcG9ydGVkLm1wZWcgPT09IHRydWUgfHwgdGhpcy50eXBlU3VwcG9ydGVkLm1wMyA9PT0gdHJ1ZSwgdGhpcy5zYW1wbGVBZXMgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0cmFjayBpZCBpZiB0cmFjayBQSUQgZm91bmQgd2hpbGUgcGFyc2luZyBQTVRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdG8gYXZvaWQgcmVzZXR0aW5nIHRoZSBQSUQgdG8gLTEgaW4gY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhY2sgUElEIHRyYW5zaWVudGx5IGRpc2FwcGVhcnMgZnJvbSB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGhhcHBlbiBpbiBjYXNlIG9mIHRyYW5zaWVudCBtaXNzaW5nIGF1ZGlvIHNhbXBsZXMgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEUgdGhpcyBpcyBvbmx5IHRoZSBQSUQgb2YgdGhlIHRyYWNrIGFzIGZvdW5kIGluIFRTLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdlIGFyZSBub3QgdXNpbmcgdGhpcyBmb3IgTVA0IHRyYWNrIElEcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y0lkID0gcGFyc2VkUElEcy5hdmM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXZjSWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZjVHJhY2sucGlkID0gYXZjSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0lkID0gcGFyc2VkUElEcy5hdWRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0lkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2sucGlkID0gYXVkaW9JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1RyYWNrLmlzQUFDID0gcGFyc2VkUElEcy5pc0FBQztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkM0lkID0gcGFyc2VkUElEcy5pZDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQzSWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzVHJhY2sucGlkID0gaWQzSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodW5rbm93blBJRHMgJiYgIXBtdFBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3JlcGFyc2UgZnJvbSBiZWdpbm5pbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmtub3duUElEcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHNldCBpdCB0byAtMTg4LCB0aGUgKz0gMTg4IGluIHRoZSBmb3IgbG9vcCB3aWxsIHJlc2V0IHN0YXJ0IHRvIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHN5bmNPZmZzZXQgLSAxODg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbXRQYXJzZWQgPSB0aGlzLnBtdFBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDFmZmY6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVua25vd25QSURzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgcmVhc29uOiAnVFMgcGFja2V0IGRpZCBub3Qgc3RhcnQgd2l0aCAweDQ3JyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0cnkgdG8gcGFyc2UgbGFzdCBQRVMgcGFja2V0c1xuICAgICAgICBpZiAoYXZjRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXZjRGF0YSkpICYmIHBlcy5wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyc2VBVkNQRVMocGVzLCB0cnVlKTtcbiAgICAgICAgICAgIGF2Y1RyYWNrLnBlc0RhdGEgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZWl0aGVyIGF2Y0RhdGEgbnVsbCBvciBQRVMgdHJ1bmNhdGVkLCBrZWVwIGl0IGZvciBuZXh0IGZyYWcgcGFyc2luZ1xuICAgICAgICAgICAgYXZjVHJhY2sucGVzRGF0YSA9IGF2Y0RhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1ZGlvRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXVkaW9EYXRhKSkgJiYgcGVzLnB0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgIHBhcnNlQUFDUEVTKHBlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJzZU1QRUdQRVMocGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1ZGlvVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9EYXRhICYmIGF1ZGlvRGF0YS5zaXplKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnbGFzdCBBQUMgUEVTIHBhY2tldCB0cnVuY2F0ZWQsbWlnaHQgb3ZlcmxhcCBiZXR3ZWVuIGZyYWdtZW50cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZWl0aGVyIGF1ZGlvRGF0YSBudWxsIG9yIFBFUyB0cnVuY2F0ZWQsIGtlZXAgaXQgZm9yIG5leHQgZnJhZyBwYXJzaW5nXG4gICAgICAgICAgICBhdWRpb1RyYWNrLnBlc0RhdGEgPSBhdWRpb0RhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSAmJiBwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcnNlSUQzUEVTKHBlcyk7XG4gICAgICAgICAgICBpZDNUcmFjay5wZXNEYXRhID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVpdGhlciBpZDNEYXRhIG51bGwgb3IgUEVTIHRydW5jYXRlZCwga2VlcCBpdCBmb3IgbmV4dCBmcmFnIHBhcnNpbmdcbiAgICAgICAgICAgIGlkM1RyYWNrLnBlc0RhdGEgPSBpZDNEYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNhbXBsZUFlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgYXZjVHJhY2ssIGlkM1RyYWNrLCB0aGlzLl90eHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVjcnlwdEFuZFJlbXV4KGF1ZGlvVHJhY2ssIGF2Y1RyYWNrLCBpZDNUcmFjaywgdGhpcy5fdHh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuZGVjcnlwdEFuZFJlbXV4ID0gZnVuY3Rpb24gKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICBpZiAoYXVkaW9UcmFjay5zYW1wbGVzICYmIGF1ZGlvVHJhY2suaXNBQUMpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbHRoaXNfMSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNhbXBsZUFlcy5kZWNyeXB0QWFjU2FtcGxlcyhhdWRpb1RyYWNrLnNhbXBsZXMsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbHRoaXNfMS5kZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5kZWNyeXB0QW5kUmVtdXhBdmMgPSBmdW5jdGlvbiAoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgICAgIGlmICh2aWRlb1RyYWNrLnNhbXBsZXMpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbHRoaXNfMiA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNhbXBsZUFlcy5kZWNyeXB0QXZjU2FtcGxlcyh2aWRlb1RyYWNrLnNhbXBsZXMsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbHRoaXNfMi5yZW11eGVyLnJlbXV4KGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtdXhlci5yZW11eChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2luaXRQVFMgPSB0aGlzLl9pbml0RFRTID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IDA7XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZVBBVCA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLy8gc2tpcCB0aGUgUFNJIGhlYWRlciBhbmQgcGFyc2UgdGhlIGZpcnN0IFBNVCBlbnRyeVxuICAgICAgICByZXR1cm4gKGRhdGFbb2Zmc2V0ICsgMTBdICYgMHgxRikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgMTFdO1xuICAgICAgICAvLyBsb2dnZXIubG9nKCdQTVQgUElEOicgICsgdGhpcy5fcG10SWQpO1xuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VQTVQgPSBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0LCBtcGVnU3VwcG9ydGVkLCBpc1NhbXBsZUFlcykge1xuICAgICAgICB2YXIgc2VjdGlvbkxlbmd0aCwgdGFibGVFbmQsIHByb2dyYW1JbmZvTGVuZ3RoLCBwaWQsIHJlc3VsdCA9IHsgYXVkaW86IC0xLCBhdmM6IC0xLCBpZDM6IC0xLCBpc0FBQzogdHJ1ZSB9O1xuICAgICAgICBzZWN0aW9uTGVuZ3RoID0gKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDBmKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAyXTtcbiAgICAgICAgdGFibGVFbmQgPSBvZmZzZXQgKyAzICsgc2VjdGlvbkxlbmd0aCAtIDQ7XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB3aGVyZSB0aGUgdGFibGUgaXMsIHdlIGhhdmUgdG8gZmlndXJlIG91dCBob3dcbiAgICAgICAgLy8gbG9uZyB0aGUgcHJvZ3JhbSBpbmZvIGRlc2NyaXB0b3JzIGFyZVxuICAgICAgICBwcm9ncmFtSW5mb0xlbmd0aCA9IChkYXRhW29mZnNldCArIDEwXSAmIDB4MGYpIDw8IDggfCBkYXRhW29mZnNldCArIDExXTtcbiAgICAgICAgLy8gYWR2YW5jZSB0aGUgb2Zmc2V0IHRvIHRoZSBmaXJzdCBlbnRyeSBpbiB0aGUgbWFwcGluZyB0YWJsZVxuICAgICAgICBvZmZzZXQgKz0gMTIgKyBwcm9ncmFtSW5mb0xlbmd0aDtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IHRhYmxlRW5kKSB7XG4gICAgICAgICAgICBwaWQgPSAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MUYpIDw8IDggfCBkYXRhW29mZnNldCArIDJdO1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhW29mZnNldF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDB4Y2Y6IC8vIFNBTVBMRS1BRVMgQUFDXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNTYW1wbGVBZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgIC8vIElTTy9JRUMgMTM4MTgtNyBBRFRTIEFBQyAoTVBFRy0yIGxvd2VyIGJpdC1yYXRlIGF1ZGlvKVxuICAgICAgICAgICAgICAgIGNhc2UgMHgwZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnQUFDIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYXVkaW8gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXVkaW8gPSBwaWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gUGFja2V0aXplZCBtZXRhZGF0YSAoSUQzKVxuICAgICAgICAgICAgICAgIGNhc2UgMHgxNTpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnSUQzIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaWQzID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmlkMyA9IHBpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDB4ZGI6IC8vIFNBTVBMRS1BRVMgQVZDXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNTYW1wbGVBZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgIC8vIElUVS1UIFJlYy4gSC4yNjQgYW5kIElTTy9JRUMgMTQ0OTYtMTAgKGxvd2VyIGJpdC1yYXRlIHZpZGVvKVxuICAgICAgICAgICAgICAgIGNhc2UgMHgxYjpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnQVZDIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYXZjID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmF2YyA9IHBpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBJU08vSUVDIDExMTcyLTMgKE1QRUctMSBhdWRpbylcbiAgICAgICAgICAgICAgICAvLyBvciBJU08vSUVDIDEzODE4LTMgKE1QRUctMiBoYWx2ZWQgc2FtcGxlIHJhdGUgYXVkaW8pXG4gICAgICAgICAgICAgICAgY2FzZSAweDAzOlxuICAgICAgICAgICAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnTVBFRyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1wZWdTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01QRUcgYXVkaW8gZm91bmQsIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyIGZvciBub3cnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuYXVkaW8gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXVkaW8gPSBwaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaXNBQUMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDB4MjQ6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdIRVZDIHN0cmVhbSB0eXBlIGZvdW5kLCBub3Qgc3VwcG9ydGVkIGZvciBub3cnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygndW5rb3duIHN0cmVhbSB0eXBlOicgKyBkYXRhW29mZnNldF0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1vdmUgdG8gdGhlIG5leHQgdGFibGUgZW50cnlcbiAgICAgICAgICAgIC8vIHNraXAgcGFzdCB0aGUgZWxlbWVudGFyeSBzdHJlYW0gZGVzY3JpcHRvcnMsIGlmIHByZXNlbnRcbiAgICAgICAgICAgIG9mZnNldCArPSAoKGRhdGFbb2Zmc2V0ICsgM10gJiAweDBGKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyA0XSkgKyA1O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZVBFUyA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgICAgdmFyIGkgPSAwLCBmcmFnLCBwZXNGbGFncywgcGVzUHJlZml4LCBwZXNMZW4sIHBlc0hkckxlbiwgcGVzRGF0YSwgcGVzUHRzLCBwZXNEdHMsIHBheWxvYWRTdGFydE9mZnNldCwgZGF0YSA9IHN0cmVhbS5kYXRhO1xuICAgICAgICAvLyBzYWZldHkgY2hlY2tcbiAgICAgICAgaWYgKCFzdHJlYW0gfHwgc3RyZWFtLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIG1pZ2h0IG5lZWQgdXAgdG8gMTkgYnl0ZXMgdG8gcmVhZCBQRVMgaGVhZGVyXG4gICAgICAgIC8vIGlmIGZpcnN0IGNodW5rIG9mIGRhdGEgaXMgbGVzcyB0aGFuIDE5IGJ5dGVzLCBsZXQncyBtZXJnZSBpdCB3aXRoIGZvbGxvd2luZyBvbmVzIHVudGlsIHdlIGdldCAxOSBieXRlc1xuICAgICAgICAvLyB1c3VhbGx5IG9ubHkgb25lIG1lcmdlIGlzIG5lZWRlZCAoYW5kIHRoaXMgaXMgcmFyZSAuLi4pXG4gICAgICAgIHdoaWxlIChkYXRhWzBdLmxlbmd0aCA8IDE5ICYmIGRhdGEubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdmFyIG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhWzBdLmxlbmd0aCArIGRhdGFbMV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG5ld0RhdGEuc2V0KGRhdGFbMF0pO1xuICAgICAgICAgICAgbmV3RGF0YS5zZXQoZGF0YVsxXSwgZGF0YVswXS5sZW5ndGgpO1xuICAgICAgICAgICAgZGF0YVswXSA9IG5ld0RhdGE7XG4gICAgICAgICAgICBkYXRhLnNwbGljZSgxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRyaWV2ZSBQVFMvRFRTIGZyb20gZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgZnJhZyA9IGRhdGFbMF07XG4gICAgICAgIHBlc1ByZWZpeCA9IChmcmFnWzBdIDw8IDE2KSArIChmcmFnWzFdIDw8IDgpICsgZnJhZ1syXTtcbiAgICAgICAgaWYgKHBlc1ByZWZpeCA9PT0gMSkge1xuICAgICAgICAgICAgcGVzTGVuID0gKGZyYWdbNF0gPDwgOCkgKyBmcmFnWzVdO1xuICAgICAgICAgICAgLy8gaWYgUEVTIHBhcnNlZCBsZW5ndGggaXMgbm90IHplcm8gYW5kIGdyZWF0ZXIgdGhhbiB0b3RhbCByZWNlaXZlZCBsZW5ndGgsIHN0b3AgcGFyc2luZy4gUEVTIG1pZ2h0IGJlIHRydW5jYXRlZFxuICAgICAgICAgICAgLy8gbWludXMgNiA6IFBFUyBoZWFkZXIgc2l6ZVxuICAgICAgICAgICAgaWYgKHBlc0xlbiAmJiBwZXNMZW4gPiBzdHJlYW0uc2l6ZSAtIDYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlc0ZsYWdzID0gZnJhZ1s3XTtcbiAgICAgICAgICAgIGlmIChwZXNGbGFncyAmIDB4QzApIHtcbiAgICAgICAgICAgICAgICAvKiBQRVMgaGVhZGVyIGRlc2NyaWJlZCBoZXJlIDogaHR0cDovL2R2ZC5zb3VyY2Vmb3JnZS5uZXQvZHZkaW5mby9wZXMtaGRyLmh0bWxcbiAgICAgICAgICAgICAgICAgICAgYXMgUFRTIC8gRFRTIGlzIDMzIGJpdCB3ZSBjYW5ub3QgdXNlIGJpdHdpc2Ugb3BlcmF0b3IgaW4gSlMsXG4gICAgICAgICAgICAgICAgICAgIGFzIEJpdHdpc2Ugb3BlcmF0b3JzIHRyZWF0IHRoZWlyIG9wZXJhbmRzIGFzIGEgc2VxdWVuY2Ugb2YgMzIgYml0cyAqL1xuICAgICAgICAgICAgICAgIHBlc1B0cyA9IChmcmFnWzldICYgMHgwRSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgICAgICAgICAgICAgIChmcmFnWzEwXSAmIDB4RkYpICogNDE5NDMwNCArIC8vIDEgPDwgMjJcbiAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTFdICYgMHhGRSkgKiAxNjM4NCArIC8vIDEgPDwgMTRcbiAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTJdICYgMHhGRikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTNdICYgMHhGRSkgLyAyO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGdyZWF0ZXIgdGhhbiAyXjMyIC0xXG4gICAgICAgICAgICAgICAgaWYgKHBlc1B0cyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVjcmVtZW50IDJeMzNcbiAgICAgICAgICAgICAgICAgICAgcGVzUHRzIC09IDg1ODk5MzQ1OTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwZXNGbGFncyAmIDB4NDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGVzRHRzID0gKGZyYWdbMTRdICYgMHgwRSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgICAgICAgICAgICAgICAgICAoZnJhZ1sxNV0gJiAweEZGKSAqIDQxOTQzMDQgKyAvLyAxIDw8IDIyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZnJhZ1sxNl0gJiAweEZFKSAqIDE2Mzg0ICsgLy8gMSA8PCAxNFxuICAgICAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTddICYgMHhGRikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgICAgICAgICAgICAgICAgIChmcmFnWzE4XSAmIDB4RkUpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgZ3JlYXRlciB0aGFuIDJeMzIgLTFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlc0R0cyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlY3JlbWVudCAyXjMzXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXNEdHMgLT0gODU4OTkzNDU5MjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGVzUHRzIC0gcGVzRHRzID4gNjAgKiA5MDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oTWF0aC5yb3VuZCgocGVzUHRzIC0gcGVzRHRzKSAvIDkwMDAwKSArIFwicyBkZWx0YSBiZXR3ZWVuIFBUUyBhbmQgRFRTLCBhbGlnbiB0aGVtXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVzUHRzID0gcGVzRHRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZXNEdHMgPSBwZXNQdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVzSGRyTGVuID0gZnJhZ1s4XTtcbiAgICAgICAgICAgIC8vIDkgYnl0ZXMgOiA2IGJ5dGVzIGZvciBQRVMgaGVhZGVyICsgMyBieXRlcyBmb3IgUEVTIGV4dGVuc2lvblxuICAgICAgICAgICAgcGF5bG9hZFN0YXJ0T2Zmc2V0ID0gcGVzSGRyTGVuICsgOTtcbiAgICAgICAgICAgIHN0cmVhbS5zaXplIC09IHBheWxvYWRTdGFydE9mZnNldDtcbiAgICAgICAgICAgIC8vIHJlYXNzZW1ibGUgUEVTIHBhY2tldFxuICAgICAgICAgICAgcGVzRGF0YSA9IG5ldyBVaW50OEFycmF5KHN0cmVhbS5zaXplKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBkYXRhTGVuID0gZGF0YS5sZW5ndGg7IGogPCBkYXRhTGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICBmcmFnID0gZGF0YVtqXTtcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gZnJhZy5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkU3RhcnRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWRTdGFydE9mZnNldCA+IGxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJpbSBmdWxsIGZyYWcgaWYgUEVTIGhlYWRlciBiaWdnZXIgdGhhbiBmcmFnXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkU3RhcnRPZmZzZXQgLT0gbGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmltIHBhcnRpYWwgZnJhZyBpZiBQRVMgaGVhZGVyIHNtYWxsZXIgdGhhbiBmcmFnXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZy5zdWJhcnJheShwYXlsb2FkU3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVuIC09IHBheWxvYWRTdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRTdGFydE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGVzRGF0YS5zZXQoZnJhZywgaSk7XG4gICAgICAgICAgICAgICAgaSArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGVzTGVuKSB7XG4gICAgICAgICAgICAgICAgLy8gcGF5bG9hZCBzaXplIDogcmVtb3ZlIFBFUyBoZWFkZXIgKyBQRVMgZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgcGVzTGVuIC09IHBlc0hkckxlbiArIDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBwZXNEYXRhLCBwdHM6IHBlc1B0cywgZHRzOiBwZXNEdHMsIGxlbjogcGVzTGVuIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5wdXNoQWNjZXNVbml0ID0gZnVuY3Rpb24gKGF2Y1NhbXBsZSwgYXZjVHJhY2spIHtcbiAgICAgICAgaWYgKGF2Y1NhbXBsZS51bml0cy5sZW5ndGggJiYgYXZjU2FtcGxlLmZyYW1lKSB7XG4gICAgICAgICAgICB2YXIgc2FtcGxlcyA9IGF2Y1RyYWNrLnNhbXBsZXM7XG4gICAgICAgICAgICB2YXIgbmJTYW1wbGVzID0gc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgICAgICAvLyBvbmx5IHB1c2ggQVZDIHNhbXBsZSBpZiBzdGFydGluZyB3aXRoIGEga2V5ZnJhbWUgaXMgbm90IG1hbmRhdG9yeSBPUlxuICAgICAgICAgICAgLy8gICAgaWYga2V5ZnJhbWUgYWxyZWFkeSBmb3VuZCBpbiB0aGlzIGZyYWdtZW50IE9SXG4gICAgICAgICAgICAvLyAgICAgICBrZXlmcmFtZSBmb3VuZCBpbiBsYXN0IGZyYWdtZW50ICh0cmFjay5zcHMpIEFORFxuICAgICAgICAgICAgLy8gICAgICAgICAgc2FtcGxlcyBhbHJlYWR5IGFwcGVuZGVkICh3ZSBhbHJlYWR5IGZvdW5kIGEga2V5ZnJhbWUgaW4gdGhpcyBmcmFnbWVudCkgT1IgZnJhZ21lbnQgaXMgY29udGlndW91c1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5mb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5IHx8XG4gICAgICAgICAgICAgICAgYXZjU2FtcGxlLmtleSA9PT0gdHJ1ZSB8fFxuICAgICAgICAgICAgICAgIChhdmNUcmFjay5zcHMgJiYgKG5iU2FtcGxlcyB8fCB0aGlzLmNvbnRpZ3VvdXMpKSkge1xuICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5pZCA9IG5iU2FtcGxlcztcbiAgICAgICAgICAgICAgICBzYW1wbGVzLnB1c2goYXZjU2FtcGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRyb3BwZWQgc2FtcGxlcywgdHJhY2sgaXRcbiAgICAgICAgICAgICAgICBhdmNUcmFjay5kcm9wcGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF2Y1NhbXBsZS5kZWJ1Zy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coYXZjU2FtcGxlLnB0cyArICcvJyArIGF2Y1NhbXBsZS5kdHMgKyAnOicgKyBhdmNTYW1wbGUuZGVidWcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUFWQ1BFUyA9IGZ1bmN0aW9uIChwZXMsIGxhc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygncGFyc2UgbmV3IFBFUycpO1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdmNUcmFjaywgdW5pdHMgPSB0aGlzLl9wYXJzZUFWQ05BTHUocGVzLmRhdGEpLCBkZWJ1ZyA9IGZhbHNlLCBleHBHb2xvbWJEZWNvZGVyLCBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSwgcHVzaCwgc3BzZm91bmQgPSBmYWxzZSwgaSwgcHVzaEFjY2VzVW5pdCA9IHRoaXMucHVzaEFjY2VzVW5pdC5iaW5kKHRoaXMpLCBjcmVhdGVBVkNTYW1wbGUgPSBmdW5jdGlvbiAoa2V5LCBwdHMsIGR0cywgZGVidWcpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGtleToga2V5LCBwdHM6IHB0cywgZHRzOiBkdHMsIHVuaXRzOiBbXSwgZGVidWc6IGRlYnVnIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIGZyZWUgcGVzLmRhdGEgdG8gc2F2ZSB1cCBzb21lIG1lbW9yeVxuICAgICAgICBwZXMuZGF0YSA9IG51bGw7XG4gICAgICAgIC8vIGlmIG5ldyBOQUwgdW5pdHMgZm91bmQgYW5kIGxhc3Qgc2FtcGxlIHN0aWxsIHRoZXJlLCBsZXQncyBwdXNoIC4uLlxuICAgICAgICAvLyB0aGlzIGhlbHBzIHBhcnNpbmcgc3RyZWFtcyB3aXRoIG1pc3NpbmcgQVVEIChvbmx5IGRvIHRoaXMgaWYgQVVEIG5ldmVyIGZvdW5kKVxuICAgICAgICBpZiAoYXZjU2FtcGxlICYmIHVuaXRzLmxlbmd0aCAmJiAhdHJhY2suYXVkRm91bmQpIHtcbiAgICAgICAgICAgIHB1c2hBY2Nlc1VuaXQoYXZjU2FtcGxlLCB0cmFjayk7XG4gICAgICAgICAgICBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZShmYWxzZSwgcGVzLnB0cywgcGVzLmR0cywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzLmZvckVhY2goZnVuY3Rpb24gKHVuaXQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdC50eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gTkRSXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZSA9IF90aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZSh0cnVlLCBwZXMucHRzLCBwZXMuZHRzLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ05EUiAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5mcmFtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdW5pdC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGNoZWNrIHNsaWNlIHR5cGUgdG8gZGV0ZWN0IEtGIGluIGNhc2UgU1BTIGZvdW5kIGluIHNhbWUgcGFja2V0IChhbnkga2V5ZnJhbWUgaXMgcHJlY2VkZWQgYnkgU1BTIC4uLilcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwc2ZvdW5kICYmIGRhdGEubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc2xpY2UgdHlwZSBieSBwYXJzaW5nIGJlZ2lubmluZyBvZiBOQUwgdW5pdCAoZm9sbG93IEgyNjQgc3BlYywgc2xpY2VfaGVhZGVyIGRlZmluaXRpb24pIHRvIGRldGVjdCBrZXlmcmFtZSBlbWJlZGRlZCBpbiBORFJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGljZVR5cGUgPSBuZXcgZXhwX2dvbG9tYl8xLmRlZmF1bHQoZGF0YSkucmVhZFNsaWNlVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMiA6IEkgc2xpY2UsIDQgOiBTSSBzbGljZSwgNyA6IEkgc2xpY2UsIDk6IFNJIHNsaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTSSBzbGljZSA6IEEgc2xpY2UgdGhhdCBpcyBjb2RlZCB1c2luZyBpbnRyYSBwcmVkaWN0aW9uIG9ubHkgYW5kIHVzaW5nIHF1YW50aXNhdGlvbiBvZiB0aGUgcHJlZGljdGlvbiBzYW1wbGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW4gU0kgc2xpY2UgY2FuIGJlIGNvZGVkIHN1Y2ggdGhhdCBpdHMgZGVjb2RlZCBzYW1wbGVzIGNhbiBiZSBjb25zdHJ1Y3RlZCBpZGVudGljYWxseSB0byBhbiBTUCBzbGljZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEkgc2xpY2U6IEEgc2xpY2UgdGhhdCBpcyBub3QgYW4gU0kgc2xpY2UgdGhhdCBpcyBkZWNvZGVkIHVzaW5nIGludHJhIHByZWRpY3Rpb24gb25seS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChzbGljZVR5cGUgPT09IDIgfHwgc2xpY2VUeXBlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2xpY2VUeXBlID09PSAyIHx8IHNsaWNlVHlwZSA9PT0gNCB8fCBzbGljZVR5cGUgPT09IDcgfHwgc2xpY2VUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZjU2FtcGxlLmtleSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gSURSXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIFBFUyBub3Qgc3RhcnRpbmcgd2l0aCBBVURcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZSA9IF90aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZSh0cnVlLCBwZXMucHRzLCBwZXMuZHRzLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ0lEUiAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5rZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBTRUlcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1NFSSAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIgPSBuZXcgZXhwX2dvbG9tYl8xLmRlZmF1bHQoX3RoaXMuZGlzY2FyZEVQQih1bml0LmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBmcmFtZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWRUeXBlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWRTaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZE9mQ2FwdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWVuZE9mQ2FwdGlvbnMgJiYgZXhwR29sb21iRGVjb2Rlci5ieXRlc0F2YWlsYWJsZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRUeXBlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkVHlwZSArPSBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoYiA9PT0gMHhGRik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSBwYXlsb2FkIHNpemUuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGIgPT09IDB4RkYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGhlcmUgY2FuIGJlIG1vcmUgdGhhbiBvbmUgcGF5bG9hZCBpbiBhbiBTRUkgcGFja2V0Li4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIHJlYWQgdHlwZSBhbmQgc2l6ZSBpbiBhIHdoaWxlIGxvb3AgdG8gZ2V0IHRoZW0gYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZFR5cGUgPT09IDQgJiYgZXhwR29sb21iRGVjb2Rlci5ieXRlc0F2YWlsYWJsZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZE9mQ2FwdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHJ5Q29kZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cnlDb2RlID09PSAxODEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyQ29kZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVTaG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXJDb2RlID09PSA0OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJTdHJ1Y3R1cmUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVSW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlclN0cnVjdHVyZSA9PT0gMHg0NzQxMzkzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyRGF0YVR5cGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhdyBDRUEtNjA4IGJ5dGVzIHdyYXBwZWQgaW4gQ0VBLTcwOCBwYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlckRhdGFUeXBlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Vjb25kQnl0ZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbENDcyA9IDMxICYgZmlyc3RCeXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnl0ZUFycmF5ID0gW2ZpcnN0Qnl0ZSwgc2Vjb25kQnl0ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbENDczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzIGJ5dGVzIHBlciBDQ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5LnB1c2goZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlQXJyYXkucHVzaChleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheS5wdXNoKGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnNlcnRTYW1wbGVJbk9yZGVyKF90aGlzLl90eHRUcmFjay5zYW1wbGVzLCB7IHR5cGU6IDMsIHB0czogcGVzLnB0cywgYnl0ZXM6IGJ5dGVBcnJheSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXlsb2FkU2l6ZSA8IGV4cEdvbG9tYkRlY29kZXIuYnl0ZXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGF5bG9hZFNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBTUFNcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzcHNmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWJ1ZyAmJiBhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAnU1BTICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFjay5zcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIgPSBuZXcgZXhwX2dvbG9tYl8xLmRlZmF1bHQodW5pdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRTUFMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLndpZHRoID0gY29uZmlnLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suaGVpZ2h0ID0gY29uZmlnLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnBpeGVsUmF0aW8gPSBjb25maWcucGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnNwcyA9IFt1bml0LmRhdGFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suZHVyYXRpb24gPSBfdGhpcy5fZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZWNhcnJheSA9IHVuaXQuZGF0YS5zdWJhcnJheSgxLCA0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2RlY3N0cmluZyA9ICdhdmMxLic7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBjb2RlY2FycmF5W2ldLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlY3N0cmluZyArPSBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suY29kZWMgPSBjb2RlY3N0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBQUFNcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1BQUyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhY2sucHBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjay5wcHMgPSBbdW5pdC5kYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBBVURcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2suYXVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoQWNjZXNVbml0KGF2Y1NhbXBsZSwgdHJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZSA9IF90aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZShmYWxzZSwgcGVzLnB0cywgcGVzLmR0cywgZGVidWcgPyAnQVVEICcgOiAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIEZpbGxlciBEYXRhXG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgcHVzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBwdXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAndW5rbm93biBOQUwgJyArIHVuaXQudHlwZSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdmNTYW1wbGUgJiYgcHVzaCkge1xuICAgICAgICAgICAgICAgIHZhciB1bml0c18xID0gYXZjU2FtcGxlLnVuaXRzO1xuICAgICAgICAgICAgICAgIHVuaXRzXzEucHVzaCh1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIGxhc3QgUEVTIHBhY2tldCwgcHVzaCBzYW1wbGVzXG4gICAgICAgIGlmIChsYXN0ICYmIGF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgcHVzaEFjY2VzVW5pdChhdmNTYW1wbGUsIHRyYWNrKTtcbiAgICAgICAgICAgIHRoaXMuYXZjU2FtcGxlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5faW5zZXJ0U2FtcGxlSW5PcmRlciA9IGZ1bmN0aW9uIChhcnIsIGRhdGEpIHtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5wdHMgPj0gYXJyW2xlbiAtIDFdLnB0cykge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcG9zID0gbGVuIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnB0cyA8IGFycltwb3NdLnB0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZShwb3MsIDAsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcnIucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fZ2V0TGFzdE5hbFVuaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSwgbGFzdFVuaXQ7XG4gICAgICAgIC8vIHRyeSB0byBmYWxsYmFjayB0byBwcmV2aW91cyBzYW1wbGUgaWYgY3VycmVudCBvbmUgaXMgZW1wdHlcbiAgICAgICAgaWYgKCFhdmNTYW1wbGUgfHwgYXZjU2FtcGxlLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gdGhpcy5fYXZjVHJhY2ssIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgICAgICAgYXZjU2FtcGxlID0gc2FtcGxlc1tzYW1wbGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgIHZhciB1bml0cyA9IGF2Y1NhbXBsZS51bml0cztcbiAgICAgICAgICAgIGxhc3RVbml0ID0gdW5pdHNbdW5pdHMubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhc3RVbml0O1xuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VBVkNOQUx1ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHZhciBpID0gMCwgbGVuID0gYXJyYXkuYnl0ZUxlbmd0aCwgdmFsdWUsIG92ZXJmbG93LCB0cmFjayA9IHRoaXMuX2F2Y1RyYWNrLCBzdGF0ZSA9IHRyYWNrLm5hbHVTdGF0ZSB8fCAwLCBsYXN0U3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIHVuaXRzID0gW10sIHVuaXQsIHVuaXRUeXBlLCBsYXN0VW5pdFN0YXJ0ID0gLTEsIGxhc3RVbml0VHlwZTtcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnUEVTOicgKyBIZXguaGV4RHVtcChhcnJheSkpO1xuICAgICAgICBpZiAoc3RhdGUgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBzcGVjaWFsIHVzZSBjYXNlIHdoZXJlIHdlIGZvdW5kIDMgb3IgNC1ieXRlIHN0YXJ0IGNvZGVzIGV4YWN0bHkgYXQgdGhlIGVuZCBvZiBwcmV2aW91cyBQRVMgcGFja2V0XG4gICAgICAgICAgICBsYXN0VW5pdFN0YXJ0ID0gMDtcbiAgICAgICAgICAgIC8vIE5BTHUgdHlwZSBpcyB2YWx1ZSByZWFkIGZyb20gb2Zmc2V0IDBcbiAgICAgICAgICAgIGxhc3RVbml0VHlwZSA9IGFycmF5WzBdICYgMHgxZjtcbiAgICAgICAgICAgIHN0YXRlID0gMDtcbiAgICAgICAgICAgIGkgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2krK107XG4gICAgICAgICAgICAvLyBvcHRpbWl6YXRpb24uIHN0YXRlIDAgYW5kIDEgYXJlIHRoZSBwcmVkb21pbmFudCBjYXNlLiBsZXQncyBoYW5kbGUgdGhlbSBvdXRzaWRlIG9mIHRoZSBzd2l0Y2gvY2FzZVxuICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdmFsdWUgPyAwIDogMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdmFsdWUgPyAwIDogMjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhlcmUgd2UgaGF2ZSBzdGF0ZSBlaXRoZXIgZXF1YWwgdG8gMiBvciAzXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFVuaXRTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSB7IGRhdGE6IGFycmF5LnN1YmFycmF5KGxhc3RVbml0U3RhcnQsIGkgLSBzdGF0ZSAtIDEpLCB0eXBlOiBsYXN0VW5pdFR5cGUgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygncHVzaGluZyBOQUxVLCB0eXBlL3NpemU6JyArIHVuaXQudHlwZSArICcvJyArIHVuaXQuZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhc3RVbml0U3RhcnQgaXMgdW5kZWZpbmVkID0+IHRoaXMgaXMgdGhlIGZpcnN0IHN0YXJ0IGNvZGUgZm91bmQgaW4gdGhpcyBQRVMgcGFja2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHN0YXJ0IGNvZGUgZGVsaW1pdGVyIGlzIG92ZXJsYXBwaW5nIGJldHdlZW4gMiBQRVMgcGFja2V0cyxcbiAgICAgICAgICAgICAgICAgICAgLy8gaWUgaXQgc3RhcnRlZCBpbiBsYXN0IHBhY2tldCAobGFzdFN0YXRlIG5vdCB6ZXJvKVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZW5kZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIFBFUyBwYWNrZXQgKGkgPD0gNCAtIGxhc3RTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RVbml0ID0gdGhpcy5fZ2V0TGFzdE5hbFVuaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RVbml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFN0YXRlICYmIChpIDw9IDQgLSBsYXN0U3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgZGVsaW1pdGVyIG92ZXJsYXBwaW5nIGJldHdlZW4gUEVTIHBhY2tldHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJpcCBzdGFydCBkZWxpbWl0ZXIgYnl0ZXMgZnJvbSB0aGUgZW5kIG9mIGxhc3QgTkFMIHVuaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBsYXN0VW5pdCBoYWQgYSBzdGF0ZSBkaWZmZXJlbnQgZnJvbSB6ZXJvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RVbml0LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmlwIGxhc3QgYnl0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFVuaXQuZGF0YSA9IGxhc3RVbml0LmRhdGEuc3ViYXJyYXkoMCwgbGFzdFVuaXQuZGF0YS5ieXRlTGVuZ3RoIC0gbGFzdFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBOQUwgdW5pdHMgYXJlIG5vdCBzdGFydGluZyByaWdodCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBQRVMgcGFja2V0LCBwdXNoIHByZWNlZGluZyBkYXRhIGludG8gcHJldmlvdXMgTkFMIHVuaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IGkgLSBzdGF0ZSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnZmlyc3QgTkFMVSBmb3VuZCB3aXRoIG92ZXJmbG93OicgKyBvdmVyZmxvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGxhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCArIG92ZXJmbG93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAuc2V0KGxhc3RVbml0LmRhdGEsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5zZXQoYXJyYXkuc3ViYXJyYXkoMCwgb3ZlcmZsb3cpLCBsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSB0bXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgY2FuIHJlYWQgdW5pdCB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdFR5cGUgPSBhcnJheVtpXSAmIDB4MWY7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2ZpbmQgTkFMVSBAIG9mZnNldDonICsgaSArICcsdHlwZTonICsgdW5pdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0VW5pdFN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFVuaXRUeXBlID0gdW5pdFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBlbm91Z2ggYnl0ZSB0byByZWFkIHVuaXQgdHlwZS4gbGV0J3MgcmVhZCBpdCBvbiBuZXh0IFBFUyBwYXJzaW5nXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0VW5pdFN0YXJ0ID49IDAgJiYgc3RhdGUgPj0gMCkge1xuICAgICAgICAgICAgdW5pdCA9IHsgZGF0YTogYXJyYXkuc3ViYXJyYXkobGFzdFVuaXRTdGFydCwgbGVuKSwgdHlwZTogbGFzdFVuaXRUeXBlLCBzdGF0ZTogc3RhdGUgfTtcbiAgICAgICAgICAgIHVuaXRzLnB1c2godW5pdCk7XG4gICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdwdXNoaW5nIE5BTFUsIHR5cGUvc2l6ZS9zdGF0ZTonICsgdW5pdC50eXBlICsgJy8nICsgdW5pdC5kYXRhLmJ5dGVMZW5ndGggKyAnLycgKyBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gTkFMdSBmb3VuZFxuICAgICAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgcGVzLmRhdGEgdG8gcHJldmlvdXMgTkFMIHVuaXRcbiAgICAgICAgICAgIHZhciBsYXN0VW5pdCA9IHRoaXMuX2dldExhc3ROYWxVbml0KCk7XG4gICAgICAgICAgICBpZiAobGFzdFVuaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG1wID0gbmV3IFVpbnQ4QXJyYXkobGFzdFVuaXQuZGF0YS5ieXRlTGVuZ3RoICsgYXJyYXkuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG1wLnNldChsYXN0VW5pdC5kYXRhLCAwKTtcbiAgICAgICAgICAgICAgICB0bXAuc2V0KGFycmF5LCBsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSB0bXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2submFsdVN0YXRlID0gc3RhdGU7XG4gICAgICAgIHJldHVybiB1bml0cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlbW92ZSBFbXVsYXRpb24gUHJldmVudGlvbiBieXRlcyBmcm9tIGEgUkJTUFxuICAgICAqL1xuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuZGlzY2FyZEVQQiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmJ5dGVMZW5ndGgsIEVQQlBvc2l0aW9ucyA9IFtdLCBpID0gMSwgbmV3TGVuZ3RoLCBuZXdEYXRhO1xuICAgICAgICAvLyBGaW5kIGFsbCBgRW11bGF0aW9uIFByZXZlbnRpb24gQnl0ZXNgXG4gICAgICAgIHdoaWxlIChpIDwgbGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgaWYgKGRhdGFbaV0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAxXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGRhdGFbaSArIDJdID09PSAweDAzKSB7XG4gICAgICAgICAgICAgICAgRVBCUG9zaXRpb25zLnB1c2goaSArIDIpO1xuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlcyB3ZXJlIGZvdW5kIGp1c3QgcmV0dXJuIHRoZSBvcmlnaW5hbFxuICAgICAgICAvLyBhcnJheVxuICAgICAgICBpZiAoRVBCUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGFycmF5IHRvIGhvbGQgdGhlIE5BTCB1bml0IGRhdGFcbiAgICAgICAgbmV3TGVuZ3RoID0gbGVuZ3RoIC0gRVBCUG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICAgbmV3RGF0YSA9IG5ldyBVaW50OEFycmF5KG5ld0xlbmd0aCk7XG4gICAgICAgIHZhciBzb3VyY2VJbmRleCA9IDA7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXdMZW5ndGg7IHNvdXJjZUluZGV4KyssIGkrKykge1xuICAgICAgICAgICAgaWYgKHNvdXJjZUluZGV4ID09PSBFUEJQb3NpdGlvbnNbMF0pIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHRoaXMgYnl0ZVxuICAgICAgICAgICAgICAgIHNvdXJjZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgcG9zaXRpb24gaW5kZXhcbiAgICAgICAgICAgICAgICBFUEJQb3NpdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0RhdGFbaV0gPSBkYXRhW3NvdXJjZUluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICB9O1xuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlQUFDUEVTID0gZnVuY3Rpb24gKHBlcykge1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrLCBkYXRhID0gcGVzLmRhdGEsIHB0cyA9IHBlcy5wdHMsIHN0YXJ0T2Zmc2V0ID0gMCwgYWFjT3ZlckZsb3cgPSB0aGlzLmFhY092ZXJGbG93LCBhYWNMYXN0UFRTID0gdGhpcy5hYWNMYXN0UFRTLCBmcmFtZUR1cmF0aW9uLCBmcmFtZUluZGV4LCBvZmZzZXQsIHN0YW1wLCBsZW47XG4gICAgICAgIGlmIChhYWNPdmVyRmxvdykge1xuICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGFhY092ZXJGbG93LmJ5dGVMZW5ndGggKyBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgdG1wLnNldChhYWNPdmVyRmxvdywgMCk7XG4gICAgICAgICAgICB0bXAuc2V0KGRhdGEsIGFhY092ZXJGbG93LmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZyhgQUFDOiBhcHBlbmQgb3ZlcmZsb3dpbmcgJHthYWNPdmVyRmxvdy5ieXRlTGVuZ3RofSBieXRlcyB0byBiZWdpbm5pbmcgb2YgbmV3IFBFU2ApO1xuICAgICAgICAgICAgZGF0YSA9IHRtcDtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIGZvciBBRFRTIGhlYWRlciAoMHhGRkZ4KVxuICAgICAgICBmb3IgKG9mZnNldCA9IHN0YXJ0T2Zmc2V0LCBsZW4gPSBkYXRhLmxlbmd0aDsgb2Zmc2V0IDwgbGVuIC0gMTsgb2Zmc2V0KyspIHtcbiAgICAgICAgICAgIGlmIChBRFRTLmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBBRFRTIGhlYWRlciBkb2VzIG5vdCBzdGFydCBzdHJhaWdodCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIFBFUyBwYXlsb2FkLCByYWlzZSBhbiBlcnJvclxuICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgcmVhc29uID0gdm9pZCAwLCBmYXRhbCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPCBsZW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgcmVhc29uID0gXCJBQUMgUEVTIGRpZCBub3Qgc3RhcnQgd2l0aCBBRFRTIGhlYWRlcixvZmZzZXQ6XCIgKyBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlYXNvbiA9ICdubyBBRFRTIGhlYWRlciBmb3VuZCBpbiBBQUMgUEVTJztcbiAgICAgICAgICAgICAgICBmYXRhbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcInBhcnNpbmcgZXJyb3I6XCIgKyByZWFzb24pO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfUEFSU0lOR19FUlJPUiwgZmF0YWw6IGZhdGFsLCByZWFzb246IHJlYXNvbiB9KTtcbiAgICAgICAgICAgIGlmIChmYXRhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBBRFRTLmluaXRUcmFja0NvbmZpZyh0cmFjaywgdGhpcy5vYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCB0aGlzLmF1ZGlvQ29kZWMpO1xuICAgICAgICBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgZnJhbWVEdXJhdGlvbiA9IEFEVFMuZ2V0RnJhbWVEdXJhdGlvbih0cmFjay5zYW1wbGVyYXRlKTtcbiAgICAgICAgLy8gaWYgbGFzdCBBQUMgZnJhbWUgaXMgb3ZlcmZsb3dpbmcsIHdlIHNob3VsZCBlbnN1cmUgdGltZXN0YW1wcyBhcmUgY29udGlndW91czpcbiAgICAgICAgLy8gZmlyc3Qgc2FtcGxlIFBUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgUFRTICsgZnJhbWVEdXJhdGlvblxuICAgICAgICBpZiAoYWFjT3ZlckZsb3cgJiYgYWFjTGFzdFBUUykge1xuICAgICAgICAgICAgdmFyIG5ld1BUUyA9IGFhY0xhc3RQVFMgKyBmcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5ld1BUUyAtIHB0cykgPiAxKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIkFBQzogYWxpZ24gUFRTIGZvciBvdmVybGFwcGluZyBmcmFtZXMgYnkgXCIgKyBNYXRoLnJvdW5kKChuZXdQVFMgLSBwdHMpIC8gOTApKTtcbiAgICAgICAgICAgICAgICBwdHMgPSBuZXdQVFM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NhbiBmb3IgYWFjIHNhbXBsZXNcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKEFEVFMuaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSAmJiAob2Zmc2V0ICsgNSkgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBBRFRTLmFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYCR7TWF0aC5yb3VuZChmcmFtZS5zYW1wbGUucHRzKX0gOiBBQUNgKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdVbmFibGUgdG8gcGFyc2UgQUFDIGZyYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZzZXQgPCBsZW4pIHtcbiAgICAgICAgICAgIGFhY092ZXJGbG93ID0gZGF0YS5zdWJhcnJheShvZmZzZXQsIGxlbik7XG4gICAgICAgICAgICAvLyBsb2dnZXIubG9nKGBBQUM6IG92ZXJmbG93IGRldGVjdGVkOiR7bGVuLW9mZnNldH1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFhY092ZXJGbG93ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFhY092ZXJGbG93ID0gYWFjT3ZlckZsb3c7XG4gICAgICAgIHRoaXMuYWFjTGFzdFBUUyA9IHN0YW1wO1xuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VNUEVHUEVTID0gZnVuY3Rpb24gKHBlcykge1xuICAgICAgICB2YXIgZGF0YSA9IHBlcy5kYXRhO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBwdHMgPSBwZXMucHRzO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAobXBlZ2F1ZGlvXzEuZGVmYXVsdC5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gbXBlZ2F1ZGlvXzEuZGVmYXVsdC5hcHBlbmRGcmFtZSh0aGlzLl9hdWRpb1RyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ1VuYWJsZSB0byBwYXJzZSBNcGVnIGF1ZGlvIGZyYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUlEM1BFUyA9IGZ1bmN0aW9uIChwZXMpIHtcbiAgICAgICAgdGhpcy5faWQzVHJhY2suc2FtcGxlcy5wdXNoKHBlcyk7XG4gICAgfTtcbiAgICByZXR1cm4gVFNEZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRTRGVtdXhlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9lcnJvcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2Vycm9ycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRXJyb3JUeXBlcyA9IHtcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG5ldHdvcmsgZXJyb3IgKGxvYWRpbmcgZXJyb3IgLyB0aW1lb3V0IC4uLilcbiAgICBORVRXT1JLX0VSUk9SOiAnbmV0d29ya0Vycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1lZGlhIEVycm9yICh2aWRlby9wYXJzaW5nL21lZGlhc291cmNlIGVycm9yKVxuICAgIE1FRElBX0VSUk9SOiAnbWVkaWFFcnJvcicsXG4gICAgLy8gRU1FIChlbmNyeXB0ZWQgbWVkaWEgZXh0ZW5zaW9ucykgZXJyb3JzXG4gICAgS0VZX1NZU1RFTV9FUlJPUjogJ2tleVN5c3RlbUVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG11eCBFcnJvciAoZGVtdXhpbmcvcmVtdXhpbmcpXG4gICAgTVVYX0VSUk9SOiAnbXV4RXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFsbCBvdGhlciBlcnJvcnNcbiAgICBPVEhFUl9FUlJPUjogJ290aGVyRXJyb3InXG59O1xuLyoqXG4gKiBAZW51bSB7RXJyb3JEZXRhaWxzfVxuICogQHR5cGVkZWYge3N0cmluZ30gRXJyb3JEZXRhaWxcbiAqL1xuZXhwb3J0cy5FcnJvckRldGFpbHMgPSB7XG4gICAgS0VZX1NZU1RFTV9OT19LRVlTOiAna2V5U3lzdGVtTm9LZXlzJyxcbiAgICBLRVlfU1lTVEVNX05PX0FDQ0VTUzogJ2tleVN5c3RlbU5vQWNjZXNzJyxcbiAgICBLRVlfU1lTVEVNX05PX1NFU1NJT046ICdrZXlTeXN0ZW1Ob1Nlc3Npb24nLFxuICAgIEtFWV9TWVNURU1fTElDRU5TRV9SRVFVRVNUX0ZBSUxFRDogJ2tleVN5c3RlbUxpY2Vuc2VSZXF1ZXN0RmFpbGVkJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgTUFOSUZFU1RfTE9BRF9FUlJPUjogJ21hbmlmZXN0TG9hZEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgICBNQU5JRkVTVF9MT0FEX1RJTUVPVVQ6ICdtYW5pZmVzdExvYWRUaW1lT3V0JyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IHBhcnNpbmcgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgICBNQU5JRkVTVF9QQVJTSU5HX0VSUk9SOiAnbWFuaWZlc3RQYXJzaW5nRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGEgbWFuaWZlc3Qgd2l0aCBvbmx5IGluY29tcGF0aWJsZSBjb2RlY3MgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgICBNQU5JRkVTVF9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SOiAnbWFuaWZlc3RJbmNvbXBhdGlibGVDb2RlY3NFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBsb2FkIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICAgIExFVkVMX0xPQURfRVJST1I6ICdsZXZlbExvYWRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBsb2FkIHRpbWVvdXQgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgTEVWRUxfTE9BRF9USU1FT1VUOiAnbGV2ZWxMb2FkVGltZU91dCcsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBzd2l0Y2ggZXJyb3IgLSBkYXRhOiB7IGxldmVsIDogZmF1bHR5IGxldmVsIElkLCBldmVudCA6IGVycm9yIGRlc2NyaXB0aW9ufVxuICAgIExFVkVMX1NXSVRDSF9FUlJPUjogJ2xldmVsU3dpdGNoRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGF1ZGlvIHRyYWNrIGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgQVVESU9fVFJBQ0tfTE9BRF9FUlJPUjogJ2F1ZGlvVHJhY2tMb2FkRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGF1ZGlvIHRyYWNrIGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgICBBVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6ICdhdWRpb1RyYWNrTG9hZFRpbWVPdXQnLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGZyYWdtZW50IGxvYWQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgRlJBR19MT0FEX0VSUk9SOiAnZnJhZ0xvYWRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCB0aW1lb3V0IGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0fVxuICAgIEZSQUdfTE9BRF9USU1FT1VUOiAnZnJhZ0xvYWRUaW1lT3V0JyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIGZyYWdtZW50IGRlY3J5cHRpb24gZXJyb3IgZXZlbnQgLSBkYXRhOiB7aWQgOiBkZW11eGVyIElkLGZyYWc6IGZyYWdtZW50IG9iamVjdCwgcmVhc29uIDogcGFyc2luZyBlcnJvciBkZXNjcmlwdGlvbiB9XG4gICAgRlJBR19ERUNSWVBUX0VSUk9SOiAnZnJhZ0RlY3J5cHRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBmcmFnbWVudCBwYXJzaW5nIGVycm9yIGV2ZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgSWQsIHJlYXNvbiA6IHBhcnNpbmcgZXJyb3IgZGVzY3JpcHRpb24gfVxuICAgIC8vIHdpbGwgYmUgcmVuYW1lZCBERU1VWF9QQVJTSU5HX0VSUk9SIGFuZCBzd2l0Y2hlZCB0byBNVVhfRVJST1IgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgIEZSQUdfUEFSU0lOR19FUlJPUjogJ2ZyYWdQYXJzaW5nRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGEgcmVtdXggYWxsb2MgZXJyb3IgZXZlbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBJZCwgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgYnl0ZXMgOiBuYiBvZiBieXRlcyBvbiB3aGljaCBhbGxvY2F0aW9uIGZhaWxlZCAsIHJlYXNvbiA6IGVycm9yIHRleHQgfVxuICAgIFJFTVVYX0FMTE9DX0VSUk9SOiAncmVtdXhBbGxvY0Vycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBkZWNyeXB0IGtleSBsb2FkIGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICAgIEtFWV9MT0FEX0VSUk9SOiAna2V5TG9hZEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBkZWNyeXB0IGtleSBsb2FkIHRpbWVvdXQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3R9XG4gICAgS0VZX0xPQURfVElNRU9VVDogJ2tleUxvYWRUaW1lT3V0JyxcbiAgICAvLyBUcmlnZ2VyZWQgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzIHdoaWxlIGFkZGluZyBhIHNvdXJjZUJ1ZmZlciB0byBNZWRpYVNvdXJjZSAtIGRhdGEgOiB7ICBlcnIgOiBleGNlcHRpb24gLCBtaW1lVHlwZSA6IG1pbWVUeXBlIH1cbiAgICBCVUZGRVJfQUREX0NPREVDX0VSUk9SOiAnYnVmZmVyQWRkQ29kZWNFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgYXBwZW5kIGVycm9yIC0gZGF0YTogYXBwZW5kIGVycm9yIGRlc2NyaXB0aW9uXG4gICAgQlVGRkVSX0FQUEVORF9FUlJPUjogJ2J1ZmZlckFwcGVuZEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBhcHBlbmRpbmcgZXJyb3IgZXZlbnQgLSBkYXRhOiBhcHBlbmRpbmcgZXJyb3IgZGVzY3JpcHRpb25cbiAgICBCVUZGRVJfQVBQRU5ESU5HX0VSUk9SOiAnYnVmZmVyQXBwZW5kaW5nRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIHN0YWxsZWQgZXJyb3IgZXZlbnRcbiAgICBCVUZGRVJfU1RBTExFRF9FUlJPUjogJ2J1ZmZlclN0YWxsZWRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgZnVsbCBldmVudFxuICAgIEJVRkZFUl9GVUxMX0VSUk9SOiAnYnVmZmVyRnVsbEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBzZWVrIG92ZXIgaG9sZSBldmVudFxuICAgIEJVRkZFUl9TRUVLX09WRVJfSE9MRTogJ2J1ZmZlclNlZWtPdmVySG9sZScsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgbnVkZ2Ugb24gc3RhbGwgKHBsYXliYWNrIGlzIHN0dWNrIGFsdGhvdWdoIGN1cnJlbnRUaW1lIGlzIGluIGEgYnVmZmVyZWQgYXJlYSlcbiAgICBCVUZGRVJfTlVER0VfT05fU1RBTEw6ICdidWZmZXJOdWRnZU9uU3RhbGwnLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGludGVybmFsIGV4Y2VwdGlvbiBoYXBwZW5pbmcgaW5zaWRlIGhscy5qcyB3aGlsZSBoYW5kbGluZyBhbiBldmVudFxuICAgIElOVEVSTkFMX0VYQ0VQVElPTjogJ2ludGVybmFsRXhjZXB0aW9uJ1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9ldmVudC1oYW5kbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZXZlbnQtaGFuZGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuKlxuKiBBbGwgb2JqZWN0cyBpbiB0aGUgZXZlbnQgaGFuZGxpbmcgY2hhaW4gc2hvdWxkIGluaGVyaXQgZnJvbSB0aGlzIGNsYXNzXG4qXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIEZPUkJJRERFTl9FVkVOVF9OQU1FUyA9IHtcbiAgICAnaGxzRXZlbnRHZW5lcmljJzogdHJ1ZSxcbiAgICAnaGxzSGFuZGxlckRlc3Ryb3lpbmcnOiB0cnVlLFxuICAgICdobHNIYW5kbGVyRGVzdHJveWVkJzogdHJ1ZVxufTtcbnZhciBFdmVudEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRIYW5kbGVyKGhscykge1xuICAgICAgICB2YXIgZXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBldmVudHNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5obHMgPSBobHM7XG4gICAgICAgIHRoaXMub25FdmVudCA9IHRoaXMub25FdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZWRFdmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMudXNlR2VuZXJpY0hhbmRsZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vbkhhbmRsZXJEZXN0cm95aW5nKCk7XG4gICAgICAgIHRoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgICAgICB0aGlzLm9uSGFuZGxlckRlc3Ryb3llZCgpO1xuICAgIH07XG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWVkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuaXNFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5oYW5kbGVkRXZlbnRzID09PSAnb2JqZWN0JyAmJiB0aGlzLmhhbmRsZWRFdmVudHMubGVuZ3RoICYmIHR5cGVvZiB0aGlzLm9uRXZlbnQgPT09ICdmdW5jdGlvbic7XG4gICAgfTtcbiAgICBFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0V2ZW50SGFuZGxlcigpKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoRk9SQklEREVOX0VWRU5UX05BTUVTW2V2ZW50XSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvcmJpZGRlbiBldmVudC1uYW1lOiAnICsgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhscy5vbihldmVudCwgdGhpcy5vbkV2ZW50KTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFdmVudEhhbmRsZXIucHJvdG90eXBlLnVucmVnaXN0ZXJMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRXZlbnRIYW5kbGVyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGxzLm9mZihldmVudCwgdGhpcy5vbkV2ZW50KTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBhcmd1bWVudHM6IGV2ZW50IChzdHJpbmcpLCBkYXRhIChhbnkpXG4gICAgICovXG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIHRoaXMub25FdmVudEdlbmVyaWMoZXZlbnQsIGRhdGEpO1xuICAgIH07XG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkV2ZW50R2VuZXJpYyA9IGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICAgICAgICB2YXIgZXZlbnRUb0Z1bmN0aW9uID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgZnVuY05hbWUgPSAnb24nICsgZXZlbnQucmVwbGFjZSgnaGxzJywgJycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzW2Z1bmNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50IFwiICsgZXZlbnQgKyBcIiBoYXMgbm8gZ2VuZXJpYyBoYW5kbGVyIGluIHRoaXMgXCIgKyB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyBcIiBjbGFzcyAodHJpZWQgXCIgKyBmdW5jTmFtZSArIFwiKVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzW2Z1bmNOYW1lXS5iaW5kKHRoaXMsIGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXZlbnRUb0Z1bmN0aW9uLmNhbGwodGhpcywgZXZlbnQsIGRhdGEpLmNhbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJBbiBpbnRlcm5hbCBlcnJvciBoYXBwZW5lZCB3aGlsZSBoYW5kbGluZyBldmVudCBcIiArIGV2ZW50ICsgXCIuIEVycm9yIG1lc3NhZ2U6IFxcXCJcIiArIGVyci5tZXNzYWdlICsgXCJcXFwiLiBIZXJlIGlzIGEgc3RhY2t0cmFjZTpcIiwgZXJyKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk9USEVSX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuSU5URVJOQUxfRVhDRVBUSU9OLCBmYXRhbDogZmFsc2UsIGV2ZW50OiBldmVudCwgZXJyOiBlcnIgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFdmVudEhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRIYW5kbGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2V2ZW50cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZXZlbnRzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbnZhciBIbHNFdmVudHMgPSB7XG4gICAgLy8gZmlyZWQgYmVmb3JlIE1lZGlhU291cmNlIGlzIGF0dGFjaGluZyB0byBtZWRpYSBlbGVtZW50IC0gZGF0YTogeyBtZWRpYSB9XG4gICAgTUVESUFfQVRUQUNISU5HOiAnaGxzTWVkaWFBdHRhY2hpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gTWVkaWFTb3VyY2UgaGFzIGJlZW4gc3VjY2VzZnVsbHkgYXR0YWNoZWQgdG8gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgfVxuICAgIE1FRElBX0FUVEFDSEVEOiAnaGxzTWVkaWFBdHRhY2hlZCcsXG4gICAgLy8gZmlyZWQgYmVmb3JlIGRldGFjaGluZyBNZWRpYVNvdXJjZSBmcm9tIG1lZGlhIGVsZW1lbnQgLSBkYXRhOiB7IH1cbiAgICBNRURJQV9ERVRBQ0hJTkc6ICdobHNNZWRpYURldGFjaGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBNZWRpYVNvdXJjZSBoYXMgYmVlbiBkZXRhY2hlZCBmcm9tIG1lZGlhIGVsZW1lbnQgLSBkYXRhOiB7IH1cbiAgICBNRURJQV9ERVRBQ0hFRDogJ2hsc01lZGlhRGV0YWNoZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gd2UgYnVmZmVyIGlzIGdvaW5nIHRvIGJlIHJlc2V0IC0gZGF0YTogeyB9XG4gICAgQlVGRkVSX1JFU0VUOiAnaGxzQnVmZmVyUmVzZXQnLFxuICAgIC8vIGZpcmVkIHdoZW4gd2Uga25vdyBhYm91dCB0aGUgY29kZWNzIHRoYXQgd2UgbmVlZCBidWZmZXJzIGZvciB0byBwdXNoIGludG8gLSBkYXRhOiB7dHJhY2tzIDogeyBjb250YWluZXIsIGNvZGVjLCBsZXZlbENvZGVjLCBpbml0U2VnbWVudCwgbWV0YWRhdGEgfX1cbiAgICBCVUZGRVJfQ09ERUNTOiAnaGxzQnVmZmVyQ29kZWNzJyxcbiAgICAvLyBmaXJlZCB3aGVuIHNvdXJjZWJ1ZmZlcnMgaGF2ZSBiZWVuIGNyZWF0ZWQgLSBkYXRhOiB7IHRyYWNrcyA6IHRyYWNrcyB9XG4gICAgQlVGRkVSX0NSRUFURUQ6ICdobHNCdWZmZXJDcmVhdGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIHdlIGFwcGVuZCBhIHNlZ21lbnQgdG8gdGhlIGJ1ZmZlciAtIGRhdGE6IHsgc2VnbWVudDogc2VnbWVudCBvYmplY3QgfVxuICAgIEJVRkZFUl9BUFBFTkRJTkc6ICdobHNCdWZmZXJBcHBlbmRpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gd2UgYXJlIGRvbmUgd2l0aCBhcHBlbmRpbmcgYSBtZWRpYSBzZWdtZW50IHRvIHRoZSBidWZmZXIgLSBkYXRhIDogeyBwYXJlbnQgOiBzZWdtZW50IHBhcmVudCB0aGF0IHRyaWdnZXJlZCBCVUZGRVJfQVBQRU5ESU5HLCBwZW5kaW5nIDogbmIgb2Ygc2VnbWVudHMgd2FpdGluZyBmb3IgYXBwZW5kaW5nIGZvciB0aGlzIHNlZ21lbnQgcGFyZW50fVxuICAgIEJVRkZFUl9BUFBFTkRFRDogJ2hsc0J1ZmZlckFwcGVuZGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIHRoZSBzdHJlYW0gaXMgZmluaXNoZWQgYW5kIHdlIHdhbnQgdG8gbm90aWZ5IHRoZSBtZWRpYSBidWZmZXIgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgZGF0YSAtIGRhdGE6IHsgfVxuICAgIEJVRkZFUl9FT1M6ICdobHNCdWZmZXJFb3MnLFxuICAgIC8vIGZpcmVkIHdoZW4gdGhlIG1lZGlhIGJ1ZmZlciBzaG91bGQgYmUgZmx1c2hlZCAtIGRhdGEgeyBzdGFydE9mZnNldCwgZW5kT2Zmc2V0IH1cbiAgICBCVUZGRVJfRkxVU0hJTkc6ICdobHNCdWZmZXJGbHVzaGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiB0aGUgbWVkaWEgYnVmZmVyIGhhcyBiZWVuIGZsdXNoZWQgLSBkYXRhOiB7IH1cbiAgICBCVUZGRVJfRkxVU0hFRDogJ2hsc0J1ZmZlckZsdXNoZWQnLFxuICAgIC8vIGZpcmVkIHRvIHNpZ25hbCB0aGF0IGEgbWFuaWZlc3QgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IG1hbmlmZXN0VVJMfVxuICAgIE1BTklGRVNUX0xPQURJTkc6ICdobHNNYW5pZmVzdExvYWRpbmcnLFxuICAgIC8vIGZpcmVkIGFmdGVyIG1hbmlmZXN0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10sIGF1ZGlvVHJhY2tzIDogWyBhdmFpbGFibGUgYXVkaW8gdHJhY2tzXSwgdXJsIDogbWFuaWZlc3RVUkwsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWV9fVxuICAgIE1BTklGRVNUX0xPQURFRDogJ2hsc01hbmlmZXN0TG9hZGVkJyxcbiAgICAvLyBmaXJlZCBhZnRlciBtYW5pZmVzdCBoYXMgYmVlbiBwYXJzZWQgLSBkYXRhOiB7IGxldmVscyA6IFthdmFpbGFibGUgcXVhbGl0eSBsZXZlbHNdLCBmaXJzdExldmVsIDogaW5kZXggb2YgZmlyc3QgcXVhbGl0eSBsZXZlbCBhcHBlYXJpbmcgaW4gTWFuaWZlc3R9XG4gICAgTUFOSUZFU1RfUEFSU0VEOiAnaGxzTWFuaWZlc3RQYXJzZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBzd2l0Y2ggaXMgcmVxdWVzdGVkIC0gZGF0YTogeyBsZXZlbCA6IGlkIG9mIG5ldyBsZXZlbCB9XG4gICAgTEVWRUxfU1dJVENISU5HOiAnaGxzTGV2ZWxTd2l0Y2hpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBzd2l0Y2ggaXMgZWZmZWN0aXZlIC0gZGF0YTogeyBsZXZlbCA6IGlkIG9mIG5ldyBsZXZlbCB9XG4gICAgTEVWRUxfU1dJVENIRUQ6ICdobHNMZXZlbFN3aXRjaGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgcGxheWxpc3QgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IGxldmVsIFVSTCwgbGV2ZWwgOiBpZCBvZiBsZXZlbCBiZWluZyBsb2FkZWR9XG4gICAgTEVWRUxfTE9BRElORzogJ2hsc0xldmVsTG9hZGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHBsYXlsaXN0IGxvYWRpbmcgZmluaXNoZXMgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBsZXZlbCA6IGlkIG9mIGxvYWRlZCBsZXZlbCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBtdGltZX0gfVxuICAgIExFVkVMX0xPQURFRDogJ2hsc0xldmVsTG9hZGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwncyBkZXRhaWxzIGhhdmUgYmVlbiB1cGRhdGVkIGJhc2VkIG9uIHByZXZpb3VzIGRldGFpbHMsIGFmdGVyIGl0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGxldmVsIDogaWQgb2YgdXBkYXRlZCBsZXZlbCB9XG4gICAgTEVWRUxfVVBEQVRFRDogJ2hsc0xldmVsVXBkYXRlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhIGxldmVsJ3MgUFRTIGluZm9ybWF0aW9uIGhhcyBiZWVuIHVwZGF0ZWQgYWZ0ZXIgcGFyc2luZyBhIGZyYWdtZW50IC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgbGV2ZWwgOiBpZCBvZiB1cGRhdGVkIGxldmVsLCBkcmlmdDogUFRTIGRyaWZ0IG9ic2VydmVkIHdoZW4gcGFyc2luZyBsYXN0IGZyYWdtZW50IH1cbiAgICBMRVZFTF9QVFNfVVBEQVRFRDogJ2hsc0xldmVsUHRzVXBkYXRlZCcsXG4gICAgLy8gZmlyZWQgdG8gbm90aWZ5IHRoYXQgYXVkaW8gdHJhY2sgbGlzdHMgaGFzIGJlZW4gdXBkYXRlZCAtIGRhdGE6IHsgYXVkaW9UcmFja3MgOiBhdWRpb1RyYWNrcyB9XG4gICAgQVVESU9fVFJBQ0tTX1VQREFURUQ6ICdobHNBdWRpb1RyYWNrc1VwZGF0ZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgc3dpdGNoaW5nIGlzIHJlcXVlc3RlZCAtIGRhdGE6IHsgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gICAgQVVESU9fVFJBQ0tfU1dJVENISU5HOiAnaGxzQXVkaW9UcmFja1N3aXRjaGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBzd2l0Y2ggYWN0dWFsbHkgb2NjdXJzIC0gZGF0YTogeyBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgICBBVURJT19UUkFDS19TV0lUQ0hFRDogJ2hsc0F1ZGlvVHJhY2tTd2l0Y2hlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgdXJsIDogYXVkaW8gdHJhY2sgVVJMLCBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgICBBVURJT19UUkFDS19MT0FESU5HOiAnaGxzQXVkaW9UcmFja0xvYWRpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGlkIDogYXVkaW8gdHJhY2sgaWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWUgfSB9XG4gICAgQVVESU9fVFJBQ0tfTE9BREVEOiAnaGxzQXVkaW9UcmFja0xvYWRlZCcsXG4gICAgLy8gZmlyZWQgdG8gbm90aWZ5IHRoYXQgc3VidGl0bGUgdHJhY2sgbGlzdHMgaGFzIGJlZW4gdXBkYXRlZCAtIGRhdGE6IHsgc3VidGl0bGVUcmFja3MgOiBzdWJ0aXRsZVRyYWNrcyB9XG4gICAgU1VCVElUTEVfVFJBQ0tTX1VQREFURUQ6ICdobHNTdWJ0aXRsZVRyYWNrc1VwZGF0ZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYW4gc3VidGl0bGUgdHJhY2sgc3dpdGNoIG9jY3VycyAtIGRhdGE6IHsgaWQgOiBzdWJ0aXRsZSB0cmFjayBpZCB9XG4gICAgU1VCVElUTEVfVFJBQ0tfU1dJVENIOiAnaGxzU3VidGl0bGVUcmFja1N3aXRjaCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhIHN1YnRpdGxlIHRyYWNrIGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBzdWJ0aXRsZSB0cmFjayBVUkwsIGlkIDogc3VidGl0bGUgdHJhY2sgaWQgfVxuICAgIFNVQlRJVExFX1RSQUNLX0xPQURJTkc6ICdobHNTdWJ0aXRsZVRyYWNrTG9hZGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBhIHN1YnRpdGxlIHRyYWNrIGxvYWRpbmcgZmluaXNoZXMgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBpZCA6IHN1YnRpdGxlIHRyYWNrIGlkLCBzdGF0cyA6IHsgdHJlcXVlc3QsIHRmaXJzdCwgdGxvYWQsIG10aW1lIH0gfVxuICAgIFNVQlRJVExFX1RSQUNLX0xPQURFRDogJ2hsc1N1YnRpdGxlVHJhY2tMb2FkZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBzdWJ0aXRsZSBmcmFnbWVudCBoYXMgYmVlbiBwcm9jZXNzZWQgLSBkYXRhOiB7IHN1Y2Nlc3MgOiBib29sZWFuLCBmcmFnIDogdGhlIHByb2Nlc3NlZCBmcmFnIH1cbiAgICBTVUJUSVRMRV9GUkFHX1BST0NFU1NFRDogJ2hsc1N1YnRpdGxlRnJhZ1Byb2Nlc3NlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiB0aGUgZmlyc3QgdGltZXN0YW1wIGlzIGZvdW5kIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGluaXRQVFM6IGluaXRQVFMsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIElOSVRfUFRTX0ZPVU5EOiAnaGxzSW5pdFB0c0ZvdW5kJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIEZSQUdfTE9BRElORzogJ2hsc0ZyYWdMb2FkaW5nJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBwcm9ncmVzc2luZyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgeyB0cmVxdWVzdCwgdGZpcnN0LCBsb2FkZWQgfSB9XG4gICAgRlJBR19MT0FEX1BST0dSRVNTOiAnaGxzRnJhZ0xvYWRQcm9ncmVzcycsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCBhYm9ydGluZyBmb3IgZW1lcmdlbmN5IHN3aXRjaCBkb3duIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgICBGUkFHX0xPQURfRU1FUkdFTkNZX0FCT1JURUQ6ICdobHNGcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBmcmFnbWVudCBsb2FkaW5nIGlzIGNvbXBsZXRlZCAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgcGF5bG9hZCA6IGZyYWdtZW50IHBheWxvYWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbGVuZ3RoIH0gfVxuICAgIEZSQUdfTE9BREVEOiAnaGxzRnJhZ0xvYWRlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGhhcyBmaW5pc2hlZCBkZWNyeXB0aW5nIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgcGF5bG9hZCA6IGZyYWdtZW50IHBheWxvYWQsIHN0YXRzIDogeyB0c3RhcnQsIHRkZWNyeXB0IH0gfVxuICAgIEZSQUdfREVDUllQVEVEOiAnaGxzRnJhZ0RlY3J5cHRlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBJbml0IFNlZ21lbnQgaGFzIGJlZW4gZXh0cmFjdGVkIGZyb20gZnJhZ21lbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBtb292IDogbW9vdiBNUDQgYm94LCBjb2RlY3MgOiBjb2RlY3MgZm91bmQgd2hpbGUgcGFyc2luZyBmcmFnbWVudCB9XG4gICAgRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVDogJ2hsc0ZyYWdQYXJzaW5nSW5pdFNlZ21lbnQnLFxuICAgIC8vIGZpcmVkIHdoZW4gcGFyc2luZyBzZWkgdGV4dCBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBzYW1wbGVzIDogWyBzZWkgc2FtcGxlcyBwZXMgXSB9XG4gICAgRlJBR19QQVJTSU5HX1VTRVJEQVRBOiAnaGxzRnJhZ1BhcnNpbmdVc2VyZGF0YScsXG4gICAgLy8gZmlyZWQgd2hlbiBwYXJzaW5nIGlkMyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBzYW1wbGVzIDogWyBpZDMgc2FtcGxlcyBwZXMgXSB9XG4gICAgRlJBR19QQVJTSU5HX01FVEFEQVRBOiAnaGxzRnJhZ1BhcnNpbmdNZXRhZGF0YScsXG4gICAgLy8gZmlyZWQgd2hlbiBkYXRhIGhhdmUgYmVlbiBleHRyYWN0ZWQgZnJvbSBmcmFnbWVudCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIGRhdGExIDogbW9vZiBNUDQgYm94IG9yIFRTIGZyYWdtZW50cywgZGF0YTIgOiBtZGF0IE1QNCBib3ggb3IgbnVsbH1cbiAgICBGUkFHX1BBUlNJTkdfREFUQTogJ2hsc0ZyYWdQYXJzaW5nRGF0YScsXG4gICAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCBwYXJzaW5nIGlzIGNvbXBsZXRlZCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIEZSQUdfUEFSU0VEOiAnaGxzRnJhZ1BhcnNlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCByZW11eGVkIE1QNCBib3hlcyBoYXZlIGFsbCBiZWVuIGFwcGVuZGVkIGludG8gU291cmNlQnVmZmVyIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgdHBhcnNlZCwgdGJ1ZmZlcmVkLCBsZW5ndGgsIGJ3RXN0aW1hdGUgfSB9XG4gICAgRlJBR19CVUZGRVJFRDogJ2hsc0ZyYWdCdWZmZXJlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCBtYXRjaGluZyB3aXRoIGN1cnJlbnQgbWVkaWEgcG9zaXRpb24gaXMgY2hhbmdpbmcgLSBkYXRhIDogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIEZSQUdfQ0hBTkdFRDogJ2hsc0ZyYWdDaGFuZ2VkJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIEZQUyBkcm9wIGV2ZW50IC0gZGF0YTogeyBjdXJlbnREcm9wcGVkLCBjdXJyZW50RGVjb2RlZCwgdG90YWxEcm9wcGVkRnJhbWVzIH1cbiAgICBGUFNfRFJPUDogJ2hsc0Zwc0Ryb3AnLFxuICAgIC8vIHRyaWdnZXJlZCB3aGVuIEZQUyBkcm9wIHRyaWdnZXJzIGF1dG8gbGV2ZWwgY2FwcGluZyAtIGRhdGE6IHsgbGV2ZWwsIGRyb3BwZWRsZXZlbCB9XG4gICAgRlBTX0RST1BfTEVWRUxfQ0FQUElORzogJ2hsc0Zwc0Ryb3BMZXZlbENhcHBpbmcnLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGVycm9yIGV2ZW50IC0gZGF0YTogeyB0eXBlIDogZXJyb3IgdHlwZSwgZGV0YWlscyA6IGVycm9yIGRldGFpbHMsIGZhdGFsIDogaWYgdHJ1ZSwgaGxzLmpzIGNhbm5vdC93aWxsIG5vdCB0cnkgdG8gcmVjb3ZlciwgaWYgZmFsc2UsIGhscy5qcyB3aWxsIHRyeSB0byByZWNvdmVyLG90aGVyIGVycm9yIHNwZWNpZmljIGRhdGEgfVxuICAgIEVSUk9SOiAnaGxzRXJyb3InLFxuICAgIC8vIGZpcmVkIHdoZW4gaGxzLmpzIGluc3RhbmNlIHN0YXJ0cyBkZXN0cm95aW5nLiBEaWZmZXJlbnQgZnJvbSBNRURJQV9ERVRBQ0hFRCBhcyBvbmUgY291bGQgd2FudCB0byBkZXRhY2ggYW5kIHJlYXR0YWNoIGEgbWVkaWEgdG8gdGhlIGluc3RhbmNlIG9mIGhscy5qcyB0byBoYW5kbGUgbWlkLXJvbGxzIGZvciBleGFtcGxlIC0gZGF0YTogeyB9XG4gICAgREVTVFJPWUlORzogJ2hsc0Rlc3Ryb3lpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBkZWNyeXB0IGtleSBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gICAgS0VZX0xPQURJTkc6ICdobHNLZXlMb2FkaW5nJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgZGVjcnlwdCBrZXkgbG9hZGluZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBrZXkgcGF5bG9hZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBsZW5ndGggfSB9XG4gICAgS0VZX0xPQURFRDogJ2hsc0tleUxvYWRlZCcsXG4gICAgLy8gZmlyZWQgdXBvbiBzdHJlYW0gY29udHJvbGxlciBzdGF0ZSB0cmFuc2l0aW9ucyAtIGRhdGE6IHsgcHJldmlvdXNTdGF0ZSwgbmV4dFN0YXRlIH1cbiAgICBTVFJFQU1fU1RBVEVfVFJBTlNJVElPTjogJ2hsc1N0cmVhbVN0YXRlVHJhbnNpdGlvbidcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBIbHNFdmVudHM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvaGxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9obHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBVUkxUb29sa2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdXJsLXRvb2xraXQgKi8gXCIuL25vZGVfbW9kdWxlcy91cmwtdG9vbGtpdC9zcmMvdXJsLXRvb2xraXQuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBwbGF5bGlzdF9sb2FkZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbG9hZGVyL3BsYXlsaXN0LWxvYWRlciAqLyBcIi4vc3JjL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIuanNcIik7XG52YXIgZnJhZ21lbnRfbG9hZGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xvYWRlci9mcmFnbWVudC1sb2FkZXIgKi8gXCIuL3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLmpzXCIpO1xudmFyIGtleV9sb2FkZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbG9hZGVyL2tleS1sb2FkZXIgKi8gXCIuL3NyYy9sb2FkZXIva2V5LWxvYWRlci5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbnRyb2xsZXIvZnJhZ21lbnQtdHJhY2tlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtdHJhY2tlci5qc1wiKTtcbnZhciBzdHJlYW1fY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL3N0cmVhbS1jb250cm9sbGVyICovIFwiLi9zcmMvY29udHJvbGxlci9zdHJlYW0tY29udHJvbGxlci5qc1wiKTtcbnZhciBsZXZlbF9jb250cm9sbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlci5qc1wiKTtcbnZhciBpZDNfdHJhY2tfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL2lkMy10cmFjay1jb250cm9sbGVyICovIFwiLi9zcmMvY29udHJvbGxlci9pZDMtdHJhY2stY29udHJvbGxlci5qc1wiKTtcbnZhciBpc19zdXBwb3J0ZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaXMtc3VwcG9ydGVkICovIFwiLi9zcmMvaXMtc3VwcG9ydGVkLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgY29uZmlnXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbmZpZyAqLyBcIi4vc3JjL2NvbmZpZy5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIG9ic2VydmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL29ic2VydmVyICovIFwiLi9zcmMvb2JzZXJ2ZXIuanNcIik7XG4vKipcbiAqIEBtb2R1bGUgSGxzXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgSGxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIbHMsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBITFMgY2xpZW50IHRoYXQgY2FuIGF0dGFjaCB0byBleGFjdGx5IG9uZSBgSFRNTE1lZGlhRWxlbWVudGAuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0cyBIbHNcbiAgICAgKiBAcGFyYW0ge0hsc0NvbmZpZ30gY29uZmlnXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGxzKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIGRlZmF1bHRDb25maWcgPSBIbHMuRGVmYXVsdENvbmZpZztcbiAgICAgICAgaWYgKChjb25maWcubGl2ZVN5bmNEdXJhdGlvbkNvdW50IHx8IGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQpICYmIChjb25maWcubGl2ZVN5bmNEdXJhdGlvbiB8fCBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBobHMuanMgY29uZmlnOiBkb25cXCd0IG1peCB1cCBsaXZlU3luY0R1cmF0aW9uQ291bnQvbGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IGFuZCBsaXZlU3luY0R1cmF0aW9uL2xpdmVNYXhMYXRlbmN5RHVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNvbmZpZylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbmZpZ1twcm9wXSA9IGRlZmF1bHRDb25maWdbcHJvcF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQgIT09IHVuZGVmaW5lZCAmJiBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IDw9IGNvbmZpZy5saXZlU3luY0R1cmF0aW9uQ291bnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBobHMuanMgY29uZmlnOiBcImxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudFwiIG11c3QgYmUgZ3QgXCJsaXZlU3luY0R1cmF0aW9uQ291bnRcIicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmIChjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiA8PSBjb25maWcubGl2ZVN5bmNEdXJhdGlvbiB8fCBjb25maWcubGl2ZVN5bmNEdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGhscy5qcyBjb25maWc6IFwibGl2ZU1heExhdGVuY3lEdXJhdGlvblwiIG11c3QgYmUgZ3QgXCJsaXZlU3luY0R1cmF0aW9uXCInKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5lbmFibGVMb2dzKGNvbmZpZy5kZWJ1Zyk7XG4gICAgICAgIF90aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgX3RoaXMuX2F1dG9MZXZlbENhcHBpbmcgPSAtMTtcbiAgICAgICAgLy8gY29yZSBjb250cm9sbGVycyBhbmQgbmV0d29yayBsb2FkZXJzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtBYnJDb250cm9sbGVyfSBhYnJDb250cm9sbGVyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgYWJyQ29udHJvbGxlciA9IF90aGlzLmFickNvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmFickNvbnRyb2xsZXIoX3RoaXMpO1xuICAgICAgICB2YXIgYnVmZmVyQ29udHJvbGxlciA9IG5ldyBjb25maWcuYnVmZmVyQ29udHJvbGxlcihfdGhpcyk7XG4gICAgICAgIHZhciBjYXBMZXZlbENvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmNhcExldmVsQ29udHJvbGxlcihfdGhpcyk7XG4gICAgICAgIHZhciBmcHNDb250cm9sbGVyID0gbmV3IGNvbmZpZy5mcHNDb250cm9sbGVyKF90aGlzKTtcbiAgICAgICAgdmFyIHBsYXlMaXN0TG9hZGVyID0gbmV3IHBsYXlsaXN0X2xvYWRlcl8xLmRlZmF1bHQoX3RoaXMpO1xuICAgICAgICB2YXIgZnJhZ21lbnRMb2FkZXIgPSBuZXcgZnJhZ21lbnRfbG9hZGVyXzEuZGVmYXVsdChfdGhpcyk7XG4gICAgICAgIHZhciBrZXlMb2FkZXIgPSBuZXcga2V5X2xvYWRlcl8xLmRlZmF1bHQoX3RoaXMpO1xuICAgICAgICB2YXIgaWQzVHJhY2tDb250cm9sbGVyID0gbmV3IGlkM190cmFja19jb250cm9sbGVyXzEuZGVmYXVsdChfdGhpcyk7XG4gICAgICAgIC8vIG5ldHdvcmsgY29udHJvbGxlcnNcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0xldmVsQ29udHJvbGxlcn0gbGV2ZWxDb250cm9sbGVyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbGV2ZWxDb250cm9sbGVyID0gX3RoaXMubGV2ZWxDb250cm9sbGVyID0gbmV3IGxldmVsX2NvbnRyb2xsZXJfMS5kZWZhdWx0KF90aGlzKTtcbiAgICAgICAgLy8gRklYTUU6IEZyYWdtZW50VHJhY2tlciBtdXN0IGJlIGRlZmluZWQgYmVmb3JlIFN0cmVhbUNvbnRyb2xsZXIgYmVjYXVzZSB0aGUgb3JkZXIgb2YgZXZlbnQgaGFuZGxpbmcgaXMgaW1wb3J0YW50XG4gICAgICAgIHZhciBmcmFnbWVudFRyYWNrZXIgPSBuZXcgZnJhZ21lbnRfdHJhY2tlcl8xLkZyYWdtZW50VHJhY2tlcihfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJlYW1Db250cm9sbGVyfSBzdHJlYW1Db250cm9sbGVyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3RyZWFtQ29udHJvbGxlciA9IF90aGlzLnN0cmVhbUNvbnRyb2xsZXIgPSBuZXcgc3RyZWFtX2NvbnRyb2xsZXJfMS5kZWZhdWx0KF90aGlzLCBmcmFnbWVudFRyYWNrZXIpO1xuICAgICAgICB2YXIgbmV0d29ya0NvbnRyb2xsZXJzID0gW2xldmVsQ29udHJvbGxlciwgc3RyZWFtQ29udHJvbGxlcl07XG4gICAgICAgIC8vIG9wdGlvbmFsIGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdmFyIHtJQ29yZUNvbXBvbmVudCB8IENvbnRyb2xsZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgQ29udHJvbGxlciA9IGNvbmZpZy5hdWRpb1N0cmVhbUNvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICBuZXR3b3JrQ29udHJvbGxlcnMucHVzaChuZXcgQ29udHJvbGxlcihfdGhpcywgZnJhZ21lbnRUcmFja2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0lOZXR3b3JrQ29udHJvbGxlcltdfSBuZXR3b3JrQ29udHJvbGxlcnNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5ldHdvcmtDb250cm9sbGVycyA9IG5ldHdvcmtDb250cm9sbGVycztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB2YXIge0lDb3JlQ29tcG9uZW50W119XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgY29yZUNvbXBvbmVudHMgPSBbXG4gICAgICAgICAgICBwbGF5TGlzdExvYWRlcixcbiAgICAgICAgICAgIGZyYWdtZW50TG9hZGVyLFxuICAgICAgICAgICAga2V5TG9hZGVyLFxuICAgICAgICAgICAgYWJyQ29udHJvbGxlcixcbiAgICAgICAgICAgIGJ1ZmZlckNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjYXBMZXZlbENvbnRyb2xsZXIsXG4gICAgICAgICAgICBmcHNDb250cm9sbGVyLFxuICAgICAgICAgICAgaWQzVHJhY2tDb250cm9sbGVyLFxuICAgICAgICAgICAgZnJhZ21lbnRUcmFja2VyXG4gICAgICAgIF07XG4gICAgICAgIC8vIG9wdGlvbmFsIGF1ZGlvIHRyYWNrIGFuZCBzdWJ0aXRsZSBjb250cm9sbGVyXG4gICAgICAgIENvbnRyb2xsZXIgPSBjb25maWcuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcihfdGhpcyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBtZW1iZXIge0F1ZGlvVHJhY2tDb250cm9sbGVyfSBhdWRpb1RyYWNrQ29udHJvbGxlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlciA9IGF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgICAgICAgICAgY29yZUNvbXBvbmVudHMucHVzaChhdWRpb1RyYWNrQ29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgQ29udHJvbGxlciA9IGNvbmZpZy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKF90aGlzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQG1lbWJlciB7U3VidGl0bGVUcmFja0NvbnRyb2xsZXJ9IHN1YnRpdGxlVHJhY2tDb250cm9sbGVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICBjb3JlQ29tcG9uZW50cy5wdXNoKHN1YnRpdGxlVHJhY2tDb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBDb250cm9sbGVyID0gY29uZmlnLmVtZUNvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgZW1lQ29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKF90aGlzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQG1lbWJlciB7RU1FQ29udHJvbGxlcn0gZW1lQ29udHJvbGxlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5lbWVDb250cm9sbGVyID0gZW1lQ29udHJvbGxlcjtcbiAgICAgICAgICAgIGNvcmVDb21wb25lbnRzLnB1c2goZW1lQ29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9uYWwgc3VidGl0bGUgY29udHJvbGxlcnNcbiAgICAgICAgQ29udHJvbGxlciA9IGNvbmZpZy5zdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb3JlQ29tcG9uZW50cy5wdXNoKG5ldyBDb250cm9sbGVyKF90aGlzLCBmcmFnbWVudFRyYWNrZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBDb250cm9sbGVyID0gY29uZmlnLnRpbWVsaW5lQ29udHJvbGxlcjtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvcmVDb21wb25lbnRzLnB1c2gobmV3IENvbnRyb2xsZXIoX3RoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7SUNvcmVDb21wb25lbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvcmVDb21wb25lbnRzID0gY29yZUNvbXBvbmVudHM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscywgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjAuMTIuMlwiO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBIbHMuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpc19zdXBwb3J0ZWRfMS5pc1N1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscywgXCJFdmVudHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0hsc0V2ZW50c31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50c18xLmRlZmF1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMsIFwiRXJyb3JUeXBlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SGxzRXJyb3JUeXBlc31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yc18xLkVycm9yVHlwZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMsIFwiRXJyb3JEZXRhaWxzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtIbHNFcnJvckRldGFpbHN9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcnNfMS5FcnJvckRldGFpbHM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMsIFwiRGVmYXVsdENvbmZpZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SGxzQ29uZmlnfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIUhscy5kZWZhdWx0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ18xLmhsc0RlZmF1bHRDb25maWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSGxzLmRlZmF1bHRDb25maWc7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SGxzQ29uZmlnfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGVmYXVsdENvbmZpZykge1xuICAgICAgICAgICAgSGxzLmRlZmF1bHRDb25maWcgPSBkZWZhdWx0Q29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEhscy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGVzdHJveScpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5ERVNUUk9ZSU5HKTtcbiAgICAgICAgdGhpcy5kZXRhY2hNZWRpYSgpO1xuICAgICAgICB0aGlzLmNvcmVDb21wb25lbnRzLmNvbmNhdCh0aGlzLm5ldHdvcmtDb250cm9sbGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb21wb25lbnQuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cmwgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nID0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdHRhY2ggYSBtZWRpYSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYVxuICAgICAqL1xuICAgIEhscy5wcm90b3R5cGUuYXR0YWNoTWVkaWEgPSBmdW5jdGlvbiAobWVkaWEpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnYXR0YWNoTWVkaWEnKTtcbiAgICAgICAgdGhpcy5tZWRpYSA9IG1lZGlhO1xuICAgICAgICB0aGlzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5NRURJQV9BVFRBQ0hJTkcsIHsgbWVkaWE6IG1lZGlhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0YWNoIGZyb20gdGhlIG1lZGlhXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5kZXRhY2hNZWRpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGV0YWNoTWVkaWEnKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HKTtcbiAgICAgICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSBVUkwuIENhbiBiZSByZWxhdGl2ZSBvciBhYnNvbHV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB1cmwgPSBVUkxUb29sa2l0LmJ1aWxkQWJzb2x1dGVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYsIHVybCwgeyBhbHdheXNOb3JtYWxpemU6IHRydWUgfSk7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJsb2FkU291cmNlOlwiICsgdXJsKTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIC8vIHdoZW4gYXR0YWNoaW5nIHRvIGEgc291cmNlIFVSTCwgdHJpZ2dlciBhIHBsYXlsaXN0IGxvYWRcbiAgICAgICAgdGhpcy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BRElORywgeyB1cmw6IHVybCB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IGxvYWRpbmcgZGF0YSBmcm9tIHRoZSBzdHJlYW0gc291cmNlLlxuICAgICAqIERlcGVuZGluZyBvbiBkZWZhdWx0IGNvbmZpZywgY2xpZW50IHN0YXJ0cyBsb2FkaW5nIGF1dG9tYXRpY2FsbHkgd2hlbiBhIHNvdXJjZSBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRQb3NpdGlvbiBTZXQgdGhlIHN0YXJ0IHBvc2l0aW9uIHRvIHN0cmVhbSBmcm9tXG4gICAgICogQGRlZmF1bHQgLTEgTm9uZSAoZnJvbSBlYXJsaWVzdCBwb2ludClcbiAgICAgKi9cbiAgICBIbHMucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIChzdGFydFBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChzdGFydFBvc2l0aW9uID09PSB2b2lkIDApIHsgc3RhcnRQb3NpdGlvbiA9IC0xOyB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzdGFydExvYWQoXCIgKyBzdGFydFBvc2l0aW9uICsgXCIpXCIpO1xuICAgICAgICB0aGlzLm5ldHdvcmtDb250cm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLnN0YXJ0TG9hZChzdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wIGxvYWRpbmcgb2YgYW55IHN0cmVhbSBkYXRhLlxuICAgICAqL1xuICAgIEhscy5wcm90b3R5cGUuc3RvcExvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3N0b3BMb2FkJyk7XG4gICAgICAgIHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuc3RvcExvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTd2FwIHRocm91Z2ggcG9zc2libGUgYXVkaW8gY29kZWNzIGluIHRoZSBzdHJlYW0gKGZvciBleGFtcGxlIHRvIHN3aXRjaCBmcm9tIHN0ZXJlbyB0byA1LjEpXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5zd2FwQXVkaW9Db2RlYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dhcEF1ZGlvQ29kZWMnKTtcbiAgICAgICAgdGhpcy5zdHJlYW1Db250cm9sbGVyLnN3YXBBdWRpb0NvZGVjKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBtZWRpYS1lbGVtZW50IGZhaWxzLCB0aGlzIGFsbG93cyB0byBkZXRhY2ggYW5kIHRoZW4gcmUtYXR0YWNoIGl0XG4gICAgICogYXMgb25lIGNhbGwgKGNvbnZlbmllbmNlIG1ldGhvZCkuXG4gICAgICpcbiAgICAgKiBBdXRvbWF0aWMgcmVjb3Zlcnkgb2YgbWVkaWEtZXJyb3JzIGJ5IHRoaXMgcHJvY2VzcyBpcyBjb25maWd1cmFibGUuXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5yZWNvdmVyTWVkaWFFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygncmVjb3Zlck1lZGlhRXJyb3InKTtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdGhpcy5kZXRhY2hNZWRpYSgpO1xuICAgICAgICB0aGlzLmF0dGFjaE1lZGlhKG1lZGlhKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImxldmVsc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7UXVhbGl0eUxldmVsW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5sZXZlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImN1cnJlbnRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiBxdWFsaXR5IGxldmVsIGN1cnJlbnRseSBwbGF5ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5jdXJyZW50TGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcXVhbGl0eSBsZXZlbCBpbmRleCBpbW1lZGlhdGVseSAuXG4gICAgICAgICAqIFRoaXMgd2lsbCBmbHVzaCB0aGUgY3VycmVudCBidWZmZXIgdG8gcmVwbGFjZSB0aGUgcXVhbGl0eSBhc2FwLlxuICAgICAgICAgKiBUaGF0IG1lYW5zIHBsYXliYWNrIHdpbGwgaW50ZXJydXB0IGF0IGxlYXN0IHNob3J0bHkgdG8gcmUtYnVmZmVyIGFuZCByZS1zeW5jIGV2ZW50dWFsbHkuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInNldCBjdXJyZW50TGV2ZWw6XCIgKyBuZXdMZXZlbCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRMZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1Db250cm9sbGVyLmltbWVkaWF0ZUxldmVsU3dpdGNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcIm5leHRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiBuZXh0IHF1YWxpdHkgbGV2ZWwgbG9hZGVkIGFzIHNjaGVkdWxlZCBieSBzdHJlYW0gY29udHJvbGxlci5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcXVhbGl0eSBsZXZlbCBpbmRleCBmb3IgbmV4dCBsb2FkZWQgZGF0YS5cbiAgICAgICAgICogVGhpcyB3aWxsIHN3aXRjaCB0aGUgdmlkZW8gcXVhbGl0eSBhc2FwLCB3aXRob3V0IGludGVycnVwdGluZyBwbGF5YmFjay5cbiAgICAgICAgICogTWF5IGFib3J0IGN1cnJlbnQgbG9hZGluZyBvZiBkYXRhLCBhbmQgZmx1c2ggcGFydHMgb2YgYnVmZmVyIChvdXRzaWRlIGN1cnJlbnRseSBwbGF5ZWQgZnJhZ21lbnQgcmVnaW9uKS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn0gLTEgZm9yIGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwic2V0IG5leHRMZXZlbDpcIiArIG5ld0xldmVsKTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsID0gbmV3TGV2ZWw7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImxvYWRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIHF1YWxpdHkgbGV2ZWwgb2YgdGhlIGN1cnJlbnRseSBvciBsYXN0IChvZiBub25lIGlzIGxvYWRlZCBjdXJyZW50bHkpIHNlZ21lbnRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLmxldmVsO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHF1YWxpdHkgbGV2ZWwgaW5kZXggZm9yIG5leHQgbG9hZGVkIGRhdGEgaW4gYSBjb25zZXJ2YXRpdmUgd2F5LlxuICAgICAgICAgKiBUaGlzIHdpbGwgc3dpdGNoIHRoZSBxdWFsaXR5IHdpdGhvdXQgZmx1c2hpbmcsIGJ1dCBpbnRlcnJ1cHQgY3VycmVudCBsb2FkaW5nLlxuICAgICAgICAgKiBUaHVzIHRoZSBtb21lbnQgd2hlbiB0aGUgcXVhbGl0eSBzd2l0Y2ggd2lsbCBhcHBlYXIgaW4gZWZmZWN0IHdpbGwgb25seSBiZSBhZnRlciB0aGUgYWxyZWFkeSBleGlzdGluZyBidWZmZXIuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IG5ld0xldmVsIC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInNldCBsb2FkTGV2ZWw6XCIgKyBuZXdMZXZlbCk7XG4gICAgICAgICAgICB0aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJuZXh0TG9hZExldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBuZXh0IHF1YWxpdHkgbGV2ZWwgbG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5uZXh0TG9hZExldmVsO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHF1YWxpdHkgbGV2ZWwgb2YgbmV4dCBsb2FkZWQgc2VnbWVudCBpbiBhIGZ1bGx5IFwibm9uLWRlc3RydWN0aXZlXCIgd2F5LlxuICAgICAgICAgKiBTYW1lIGFzIGBsb2FkTGV2ZWxgIGJ1dCB3aWxsIHdhaXQgZm9yIG5leHQgc3dpdGNoICh1bnRpbCBjdXJyZW50IGxvYWRpbmcgaXMgZG9uZSkuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IGxldmVsXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJmaXJzdExldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiBcImZpcnN0IGxldmVsXCI6IGxpa2UgYSBkZWZhdWx0IGxldmVsLCBpZiBub3Qgc2V0LFxuICAgICAgICAgKiBmYWxscyBiYWNrIHRvIGluZGV4IG9mIGZpcnN0IGxldmVsIHJlZmVyZW5jZWQgaW4gbWFuaWZlc3RcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMubGV2ZWxDb250cm9sbGVyLmZpcnN0TGV2ZWwsIHRoaXMubWluQXV0b0xldmVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgXCJmaXJzdC1sZXZlbFwiLCBzZWUgZ2V0dGVyLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzZXQgZmlyc3RMZXZlbDpcIiArIG5ld0xldmVsKTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxDb250cm9sbGVyLmZpcnN0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwic3RhcnRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gc3RhcnQgbGV2ZWwgKGxldmVsIG9mIGZpcnN0IGZyYWdtZW50IHRoYXQgd2lsbCBiZSBwbGF5ZWQgYmFjaylcbiAgICAgICAgICogaWYgbm90IG92ZXJyaWRlZCBieSB1c2VyLCBmaXJzdCBsZXZlbCBhcHBlYXJpbmcgaW4gbWFuaWZlc3Qgd2lsbCBiZSB1c2VkIGFzIHN0YXJ0IGxldmVsXG4gICAgICAgICAqIGlmIC0xIDogYXV0b21hdGljIHN0YXJ0IGxldmVsIHNlbGVjdGlvbiwgcGxheWJhY2sgd2lsbCBzdGFydCBmcm9tIGxldmVsIG1hdGNoaW5nIGRvd25sb2FkIGJhbmR3aWR0aFxuICAgICAgICAgKiAoZGV0ZXJtaW5lZCBmcm9tIGRvd25sb2FkIG9mIGZpcnN0IHNlZ21lbnQpXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5zdGFydExldmVsO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0ICBzdGFydCBsZXZlbCAobGV2ZWwgb2YgZmlyc3QgZnJhZ21lbnQgdGhhdCB3aWxsIGJlIHBsYXllZCBiYWNrKVxuICAgICAgICAgKiBpZiBub3Qgb3ZlcnJpZGVkIGJ5IHVzZXIsIGZpcnN0IGxldmVsIGFwcGVhcmluZyBpbiBtYW5pZmVzdCB3aWxsIGJlIHVzZWQgYXMgc3RhcnQgbGV2ZWxcbiAgICAgICAgICogaWYgLTEgOiBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgc2VsZWN0aW9uLCBwbGF5YmFjayB3aWxsIHN0YXJ0IGZyb20gbGV2ZWwgbWF0Y2hpbmcgZG93bmxvYWQgYmFuZHdpZHRoXG4gICAgICAgICAqIChkZXRlcm1pbmVkIGZyb20gZG93bmxvYWQgb2YgZmlyc3Qgc2VnbWVudClcbiAgICAgICAgICogQHR5cGUge251bWJlcn0gbmV3TGV2ZWxcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwic2V0IHN0YXJ0TGV2ZWw6XCIgKyBuZXdMZXZlbCk7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgICAgICAgIC8vIGlmIG5vdCBpbiBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgZGV0ZWN0aW9uLCBlbnN1cmUgc3RhcnRMZXZlbCBpcyBncmVhdGVyIHRoYW4gbWluQXV0b0xldmVsXG4gICAgICAgICAgICBpZiAobmV3TGV2ZWwgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbmV3TGV2ZWwgPSBNYXRoLm1heChuZXdMZXZlbCwgaGxzLm1pbkF1dG9MZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBobHMubGV2ZWxDb250cm9sbGVyLnN0YXJ0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwiYXV0b0xldmVsQ2FwcGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXBwaW5nL21heCBsZXZlbCB2YWx1ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb24gYWxnb3JpdGhtIChgQUJSQ29udHJvbGxlcmApXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FwcGluZy9tYXggbGV2ZWwgdmFsdWUgdGhhdCBzaG91bGQgYmUgdXNlZCBieSBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uIGFsZ29yaXRobSAoYEFCUkNvbnRyb2xsZXJgKVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzZXQgYXV0b0xldmVsQ2FwcGluZzpcIiArIG5ld0xldmVsKTtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9MZXZlbENhcHBpbmcgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwiYXV0b0xldmVsRW5hYmxlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIHdoZW4gYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBlbmFibGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsID09PSAtMSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcIm1hbnVhbExldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldmVsIHNldCBtYW51YWxseSAoaWYgYW55KVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcIm1pbkF1dG9MZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtaW4gbGV2ZWwgc2VsZWN0YWJsZSBpbiBhdXRvIG1vZGUgYWNjb3JkaW5nIHRvIGNvbmZpZy5taW5BdXRvQml0cmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcywgbGV2ZWxzID0gaGxzLmxldmVscywgbWluQXV0b0JpdHJhdGUgPSBobHMuY29uZmlnLm1pbkF1dG9CaXRyYXRlLCBsZW4gPSBsZXZlbHMgPyBsZXZlbHMubGVuZ3RoIDogMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxOZXh0Qml0cmF0ZSA9IGxldmVsc1tpXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tpXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW2ldLmJpdHJhdGUpIDogbGV2ZWxzW2ldLmJpdHJhdGU7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsTmV4dEJpdHJhdGUgPiBtaW5BdXRvQml0cmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwibWF4QXV0b0xldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG1heCBsZXZlbCBzZWxlY3RhYmxlIGluIGF1dG8gbW9kZSBhY2NvcmRpbmcgdG8gYXV0b0xldmVsQ2FwcGluZ1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBsZXZlbHMgPSBobHMubGV2ZWxzO1xuICAgICAgICAgICAgdmFyIGF1dG9MZXZlbENhcHBpbmcgPSBobHMuYXV0b0xldmVsQ2FwcGluZztcbiAgICAgICAgICAgIHZhciBtYXhBdXRvTGV2ZWw7XG4gICAgICAgICAgICBpZiAoYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgJiYgbGV2ZWxzICYmIGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtYXhBdXRvTGV2ZWwgPSBsZXZlbHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1heEF1dG9MZXZlbCA9IGF1dG9MZXZlbENhcHBpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF4QXV0b0xldmVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJuZXh0QXV0b0xldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG5leHQgYXV0b21hdGljYWxseSBzZWxlY3RlZCBxdWFsaXR5IGxldmVsXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgICAgICAgLy8gZW5zdXJlIG5leHQgYXV0byBsZXZlbCBpcyBiZXR3ZWVuICBtaW4gYW5kIG1heCBhdXRvIGxldmVsXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoaGxzLmFickNvbnRyb2xsZXIubmV4dEF1dG9MZXZlbCwgaGxzLm1pbkF1dG9MZXZlbCksIGhscy5tYXhBdXRvTGV2ZWwpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBzZXR0ZXIgaXMgdXNlZCB0byBmb3JjZSBuZXh0IGF1dG8gbGV2ZWwuXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZnVsIHRvIGZvcmNlIGEgc3dpdGNoIGRvd24gaW4gYXV0byBtb2RlOlxuICAgICAgICAgKiBpbiBjYXNlIG9mIGxvYWQgZXJyb3Igb24gbGV2ZWwgTiwgaGxzLmpzIGNhbiBzZXQgbmV4dEF1dG9MZXZlbCB0byBOLTEgZm9yIGV4YW1wbGUpXG4gICAgICAgICAqIGZvcmNlZCB2YWx1ZSBpcyB2YWxpZCBmb3Igb25lIGZyYWdtZW50LiB1cG9uIHN1Y2Nlc2Z1bCBmcmFnIGxvYWRpbmcgYXQgZm9yY2VkIGxldmVsLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgYmUgcmVzZXR0ZWQgdG8gLTEgYnkgQUJSIGNvbnRyb2xsZXIuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXh0TGV2ZWwpIHtcbiAgICAgICAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgICAgICAgaGxzLmFickNvbnRyb2xsZXIubmV4dEF1dG9MZXZlbCA9IE1hdGgubWF4KGhscy5taW5BdXRvTGV2ZWwsIG5leHRMZXZlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImF1ZGlvVHJhY2tzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBdWRpb1RyYWNrW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9UcmFja0NvbnRyb2xsZXIgPyBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrcyA6IFtdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJhdWRpb1RyYWNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGluZGV4IG9mIHRoZSBzZWxlY3RlZCBhdWRpbyB0cmFjayAoaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHMpXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9UcmFja0NvbnRyb2xsZXIgPyBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrIDogLTE7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZWxlY3RzIGFuIGF1ZGlvIHRyYWNrLCBiYXNlZCBvbiBpdHMgaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGF1ZGlvVHJhY2tJZCkge1xuICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICAgICAgICAgIGlmIChhdWRpb1RyYWNrQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tDb250cm9sbGVyLmF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImxpdmVTeW5jUG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1NlY29uZHN9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubGl2ZVN5bmNQb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwic3VidGl0bGVUcmFja3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGFsdGVybmF0ZSBzdWJ0aXRsZSB0cmFja3MgbGlzdCBmcm9tIHBsYXlsaXN0XG4gICAgICAgICAqIEB0eXBlIHtTdWJ0aXRsZVRyYWNrW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrcyA6IFtdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJzdWJ0aXRsZVRyYWNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrIDogLTE7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZWxlY3QgYW4gc3VidGl0bGUgdHJhY2ssIGJhc2VkIG9uIGl0cyBpbmRleCBpbiBzdWJ0aXRsZSB0cmFjayBsaXN0c1xuICAgICAgICAgKiBAdHlwZXtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdWJ0aXRsZVRyYWNrSWQpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICBpZiAoc3VidGl0bGVUcmFja0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrID0gc3VidGl0bGVUcmFja0lkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJzdWJ0aXRsZURpc3BsYXlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZURpc3BsYXkgOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZS9kaXNhYmxlIHN1YnRpdGxlIGRpc3BsYXkgcmVuZGVyaW5nXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICBpZiAoc3VidGl0bGVUcmFja0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZURpc3BsYXkgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEhscztcbn0ob2JzZXJ2ZXJfMS5PYnNlcnZlcikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSGxzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2lzLXN1cHBvcnRlZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaXMtc3VwcG9ydGVkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1lZGlhc291cmNlX2hlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIuanNcIik7XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICB2YXIgbWVkaWFTb3VyY2UgPSBtZWRpYXNvdXJjZV9oZWxwZXJfMS5nZXRNZWRpYVNvdXJjZSgpO1xuICAgIHZhciBzb3VyY2VCdWZmZXIgPSB3aW5kb3cuU291cmNlQnVmZmVyIHx8IHdpbmRvdy5XZWJLaXRTb3VyY2VCdWZmZXI7XG4gICAgdmFyIGlzVHlwZVN1cHBvcnRlZCA9IG1lZGlhU291cmNlICYmXG4gICAgICAgIHR5cGVvZiBtZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgbWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFLG1wNGEuNDAuMlwiJyk7XG4gICAgLy8gaWYgU291cmNlQnVmZmVyIGlzIGV4cG9zZWQgZW5zdXJlIGl0cyBBUEkgaXMgdmFsaWRcbiAgICAvLyBzYWZhcmkgYW5kIG9sZCB2ZXJzaW9uIG9mIENocm9tZSBkb2Ugbm90IGV4cG9zZSBTb3VyY2VCdWZmZXIgZ2xvYmFsbHkgc28gY2hlY2tpbmcgU291cmNlQnVmZmVyLnByb3RvdHlwZSBpcyBpbXBvc3NpYmxlXG4gICAgdmFyIHNvdXJjZUJ1ZmZlclZhbGlkQVBJID0gIXNvdXJjZUJ1ZmZlciB8fFxuICAgICAgICAoc291cmNlQnVmZmVyLnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICB0eXBlb2Ygc291cmNlQnVmZmVyLnByb3RvdHlwZS5yZW1vdmUgPT09ICdmdW5jdGlvbicpO1xuICAgIHJldHVybiAhIWlzVHlwZVN1cHBvcnRlZCAmJiAhIXNvdXJjZUJ1ZmZlclZhbGlkQVBJO1xufVxuZXhwb3J0cy5pc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2xvYWRlci9mcmFnbWVudC1sb2FkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogRnJhZ21lbnQgTG9hZGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgRnJhZ21lbnRMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZyYWdtZW50TG9hZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZyYWdtZW50TG9hZGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FESU5HKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2FkZXJzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsb2FkZXJzID0gdGhpcy5sb2FkZXJzO1xuICAgICAgICBmb3IgKHZhciBsb2FkZXJOYW1lIGluIGxvYWRlcnMpIHtcbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSBsb2FkZXJzW2xvYWRlck5hbWVdO1xuICAgICAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgICAgIGxvYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzID0ge307XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZywgdHlwZSA9IGZyYWcudHlwZSwgbG9hZGVycyA9IHRoaXMubG9hZGVycywgY29uZmlnID0gdGhpcy5obHMuY29uZmlnLCBGcmFnbWVudElMb2FkZXIgPSBjb25maWcuZkxvYWRlciwgRGVmYXVsdElMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuICAgICAgICAvLyByZXNldCBmcmFnbWVudCBzdGF0ZVxuICAgICAgICBmcmFnLmxvYWRlZCA9IDA7XG4gICAgICAgIHZhciBsb2FkZXIgPSBsb2FkZXJzW3R5cGVdO1xuICAgICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcImFib3J0IHByZXZpb3VzIGZyYWdtZW50IGxvYWRlciBmb3IgdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGxvYWRlciA9IGxvYWRlcnNbdHlwZV0gPSBmcmFnLmxvYWRlciA9XG4gICAgICAgICAgICBjb25maWcuZkxvYWRlciA/IG5ldyBGcmFnbWVudElMb2FkZXIoY29uZmlnKSA6IG5ldyBEZWZhdWx0SUxvYWRlcihjb25maWcpO1xuICAgICAgICB2YXIgbG9hZGVyQ29udGV4dCwgbG9hZGVyQ29uZmlnLCBsb2FkZXJDYWxsYmFja3M7XG4gICAgICAgIGxvYWRlckNvbnRleHQgPSB7IHVybDogZnJhZy51cmwsIGZyYWc6IGZyYWcsIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJywgcHJvZ3Jlc3NEYXRhOiBmYWxzZSB9O1xuICAgICAgICB2YXIgc3RhcnQgPSBmcmFnLmJ5dGVSYW5nZVN0YXJ0T2Zmc2V0LCBlbmQgPSBmcmFnLmJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShzdGFydCkgJiYgTnVtYmVyLmlzRmluaXRlKGVuZCkpIHtcbiAgICAgICAgICAgIGxvYWRlckNvbnRleHQucmFuZ2VTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgbG9hZGVyQ29udGV4dC5yYW5nZUVuZCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICBsb2FkZXJDb25maWcgPSB7XG4gICAgICAgICAgICB0aW1lb3V0OiBjb25maWcuZnJhZ0xvYWRpbmdUaW1lT3V0LFxuICAgICAgICAgICAgbWF4UmV0cnk6IDAsXG4gICAgICAgICAgICByZXRyeURlbGF5OiAwLFxuICAgICAgICAgICAgbWF4UmV0cnlEZWxheTogY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0XG4gICAgICAgIH07XG4gICAgICAgIGxvYWRlckNhbGxiYWNrcyA9IHtcbiAgICAgICAgICAgIG9uU3VjY2VzczogdGhpcy5sb2Fkc3VjY2Vzcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uVGltZW91dDogdGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25Qcm9ncmVzczogdGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKVxuICAgICAgICB9O1xuICAgICAgICBsb2FkZXIubG9hZChsb2FkZXJDb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gICAgfTtcbiAgICBGcmFnbWVudExvYWRlci5wcm90b3R5cGUubG9hZHN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdmFyIHBheWxvYWQgPSByZXNwb25zZS5kYXRhLCBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgICAgICAvLyBkZXRhY2ggZnJhZ21lbnQgbG9hZGVyIG9uIGxvYWQgc3VjY2Vzc1xuICAgICAgICBmcmFnLmxvYWRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURFRCwgeyBwYXlsb2FkOiBwYXlsb2FkLCBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICB9O1xuICAgIEZyYWdtZW50TG9hZGVyLnByb3RvdHlwZS5sb2FkZXJyb3IgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKSB7XG4gICAgICAgIGlmIChuZXR3b3JrRGV0YWlscyA9PT0gdm9pZCAwKSB7IG5ldHdvcmtEZXRhaWxzID0gbnVsbDsgfVxuICAgICAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZztcbiAgICAgICAgdmFyIGxvYWRlciA9IGZyYWcubG9hZGVyO1xuICAgICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRlcnNbZnJhZy50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUiwgZmF0YWw6IGZhbHNlLCBmcmFnOiBjb250ZXh0LmZyYWcsIHJlc3BvbnNlOiByZXNwb25zZSwgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgIH07XG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdmFyIGZyYWcgPSBjb250ZXh0LmZyYWc7XG4gICAgICAgIHZhciBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVCwgZmF0YWw6IGZhbHNlLCBmcmFnOiBjb250ZXh0LmZyYWcsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICB9O1xuICAgIC8vIGRhdGEgd2lsbCBiZSB1c2VkIGZvciBwcm9ncmVzc2l2ZSBwYXJzaW5nXG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWRwcm9ncmVzcyA9IGZ1bmN0aW9uIChzdGF0cywgY29udGV4dCwgZGF0YSwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgaWYgKG5ldHdvcmtEZXRhaWxzID09PSB2b2lkIDApIHsgbmV0d29ya0RldGFpbHMgPSBudWxsOyB9XG4gICAgICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgICAgICBmcmFnLmxvYWRlZCA9IHN0YXRzLmxvYWRlZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRF9QUk9HUkVTUywgeyBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBGcmFnbWVudExvYWRlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZyYWdtZW50TG9hZGVyO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9sb2FkZXIvZnJhZ21lbnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2xvYWRlci9mcmFnbWVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVVJMVG9vbGtpdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHVybC10b29sa2l0ICovIFwiLi9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzXCIpO1xudmFyIGxldmVsX2tleV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1rZXkgKi8gXCIuL3NyYy9sb2FkZXIvbGV2ZWwta2V5LmpzXCIpO1xudmFyIEZyYWdtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZyYWdtZW50KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX3VybCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J5dGVSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlY3J5cHRkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWdMaXN0ID0gW107XG4gICAgICAgIHRoaXMucHJvZ3JhbURhdGVUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBudWxsO1xuICAgICAgICAvLyBIb2xkcyB0aGUgdHlwZXMgb2YgZGF0YSB0aGlzIGZyYWdtZW50IHN1cHBvcnRzXG4gICAgICAgIHRoaXMuX2VsZW1lbnRhcnlTdHJlYW1zID0gKF9hID0ge30sXG4gICAgICAgICAgICBfYVtGcmFnbWVudC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU9dID0gZmFsc2UsXG4gICAgICAgICAgICBfYVtGcmFnbWVudC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU9dID0gZmFsc2UsXG4gICAgICAgICAgICBfYSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudCwgXCJFbGVtZW50YXJ5U3RyZWFtVHlwZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHR5cGVgIHByb3BlcnR5IGZvciB0aGlzLl9lbGVtZW50YXJ5U3RyZWFtc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZW51bVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIEFVRElPOiAnYXVkaW8nLFxuICAgICAgICAgICAgICAgIFZJREVPOiAndmlkZW8nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcInVybFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91cmwgJiYgdGhpcy5yZWx1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cmwgPSBVUkxUb29sa2l0LmJ1aWxkQWJzb2x1dGVVUkwodGhpcy5iYXNldXJsLCB0aGlzLnJlbHVybCwgeyBhbHdheXNOb3JtYWxpemU6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdXJsID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudC5wcm90b3R5cGUsIFwiYnl0ZVJhbmdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2J5dGVSYW5nZSAmJiAhdGhpcy5yYXdCeXRlUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fYnl0ZVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J5dGVSYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBieXRlUmFuZ2UgPSBbXTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhd0J5dGVSYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLnJhd0J5dGVSYW5nZS5zcGxpdCgnQCcsIDIpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0ID0gdGhpcy5sYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBieXRlUmFuZ2VbMF0gPSBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0IHx8IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBieXRlUmFuZ2VbMF0gPSBwYXJzZUludChwYXJhbXNbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBieXRlUmFuZ2VbMV0gPSBwYXJzZUludChwYXJhbXNbMF0pICsgYnl0ZVJhbmdlWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2J5dGVSYW5nZSA9IGJ5dGVSYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBieXRlUmFuZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudC5wcm90b3R5cGUsIFwiYnl0ZVJhbmdlU3RhcnRPZmZzZXRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzBdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcImJ5dGVSYW5nZUVuZE9mZnNldFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzFdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcImRlY3J5cHRkYXRhXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RlY3J5cHRkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVjcnlwdGRhdGEgPSB0aGlzLmZyYWdtZW50RGVjcnlwdGRhdGFGcm9tTGV2ZWxrZXkodGhpcy5sZXZlbGtleSwgdGhpcy5zbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVjcnlwdGRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudC5wcm90b3R5cGUsIFwiZW5kUHJvZ3JhbURhdGVUaW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0aGlzLnByb2dyYW1EYXRlVGltZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9ICFOdW1iZXIuaXNGaW5pdGUodGhpcy5kdXJhdGlvbikgPyAwIDogdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2dyYW1EYXRlVGltZSArIChkdXJhdGlvbiAqIDEwMDApO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcImVuY3J5cHRlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKCh0aGlzLmRlY3J5cHRkYXRhICYmIHRoaXMuZGVjcnlwdGRhdGEudXJpICE9PSBudWxsKSAmJiAodGhpcy5kZWNyeXB0ZGF0YS5rZXkgPT09IG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50YXJ5U3RyZWFtVHlwZX0gdHlwZVxuICAgICAqL1xuICAgIEZyYWdtZW50LnByb3RvdHlwZS5hZGRFbGVtZW50YXJ5U3RyZWFtID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudGFyeVN0cmVhbXNbdHlwZV0gPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50YXJ5U3RyZWFtVHlwZX0gdHlwZVxuICAgICAqL1xuICAgIEZyYWdtZW50LnByb3RvdHlwZS5oYXNFbGVtZW50YXJ5U3RyZWFtID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRhcnlTdHJlYW1zW3R5cGVdID09PSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBtZXRob2QgZm9yIHBhcnNlTGV2ZWxQbGF5bGlzdCB0byBjcmVhdGUgYW4gaW5pdGlhbGl6YXRpb24gdmVjdG9yIGZvciBhIGdpdmVuIHNlZ21lbnRcbiAgICAgKiBAcmV0dXJucyB7VWludDhBcnJheX1cbiAgICAgKi9cbiAgICBGcmFnbWVudC5wcm90b3R5cGUuY3JlYXRlSW5pdGlhbGl6YXRpb25WZWN0b3IgPSBmdW5jdGlvbiAoc2VnbWVudE51bWJlcikge1xuICAgICAgICB2YXIgdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICB1aW50OFZpZXdbaV0gPSAoc2VnbWVudE51bWJlciA+PiA4ICogKDE1IC0gaSkpICYgMHhmZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdWludDhWaWV3O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBtZXRob2QgZm9yIHBhcnNlTGV2ZWxQbGF5bGlzdCB0byBnZXQgYSBmcmFnbWVudCdzIGRlY3J5cHRpb24gZGF0YSBmcm9tIHRoZSBjdXJyZW50bHkgcGFyc2VkIGVuY3J5cHRpb24ga2V5IGRhdGFcbiAgICAgKiBAcGFyYW0gbGV2ZWxrZXkgLSBhIHBsYXlsaXN0J3MgZW5jcnlwdGlvbiBpbmZvXG4gICAgICogQHBhcmFtIHNlZ21lbnROdW1iZXIgLSB0aGUgZnJhZ21lbnQncyBzZWdtZW50IG51bWJlclxuICAgICAqIEByZXR1cm5zIHsqfSAtIGFuIG9iamVjdCB0byBiZSBhcHBsaWVkIGFzIGEgZnJhZ21lbnQncyBkZWNyeXB0ZGF0YVxuICAgICAqL1xuICAgIEZyYWdtZW50LnByb3RvdHlwZS5mcmFnbWVudERlY3J5cHRkYXRhRnJvbUxldmVsa2V5ID0gZnVuY3Rpb24gKGxldmVsa2V5LCBzZWdtZW50TnVtYmVyKSB7XG4gICAgICAgIHZhciBkZWNyeXB0ZGF0YSA9IGxldmVsa2V5O1xuICAgICAgICBpZiAobGV2ZWxrZXkgJiYgbGV2ZWxrZXkubWV0aG9kICYmIGxldmVsa2V5LnVyaSAmJiAhbGV2ZWxrZXkuaXYpIHtcbiAgICAgICAgICAgIGRlY3J5cHRkYXRhID0gbmV3IGxldmVsX2tleV8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGRlY3J5cHRkYXRhLm1ldGhvZCA9IGxldmVsa2V5Lm1ldGhvZDtcbiAgICAgICAgICAgIGRlY3J5cHRkYXRhLmJhc2V1cmkgPSBsZXZlbGtleS5iYXNldXJpO1xuICAgICAgICAgICAgZGVjcnlwdGRhdGEucmVsdXJpID0gbGV2ZWxrZXkucmVsdXJpO1xuICAgICAgICAgICAgZGVjcnlwdGRhdGEuaXYgPSB0aGlzLmNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yKHNlZ21lbnROdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNyeXB0ZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBGcmFnbWVudDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBGcmFnbWVudDtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbG9hZGVyL2tleS1sb2FkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbG9hZGVyL2tleS1sb2FkZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBEZWNyeXB0IGtleSBMb2FkZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBLZXlMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEtleUxvYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBLZXlMb2FkZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5LRVlfTE9BRElORykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9hZGVycyA9IHt9O1xuICAgICAgICBfdGhpcy5kZWNyeXB0a2V5ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuZGVjcnlwdHVybCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgS2V5TG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBsb2FkZXJOYW1lIGluIHRoaXMubG9hZGVycykge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMubG9hZGVyc1tsb2FkZXJOYW1lXTtcbiAgICAgICAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgICAgICAgICBsb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGVycyA9IHt9O1xuICAgICAgICBldmVudF9oYW5kbGVyXzEuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgS2V5TG9hZGVyLnByb3RvdHlwZS5vbktleUxvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZywgdHlwZSA9IGZyYWcudHlwZSwgbG9hZGVyID0gdGhpcy5sb2FkZXJzW3R5cGVdLCBkZWNyeXB0ZGF0YSA9IGZyYWcuZGVjcnlwdGRhdGEsIHVyaSA9IGRlY3J5cHRkYXRhLnVyaTtcbiAgICAgICAgLy8gaWYgdXJpIGlzIGRpZmZlcmVudCBmcm9tIHByZXZpb3VzIG9uZSBvciBpZiBkZWNyeXB0IGtleSBub3QgcmV0cmlldmVkIHlldFxuICAgICAgICBpZiAodXJpICE9PSB0aGlzLmRlY3J5cHR1cmwgfHwgdGhpcy5kZWNyeXB0a2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgICAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiYWJvcnQgcHJldmlvdXMga2V5IGxvYWRlciBmb3IgdHlwZTpcIiArIHR5cGUpO1xuICAgICAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhZy5sb2FkZXIgPSB0aGlzLmxvYWRlcnNbdHlwZV0gPSBuZXcgY29uZmlnLmxvYWRlcihjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0dXJsID0gdXJpO1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0a2V5ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBsb2FkZXJDb250ZXh0ID0gdm9pZCAwLCBsb2FkZXJDb25maWcgPSB2b2lkIDAsIGxvYWRlckNhbGxiYWNrcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGxvYWRlckNvbnRleHQgPSB7IHVybDogdXJpLCBmcmFnOiBmcmFnLCByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicgfTtcbiAgICAgICAgICAgIC8vIG1heFJldHJ5IGlzIDAgc28gdGhhdCBpbnN0ZWFkIG9mIHJldHJ5aW5nIHRoZSBzYW1lIGtleSBvbiB0aGUgc2FtZSB2YXJpYW50IG11bHRpcGxlIHRpbWVzLFxuICAgICAgICAgICAgLy8ga2V5LWxvYWRlciB3aWxsIHRyaWdnZXIgYW4gZXJyb3IgYW5kIHJlbHkgb24gc3RyZWFtLWNvbnRyb2xsZXIgdG8gaGFuZGxlIHJldHJ5IGxvZ2ljLlxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYWxpZ24gcmV0cnkgbG9naWMgd2l0aCBmcmFnbWVudC1sb2FkZXJcbiAgICAgICAgICAgIGxvYWRlckNvbmZpZyA9IHsgdGltZW91dDogY29uZmlnLmZyYWdMb2FkaW5nVGltZU91dCwgbWF4UmV0cnk6IDAsIHJldHJ5RGVsYXk6IGNvbmZpZy5mcmFnTG9hZGluZ1JldHJ5RGVsYXksIG1heFJldHJ5RGVsYXk6IGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCB9O1xuICAgICAgICAgICAgbG9hZGVyQ2FsbGJhY2tzID0geyBvblN1Y2Nlc3M6IHRoaXMubG9hZHN1Y2Nlc3MuYmluZCh0aGlzKSwgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSwgb25UaW1lb3V0OiB0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcykgfTtcbiAgICAgICAgICAgIGZyYWcubG9hZGVyLmxvYWQobG9hZGVyQ29udGV4dCwgbG9hZGVyQ29uZmlnLCBsb2FkZXJDYWxsYmFja3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGVjcnlwdGtleSkge1xuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBsb2FkZWQgdGhpcyBrZXksIHJldHVybiBpdFxuICAgICAgICAgICAgZGVjcnlwdGRhdGEua2V5ID0gdGhpcy5kZWNyeXB0a2V5O1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FERUQsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2V5TG9hZGVyLnByb3RvdHlwZS5sb2Fkc3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBjb250ZXh0LmZyYWc7XG4gICAgICAgIHRoaXMuZGVjcnlwdGtleSA9IGZyYWcuZGVjcnlwdGRhdGEua2V5ID0gbmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIC8vIGRldGFjaCBmcmFnbWVudCBsb2FkZXIgb24gbG9hZCBzdWNjZXNzXG4gICAgICAgIGZyYWcubG9hZGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxvYWRlcnNbZnJhZy50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FERUQsIHsgZnJhZzogZnJhZyB9KTtcbiAgICB9O1xuICAgIEtleUxvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnLCBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUiwgZmF0YWw6IGZhbHNlLCBmcmFnOiBmcmFnLCByZXNwb25zZTogcmVzcG9uc2UgfSk7XG4gICAgfTtcbiAgICBLZXlMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gKHN0YXRzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnLCBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VULCBmYXRhbDogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gS2V5TG9hZGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gS2V5TG9hZGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2xvYWRlci9sZXZlbC1rZXkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9sb2FkZXIvbGV2ZWwta2V5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBVUkxUb29sa2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdXJsLXRvb2xraXQgKi8gXCIuL25vZGVfbW9kdWxlcy91cmwtdG9vbGtpdC9zcmMvdXJsLXRvb2xraXQuanNcIik7XG52YXIgTGV2ZWxLZXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGV2ZWxLZXkoKSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXkgPSBudWxsO1xuICAgICAgICB0aGlzLml2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXJpID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsS2V5LnByb3RvdHlwZSwgXCJ1cmlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXJpICYmIHRoaXMucmVsdXJpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXJpID0gVVJMVG9vbGtpdC5idWlsZEFic29sdXRlVVJMKHRoaXMuYmFzZXVyaSwgdGhpcy5yZWx1cmksIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VyaTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIExldmVsS2V5O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExldmVsS2V5O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2xvYWRlci9sZXZlbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbG9hZGVyL2xldmVsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBMZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXZlbChiYXNlVXJsKSB7XG4gICAgICAgIC8vIFBsZWFzZSBrZWVwIHByb3BlcnRpZXMgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgIHRoaXMuZW5kQ0MgPSAwO1xuICAgICAgICB0aGlzLmVuZFNOID0gMDtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5pbml0U2VnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMubmVlZFNpZHhSYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydENDID0gMDtcbiAgICAgICAgdGhpcy5zdGFydFNOID0gMDtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVPZmZzZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldGR1cmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy50b3RhbGR1cmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGV2ZWwucHJvdG90eXBlLCBcImhhc1Byb2dyYW1EYXRlVGltZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZnJhZ21lbnRzWzBdICYmIE51bWJlci5pc0Zpbml0ZSh0aGlzLmZyYWdtZW50c1swXS5wcm9ncmFtRGF0ZVRpbWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIExldmVsO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExldmVsO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9sb2FkZXIvbTN1OC1wYXJzZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2xvYWRlci9tM3U4LXBhcnNlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVVJMVG9vbGtpdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHVybC10b29sa2l0ICovIFwiLi9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzXCIpO1xudmFyIGZyYWdtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50ICovIFwiLi9zcmMvbG9hZGVyL2ZyYWdtZW50LmpzXCIpO1xudmFyIGxldmVsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xldmVsICovIFwiLi9zcmMvbG9hZGVyL2xldmVsLmpzXCIpO1xudmFyIGxldmVsX2tleV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1rZXkgKi8gXCIuL3NyYy9sb2FkZXIvbGV2ZWwta2V5LmpzXCIpO1xudmFyIGF0dHJfbGlzdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvYXR0ci1saXN0ICovIFwiLi9zcmMvdXRpbHMvYXR0ci1saXN0LmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGNvZGVjc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvY29kZWNzICovIFwiLi9zcmMvdXRpbHMvY29kZWNzLmpzXCIpO1xuLyoqXG4gKiBNM1U4IHBhcnNlclxuICogQG1vZHVsZVxuICovXG4vLyBodHRwczovL3JlZ2V4MTAxLmNvbSBpcyB5b3VyIGZyaWVuZFxudmFyIE1BU1RFUl9QTEFZTElTVF9SRUdFWCA9IC8jRVhULVgtU1RSRUFNLUlORjooW15cXG5cXHJdKilbXFxyXFxuXSsoW15cXHJcXG5dKykvZztcbnZhciBNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVggPSAvI0VYVC1YLU1FRElBOiguKikvZztcbnZhciBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNUID0gbmV3IFJlZ0V4cChbXG4gICAgLyNFWFRJTkY6XFxzKihcXGQqKD86XFwuXFxkKyk/KSg/OiwoLiopXFxzKyk/Ly5zb3VyY2UsXG4gICAgL3woPyEjKShbXFxTKyA/XSspLy5zb3VyY2UsXG4gICAgL3wjRVhULVgtQllURVJBTkdFOiooLispLy5zb3VyY2UsXG4gICAgL3wjRVhULVgtUFJPR1JBTS1EQVRFLVRJTUU6KC4rKS8uc291cmNlLFxuICAgIC98Iy4qLy5zb3VyY2UgLy8gQWxsIG90aGVyIG5vbi1zZWdtZW50IG9yaWVudGVkIHRhZ3Mgd2lsbCBtYXRjaCB3aXRoIGFsbCBncm91cHMgZW1wdHlcbl0uam9pbignJyksICdnJyk7XG52YXIgTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyA9IC8oPzooPzojKEVYVE0zVSkpfCg/OiNFWFQtWC0oUExBWUxJU1QtVFlQRSk6KC4rKSl8KD86I0VYVC1YLShNRURJQS1TRVFVRU5DRSk6ICooXFxkKykpfCg/OiNFWFQtWC0oVEFSR0VURFVSQVRJT04pOiAqKFxcZCspKXwoPzojRVhULVgtKEtFWSk6KC4rKSl8KD86I0VYVC1YLShTVEFSVCk6KC4rKSl8KD86I0VYVC1YLShFTkRMSVNUKSl8KD86I0VYVC1YLShESVNDT05USU5VSVRZLVNFUSlVRU5DRTooXFxkKykpfCg/OiNFWFQtWC0oRElTKUNPTlRJTlVJVFkpKXwoPzojRVhULVgtKFZFUlNJT04pOihcXGQrKSl8KD86I0VYVC1YLShNQVApOiguKykpfCg/OigjKShbXjpdKik6KC4qKSl8KD86KCMpKC4qKSkoPzouKilcXHI/XFxuPy87XG52YXIgTVA0X1JFR0VYX1NVRkZJWCA9IC9cXC4obXA0fG00c3xtNHZ8bTRhKSQvaTtcbnZhciBNM1U4UGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE0zVThQYXJzZXIoKSB7XG4gICAgfVxuICAgIE0zVThQYXJzZXIuZmluZEdyb3VwID0gZnVuY3Rpb24gKGdyb3VwcywgbWVkaWFHcm91cElkKSB7XG4gICAgICAgIGlmICghZ3JvdXBzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0Y2hpbmdHcm91cCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgICAgICBpZiAoZ3JvdXAuaWQgPT09IG1lZGlhR3JvdXBJZCkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nR3JvdXAgPSBncm91cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdHcm91cDtcbiAgICB9O1xuICAgIE0zVThQYXJzZXIuY29udmVydEFWQzFUb0FWQ09USSA9IGZ1bmN0aW9uIChjb2RlYykge1xuICAgICAgICB2YXIgcmVzdWx0LCBhdmNkYXRhID0gY29kZWMuc3BsaXQoJy4nKTtcbiAgICAgICAgaWYgKGF2Y2RhdGEubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXZjZGF0YS5zaGlmdCgpICsgJy4nO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHBhcnNlSW50KGF2Y2RhdGEuc2hpZnQoKSkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgcmVzdWx0ICs9ICgnMDAwJyArIHBhcnNlSW50KGF2Y2RhdGEuc2hpZnQoKSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gY29kZWM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE0zVThQYXJzZXIucmVzb2x2ZSA9IGZ1bmN0aW9uICh1cmwsIGJhc2VVcmwpIHtcbiAgICAgICAgcmV0dXJuIFVSTFRvb2xraXQuYnVpbGRBYnNvbHV0ZVVSTChiYXNlVXJsLCB1cmwsIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgIH07XG4gICAgTTNVOFBhcnNlci5wYXJzZU1hc3RlclBsYXlsaXN0ID0gZnVuY3Rpb24gKHN0cmluZywgYmFzZXVybCkge1xuICAgICAgICB2YXIgbGV2ZWxzID0gW10sIHJlc3VsdDtcbiAgICAgICAgTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGZ1bmN0aW9uIHNldENvZGVjcyhjb2RlY3MsIGxldmVsKSB7XG4gICAgICAgICAgICBbJ3ZpZGVvJywgJ2F1ZGlvJ10uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IGNvZGVjcy5maWx0ZXIoZnVuY3Rpb24gKGNvZGVjKSB7IHJldHVybiBjb2RlY3NfMS5pc0NvZGVjVHlwZShjb2RlYywgdHlwZSk7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZWZlcnJlZCA9IGZpbHRlcmVkLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlYy5sYXN0SW5kZXhPZignYXZjMScsIDApID09PSAwIHx8IGNvZGVjLmxhc3RJbmRleE9mKCdtcDRhJywgMCkgPT09IDA7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXZlbFt0eXBlICsgXCJDb2RlY1wiXSA9IHByZWZlcnJlZC5sZW5ndGggPiAwID8gcHJlZmVycmVkWzBdIDogZmlsdGVyZWRbMF07XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgY29kZWNzID0gY29kZWNzLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHsgcmV0dXJuIGZpbHRlcmVkLmluZGV4T2YoY29kZWMpID09PSAtMTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXZlbC51bmtub3duQ29kZWNzID0gY29kZWNzO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICgocmVzdWx0ID0gTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmV4ZWMoc3RyaW5nKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxldmVsID0ge307XG4gICAgICAgICAgICB2YXIgYXR0cnMgPSBsZXZlbC5hdHRycyA9IG5ldyBhdHRyX2xpc3RfMS5kZWZhdWx0KHJlc3VsdFsxXSk7XG4gICAgICAgICAgICBsZXZlbC51cmwgPSBNM1U4UGFyc2VyLnJlc29sdmUocmVzdWx0WzJdLCBiYXNldXJsKTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXR0cnMuZGVjaW1hbFJlc29sdXRpb24oJ1JFU09MVVRJT04nKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwud2lkdGggPSByZXNvbHV0aW9uLndpZHRoO1xuICAgICAgICAgICAgICAgIGxldmVsLmhlaWdodCA9IHJlc29sdXRpb24uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWwuYml0cmF0ZSA9IGF0dHJzLmRlY2ltYWxJbnRlZ2VyKCdBVkVSQUdFLUJBTkRXSURUSCcpIHx8IGF0dHJzLmRlY2ltYWxJbnRlZ2VyKCdCQU5EV0lEVEgnKTtcbiAgICAgICAgICAgIGxldmVsLm5hbWUgPSBhdHRycy5OQU1FO1xuICAgICAgICAgICAgc2V0Q29kZWNzKFtdLmNvbmNhdCgoYXR0cnMuQ09ERUNTIHx8ICcnKS5zcGxpdCgvWyAsXSsvKSksIGxldmVsKTtcbiAgICAgICAgICAgIGlmIChsZXZlbC52aWRlb0NvZGVjICYmIGxldmVsLnZpZGVvQ29kZWMuaW5kZXhPZignYXZjMScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGxldmVsLnZpZGVvQ29kZWMgPSBNM1U4UGFyc2VyLmNvbnZlcnRBVkMxVG9BVkNPVEkobGV2ZWwudmlkZW9Db2RlYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbHMucHVzaChsZXZlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxldmVscztcbiAgICB9O1xuICAgIE0zVThQYXJzZXIucGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhID0gZnVuY3Rpb24gKHN0cmluZywgYmFzZXVybCwgdHlwZSwgYXVkaW9Hcm91cHMpIHtcbiAgICAgICAgaWYgKGF1ZGlvR3JvdXBzID09PSB2b2lkIDApIHsgYXVkaW9Hcm91cHMgPSBbXTsgfVxuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgbWVkaWFzID0gW107XG4gICAgICAgIHZhciBpZCA9IDA7XG4gICAgICAgIE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoKHJlc3VsdCA9IE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbWVkaWEgPSB7fTtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IG5ldyBhdHRyX2xpc3RfMS5kZWZhdWx0KHJlc3VsdFsxXSk7XG4gICAgICAgICAgICBpZiAoYXR0cnMuVFlQRSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIG1lZGlhLmdyb3VwSWQgPSBhdHRyc1snR1JPVVAtSUQnXTtcbiAgICAgICAgICAgICAgICBtZWRpYS5uYW1lID0gYXR0cnMuTkFNRTtcbiAgICAgICAgICAgICAgICBtZWRpYS50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICBtZWRpYS5kZWZhdWx0ID0gKGF0dHJzLkRFRkFVTFQgPT09ICdZRVMnKTtcbiAgICAgICAgICAgICAgICBtZWRpYS5hdXRvc2VsZWN0ID0gKGF0dHJzLkFVVE9TRUxFQ1QgPT09ICdZRVMnKTtcbiAgICAgICAgICAgICAgICBtZWRpYS5mb3JjZWQgPSAoYXR0cnMuRk9SQ0VEID09PSAnWUVTJyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLlVSSSkge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS51cmwgPSBNM1U4UGFyc2VyLnJlc29sdmUoYXR0cnMuVVJJLCBiYXNldXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVkaWEubGFuZyA9IGF0dHJzLkxBTkdVQUdFO1xuICAgICAgICAgICAgICAgIGlmICghbWVkaWEubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS5uYW1lID0gbWVkaWEubGFuZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvR3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBDb2RlYyA9IE0zVThQYXJzZXIuZmluZEdyb3VwKGF1ZGlvR3JvdXBzLCBtZWRpYS5ncm91cElkKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuYXVkaW9Db2RlYyA9IGdyb3VwQ29kZWMgPyBncm91cENvZGVjLmNvZGVjIDogYXVkaW9Hcm91cHNbMF0uY29kZWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lZGlhLmlkID0gaWQrKztcbiAgICAgICAgICAgICAgICBtZWRpYXMucHVzaChtZWRpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhcztcbiAgICB9O1xuICAgIE0zVThQYXJzZXIucGFyc2VMZXZlbFBsYXlsaXN0ID0gZnVuY3Rpb24gKHN0cmluZywgYmFzZXVybCwgaWQsIHR5cGUsIGxldmVsVXJsSWQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTTiA9IDA7XG4gICAgICAgIHZhciB0b3RhbGR1cmF0aW9uID0gMDtcbiAgICAgICAgdmFyIGxldmVsID0gbmV3IGxldmVsXzEuZGVmYXVsdChiYXNldXJsKTtcbiAgICAgICAgdmFyIGxldmVsa2V5ID0gbmV3IGxldmVsX2tleV8xLmRlZmF1bHQoKTtcbiAgICAgICAgdmFyIGNjID0gMDtcbiAgICAgICAgdmFyIHByZXZGcmFnID0gbnVsbDtcbiAgICAgICAgdmFyIGZyYWcgPSBuZXcgZnJhZ21lbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgZmlyc3RQZHRJbmRleCA9IG51bGw7XG4gICAgICAgIExFVkVMX1BMQVlMSVNUX1JFR0VYX0ZBU1QubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKChyZXN1bHQgPSBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNULmV4ZWMoc3RyaW5nKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHJlc3VsdFsxXTtcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbikgeyAvLyBJTkZcbiAgICAgICAgICAgICAgICBmcmFnLmR1cmF0aW9uID0gcGFyc2VGbG9hdChkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9ICgnICcgKyByZXN1bHRbMl0pLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGZyYWcudGl0bGUgPSB0aXRsZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKHRpdGxlID8gWydJTkYnLCBkdXJhdGlvbiwgdGl0bGVdIDogWydJTkYnLCBkdXJhdGlvbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0WzNdKSB7IC8vIHVybFxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZy5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNuID0gY3VycmVudFNOKys7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcuc3RhcnQgPSB0b3RhbGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBmcmFnLmxldmVsa2V5ID0gbGV2ZWxrZXk7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcuc24gPSBzbjtcbiAgICAgICAgICAgICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgICAgICAgICAgICBmcmFnLmNjID0gY2M7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcudXJsSWQgPSBsZXZlbFVybElkO1xuICAgICAgICAgICAgICAgICAgICBmcmFnLmJhc2V1cmwgPSBiYXNldXJsO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgICAgICAgICAgICAgIGZyYWcucmVsdXJsID0gKCcgJyArIHJlc3VsdFszXSkuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIGFzc2lnblByb2dyYW1EYXRlVGltZShmcmFnLCBwcmV2RnJhZyk7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsLmZyYWdtZW50cy5wdXNoKGZyYWcpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2RnJhZyA9IGZyYWc7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsZHVyYXRpb24gKz0gZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZnJhZyA9IG5ldyBmcmFnbWVudF8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHRbNF0pIHsgLy8gWC1CWVRFUkFOR0VcbiAgICAgICAgICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9ICgnICcgKyByZXN1bHRbNF0pLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2RnJhZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA9IHByZXZGcmFnLmJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcubGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA9IGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHRbNV0pIHsgLy8gUFJPR1JBTS1EQVRFLVRJTUVcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgICAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSAoJyAnICsgcmVzdWx0WzVdKS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaChbJ1BST0dSQU0tREFURS1USU1FJywgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWVdKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RQZHRJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFBkdEluZGV4ID0gbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbMF0ubWF0Y2goTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHNsaWNlZCBzdHJpbmdzICAgIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy85MzlcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUxID0gKCcgJyArIHJlc3VsdFtpICsgMV0pLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTIgPSAoJyAnICsgcmVzdWx0W2kgKyAyXSkuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXN1bHRbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaCh2YWx1ZTIgPyBbdmFsdWUxLCB2YWx1ZTJdIDogW3ZhbHVlMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1BMQVlMSVNULVRZUEUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwudHlwZSA9IHZhbHVlMS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01FRElBLVNFUVVFTkNFJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTTiA9IGxldmVsLnN0YXJ0U04gPSBwYXJzZUludCh2YWx1ZTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RBUkdFVERVUkFUSU9OJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsLnRhcmdldGR1cmF0aW9uID0gcGFyc2VGbG9hdCh2YWx1ZTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1ZFUlNJT04nOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwudmVyc2lvbiA9IHBhcnNlSW50KHZhbHVlMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRVhUTTNVJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdFTkRMSVNUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsLmxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdESVMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKFsnRElTJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RJU0NPTlRJTlVJVFktU0VRJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjID0gcGFyc2VJbnQodmFsdWUxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdLRVknOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LXBhbnRvcy1odHRwLWxpdmUtc3RyZWFtaW5nLTA4I3NlY3Rpb24tMy40LjRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNyeXB0cGFyYW1zID0gdmFsdWUxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleUF0dHJzID0gbmV3IGF0dHJfbGlzdF8xLmRlZmF1bHQoZGVjcnlwdHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVjcnlwdG1ldGhvZCA9IGtleUF0dHJzLmVudW1lcmF0ZWRTdHJpbmcoJ01FVEhPRCcpLCBkZWNyeXB0dXJpID0ga2V5QXR0cnMuVVJJLCBkZWNyeXB0aXYgPSBrZXlBdHRycy5oZXhhZGVjaW1hbEludGVnZXIoJ0lWJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjcnlwdG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsa2V5ID0gbmV3IGxldmVsX2tleV8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGRlY3J5cHR1cmkpICYmIChbJ0FFUy0xMjgnLCAnU0FNUExFLUFFUycsICdTQU1QTEUtQUVTLUNFTkMnXS5pbmRleE9mKGRlY3J5cHRtZXRob2QpID49IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsa2V5Lm1ldGhvZCA9IGRlY3J5cHRtZXRob2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVSSSB0byBnZXQgdGhlIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbGtleS5iYXNldXJpID0gYmFzZXVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxrZXkucmVsdXJpID0gZGVjcnlwdHVyaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxrZXkua2V5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6YXRpb24gVmVjdG9yIChJVilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxrZXkuaXYgPSBkZWNyeXB0aXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NUQVJUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFBhcmFtcyA9IHZhbHVlMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEF0dHJzID0gbmV3IGF0dHJfbGlzdF8xLmRlZmF1bHQoc3RhcnRQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZU9mZnNldCA9IHN0YXJ0QXR0cnMuZGVjaW1hbEZsb2F0aW5nUG9pbnQoJ1RJTUUtT0ZGU0VUJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUSU1FLU9GRlNFVCBjYW4gYmUgMFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShzdGFydFRpbWVPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwuc3RhcnRUaW1lT2Zmc2V0ID0gc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01BUCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwQXR0cnMgPSBuZXcgYXR0cl9saXN0XzEuZGVmYXVsdCh2YWx1ZTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5yZWx1cmwgPSBtYXBBdHRycy5VUkk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9IG1hcEF0dHJzLkJZVEVSQU5HRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYmFzZXVybCA9IGJhc2V1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmxldmVsID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5zbiA9ICdpbml0U2VnbWVudCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbC5pbml0U2VnbWVudCA9IGZyYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gbmV3IGZyYWdtZW50XzEuZGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBsZXZlbC5pbml0U2VnbWVudC5yYXdQcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwibGluZSBwYXJzZWQgYnV0IG5vdCBoYW5kbGVkOiBcIiArIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnJhZyA9IHByZXZGcmFnO1xuICAgICAgICAvLyBsb2dnZXIubG9nKCdmb3VuZCAnICsgbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aCArICcgZnJhZ21lbnRzJyk7XG4gICAgICAgIGlmIChmcmFnICYmICFmcmFnLnJlbHVybCkge1xuICAgICAgICAgICAgbGV2ZWwuZnJhZ21lbnRzLnBvcCgpO1xuICAgICAgICAgICAgdG90YWxkdXJhdGlvbiAtPSBmcmFnLmR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGxldmVsLnRvdGFsZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uO1xuICAgICAgICBsZXZlbC5hdmVyYWdldGFyZ2V0ZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uIC8gbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgbGV2ZWwuZW5kU04gPSBjdXJyZW50U04gLSAxO1xuICAgICAgICBsZXZlbC5zdGFydENDID0gbGV2ZWwuZnJhZ21lbnRzWzBdID8gbGV2ZWwuZnJhZ21lbnRzWzBdLmNjIDogMDtcbiAgICAgICAgbGV2ZWwuZW5kQ0MgPSBjYztcbiAgICAgICAgaWYgKCFsZXZlbC5pbml0U2VnbWVudCAmJiBsZXZlbC5mcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgYml0IGx1cmt5IGJ1dCBITFMgcmVhbGx5IGhhcyBubyBvdGhlciB3YXkgdG8gdGVsbCB1c1xuICAgICAgICAgICAgLy8gaWYgdGhlIGZyYWdtZW50cyBhcmUgVFMgb3IgTVA0LCBleGNlcHQgaWYgd2UgZG93bmxvYWQgdGhlbSA6L1xuICAgICAgICAgICAgLy8gYnV0IHRoaXMgaXMgdG8gYmUgYWJsZSB0byBoYW5kbGUgU0lEWC5cbiAgICAgICAgICAgIGlmIChsZXZlbC5mcmFnbWVudHMuZXZlcnkoZnVuY3Rpb24gKGZyYWcpIHsgcmV0dXJuIE1QNF9SRUdFWF9TVUZGSVgudGVzdChmcmFnLnJlbHVybCk7IH0pKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ01QNCBmcmFnbWVudHMgZm91bmQgYnV0IG5vIGluaXQgc2VnbWVudCAocHJvYmFibHkgbm8gTUFQLCBpbmNvbXBsZXRlIE0zVTgpLCB0cnlpbmcgdG8gZmV0Y2ggU0lEWCcpO1xuICAgICAgICAgICAgICAgIGZyYWcgPSBuZXcgZnJhZ21lbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZnJhZy5yZWx1cmwgPSBsZXZlbC5mcmFnbWVudHNbMF0ucmVsdXJsO1xuICAgICAgICAgICAgICAgIGZyYWcuYmFzZXVybCA9IGJhc2V1cmw7XG4gICAgICAgICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgICAgICAgIGZyYWcudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgZnJhZy5zbiA9ICdpbml0U2VnbWVudCc7XG4gICAgICAgICAgICAgICAgbGV2ZWwuaW5pdFNlZ21lbnQgPSBmcmFnO1xuICAgICAgICAgICAgICAgIGxldmVsLm5lZWRTaWR4UmFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2ZpbGwgYW55IG1pc3NpbmcgUERUIHZhbHVlc1xuICAgICAgICAgICBcIklmIHRoZSBmaXJzdCBFWFQtWC1QUk9HUkFNLURBVEUtVElNRSB0YWcgaW4gYSBQbGF5bGlzdCBhcHBlYXJzIGFmdGVyXG4gICAgICAgICAgIG9uZSBvciBtb3JlIE1lZGlhIFNlZ21lbnQgVVJJcywgdGhlIGNsaWVudCBTSE9VTEQgZXh0cmFwb2xhdGVcbiAgICAgICAgICAgYmFja3dhcmQgZnJvbSB0aGF0IHRhZyAodXNpbmcgRVhUSU5GIGR1cmF0aW9ucyBhbmQvb3IgbWVkaWFcbiAgICAgICAgICAgdGltZXN0YW1wcykgdG8gYXNzb2NpYXRlIGRhdGVzIHdpdGggdGhvc2Ugc2VnbWVudHMuXCJcbiAgICAgICAgICogV2UgaGF2ZSBhbHJlYWR5IGV4dHJhcG9sYXRlZCBmb3J3YXJkLCBidXQgYWxsIGZyYWdtZW50cyB1cCB0byB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgUERUIGRvIG5vdCBoYXZlIHRoZWlyIFBEVHNcbiAgICAgICAgICogY29tcHV0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZmlyc3RQZHRJbmRleCkge1xuICAgICAgICAgICAgYmFja2ZpbGxQcm9ncmFtRGF0ZVRpbWVzKGxldmVsLmZyYWdtZW50cywgZmlyc3RQZHRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxldmVsO1xuICAgIH07XG4gICAgcmV0dXJuIE0zVThQYXJzZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTTNVOFBhcnNlcjtcbmZ1bmN0aW9uIGJhY2tmaWxsUHJvZ3JhbURhdGVUaW1lcyhmcmFnbWVudHMsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgZnJhZ1ByZXYgPSBmcmFnbWVudHNbc3RhcnRJbmRleF07XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgZnJhZyA9IGZyYWdtZW50c1tpXTtcbiAgICAgICAgZnJhZy5wcm9ncmFtRGF0ZVRpbWUgPSBmcmFnUHJldi5wcm9ncmFtRGF0ZVRpbWUgLSAoZnJhZy5kdXJhdGlvbiAqIDEwMDApO1xuICAgICAgICBmcmFnUHJldiA9IGZyYWc7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzaWduUHJvZ3JhbURhdGVUaW1lKGZyYWcsIHByZXZGcmFnKSB7XG4gICAgaWYgKGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgICAgIGZyYWcucHJvZ3JhbURhdGVUaW1lID0gRGF0ZS5wYXJzZShmcmFnLnJhd1Byb2dyYW1EYXRlVGltZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByZXZGcmFnICYmIHByZXZGcmFnLnByb2dyYW1EYXRlVGltZSkge1xuICAgICAgICBmcmFnLnByb2dyYW1EYXRlVGltZSA9IHByZXZGcmFnLmVuZFByb2dyYW1EYXRlVGltZTtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZnJhZy5wcm9ncmFtRGF0ZVRpbWUpKSB7XG4gICAgICAgIGZyYWcucHJvZ3JhbURhdGVUaW1lID0gbnVsbDtcbiAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBudWxsO1xuICAgIH1cbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbG9hZGVyL3BsYXlsaXN0LWxvYWRlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qKlxuICogUGxheWxpc3RMb2FkZXIgLSBkZWxlZ2F0ZSBmb3IgbWVkaWEgbWFuaWZlc3QvcGxheWxpc3QgbG9hZGluZyB0YXNrcy4gVGFrZXMgY2FyZSBvZiBwYXJzaW5nIG1lZGlhIHRvIGludGVybmFsIGRhdGEtbW9kZWxzLlxuICpcbiAqIE9uY2UgbG9hZGVkLCBkaXNwYXRjaGVzIGV2ZW50cyB3aXRoIHBhcnNlZCBkYXRhLW1vZGVscyBvZiBtYW5pZmVzdC9sZXZlbHMvYXVkaW8vc3VidGl0bGUgdHJhY2tzLlxuICpcbiAqIFVzZXMgbG9hZGVyKHMpIHNldCBpbiBjb25maWcgdG8gZG8gYWN0dWFsIGludGVybmFsIGxvYWRpbmcgb2YgcmVzb3VyY2UgdGFza3MuXG4gKlxuICogQG1vZHVsZVxuICpcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgbXA0ZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvbXA0ZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L21wNGRlbXV4ZXIuanNcIik7XG52YXIgbTN1OF9wYXJzZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbTN1OC1wYXJzZXIgKi8gXCIuL3NyYy9sb2FkZXIvbTN1OC1wYXJzZXIuanNcIik7XG52YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4vKipcbiAqIGB0eXBlYCBwcm9wZXJ0eSB2YWx1ZXMgZm9yIHRoaXMgbG9hZGVycycgY29udGV4dCBvYmplY3RcbiAqIEBlbnVtXG4gKlxuICovXG52YXIgQ29udGV4dFR5cGUgPSB7XG4gICAgTUFOSUZFU1Q6ICdtYW5pZmVzdCcsXG4gICAgTEVWRUw6ICdsZXZlbCcsXG4gICAgQVVESU9fVFJBQ0s6ICdhdWRpb1RyYWNrJyxcbiAgICBTVUJUSVRMRV9UUkFDSzogJ3N1YnRpdGxlVHJhY2snXG59O1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgTGV2ZWxUeXBlID0ge1xuICAgIE1BSU46ICdtYWluJyxcbiAgICBBVURJTzogJ2F1ZGlvJyxcbiAgICBTVUJUSVRMRTogJ3N1YnRpdGxlJ1xufTtcbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBQbGF5bGlzdExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGxheWxpc3RMb2FkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdHNcbiAgICAgKiBAcGFyYW0ge0hsc30gaGxzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxheWxpc3RMb2FkZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNfMS5kZWZhdWx0LkxFVkVMX0xPQURJTkcsIGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfTE9BRElORywgZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9UUkFDS19MT0FESU5HKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2FkZXJzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXlsaXN0TG9hZGVyLCBcIkNvbnRleHRUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29udGV4dFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF5bGlzdExvYWRlciwgXCJMZXZlbFR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q29udGV4dFR5cGV9IHR5cGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBQbGF5bGlzdExvYWRlci5jYW5IYXZlUXVhbGl0eUxldmVscyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiAodHlwZSAhPT0gQ29udGV4dFR5cGUuQVVESU9fVFJBQ0sgJiZcbiAgICAgICAgICAgIHR5cGUgIT09IENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcCBjb250ZXh0LnR5cGUgdG8gTGV2ZWxUeXBlXG4gICAgICogQHBhcmFtIHt7dHlwZTogQ29udGV4dFR5cGV9fSBjb250ZXh0XG4gICAgICogQHJldHVybnMge0xldmVsVHlwZX1cbiAgICAgKi9cbiAgICBQbGF5bGlzdExvYWRlci5tYXBDb250ZXh0VG9MZXZlbFR5cGUgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgdHlwZSA9IGNvbnRleHQudHlwZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLkFVRElPX1RSQUNLOlxuICAgICAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGUuQVVESU87XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLOlxuICAgICAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGUuU1VCVElUTEU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGUuTUFJTjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIuZ2V0UmVzcG9uc2VVcmwgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHVybCA9IHJlc3BvbnNlLnVybDtcbiAgICAgICAgLy8gcmVzcG9uc2VVUkwgbm90IHN1cHBvcnRlZCBvbiBzb21lIGJyb3dzZXJzIChpdCBpcyB1c2VkIHRvIGRldGVjdCBVUkwgcmVkaXJlY3Rpb24pXG4gICAgICAgIC8vIGRhdGEtdXJpIG1vZGUgYWxzbyBub3Qgc3VwcG9ydGVkIChidXQgbm8gbmVlZCB0byBkZXRlY3QgcmVkaXJlY3Rpb24pXG4gICAgICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCB8fCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdG8gaW5pdGlhbCBVUkxcbiAgICAgICAgICAgIHVybCA9IGNvbnRleHQudXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRlZmF1bHRzIG9yIGNvbmZpZ3VyZWQgbG9hZGVyLXR5cGUgb3ZlcmxvYWRzIChwTG9hZGVyIGFuZCBsb2FkZXIgY29uZmlnIHBhcmFtcylcbiAgICAgKiBEZWZhdWx0IGxvYWRlciBpcyBYSFJMb2FkZXIgKHNlZSB1dGlscylcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICAgICAqIEByZXR1cm5zIHtYSFJMb2FkZXJ9IG9yIG90aGVyIGNvbXBhdGlibGUgY29uZmlndXJlZCBvdmVybG9hZFxuICAgICAqL1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbExvYWRlciA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgICAgIHZhciBQTG9hZGVyID0gY29uZmlnLnBMb2FkZXI7XG4gICAgICAgIHZhciBMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuICAgICAgICB2YXIgSW50ZXJuYWxMb2FkZXIgPSBQTG9hZGVyIHx8IExvYWRlcjtcbiAgICAgICAgdmFyIGxvYWRlciA9IG5ldyBJbnRlcm5hbExvYWRlcihjb25maWcpO1xuICAgICAgICBjb250ZXh0LmxvYWRlciA9IGxvYWRlcjtcbiAgICAgICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSBsb2FkZXI7XG4gICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuZ2V0SW50ZXJuYWxMb2FkZXIgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV07XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUucmVzZXRJbnRlcm5hbExvYWRlciA9IGZ1bmN0aW9uIChjb250ZXh0VHlwZSkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXJzW2NvbnRleHRUeXBlXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubG9hZGVyc1tjb250ZXh0VHlwZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGwgYGRlc3Ryb3lgIG9uIGFsbCBpbnRlcm5hbCBsb2FkZXIgaW5zdGFuY2VzIG1hcHBlZCAob25lIHBlciBjb250ZXh0IHR5cGUpXG4gICAgICovXG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3lJbnRlcm5hbExvYWRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGNvbnRleHRUeXBlIGluIHRoaXMubG9hZGVycykge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMubG9hZGVyc1tjb250ZXh0VHlwZV07XG4gICAgICAgICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzZXRJbnRlcm5hbExvYWRlcihjb250ZXh0VHlwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lJbnRlcm5hbExvYWRlcnMoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogQ29udGV4dFR5cGUuTUFOSUZFU1QsIGxldmVsOiAwLCBpZDogbnVsbCB9KTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubG9hZChkYXRhLnVybCwgeyB0eXBlOiBDb250ZXh0VHlwZS5MRVZFTCwgbGV2ZWw6IGRhdGEubGV2ZWwsIGlkOiBkYXRhLmlkIH0pO1xuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja0xvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogQ29udGV4dFR5cGUuQVVESU9fVFJBQ0ssIGxldmVsOiBudWxsLCBpZDogZGF0YS5pZCB9KTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5sb2FkKGRhdGEudXJsLCB7IHR5cGU6IENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLLCBsZXZlbDogbnVsbCwgaWQ6IGRhdGEuaWQgfSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKFwiTG9hZGluZyBwbGF5bGlzdCBvZiB0eXBlIFwiICsgY29udGV4dC50eXBlICsgXCIsIGxldmVsOiBcIiArIGNvbnRleHQubGV2ZWwgKyBcIiwgaWQ6IFwiICsgY29udGV4dC5pZCk7XG4gICAgICAgIC8vIENoZWNrIGlmIGEgbG9hZGVyIGZvciB0aGlzIGNvbnRleHQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCk7XG4gICAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgICAgIHZhciBsb2FkZXJDb250ZXh0ID0gbG9hZGVyLmNvbnRleHQ7XG4gICAgICAgICAgICBpZiAobG9hZGVyQ29udGV4dCAmJiBsb2FkZXJDb250ZXh0LnVybCA9PT0gdXJsKSB7IC8vIHNhbWUgVVJMIGNhbid0IG92ZXJsYXBcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIudHJhY2UoJ3BsYXlsaXN0IHJlcXVlc3Qgb25nb2luZycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiYWJvcnRpbmcgcHJldmlvdXMgbG9hZGVyIGZvciB0eXBlOiBcIiArIGNvbnRleHQudHlwZSk7XG4gICAgICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heFJldHJ5LCB0aW1lb3V0LCByZXRyeURlbGF5LCBtYXhSZXRyeURlbGF5O1xuICAgICAgICAvLyBhcHBseSBkaWZmZXJlbnQgY29uZmlncyBmb3IgcmV0cmllcyBkZXBlbmRpbmcgb25cbiAgICAgICAgLy8gY29udGV4dCAobWFuaWZlc3QsIGxldmVsLCBhdWRpby9zdWJzIHBsYXlsaXN0KVxuICAgICAgICBzd2l0Y2ggKGNvbnRleHQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5NQU5JRkVTVDpcbiAgICAgICAgICAgICAgICBtYXhSZXRyeSA9IGNvbmZpZy5tYW5pZmVzdExvYWRpbmdNYXhSZXRyeTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gY29uZmlnLm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQ7XG4gICAgICAgICAgICAgICAgcmV0cnlEZWxheSA9IGNvbmZpZy5tYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgIG1heFJldHJ5RGVsYXkgPSBjb25maWcubWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5MRVZFTDpcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGludGVybmFsIGxvYWRlciByZXRyeSBsb2dpYywgc2luY2Ugd2UgYXJlIG1hbmFnaW5nIHJldHJpZXMgaW4gTGV2ZWwgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIG1heFJldHJ5ID0gMDtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gY29uZmlnLmxldmVsTG9hZGluZ1RpbWVPdXQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBJbnRyb2R1Y2UgcmV0cnkgc2V0dGluZ3MgZm9yIGF1ZGlvLXRyYWNrIGFuZCBzdWJ0aXRsZS10cmFjaywgaXQgc2hvdWxkIG5vdCB1c2UgbGV2ZWwgcmV0cnkgY29uZmlnXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG1heFJldHJ5ID0gY29uZmlnLmxldmVsTG9hZGluZ01heFJldHJ5O1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBjb25maWcubGV2ZWxMb2FkaW5nVGltZU91dDtcbiAgICAgICAgICAgICAgICByZXRyeURlbGF5ID0gY29uZmlnLmxldmVsTG9hZGluZ1JldHJ5RGVsYXk7XG4gICAgICAgICAgICAgICAgbWF4UmV0cnlEZWxheSA9IGNvbmZpZy5sZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyID0gdGhpcy5jcmVhdGVJbnRlcm5hbExvYWRlcihjb250ZXh0KTtcbiAgICAgICAgY29udGV4dC51cmwgPSB1cmw7XG4gICAgICAgIGNvbnRleHQucmVzcG9uc2VUeXBlID0gY29udGV4dC5yZXNwb25zZVR5cGUgfHwgJyc7IC8vIEZJWE1FOiAoc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnkgdG8gZG8gdGhpcylcbiAgICAgICAgdmFyIGxvYWRlckNvbmZpZyA9IHtcbiAgICAgICAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG4gICAgICAgICAgICBtYXhSZXRyeTogbWF4UmV0cnksXG4gICAgICAgICAgICByZXRyeURlbGF5OiByZXRyeURlbGF5LFxuICAgICAgICAgICAgbWF4UmV0cnlEZWxheTogbWF4UmV0cnlEZWxheVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbG9hZGVyQ2FsbGJhY2tzID0ge1xuICAgICAgICAgICAgb25TdWNjZXNzOiB0aGlzLmxvYWRzdWNjZXNzLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvbkVycm9yOiB0aGlzLmxvYWRlcnJvci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25UaW1lb3V0OiB0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcylcbiAgICAgICAgfTtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKFwiQ2FsbGluZyBpbnRlcm5hbCBsb2FkZXIgZGVsZWdhdGUgZm9yIFVSTDogXCIgKyB1cmwpO1xuICAgICAgICBsb2FkZXIubG9hZChjb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmxvYWRzdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgaWYgKG5ldHdvcmtEZXRhaWxzID09PSB2b2lkIDApIHsgbmV0d29ya0RldGFpbHMgPSBudWxsOyB9XG4gICAgICAgIGlmIChjb250ZXh0LmlzU2lkeFJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNpZHhSZXF1ZXN0KHJlc3BvbnNlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVBsYXlsaXN0TG9hZGVkKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRJbnRlcm5hbExvYWRlcihjb250ZXh0LnR5cGUpO1xuICAgICAgICB2YXIgc3RyaW5nID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgc3RhdHMudGxvYWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgLy8gc3RhdHMubXRpbWUgPSBuZXcgRGF0ZSh0YXJnZXQuZ2V0UmVzcG9uc2VIZWFkZXIoJ0xhc3QtTW9kaWZpZWQnKSk7XG4gICAgICAgIC8vIFZhbGlkYXRlIGlmIGl0IGlzIGFuIE0zVTggYXQgYWxsXG4gICAgICAgIGlmIChzdHJpbmcuaW5kZXhPZignI0VYVE0zVScpICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVNYW5pZmVzdFBhcnNpbmdFcnJvcihyZXNwb25zZSwgY29udGV4dCwgJ25vIEVYVE0zVSBkZWxpbWl0ZXInLCBuZXR3b3JrRGV0YWlscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgY2h1bmstbGlzdCBvciBtYXN0ZXIuIGhhbmRsZSBlbXB0eSBjaHVuayBsaXN0IGNhc2UgKGZpcnN0IEVYVElORiBub3Qgc2lnbmFsZWQsIGJ1dCBUQVJHRVREVVJBVElPTiBwcmVzZW50KVxuICAgICAgICBpZiAoc3RyaW5nLmluZGV4T2YoJyNFWFRJTkY6JykgPiAwIHx8IHN0cmluZy5pbmRleE9mKCcjRVhULVgtVEFSR0VURFVSQVRJT046JykgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVUcmFja09yTGV2ZWxQbGF5bGlzdChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1hc3RlclBsYXlsaXN0KHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5faGFuZGxlTmV0d29ya0Vycm9yKGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzLCBmYWxzZSwgcmVzcG9uc2UpO1xuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5faGFuZGxlTmV0d29ya0Vycm9yKGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzLCB0cnVlKTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5faGFuZGxlTWFzdGVyUGxheWxpc3QgPSBmdW5jdGlvbiAocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIHZhciBzdHJpbmcgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICB2YXIgdXJsID0gUGxheWxpc3RMb2FkZXIuZ2V0UmVzcG9uc2VVcmwocmVzcG9uc2UsIGNvbnRleHQpO1xuICAgICAgICB2YXIgbGV2ZWxzID0gbTN1OF9wYXJzZXJfMS5kZWZhdWx0LnBhcnNlTWFzdGVyUGxheWxpc3Qoc3RyaW5nLCB1cmwpO1xuICAgICAgICBpZiAoIWxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yKHJlc3BvbnNlLCBjb250ZXh0LCAnbm8gbGV2ZWwgZm91bmQgaW4gbWFuaWZlc3QnLCBuZXR3b3JrRGV0YWlscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gbXVsdGkgbGV2ZWwgcGxheWxpc3QsIHBhcnNlIGxldmVsIGluZm9cbiAgICAgICAgdmFyIGF1ZGlvR3JvdXBzID0gbGV2ZWxzLm1hcChmdW5jdGlvbiAobGV2ZWwpIHsgcmV0dXJuICh7XG4gICAgICAgICAgICBpZDogbGV2ZWwuYXR0cnMuQVVESU8sXG4gICAgICAgICAgICBjb2RlYzogbGV2ZWwuYXVkaW9Db2RlY1xuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHZhciBhdWRpb1RyYWNrcyA9IG0zdThfcGFyc2VyXzEuZGVmYXVsdC5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCB1cmwsICdBVURJTycsIGF1ZGlvR3JvdXBzKTtcbiAgICAgICAgdmFyIHN1YnRpdGxlcyA9IG0zdThfcGFyc2VyXzEuZGVmYXVsdC5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCB1cmwsICdTVUJUSVRMRVMnKTtcbiAgICAgICAgaWYgKGF1ZGlvVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgaGF2ZSBmb3VuZCBhbiBhdWRpbyB0cmFjayBlbWJlZGRlZCBpbiBtYWluIHBsYXlsaXN0IChhdWRpbyB0cmFjayB3aXRob3V0IFVSSSBhdHRyaWJ1dGUpXG4gICAgICAgICAgICB2YXIgZW1iZWRkZWRBdWRpb0ZvdW5kXzEgPSBmYWxzZTtcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoIWF1ZGlvVHJhY2sudXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGVkQXVkaW9Gb3VuZF8xID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGlmIG5vIGVtYmVkZGVkIGF1ZGlvIHRyYWNrIGRlZmluZWQsIGJ1dCBhdWRpbyBjb2RlYyBzaWduYWxlZCBpbiBxdWFsaXR5IGxldmVsLFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBzaWduYWwgdGhpcyBtYWluIGF1ZGlvIHRyYWNrIHRoaXMgY291bGQgaGFwcGVuIHdpdGggcGxheWxpc3RzIHdpdGhcbiAgICAgICAgICAgIC8vIGFsdCBhdWRpbyByZW5kaXRpb24gaW4gd2hpY2ggcXVhbGl0eSBsZXZlbHMgKG1haW4pXG4gICAgICAgICAgICAvLyBjb250YWlucyBib3RoIGF1ZGlvK3ZpZGVvLiBidXQgd2l0aCBtaXhlZCBhdWRpbyB0cmFjayBub3Qgc2lnbmFsZWRcbiAgICAgICAgICAgIGlmIChlbWJlZGRlZEF1ZGlvRm91bmRfMSA9PT0gZmFsc2UgJiYgbGV2ZWxzWzBdLmF1ZGlvQ29kZWMgJiYgIWxldmVsc1swXS5hdHRycy5BVURJTykge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2F1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsIGJ1dCBubyBlbWJlZGRlZCBhdWRpbyB0cmFjayBzaWduYWxlZCwgY3JlYXRlIG9uZScpO1xuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tzLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFpbicsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtYWluJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BREVELCB7XG4gICAgICAgICAgICBsZXZlbHM6IGxldmVscyxcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzOiBhdWRpb1RyYWNrcyxcbiAgICAgICAgICAgIHN1YnRpdGxlczogc3VidGl0bGVzLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZVRyYWNrT3JMZXZlbFBsYXlsaXN0ID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgICAgICB2YXIgaWQgPSBjb250ZXh0LmlkLCBsZXZlbCA9IGNvbnRleHQubGV2ZWwsIHR5cGUgPSBjb250ZXh0LnR5cGU7XG4gICAgICAgIHZhciB1cmwgPSBQbGF5bGlzdExvYWRlci5nZXRSZXNwb25zZVVybChyZXNwb25zZSwgY29udGV4dCk7XG4gICAgICAgIHZhciBsZXZlbFVybElkID0gTnVtYmVyLmlzRmluaXRlKGlkKSA/IGlkIDogMDtcbiAgICAgICAgdmFyIGxldmVsSWQgPSBOdW1iZXIuaXNGaW5pdGUobGV2ZWwpID8gbGV2ZWwgOiBsZXZlbFVybElkO1xuICAgICAgICB2YXIgbGV2ZWxUeXBlID0gUGxheWxpc3RMb2FkZXIubWFwQ29udGV4dFRvTGV2ZWxUeXBlKGNvbnRleHQpO1xuICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbTN1OF9wYXJzZXJfMS5kZWZhdWx0LnBhcnNlTGV2ZWxQbGF5bGlzdChyZXNwb25zZS5kYXRhLCB1cmwsIGxldmVsSWQsIGxldmVsVHlwZSwgbGV2ZWxVcmxJZCk7XG4gICAgICAgIC8vIHNldCBzdGF0cyBvbiBsZXZlbCBzdHJ1Y3R1cmVcbiAgICAgICAgbGV2ZWxEZXRhaWxzLnRsb2FkID0gc3RhdHMudGxvYWQ7XG4gICAgICAgIC8vIFdlIGhhdmUgZG9uZSBvdXIgZmlyc3QgcmVxdWVzdCAoTWFuaWZlc3QtdHlwZSkgYW5kIHJlY2VpdmVcbiAgICAgICAgLy8gbm90IGEgbWFzdGVyIHBsYXlsaXN0IGJ1dCBhIGNodW5rLWxpc3QgKHRyYWNrL2xldmVsKVxuICAgICAgICAvLyBXZSBmaXJlIHRoZSBtYW5pZmVzdC1sb2FkZWQgZXZlbnQgYW55d2F5IHdpdGggdGhlIHBhcnNlZCBsZXZlbC1kZXRhaWxzXG4gICAgICAgIC8vIGJ5IGNyZWF0aW5nIGEgc2luZ2xlLWxldmVsIHN0cnVjdHVyZSBmb3IgaXQuXG4gICAgICAgIGlmICh0eXBlID09PSBDb250ZXh0VHlwZS5NQU5JRkVTVCkge1xuICAgICAgICAgICAgdmFyIHNpbmdsZUxldmVsID0ge1xuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlsc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BREVELCB7XG4gICAgICAgICAgICAgICAgbGV2ZWxzOiBbc2luZ2xlTGV2ZWxdLFxuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tzOiBbXSxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIHBhcnNpbmcgdGltZVxuICAgICAgICBzdGF0cy50cGFyc2VkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIC8vIGluIGNhc2Ugd2UgbmVlZCBTSURYIHJhbmdlc1xuICAgICAgICAvLyByZXR1cm4gZWFybHkgYWZ0ZXIgY2FsbGluZyBsb2FkIGZvclxuICAgICAgICAvLyB0aGUgU0lEWCBib3guXG4gICAgICAgIGlmIChsZXZlbERldGFpbHMubmVlZFNpZHhSYW5nZXMpIHtcbiAgICAgICAgICAgIHZhciBzaWR4VXJsID0gbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50LnVybDtcbiAgICAgICAgICAgIHRoaXMubG9hZChzaWR4VXJsLCB7XG4gICAgICAgICAgICAgICAgaXNTaWR4UmVxdWVzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGxldmVsOiBsZXZlbCxcbiAgICAgICAgICAgICAgICBsZXZlbERldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcmFuZ2VTdGFydDogMCxcbiAgICAgICAgICAgICAgICByYW5nZUVuZDogMjA0OCxcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV4dGVuZCB0aGUgY29udGV4dCB3aXRoIHRoZSBuZXcgbGV2ZWxEZXRhaWxzIHByb3BlcnR5XG4gICAgICAgIGNvbnRleHQubGV2ZWxEZXRhaWxzID0gbGV2ZWxEZXRhaWxzO1xuICAgICAgICB0aGlzLl9oYW5kbGVQbGF5bGlzdExvYWRlZChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5faGFuZGxlU2lkeFJlcXVlc3QgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHNpZHhJbmZvID0gbXA0ZGVtdXhlcl8xLmRlZmF1bHQucGFyc2VTZWdtZW50SW5kZXgobmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UuZGF0YSkpO1xuICAgICAgICAvLyBpZiBwcm92aWRlZCBmcmFnbWVudCBkb2VzIG5vdCBjb250YWluIHNpZHgsIGVhcmx5IHJldHVyblxuICAgICAgICBpZiAoIXNpZHhJbmZvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpZHhSZWZlcmVuY2VzID0gc2lkeEluZm8ucmVmZXJlbmNlcztcbiAgICAgICAgdmFyIGxldmVsRGV0YWlscyA9IGNvbnRleHQubGV2ZWxEZXRhaWxzO1xuICAgICAgICBzaWR4UmVmZXJlbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50UmVmLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHNlZ1JlZkluZm8gPSBzZWdtZW50UmVmLmluZm87XG4gICAgICAgICAgICB2YXIgZnJhZyA9IGxldmVsRGV0YWlscy5mcmFnbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGZyYWcuYnl0ZVJhbmdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZyYWcucmF3Qnl0ZVJhbmdlID0gU3RyaW5nKDEgKyBzZWdSZWZJbmZvLmVuZCAtIHNlZ1JlZkluZm8uc3RhcnQpICsgJ0AnICsgU3RyaW5nKHNlZ1JlZkluZm8uc3RhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50LnJhd0J5dGVSYW5nZSA9IFN0cmluZyhzaWR4SW5mby5tb292RW5kT2Zmc2V0KSArICdAMCc7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjb250ZXh0LCByZWFzb24sIG5ldHdvcmtEZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLk1BTklGRVNUX1BBUlNJTkdfRVJST1IsXG4gICAgICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgICAgIHVybDogcmVzcG9uc2UudXJsLFxuICAgICAgICAgICAgcmVhc29uOiByZWFzb24sXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZU5ldHdvcmtFcnJvciA9IGZ1bmN0aW9uIChjb250ZXh0LCBuZXR3b3JrRGV0YWlscywgdGltZW91dCwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHJlc3BvbnNlID09PSB2b2lkIDApIHsgcmVzcG9uc2UgPSBudWxsOyB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5pbmZvKFwiQSBuZXR3b3JrIGVycm9yIG9jY3VyZWQgd2hpbGUgbG9hZGluZyBhIFwiICsgY29udGV4dC50eXBlICsgXCItdHlwZSBwbGF5bGlzdFwiKTtcbiAgICAgICAgdmFyIGRldGFpbHM7XG4gICAgICAgIHZhciBmYXRhbDtcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCk7XG4gICAgICAgIHN3aXRjaCAoY29udGV4dC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLk1BTklGRVNUOlxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSAodGltZW91dCA/IGVycm9yc18xLkVycm9yRGV0YWlscy5NQU5JRkVTVF9MT0FEX1RJTUVPVVQgOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuTUFOSUZFU1RfTE9BRF9FUlJPUik7XG4gICAgICAgICAgICAgICAgZmF0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5MRVZFTDpcbiAgICAgICAgICAgICAgICBkZXRhaWxzID0gKHRpbWVvdXQgPyBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUIDogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkxFVkVMX0xPQURfRVJST1IpO1xuICAgICAgICAgICAgICAgIGZhdGFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLkFVRElPX1RSQUNLOlxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSAodGltZW91dCA/IGVycm9yc18xLkVycm9yRGV0YWlscy5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQgOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuQVVESU9fVFJBQ0tfTE9BRF9FUlJPUik7XG4gICAgICAgICAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gZGV0YWlscyA9IC4uLj9cbiAgICAgICAgICAgICAgICBmYXRhbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5yZXNldEludGVybmFsTG9hZGVyKGNvbnRleHQudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yRGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTkVUV09SS19FUlJPUixcbiAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICBmYXRhbDogZmF0YWwsXG4gICAgICAgICAgICB1cmw6IGxvYWRlci51cmwsXG4gICAgICAgICAgICBsb2FkZXI6IGxvYWRlcixcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBlcnJvckRhdGEucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGVycm9yRGF0YSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZVBsYXlsaXN0TG9hZGVkID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBjb250ZXh0LnR5cGUsIGxldmVsID0gY29udGV4dC5sZXZlbCwgaWQgPSBjb250ZXh0LmlkLCBsZXZlbERldGFpbHMgPSBjb250ZXh0LmxldmVsRGV0YWlscztcbiAgICAgICAgaWYgKCFsZXZlbERldGFpbHMudGFyZ2V0ZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yKHJlc3BvbnNlLCBjb250ZXh0LCAnaW52YWxpZCB0YXJnZXQgZHVyYXRpb24nLCBuZXR3b3JrRGV0YWlscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbkhhdmVMZXZlbHMgPSBQbGF5bGlzdExvYWRlci5jYW5IYXZlUXVhbGl0eUxldmVscyhjb250ZXh0LnR5cGUpO1xuICAgICAgICBpZiAoY2FuSGF2ZUxldmVscykge1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkxFVkVMX0xPQURFRCwge1xuICAgICAgICAgICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgICAgICAgICBsZXZlbDogbGV2ZWwgfHwgMCxcbiAgICAgICAgICAgICAgICBpZDogaWQgfHwgMCxcbiAgICAgICAgICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ29udGV4dFR5cGUuQVVESU9fVFJBQ0s6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19MT0FERUQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzOiBzdGF0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5TVUJUSVRMRV9UUkFDSzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURFRCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogbGV2ZWxEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHM6IHN0YXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBsYXlsaXN0TG9hZGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUGxheWxpc3RMb2FkZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL29ic2VydmVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL29ic2VydmVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudGVtaXR0ZXIzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBldmVudGVtaXR0ZXIzICovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qc1wiKTtcbi8qKlxuICogQGNsYXNzXG4gKlxuICogU2ltcGxlIGFkYXB0ZXIgc3ViLWNsYXNzIG9mIE5vZGVqcy1saWtlIEV2ZW50RW1pdHRlci5cbiAqXG4gKiBXZSBzaW1wbHkgd2FudCB0byBwYXNzIGFsb25nIHRoZSBldmVudC1uYW1lIGl0c2VsZlxuICogaW4gZXZlcnkgY2FsbCB0byBhIGhhbmRsZXIsIHdoaWNoIGlzIHRoZSBwdXJwb3NlIG9mIG91ciBgdHJpZ2dlcmAgbWV0aG9kXG4gKiBleHRlbmRpbmcgdGhlIHN0YW5kYXJkIEFQSS5cbiAqXG4gKi9cbnZhciBPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JzZXJ2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqL1xuICAgIE9ic2VydmVyLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBkYXRhW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBbZXZlbnQsIGV2ZW50XS5jb25jYXQoZGF0YSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmVyO1xufShldmVudGVtaXR0ZXIzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLk9ic2VydmVyID0gT2JzZXJ2ZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3BvbHlmaWxscy9udW1iZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdldF9zZWxmX3Njb3BlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nZXQtc2VsZi1zY29wZSAqLyBcIi4vc3JjL3V0aWxzL2dldC1zZWxmLXNjb3BlLmpzXCIpO1xudmFyIHNlbGYgPSBnZXRfc2VsZl9zY29wZV8xLmdldFNlbGZTY29wZSgpO1xudmFyIE51bWJlciA9IHNlbGYuTnVtYmVyO1xuZXhwb3J0cy5OdW1iZXIgPSBOdW1iZXI7XG4vLyBUT0RPOiBnZXQgcmlkIG9mIGdsb2JhbCBwb2x5ZmlsbHMgYW5kIHJlcGxhY2UgdGhlbSB3aXRoIHdyYXBwZXJzIChcInBvbnlmaWxsc1wiKVxuTnVtYmVyLmlzRmluaXRlID0gTnVtYmVyLmlzRmluaXRlIHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvcmVtdXgvYWFjLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3JlbXV4L2FhYy1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiAgQUFDIGhlbHBlclxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQUFDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFBQygpIHtcbiAgICB9XG4gICAgQUFDLmdldFNpbGVudEZyYW1lID0gZnVuY3Rpb24gKGNvZGVjLCBjaGFubmVsQ291bnQpIHtcbiAgICAgICAgc3dpdGNoIChjb2RlYykge1xuICAgICAgICAgICAgY2FzZSAnbXA0YS40MC4yJzpcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMywgMHg4MF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDIxLCAweDAwLCAweDQ5LCAweDkwLCAweDAyLCAweDE5LCAweDAwLCAweDIzLCAweDgwXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4OGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDM4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4ODIsIDB4MzAsIDB4MDQsIDB4OTksIDB4MDAsIDB4MjEsIDB4OTAsIDB4MDIsIDB4MDAsIDB4YjIsIDB4MDAsIDB4MjAsIDB4MDgsIDB4ZTBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBoYW5kbGUgSEUtQUFDIGJlbG93IChtcDRhLjQwLjUgLyBtcDRhLjQwLjI5KVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDRlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MWMsIDB4NiwgMHhmMSwgMHhjMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBQUM7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQUFDO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3JlbXV4L21wNC1nZW5lcmF0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9yZW11eC9tcDQtZ2VuZXJhdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogR2VuZXJhdGUgTVA0IEJveFxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBVSU5UMzJfTUFYID0gTWF0aC5wb3coMiwgMzIpIC0gMTtcbnZhciBNUDQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTVA0KCkge1xuICAgIH1cbiAgICBNUDQuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTVA0LnR5cGVzID0ge1xuICAgICAgICAgICAgYXZjMTogW10sXG4gICAgICAgICAgICBhdmNDOiBbXSxcbiAgICAgICAgICAgIGJ0cnQ6IFtdLFxuICAgICAgICAgICAgZGluZjogW10sXG4gICAgICAgICAgICBkcmVmOiBbXSxcbiAgICAgICAgICAgIGVzZHM6IFtdLFxuICAgICAgICAgICAgZnR5cDogW10sXG4gICAgICAgICAgICBoZGxyOiBbXSxcbiAgICAgICAgICAgIG1kYXQ6IFtdLFxuICAgICAgICAgICAgbWRoZDogW10sXG4gICAgICAgICAgICBtZGlhOiBbXSxcbiAgICAgICAgICAgIG1maGQ6IFtdLFxuICAgICAgICAgICAgbWluZjogW10sXG4gICAgICAgICAgICBtb29mOiBbXSxcbiAgICAgICAgICAgIG1vb3Y6IFtdLFxuICAgICAgICAgICAgbXA0YTogW10sXG4gICAgICAgICAgICAnLm1wMyc6IFtdLFxuICAgICAgICAgICAgbXZleDogW10sXG4gICAgICAgICAgICBtdmhkOiBbXSxcbiAgICAgICAgICAgIHBhc3A6IFtdLFxuICAgICAgICAgICAgc2R0cDogW10sXG4gICAgICAgICAgICBzdGJsOiBbXSxcbiAgICAgICAgICAgIHN0Y286IFtdLFxuICAgICAgICAgICAgc3RzYzogW10sXG4gICAgICAgICAgICBzdHNkOiBbXSxcbiAgICAgICAgICAgIHN0c3o6IFtdLFxuICAgICAgICAgICAgc3R0czogW10sXG4gICAgICAgICAgICB0ZmR0OiBbXSxcbiAgICAgICAgICAgIHRmaGQ6IFtdLFxuICAgICAgICAgICAgdHJhZjogW10sXG4gICAgICAgICAgICB0cmFrOiBbXSxcbiAgICAgICAgICAgIHRydW46IFtdLFxuICAgICAgICAgICAgdHJleDogW10sXG4gICAgICAgICAgICB0a2hkOiBbXSxcbiAgICAgICAgICAgIHZtaGQ6IFtdLFxuICAgICAgICAgICAgc21oZDogW11cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSBpbiBNUDQudHlwZXMpIHtcbiAgICAgICAgICAgIGlmIChNUDQudHlwZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICBNUDQudHlwZXNbaV0gPSBbXG4gICAgICAgICAgICAgICAgICAgIGkuY2hhckNvZGVBdCgwKSxcbiAgICAgICAgICAgICAgICAgICAgaS5jaGFyQ29kZUF0KDEpLFxuICAgICAgICAgICAgICAgICAgICBpLmNoYXJDb2RlQXQoMiksXG4gICAgICAgICAgICAgICAgICAgIGkuY2hhckNvZGVBdCgzKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpZGVvSGRsciA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDU2LCAweDY5LCAweDY0LCAweDY1LFxuICAgICAgICAgICAgMHg2ZiwgMHg0OCwgMHg2MSwgMHg2ZSxcbiAgICAgICAgICAgIDB4NjQsIDB4NmMsIDB4NjUsIDB4NzIsIDB4MDAgLy8gbmFtZTogJ1ZpZGVvSGFuZGxlcidcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBhdWRpb0hkbHIgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDczLCAweDZmLCAweDc1LCAweDZlLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHg1MywgMHg2ZiwgMHg3NSwgMHg2ZSxcbiAgICAgICAgICAgIDB4NjQsIDB4NDgsIDB4NjEsIDB4NmUsXG4gICAgICAgICAgICAweDY0LCAweDZjLCAweDY1LCAweDcyLCAweDAwIC8vIG5hbWU6ICdTb3VuZEhhbmRsZXInXG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuSERMUl9UWVBFUyA9IHtcbiAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvSGRscixcbiAgICAgICAgICAgICdhdWRpbyc6IGF1ZGlvSGRsclxuICAgICAgICB9O1xuICAgICAgICB2YXIgZHJlZiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MGMsXG4gICAgICAgICAgICAweDc1LCAweDcyLCAweDZjLCAweDIwLFxuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDEgLy8gZW50cnlfZmxhZ3NcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBzdGNvID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIGVudHJ5X2NvdW50XG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuU1RUUyA9IE1QNC5TVFNDID0gTVA0LlNUQ08gPSBzdGNvO1xuICAgICAgICBNUDQuU1RTWiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gc2FtcGxlX2NvdW50XG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuVk1IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCAvLyBvcGNvbG9yXG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuU01IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAgLy8gcmVzZXJ2ZWRcbiAgICAgICAgXSk7XG4gICAgICAgIE1QNC5TVFNEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxXG4gICAgICAgIF0pOyAvLyBlbnRyeV9jb3VudFxuICAgICAgICB2YXIgbWFqb3JCcmFuZCA9IG5ldyBVaW50OEFycmF5KFsxMDUsIDExNSwgMTExLCAxMDldKTsgLy8gaXNvbVxuICAgICAgICB2YXIgYXZjMUJyYW5kID0gbmV3IFVpbnQ4QXJyYXkoWzk3LCAxMTgsIDk5LCA0OV0pOyAvLyBhdmMxXG4gICAgICAgIHZhciBtaW5vclZlcnNpb24gPSBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMV0pO1xuICAgICAgICBNUDQuRlRZUCA9IE1QNC5ib3goTVA0LnR5cGVzLmZ0eXAsIG1ham9yQnJhbmQsIG1pbm9yVmVyc2lvbiwgbWFqb3JCcmFuZCwgYXZjMUJyYW5kKTtcbiAgICAgICAgTVA0LkRJTkYgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLCBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBkcmVmKSk7XG4gICAgfTtcbiAgICBNUDQuYm94ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBzaXplID0gOCwgaSA9IHBheWxvYWQubGVuZ3RoLCBsZW4gPSBpLCByZXN1bHQ7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgdG90YWwgc2l6ZSB3ZSBuZWVkIHRvIGFsbG9jYXRlXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgICAgICByZXN1bHRbMF0gPSAoc2l6ZSA+PiAyNCkgJiAweGZmO1xuICAgICAgICByZXN1bHRbMV0gPSAoc2l6ZSA+PiAxNikgJiAweGZmO1xuICAgICAgICByZXN1bHRbMl0gPSAoc2l6ZSA+PiA4KSAmIDB4ZmY7XG4gICAgICAgIHJlc3VsdFszXSA9IHNpemUgJiAweGZmO1xuICAgICAgICByZXN1bHQuc2V0KHR5cGUsIDQpO1xuICAgICAgICAvLyBjb3B5IHRoZSBwYXlsb2FkIGludG8gdGhlIHJlc3VsdFxuICAgICAgICBmb3IgKGkgPSAwLCBzaXplID0gODsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBjb3B5IHBheWxvYWRbaV0gYXJyYXkgQCBvZmZzZXQgc2l6ZVxuICAgICAgICAgICAgcmVzdWx0LnNldChwYXlsb2FkW2ldLCBzaXplKTtcbiAgICAgICAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNUDQuaGRsciA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5oZGxyLCBNUDQuSERMUl9UWVBFU1t0eXBlXSk7XG4gICAgfTtcbiAgICBNUDQubWRhdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGF0LCBkYXRhKTtcbiAgICB9O1xuICAgIE1QNC5tZGhkID0gZnVuY3Rpb24gKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICAgICAgZHVyYXRpb24gKj0gdGltZXNjYWxlO1xuICAgICAgICB2YXIgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgIHZhciBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kaGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDMsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHRpbWVzY2FsZSAmIDB4RkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gMjQpLFxuICAgICAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgdXBwZXJXb3JkRHVyYXRpb24gJiAweEZGLFxuICAgICAgICAgICAgKGxvd2VyV29yZER1cmF0aW9uID4+IDI0KSxcbiAgICAgICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGxvd2VyV29yZER1cmF0aW9uID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGxvd2VyV29yZER1cmF0aW9uICYgMHhGRixcbiAgICAgICAgICAgIDB4NTUsIDB4YzQsXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC5tZGlhID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGlhLCBNUDQubWRoZCh0cmFjay50aW1lc2NhbGUsIHRyYWNrLmR1cmF0aW9uKSwgTVA0LmhkbHIodHJhY2sudHlwZSksIE1QNC5taW5mKHRyYWNrKSk7XG4gICAgfTtcbiAgICBNUDQubWZoZCA9IGZ1bmN0aW9uIChzZXF1ZW5jZU51bWJlcikge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4gMjQpLFxuICAgICAgICAgICAgKHNlcXVlbmNlTnVtYmVyID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXIgJiAweEZGIC8vIHNlcXVlbmNlX251bWJlclxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBNUDQubWluZiA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBpZiAodHJhY2sudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1pbmYsIE1QNC5ib3goTVA0LnR5cGVzLnNtaGQsIE1QNC5TTUhEKSwgTVA0LkRJTkYsIE1QNC5zdGJsKHRyYWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWluZiwgTVA0LmJveChNUDQudHlwZXMudm1oZCwgTVA0LlZNSEQpLCBNUDQuRElORiwgTVA0LnN0YmwodHJhY2spKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTVA0Lm1vb2YgPSBmdW5jdGlvbiAoc24sIGJhc2VNZWRpYURlY29kZVRpbWUsIHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb29mLCBNUDQubWZoZChzbiksIE1QNC50cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICogQHBhcmFtIHRyYWNrcy4uLiAob3B0aW9uYWwpIHthcnJheX0gdGhlIHRyYWNrcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtb3ZpZVxuICAgKi9cbiAgICBNUDQubW9vdiA9IGZ1bmN0aW9uICh0cmFja3MpIHtcbiAgICAgICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoLCBib3hlcyA9IFtdO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBib3hlc1tpXSA9IE1QNC50cmFrKHRyYWNrc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3guYXBwbHkobnVsbCwgW01QNC50eXBlcy5tb292LCBNUDQubXZoZCh0cmFja3NbMF0udGltZXNjYWxlLCB0cmFja3NbMF0uZHVyYXRpb24pXS5jb25jYXQoYm94ZXMpLmNvbmNhdChNUDQubXZleCh0cmFja3MpKSk7XG4gICAgfTtcbiAgICBNUDQubXZleCA9IGZ1bmN0aW9uICh0cmFja3MpIHtcbiAgICAgICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoLCBib3hlcyA9IFtdO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBib3hlc1tpXSA9IE1QNC50cmV4KHRyYWNrc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3guYXBwbHkobnVsbCwgW01QNC50eXBlcy5tdmV4XS5jb25jYXQoYm94ZXMpKTtcbiAgICB9O1xuICAgIE1QNC5tdmhkID0gZnVuY3Rpb24gKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICAgICAgZHVyYXRpb24gKj0gdGltZXNjYWxlO1xuICAgICAgICB2YXIgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgIHZhciBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAyLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMyxcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgdGltZXNjYWxlICYgMHhGRixcbiAgICAgICAgICAgICh1cHBlcldvcmREdXJhdGlvbiA+PiAyNCksXG4gICAgICAgICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh1cHBlcldvcmREdXJhdGlvbiA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICB1cHBlcldvcmREdXJhdGlvbiAmIDB4RkYsXG4gICAgICAgICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gMjQpLFxuICAgICAgICAgICAgKGxvd2VyV29yZER1cmF0aW9uID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgbG93ZXJXb3JkRHVyYXRpb24gJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDEsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweGZmLCAweGZmLCAweGZmLCAweGZmIC8vIG5leHRfdHJhY2tfSURcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmhkLCBieXRlcyk7XG4gICAgfTtcbiAgICBNUDQuc2R0cCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW10sIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCArIHNhbXBsZXMubGVuZ3RoKSwgZmxhZ3MsIGk7XG4gICAgICAgIC8vIGxlYXZlIHRoZSBmdWxsIGJveCBoZWFkZXIgKDQgYnl0ZXMpIGFsbCB6ZXJvXG4gICAgICAgIC8vIHdyaXRlIHRoZSBzYW1wbGUgdGFibGVcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZsYWdzID0gc2FtcGxlc1tpXS5mbGFncztcbiAgICAgICAgICAgIGJ5dGVzW2kgKyA0XSA9IChmbGFncy5kZXBlbmRzT24gPDwgNCkgfFxuICAgICAgICAgICAgICAgIChmbGFncy5pc0RlcGVuZGVkT24gPDwgMikgfFxuICAgICAgICAgICAgICAgIChmbGFncy5oYXNSZWR1bmRhbmN5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc2R0cCwgYnl0ZXMpO1xuICAgIH07XG4gICAgTVA0LnN0YmwgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0YmwsIE1QNC5zdHNkKHRyYWNrKSwgTVA0LmJveChNUDQudHlwZXMuc3R0cywgTVA0LlNUVFMpLCBNUDQuYm94KE1QNC50eXBlcy5zdHNjLCBNUDQuU1RTQyksIE1QNC5ib3goTVA0LnR5cGVzLnN0c3osIE1QNC5TVFNaKSwgTVA0LmJveChNUDQudHlwZXMuc3RjbywgTVA0LlNUQ08pKTtcbiAgICB9O1xuICAgIE1QNC5hdmMxID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBzcHMgPSBbXSwgcHBzID0gW10sIGksIGRhdGEsIGxlbjtcbiAgICAgICAgLy8gYXNzZW1ibGUgdGhlIFNQU3NcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRyYWNrLnNwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YSA9IHRyYWNrLnNwc1tpXTtcbiAgICAgICAgICAgIGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIHNwcy5wdXNoKChsZW4gPj4+IDgpICYgMHhGRik7XG4gICAgICAgICAgICBzcHMucHVzaCgobGVuICYgMHhGRikpO1xuICAgICAgICAgICAgLy8gU1BTXG4gICAgICAgICAgICBzcHMgPSBzcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhc3NlbWJsZSB0aGUgUFBTc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJhY2sucHBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhID0gdHJhY2sucHBzW2ldO1xuICAgICAgICAgICAgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgcHBzLnB1c2goKGxlbiA+Pj4gOCkgJiAweEZGKTtcbiAgICAgICAgICAgIHBwcy5wdXNoKChsZW4gJiAweEZGKSk7XG4gICAgICAgICAgICBwcHMgPSBwcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXZjYyA9IE1QNC5ib3goTVA0LnR5cGVzLmF2Y0MsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDEsXG4gICAgICAgICAgICBzcHNbM10sXG4gICAgICAgICAgICBzcHNbNF0sXG4gICAgICAgICAgICBzcHNbNV0sXG4gICAgICAgICAgICAweGZjIHwgMyxcbiAgICAgICAgICAgIDB4RTAgfCB0cmFjay5zcHMubGVuZ3RoIC8vIDNiaXQgcmVzZXJ2ZWQgKDExMSkgKyBudW1PZlNlcXVlbmNlUGFyYW1ldGVyU2V0c1xuICAgICAgICBdLmNvbmNhdChzcHMpLmNvbmNhdChbXG4gICAgICAgICAgICB0cmFjay5wcHMubGVuZ3RoIC8vIG51bU9mUGljdHVyZVBhcmFtZXRlclNldHNcbiAgICAgICAgXSkuY29uY2F0KHBwcykpKSwgLy8gXCJQUFNcIlxuICAgICAgICB3aWR0aCA9IHRyYWNrLndpZHRoLCBoZWlnaHQgPSB0cmFjay5oZWlnaHQsIGhTcGFjaW5nID0gdHJhY2sucGl4ZWxSYXRpb1swXSwgdlNwYWNpbmcgPSB0cmFjay5waXhlbFJhdGlvWzFdO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAod2lkdGggPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgd2lkdGggJiAweGZmLFxuICAgICAgICAgICAgKGhlaWdodCA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBoZWlnaHQgJiAweGZmLFxuICAgICAgICAgICAgMHgwMCwgMHg0OCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MTIsXG4gICAgICAgICAgICAweDY0LCAweDYxLCAweDY5LCAweDZDLFxuICAgICAgICAgICAgMHg3OSwgMHg2RCwgMHg2RiwgMHg3NCxcbiAgICAgICAgICAgIDB4NjksIDB4NkYsIDB4NkUsIDB4MkYsXG4gICAgICAgICAgICAweDY4LCAweDZDLCAweDczLCAweDJFLFxuICAgICAgICAgICAgMHg2QSwgMHg3MywgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MTgsXG4gICAgICAgICAgICAweDExLCAweDExXG4gICAgICAgIF0pLCAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgICAgIGF2Y2MsIE1QNC5ib3goTVA0LnR5cGVzLmJ0cnQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MWMsIDB4OWMsIDB4ODAsXG4gICAgICAgICAgICAweDAwLCAweDJkLCAweGM2LCAweGMwLFxuICAgICAgICAgICAgMHgwMCwgMHgyZCwgMHhjNiwgMHhjMFxuICAgICAgICBdKSksIC8vIGF2Z0JpdHJhdGVcbiAgICAgICAgTVA0LmJveChNUDQudHlwZXMucGFzcCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgKGhTcGFjaW5nID4+IDI0KSxcbiAgICAgICAgICAgIChoU3BhY2luZyA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGhTcGFjaW5nID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGhTcGFjaW5nICYgMHhGRixcbiAgICAgICAgICAgICh2U3BhY2luZyA+PiAyNCksXG4gICAgICAgICAgICAodlNwYWNpbmcgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh2U3BhY2luZyA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICB2U3BhY2luZyAmIDB4RkZcbiAgICAgICAgXSkpKTtcbiAgICB9O1xuICAgIE1QNC5lc2RzID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBjb25maWdsZW4gPSB0cmFjay5jb25maWcubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAzLFxuICAgICAgICAgICAgMHgxNyArIGNvbmZpZ2xlbixcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwNCxcbiAgICAgICAgICAgIDB4MGYgKyBjb25maWdsZW4sXG4gICAgICAgICAgICAweDQwLFxuICAgICAgICAgICAgMHgxNSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDUgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgICAgIF0uY29uY2F0KFtjb25maWdsZW5dKS5jb25jYXQodHJhY2suY29uZmlnKS5jb25jYXQoWzB4MDYsIDB4MDEsIDB4MDJdKSk7IC8vIEdBU3BlY2lmaWNDb25maWcpKTsgLy8gbGVuZ3RoICsgYXVkaW8gY29uZmlnIGRlc2NyaXB0b3JcbiAgICB9O1xuICAgIE1QNC5tcDRhID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBzYW1wbGVyYXRlID0gdHJhY2suc2FtcGxlcmF0ZTtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1wNGEsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgdHJhY2suY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgMHgwMCwgMHgxMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoc2FtcGxlcmF0ZSA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBzYW1wbGVyYXRlICYgMHhmZixcbiAgICAgICAgICAgIDB4MDAsIDB4MDBcbiAgICAgICAgXSksIE1QNC5ib3goTVA0LnR5cGVzLmVzZHMsIE1QNC5lc2RzKHRyYWNrKSkpO1xuICAgIH07XG4gICAgTVA0Lm1wMyA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgc2FtcGxlcmF0ZSA9IHRyYWNrLnNhbXBsZXJhdGU7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlc1snLm1wMyddLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIHRyYWNrLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgIDB4MDAsIDB4MTAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHNhbXBsZXJhdGUgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgc2FtcGxlcmF0ZSAmIDB4ZmYsXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC5zdHNkID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIGlmICh0cmFjay50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNrLmlzQUFDICYmIHRyYWNrLmNvZGVjID09PSAnbXAzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuU1RTRCwgTVA0Lm1wMyh0cmFjaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQubXA0YSh0cmFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQuYXZjMSh0cmFjaykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNUDQudGtoZCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgaWQgPSB0cmFjay5pZCwgZHVyYXRpb24gPSB0cmFjay5kdXJhdGlvbiAqIHRyYWNrLnRpbWVzY2FsZSwgd2lkdGggPSB0cmFjay53aWR0aCwgaGVpZ2h0ID0gdHJhY2suaGVpZ2h0LCB1cHBlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAoVUlOVDMyX01BWCArIDEpKSwgbG93ZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uICUgKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50a2hkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwNyxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAzLFxuICAgICAgICAgICAgKGlkID4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAoaWQgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChpZCA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBpZCAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDI0KSxcbiAgICAgICAgICAgICh1cHBlcldvcmREdXJhdGlvbiA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHVwcGVyV29yZER1cmF0aW9uICYgMHhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiAyNCksXG4gICAgICAgICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBsb3dlcldvcmREdXJhdGlvbiAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAod2lkdGggPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgd2lkdGggJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIChoZWlnaHQgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgaGVpZ2h0ICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAgLy8gaGVpZ2h0XG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC50cmFmID0gZnVuY3Rpb24gKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgICAgIHZhciBzYW1wbGVEZXBlbmRlbmN5VGFibGUgPSBNUDQuc2R0cCh0cmFjayksIGlkID0gdHJhY2suaWQsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgLyAoVUlOVDMyX01BWCArIDEpKSwgbG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAlIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhZiwgTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaWQgPj4gMjQpLFxuICAgICAgICAgICAgKGlkID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAoaWQgPj4gOCkgJiAwWEZGLFxuICAgICAgICAgICAgKGlkICYgMHhGRikgLy8gdHJhY2tfSURcbiAgICAgICAgXSkpLCBNUDQuYm94KE1QNC50eXBlcy50ZmR0LCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgICh1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDI0KSxcbiAgICAgICAgICAgICh1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiA4KSAmIDBYRkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSAmIDB4RkYpLFxuICAgICAgICAgICAgKGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gMjQpLFxuICAgICAgICAgICAgKGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gMTYpICYgMFhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDgpICYgMFhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lICYgMHhGRilcbiAgICAgICAgXSkpLCBNUDQudHJ1bih0cmFjaywgc2FtcGxlRGVwZW5kZW5jeVRhYmxlLmxlbmd0aCArXG4gICAgICAgICAgICAxNiArIC8vIHRmaGRcbiAgICAgICAgICAgIDIwICsgLy8gdGZkdFxuICAgICAgICAgICAgOCArIC8vIHRyYWYgaGVhZGVyXG4gICAgICAgICAgICAxNiArIC8vIG1maGRcbiAgICAgICAgICAgIDggKyAvLyBtb29mIGhlYWRlclxuICAgICAgICAgICAgOCksIC8vIG1kYXQgaGVhZGVyXG4gICAgICAgIHNhbXBsZURlcGVuZGVuY3lUYWJsZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHRyYWNrIGJveC5cbiAgICAgKiBAcGFyYW0gdHJhY2sge29iamVjdH0gYSB0cmFjayBkZWZpbml0aW9uXG4gICAgICogQHJldHVybiB7VWludDhBcnJheX0gdGhlIHRyYWNrIGJveFxuICAgICAqL1xuICAgIE1QNC50cmFrID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHRyYWNrLmR1cmF0aW9uID0gdHJhY2suZHVyYXRpb24gfHwgMHhmZmZmZmZmZjtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWssIE1QNC50a2hkKHRyYWNrKSwgTVA0Lm1kaWEodHJhY2spKTtcbiAgICB9O1xuICAgIE1QNC50cmV4ID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBpZCA9IHRyYWNrLmlkO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJleCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaWQgPj4gMjQpLFxuICAgICAgICAgICAgKGlkID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAoaWQgPj4gOCkgJiAwWEZGLFxuICAgICAgICAgICAgKGlkICYgMHhGRiksXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAxIC8vIGRlZmF1bHRfc2FtcGxlX2ZsYWdzXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC50cnVuID0gZnVuY3Rpb24gKHRyYWNrLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdLCBsZW4gPSBzYW1wbGVzLmxlbmd0aCwgYXJyYXlsZW4gPSAxMiArICgxNiAqIGxlbiksIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlsZW4pLCBpLCBzYW1wbGUsIGR1cmF0aW9uLCBzaXplLCBmbGFncywgY3RzO1xuICAgICAgICBvZmZzZXQgKz0gOCArIGFycmF5bGVuO1xuICAgICAgICBhcnJheS5zZXQoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MGYsIDB4MDEsXG4gICAgICAgICAgICAobGVuID4+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKGxlbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChsZW4gPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGxlbiAmIDB4RkYsXG4gICAgICAgICAgICAob2Zmc2V0ID4+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKG9mZnNldCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIG9mZnNldCAmIDB4RkYgLy8gZGF0YV9vZmZzZXRcbiAgICAgICAgXSwgMCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc2FtcGxlID0gc2FtcGxlc1tpXTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gc2FtcGxlLmR1cmF0aW9uO1xuICAgICAgICAgICAgc2l6ZSA9IHNhbXBsZS5zaXplO1xuICAgICAgICAgICAgZmxhZ3MgPSBzYW1wbGUuZmxhZ3M7XG4gICAgICAgICAgICBjdHMgPSBzYW1wbGUuY3RzO1xuICAgICAgICAgICAgYXJyYXkuc2V0KFtcbiAgICAgICAgICAgICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgICAgIHNpemUgJiAweEZGLFxuICAgICAgICAgICAgICAgIChmbGFncy5pc0xlYWRpbmcgPDwgMikgfCBmbGFncy5kZXBlbmRzT24sXG4gICAgICAgICAgICAgICAgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCA2KSB8XG4gICAgICAgICAgICAgICAgICAgIChmbGFncy5oYXNSZWR1bmRhbmN5IDw8IDQpIHxcbiAgICAgICAgICAgICAgICAgICAgKGZsYWdzLnBhZGRpbmdWYWx1ZSA8PCAxKSB8XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmlzTm9uU3luYyxcbiAgICAgICAgICAgICAgICBmbGFncy5kZWdyYWRQcmlvICYgMHhGMCA8PCA4LFxuICAgICAgICAgICAgICAgIGZsYWdzLmRlZ3JhZFByaW8gJiAweDBGLFxuICAgICAgICAgICAgICAgIChjdHMgPj4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGN0cyA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoY3RzID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgY3RzICYgMHhGRiAvLyBzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXRcbiAgICAgICAgICAgIF0sIDEyICsgMTYgKiBpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJ1biwgYXJyYXkpO1xuICAgIH07XG4gICAgTVA0LmluaXRTZWdtZW50ID0gZnVuY3Rpb24gKHRyYWNrcykge1xuICAgICAgICBpZiAoIU1QNC50eXBlcykge1xuICAgICAgICAgICAgTVA0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW92aWUgPSBNUDQubW9vdih0cmFja3MpLCByZXN1bHQ7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KE1QNC5GVFlQLmJ5dGVMZW5ndGggKyBtb3ZpZS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmVzdWx0LnNldChNUDQuRlRZUCk7XG4gICAgICAgIHJlc3VsdC5zZXQobW92aWUsIE1QNC5GVFlQLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIE1QNDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNUDQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvcmVtdXgvbXA0LXJlbXV4ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvcmVtdXgvbXA0LXJlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogZk1QNCByZW11eGVyXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGFhY19oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYWFjLWhlbHBlciAqLyBcIi4vc3JjL3JlbXV4L2FhYy1oZWxwZXIuanNcIik7XG52YXIgbXA0X2dlbmVyYXRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tcDQtZ2VuZXJhdG9yICovIFwiLi9zcmMvcmVtdXgvbXA0LWdlbmVyYXRvci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbi8vIDEwIHNlY29uZHNcbnZhciBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OID0gMTAgKiAxMDAwO1xudmFyIE1QNFJlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTVA0UmVtdXhlcihvYnNlcnZlciwgY29uZmlnLCB0eXBlU3VwcG9ydGVkLCB2ZW5kb3IpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy50eXBlU3VwcG9ydGVkID0gdHlwZVN1cHBvcnRlZDtcbiAgICAgICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIHRoaXMuaXNTYWZhcmkgPSB2ZW5kb3IgJiYgdmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPiAtMSAmJiB1c2VyQWdlbnQgJiYgIXVzZXJBZ2VudC5tYXRjaCgnQ3JpT1MnKTtcbiAgICAgICAgdGhpcy5JU0dlbmVyYXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoZGVmYXVsdFRpbWVTdGFtcCkge1xuICAgICAgICB0aGlzLl9pbml0UFRTID0gdGhpcy5faW5pdERUUyA9IGRlZmF1bHRUaW1lU3RhbXA7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLklTR2VuZXJhdGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eCA9IGZ1bmN0aW9uIChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgLy8gZ2VuZXJhdGUgSW5pdCBTZWdtZW50IGlmIG5lZWRlZFxuICAgICAgICBpZiAoIXRoaXMuSVNHZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVJUyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5JU0dlbmVyYXRlZCkge1xuICAgICAgICAgICAgdmFyIG5iQXVkaW9TYW1wbGVzID0gYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBuYlZpZGVvU2FtcGxlcyA9IHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgYXVkaW9UaW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcbiAgICAgICAgICAgIHZhciB2aWRlb1RpbWVPZmZzZXQgPSB0aW1lT2Zmc2V0O1xuICAgICAgICAgICAgaWYgKG5iQXVkaW9TYW1wbGVzICYmIG5iVmlkZW9TYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gdGltZU9mZnNldCBpcyBleHBlY3RlZCB0byBiZSB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCB0aW1lc3RhbXAgb2YgdGhpcyBmcmFnbWVudCAoZmlyc3QgRFRTKVxuICAgICAgICAgICAgICAgIC8vIGlmIGZpcnN0IGF1ZGlvIERUUyBpcyBub3QgYWxpZ25lZCB3aXRoIGZpcnN0IHZpZGVvIERUUyB0aGVuIHdlIG5lZWQgdG8gdGFrZSB0aGF0IGludG8gYWNjb3VudFxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcHJvdmlkaW5nIHRpbWVPZmZzZXQgdG8gcmVtdXhBdWRpbyAvIHJlbXV4VmlkZW8uIGlmIHdlIGRvbid0IGRvIHRoYXQsIHRoZXJlIG1pZ2h0IGJlIGEgcGVybWFuZW50IC8gc21hbGxcbiAgICAgICAgICAgICAgICAvLyBkcmlmdCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvdmlkZW9EZWx0YUR0cyA9IChhdWRpb1RyYWNrLnNhbXBsZXNbMF0ucHRzIC0gdmlkZW9UcmFjay5zYW1wbGVzWzBdLnB0cykgLyB2aWRlb1RyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgICAgICAgICAgICAgIGF1ZGlvVGltZU9mZnNldCArPSBNYXRoLm1heCgwLCBhdWRpb3ZpZGVvRGVsdGFEdHMpO1xuICAgICAgICAgICAgICAgIHZpZGVvVGltZU9mZnNldCArPSBNYXRoLm1heCgwLCAtYXVkaW92aWRlb0RlbHRhRHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1cnBvc2VmdWxseSByZW11eGluZyBhdWRpbyBiZWZvcmUgdmlkZW8sIHNvIHRoYXQgcmVtdXhWaWRlbyBjYW4gdXNlIG5leHRBdWRpb1B0cywgd2hpY2ggaXNcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZWQgaW4gcmVtdXhBdWRpby5cbiAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ25iIEFBQyBzYW1wbGVzOicgKyBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChuYkF1ZGlvU2FtcGxlcykge1xuICAgICAgICAgICAgICAgIC8vIGlmIGluaXRTZWdtZW50IHdhcyBnZW5lcmF0ZWQgd2l0aG91dCB2aWRlbyBzYW1wbGVzLCByZWdlbmVyYXRlIGl0IGFnYWluXG4gICAgICAgICAgICAgICAgaWYgKCFhdWRpb1RyYWNrLnRpbWVzY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybigncmVnZW5lcmF0ZSBJbml0U2VnbWVudCBhcyBhdWRpbyBkZXRlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhdWRpb0RhdGEgPSB0aGlzLnJlbXV4QXVkaW8oYXVkaW9UcmFjaywgYXVkaW9UaW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ25iIEFWQyBzYW1wbGVzOicgKyB2aWRlb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAobmJWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tMZW5ndGggPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tMZW5ndGggPSBhdWRpb0RhdGEuZW5kUFRTIC0gYXVkaW9EYXRhLnN0YXJ0UFRTO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGluaXRTZWdtZW50IHdhcyBnZW5lcmF0ZWQgd2l0aG91dCB2aWRlbyBzYW1wbGVzLCByZWdlbmVyYXRlIGl0IGFnYWluXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlkZW9UcmFjay50aW1lc2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdyZWdlbmVyYXRlIEluaXRTZWdtZW50IGFzIHZpZGVvIGRldGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHZpZGVvVGltZU9mZnNldCwgY29udGlndW91cywgYXVkaW9UcmFja0xlbmd0aCwgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCduYiBBVkMgc2FtcGxlczonICsgdmlkZW9UcmFjay5zYW1wbGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKG5iVmlkZW9TYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2aWRlb0RhdGEgPSB0aGlzLnJlbXV4VmlkZW8odmlkZW9UcmFjaywgdmlkZW9UaW1lT2Zmc2V0LCBjb250aWd1b3VzLCAwLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9EYXRhICYmIGF1ZGlvVHJhY2suY29kZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtdXhFbXB0eUF1ZGlvKGF1ZGlvVHJhY2ssIGF1ZGlvVGltZU9mZnNldCwgY29udGlndW91cywgdmlkZW9EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBsb2dnZXIubG9nKCduYiBJRDMgc2FtcGxlczonICsgYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChpZDNUcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZW11eElEMyhpZDNUcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnbmIgSUQzIHNhbXBsZXM6JyArIGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgICAgICBpZiAodGV4dFRyYWNrLnNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbXV4VGV4dCh0ZXh0VHJhY2ssIHRpbWVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGlmeSBlbmQgb2YgcGFyc2luZ1xuICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCk7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5nZW5lcmF0ZUlTID0gZnVuY3Rpb24gKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIHRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlciwgYXVkaW9TYW1wbGVzID0gYXVkaW9UcmFjay5zYW1wbGVzLCB2aWRlb1NhbXBsZXMgPSB2aWRlb1RyYWNrLnNhbXBsZXMsIHR5cGVTdXBwb3J0ZWQgPSB0aGlzLnR5cGVTdXBwb3J0ZWQsIGNvbnRhaW5lciA9ICdhdWRpby9tcDQnLCB0cmFja3MgPSB7fSwgZGF0YSA9IHsgdHJhY2tzOiB0cmFja3MgfSwgY29tcHV0ZVBUU0RUUyA9ICh0aGlzLl9pbml0UFRTID09PSB1bmRlZmluZWQpLCBpbml0UFRTLCBpbml0RFRTO1xuICAgICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICAgICAgaW5pdFBUUyA9IGluaXREVFMgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXVkaW9UcmFjay5jb25maWcgJiYgYXVkaW9TYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gbGV0J3MgdXNlIGF1ZGlvIHNhbXBsaW5nIHJhdGUgYXMgTVA0IHRpbWUgc2NhbGUuXG4gICAgICAgICAgICAvLyByYXRpb25hbGUgaXMgdGhhdCB0aGVyZSBpcyBhIGludGVnZXIgbmIgb2YgYXVkaW8gZnJhbWVzIHBlciBhdWRpbyBzYW1wbGUgKDEwMjQgZm9yIEFBQylcbiAgICAgICAgICAgIC8vIHVzaW5nIGF1ZGlvIHNhbXBsaW5nIHJhdGUgaGVyZSBoZWxwcyBoYXZpbmcgYW4gaW50ZWdlciBNUDQgZnJhbWUgZHVyYXRpb25cbiAgICAgICAgICAgIC8vIHRoaXMgYXZvaWRzIHBvdGVudGlhbCByb3VuZGluZyBpc3N1ZSBhbmQgQVYgc3luYyBpc3N1ZVxuICAgICAgICAgICAgYXVkaW9UcmFjay50aW1lc2NhbGUgPSBhdWRpb1RyYWNrLnNhbXBsZXJhdGU7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW8gc2FtcGxpbmcgcmF0ZSA6IFwiICsgYXVkaW9UcmFjay5zYW1wbGVyYXRlKTtcbiAgICAgICAgICAgIGlmICghYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlU3VwcG9ydGVkLm1wZWcpIHsgLy8gQ2hyb21lIGFuZCBTYWZhcmlcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gJ2F1ZGlvL21wZWcnO1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1RyYWNrLmNvZGVjID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVTdXBwb3J0ZWQubXAzKSB7IC8vIEZpcmVmb3hcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9UcmFjay5jb2RlYyA9ICdtcDMnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNrcy5hdWRpbyA9IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBjb2RlYzogYXVkaW9UcmFjay5jb2RlYyxcbiAgICAgICAgICAgICAgICBpbml0U2VnbWVudDogIWF1ZGlvVHJhY2suaXNBQUMgJiYgdHlwZVN1cHBvcnRlZC5tcGVnID8gbmV3IFVpbnQ4QXJyYXkoKSA6IG1wNF9nZW5lcmF0b3JfMS5kZWZhdWx0LmluaXRTZWdtZW50KFthdWRpb1RyYWNrXSksXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBhdWRpb1RyYWNrLmNoYW5uZWxDb3VudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICAgICAgICAgIC8vIHJlbWVtYmVyIGZpcnN0IFBUUyBvZiB0aGlzIGRlbXV4aW5nIGNvbnRleHQuIGZvciBhdWRpbywgUFRTID0gRFRTXG4gICAgICAgICAgICAgICAgaW5pdFBUUyA9IGluaXREVFMgPSBhdWRpb1NhbXBsZXNbMF0ucHRzIC0gYXVkaW9UcmFjay5pbnB1dFRpbWVTY2FsZSAqIHRpbWVPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZGVvVHJhY2suc3BzICYmIHZpZGVvVHJhY2sucHBzICYmIHZpZGVvU2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGxldCdzIHVzZSBpbnB1dCB0aW1lIHNjYWxlIGFzIE1QNCB2aWRlbyB0aW1lc2NhbGVcbiAgICAgICAgICAgIC8vIHdlIHVzZSBpbnB1dCB0aW1lIHNjYWxlIHN0cmFpZ2h0IGF3YXkgdG8gYXZvaWQgcm91bmRpbmcgaXNzdWVzIG9uIGZyYW1lIGR1cmF0aW9uIC8gY3RzIGNvbXB1dGF0aW9uXG4gICAgICAgICAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB2aWRlb1RyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgICAgICAgICAgdmlkZW9UcmFjay50aW1lc2NhbGUgPSBpbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgICAgIHRyYWNrcy52aWRlbyA9IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6ICd2aWRlby9tcDQnLFxuICAgICAgICAgICAgICAgIGNvZGVjOiB2aWRlb1RyYWNrLmNvZGVjLFxuICAgICAgICAgICAgICAgIGluaXRTZWdtZW50OiBtcDRfZ2VuZXJhdG9yXzEuZGVmYXVsdC5pbml0U2VnbWVudChbdmlkZW9UcmFja10pLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb1RyYWNrLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZpZGVvVHJhY2suaGVpZ2h0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjb21wdXRlUFRTRFRTKSB7XG4gICAgICAgICAgICAgICAgaW5pdFBUUyA9IE1hdGgubWluKGluaXRQVFMsIHZpZGVvU2FtcGxlc1swXS5wdHMgLSBpbnB1dFRpbWVTY2FsZSAqIHRpbWVPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGluaXREVFMgPSBNYXRoLm1pbihpbml0RFRTLCB2aWRlb1NhbXBsZXNbMF0uZHRzIC0gaW5wdXRUaW1lU2NhbGUgKiB0aW1lT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5JTklUX1BUU19GT1VORCwgeyBpbml0UFRTOiBpbml0UFRTIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0cmFja3MpLmxlbmd0aCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5JU0dlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRQVFMgPSBpbml0UFRTO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXREVFMgPSBpbml0RFRTO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgcmVhc29uOiAnbm8gYXVkaW8vdmlkZW8gc2FtcGxlcyBmb3VuZCcgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4VmlkZW8gPSBmdW5jdGlvbiAodHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGF1ZGlvVHJhY2tMZW5ndGgsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gODtcbiAgICAgICAgdmFyIG1wNFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICB2YXIgbWRhdDtcbiAgICAgICAgdmFyIG1vb2Y7XG4gICAgICAgIHZhciBmaXJzdFBUUztcbiAgICAgICAgdmFyIGZpcnN0RFRTO1xuICAgICAgICB2YXIgbGFzdFBUUztcbiAgICAgICAgdmFyIGxhc3REVFM7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSB0cmFjay50aW1lc2NhbGU7XG4gICAgICAgIHZhciBpbnB1dFNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgICB2YXIgb3V0cHV0U2FtcGxlcyA9IFtdO1xuICAgICAgICB2YXIgbmJTYW1wbGVzID0gaW5wdXRTYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHB0c05vcm1hbGl6ZSA9IHRoaXMuX1BUU05vcm1hbGl6ZTtcbiAgICAgICAgdmFyIGluaXRQVFMgPSB0aGlzLl9pbml0UFRTO1xuICAgICAgICAvLyBpZiBwYXJzZWQgZnJhZ21lbnQgaXMgY29udGlndW91cyB3aXRoIGxhc3Qgb25lLCBsZXQncyB1c2UgbGFzdCBEVFMgdmFsdWUgYXMgcmVmZXJlbmNlXG4gICAgICAgIHZhciBuZXh0QXZjRHRzID0gdGhpcy5uZXh0QXZjRHRzO1xuICAgICAgICB2YXIgaXNTYWZhcmkgPSB0aGlzLmlzU2FmYXJpO1xuICAgICAgICBpZiAobmJTYW1wbGVzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IGxpa2Ugb3ZlcmxhcHBpbmcgRFRTIG9uIGNvbnNlY3V0aXZlIGZyYWdtZW50cy4gbGV0J3MgdXNlIG5leHRBdmNEdHMgdG8gb3ZlcmNvbWUgdGhpcyBpZiBmcmFnbWVudHMgYXJlIGNvbnNlY3V0aXZlXG4gICAgICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgICAgICAgLy8gYWxzbyBjb25zaWRlciBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXMgYmVpbmcgY29udGlndW91cyAoZXZlbiBpZiBhIGxldmVsIHN3aXRjaCBvY2N1cnMpLFxuICAgICAgICAgICAgLy8gZm9yIHNha2Ugb2YgY2xhcml0eTpcbiAgICAgICAgICAgIC8vIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBhcmUgZnJhZ3Mgd2l0aFxuICAgICAgICAgICAgLy8gIC0gbGVzcyB0aGFuIDEwMG1zIGdhcHMgYmV0d2VlbiBuZXcgdGltZSBvZmZzZXQgKGlmIGFjY3VyYXRlKSBhbmQgbmV4dCBleHBlY3RlZCBQVFMgT1JcbiAgICAgICAgICAgIC8vICAtIGxlc3MgdGhhbiAyMDAgbXMgUFRTIGdhcHMgKHRpbWVTY2FsZS81KVxuICAgICAgICAgICAgY29udGlndW91cyB8PSAoaW5wdXRTYW1wbGVzLmxlbmd0aCAmJiBuZXh0QXZjRHRzICYmXG4gICAgICAgICAgICAgICAgKChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgTWF0aC5hYnModGltZU9mZnNldCAtIG5leHRBdmNEdHMgLyB0aW1lU2NhbGUpIDwgMC4xKSB8fFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicygoaW5wdXRTYW1wbGVzWzBdLnB0cyAtIG5leHRBdmNEdHMgLSBpbml0UFRTKSkgPCB0aW1lU2NhbGUgLyA1KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250aWd1b3VzKSB7XG4gICAgICAgICAgICAvLyBpZiBub3QgY29udGlndW91cywgbGV0J3MgdXNlIHRhcmdldCB0aW1lT2Zmc2V0XG4gICAgICAgICAgICBuZXh0QXZjRHRzID0gdGltZU9mZnNldCAqIHRpbWVTY2FsZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQVFMgaXMgY29kZWQgb24gMzNiaXRzLCBhbmQgY2FuIGxvb3AgZnJvbSAtMl4zMiB0byAyXjMyXG4gICAgICAgIC8vIHB0c05vcm1hbGl6ZSB3aWxsIG1ha2UgUFRTL0RUUyB2YWx1ZSBtb25vdG9uaWMsIHdlIHVzZSBsYXN0IGtub3duIERUUyB2YWx1ZSBhcyByZWZlcmVuY2UgdmFsdWVcbiAgICAgICAgaW5wdXRTYW1wbGVzLmZvckVhY2goZnVuY3Rpb24gKHNhbXBsZSkge1xuICAgICAgICAgICAgc2FtcGxlLnB0cyA9IHB0c05vcm1hbGl6ZShzYW1wbGUucHRzIC0gaW5pdFBUUywgbmV4dEF2Y0R0cyk7XG4gICAgICAgICAgICBzYW1wbGUuZHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5kdHMgLSBpbml0UFRTLCBuZXh0QXZjRHRzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNvcnQgdmlkZW8gc2FtcGxlcyBieSBEVFMgdGhlbiBQVFMgdGhlbiBkZW11eCBpZCBvcmRlclxuICAgICAgICBpbnB1dFNhbXBsZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgdmFyIGRlbHRhZHRzID0gYS5kdHMgLSBiLmR0cztcbiAgICAgICAgICAgIHZhciBkZWx0YXB0cyA9IGEucHRzIC0gYi5wdHM7XG4gICAgICAgICAgICByZXR1cm4gZGVsdGFkdHMgfHwgKGRlbHRhcHRzIHx8IChhLmlkIC0gYi5pZCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaGFuZGxlIGJyb2tlbiBzdHJlYW1zIHdpdGggUFRTIDwgRFRTLCB0b2xlcmFuY2UgdXAgMjAwbXMgKDE4MDAwIGluIDkwa0h6IHRpbWVzY2FsZSlcbiAgICAgICAgdmFyIFBUU0RUU3NoaWZ0ID0gaW5wdXRTYW1wbGVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycikgeyByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4ocHJldiwgY3Vyci5wdHMgLSBjdXJyLmR0cyksIC0xODAwMCk7IH0sIDApO1xuICAgICAgICBpZiAoUFRTRFRTc2hpZnQgPCAwKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIlBUUyA8IERUUyBkZXRlY3RlZCBpbiB2aWRlbyBzYW1wbGVzLCBzaGlmdGluZyBEVFMgYnkgXCIgKyBNYXRoLnJvdW5kKFBUU0RUU3NoaWZ0IC8gOTApICsgXCIgbXMgdG8gb3ZlcmNvbWUgdGhpcyBpc3N1ZVwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRTYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRTYW1wbGVzW2ldLmR0cyArPSBQVFNEVFNzaGlmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb21wdXRlIGZpcnN0IERUUyBhbmQgbGFzdCBEVFMsIG5vcm1hbGl6ZSB0aGVtIGFnYWluc3QgcmVmZXJlbmNlIHZhbHVlXG4gICAgICAgIHZhciBzYW1wbGUgPSBpbnB1dFNhbXBsZXNbMF07XG4gICAgICAgIGZpcnN0RFRTID0gTWF0aC5tYXgoc2FtcGxlLmR0cywgMCk7XG4gICAgICAgIGZpcnN0UFRTID0gTWF0aC5tYXgoc2FtcGxlLnB0cywgMCk7XG4gICAgICAgIC8vIGNoZWNrIHRpbWVzdGFtcCBjb250aW51aXR5IGFjY3Jvc3MgY29uc2VjdXRpdmUgZnJhZ21lbnRzICh0aGlzIGlzIHRvIHJlbW92ZSBpbnRlci1mcmFnbWVudCBnYXAvaG9sZSlcbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5yb3VuZCgoZmlyc3REVFMgLSBuZXh0QXZjRHRzKSAvIDkwKTtcbiAgICAgICAgLy8gaWYgZnJhZ21lbnQgYXJlIGNvbnRpZ3VvdXMsIGRldGVjdCBob2xlL292ZXJsYXBwaW5nIGJldHdlZW4gZnJhZ21lbnRzXG4gICAgICAgIGlmIChjb250aWd1b3VzKSB7XG4gICAgICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJBVkM6XCIgKyBkZWx0YSArIFwiIG1zIGhvbGUgYmV0d2VlbiBmcmFnbWVudHMgZGV0ZWN0ZWQsZmlsbGluZyBpdFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVsdGEgPCAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiQVZDOlwiICsgKC1kZWx0YSkgKyBcIiBtcyBvdmVybGFwcGluZyBiZXR3ZWVuIGZyYWdtZW50cyBkZXRlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGhvbGUvZ2FwIDogc2V0IERUUyB0byBuZXh0IGV4cGVjdGVkIERUU1xuICAgICAgICAgICAgICAgIGZpcnN0RFRTID0gbmV4dEF2Y0R0cztcbiAgICAgICAgICAgICAgICBpbnB1dFNhbXBsZXNbMF0uZHRzID0gZmlyc3REVFM7XG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0IFBUUyBhcyB3ZWxsLCBlbnN1cmUgdGhhdCBQVFMgaXMgc21hbGxlciBvciBlcXVhbCB0aGFuIG5ldyBEVFNcbiAgICAgICAgICAgICAgICBmaXJzdFBUUyA9IE1hdGgubWF4KGZpcnN0UFRTIC0gZGVsdGEsIG5leHRBdmNEdHMpO1xuICAgICAgICAgICAgICAgIGlucHV0U2FtcGxlc1swXS5wdHMgPSBmaXJzdFBUUztcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiVmlkZW8vUFRTL0RUUyBhZGp1c3RlZDogXCIgKyBNYXRoLnJvdW5kKGZpcnN0UFRTIC8gOTApICsgXCIvXCIgKyBNYXRoLnJvdW5kKGZpcnN0RFRTIC8gOTApICsgXCIsZGVsdGE6XCIgKyBkZWx0YSArIFwiIG1zXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbXB1dGUgbGFzdFBUUy9sYXN0RFRTXG4gICAgICAgIHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpbnB1dFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3REVFMgPSBNYXRoLm1heChzYW1wbGUuZHRzLCAwKTtcbiAgICAgICAgbGFzdFBUUyA9IE1hdGgubWF4KHNhbXBsZS5wdHMsIDAsIGxhc3REVFMpO1xuICAgICAgICAvLyBvbiBTYWZhcmkgbGV0J3Mgc2lnbmFsIHRoZSBzYW1lIHNhbXBsZSBkdXJhdGlvbiBmb3IgYWxsIHNhbXBsZXNcbiAgICAgICAgLy8gc2FtcGxlIGR1cmF0aW9uIChhcyBleHBlY3RlZCBieSB0cnVuIE1QNCBib3hlcyksIHNob3VsZCBiZSB0aGUgZGVsdGEgYmV0d2VlbiBzYW1wbGUgRFRTXG4gICAgICAgIC8vIHNldCB0aGlzIGNvbnN0YW50IGR1cmF0aW9uIGFzIGJlaW5nIHRoZSBhdmcgZGVsdGEgYmV0d2VlbiBjb25zZWN1dGl2ZSBEVFMuXG4gICAgICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBNYXRoLnJvdW5kKChsYXN0RFRTIC0gZmlyc3REVFMpIC8gKGlucHV0U2FtcGxlcy5sZW5ndGggLSAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5iTmFsdSA9IDAsIG5hbHVMZW4gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5iU2FtcGxlczsgaSsrKSB7XG4gICAgICAgICAgICAvLyBjb21wdXRlIHRvdGFsL2F2YyBzYW1wbGUgbGVuZ3RoIGFuZCBuYiBvZiBOQUwgdW5pdHNcbiAgICAgICAgICAgIHZhciBzYW1wbGVfMSA9IGlucHV0U2FtcGxlc1tpXSwgdW5pdHMgPSBzYW1wbGVfMS51bml0cywgbmJVbml0cyA9IHVuaXRzLmxlbmd0aCwgc2FtcGxlTGVuID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmJVbml0czsgaisrKSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlTGVuICs9IHVuaXRzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFsdUxlbiArPSBzYW1wbGVMZW47XG4gICAgICAgICAgICBuYk5hbHUgKz0gbmJVbml0cztcbiAgICAgICAgICAgIHNhbXBsZV8xLmxlbmd0aCA9IHNhbXBsZUxlbjtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBQVFMvRFRTXG4gICAgICAgICAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgICAgICAgICAgICAvLyBzYW1wbGUgRFRTIGlzIGNvbXB1dGVkIHVzaW5nIGEgY29uc3RhbnQgZGVjb2Rpbmcgb2Zmc2V0IChtcDRTYW1wbGVEdXJhdGlvbikgYmV0d2VlbiBzYW1wbGVzXG4gICAgICAgICAgICAgICAgc2FtcGxlXzEuZHRzID0gZmlyc3REVFMgKyBpICogbXA0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgc2FtcGxlIG1vbm90b25pYyBEVFNcbiAgICAgICAgICAgICAgICBzYW1wbGVfMS5kdHMgPSBNYXRoLm1heChzYW1wbGVfMS5kdHMsIGZpcnN0RFRTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVuc3VyZSB0aGF0IGNvbXB1dGVkIHZhbHVlIGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiBzYW1wbGUgRFRTXG4gICAgICAgICAgICBzYW1wbGVfMS5wdHMgPSBNYXRoLm1heChzYW1wbGVfMS5wdHMsIHNhbXBsZV8xLmR0cyk7XG4gICAgICAgIH1cbiAgICAgICAgLyogY29uY2F0ZW5hdGUgdGhlIHZpZGVvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdCBpbiBwbGFjZVxuICAgICAgICAgIChuZWVkIDggbW9yZSBieXRlcyB0byBmaWxsIGxlbmd0aCBhbmQgbXBkYXQgdHlwZSkgKi9cbiAgICAgICAgdmFyIG1kYXRTaXplID0gbmFsdUxlbiArICg0ICogbmJOYWx1KSArIDg7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZGF0ID0gbmV3IFVpbnQ4QXJyYXkobWRhdFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTVVYX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuUkVNVVhfQUxMT0NfRVJST1IsIGZhdGFsOiBmYWxzZSwgYnl0ZXM6IG1kYXRTaXplLCByZWFzb246IFwiZmFpbCBhbGxvY2F0aW5nIHZpZGVvIG1kYXQgXCIgKyBtZGF0U2l6ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhtZGF0LmJ1ZmZlcik7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKDAsIG1kYXRTaXplKTtcbiAgICAgICAgbWRhdC5zZXQobXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQudHlwZXMubWRhdCwgNCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhdmNTYW1wbGUgPSBpbnB1dFNhbXBsZXNbaV0sIGF2Y1NhbXBsZVVuaXRzID0gYXZjU2FtcGxlLnVuaXRzLCBtcDRTYW1wbGVMZW5ndGggPSAwLCBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBjb252ZXJ0IE5BTFUgYml0c3RyZWFtIHRvIE1QNCBmb3JtYXQgKHByZXBlbmQgTkFMVSB3aXRoIHNpemUgZmllbGQpXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgbmJVbml0cyA9IGF2Y1NhbXBsZVVuaXRzLmxlbmd0aDsgaiA8IG5iVW5pdHM7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciB1bml0ID0gYXZjU2FtcGxlVW5pdHNbal0sIHVuaXREYXRhID0gdW5pdC5kYXRhLCB1bml0RGF0YUxlbiA9IHVuaXQuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKG9mZnNldCwgdW5pdERhdGFMZW4pO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgIG1kYXQuc2V0KHVuaXREYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSB1bml0RGF0YUxlbjtcbiAgICAgICAgICAgICAgICBtcDRTYW1wbGVMZW5ndGggKz0gNCArIHVuaXREYXRhTGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1NhZmFyaSkge1xuICAgICAgICAgICAgICAgIC8vIGV4cGVjdGVkIHNhbXBsZSBkdXJhdGlvbiBpcyB0aGUgRGVjb2RpbmcgVGltZXN0YW1wIGRpZmYgb2YgY29uc2VjdXRpdmUgc2FtcGxlc1xuICAgICAgICAgICAgICAgIGlmIChpIDwgbmJTYW1wbGVzIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGlucHV0U2FtcGxlc1tpICsgMV0uZHRzIC0gYXZjU2FtcGxlLmR0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZywgbGFzdEZyYW1lRHVyYXRpb24gPSBhdmNTYW1wbGUuZHRzIC0gaW5wdXRTYW1wbGVzW2kgPiAwID8gaSAtIDEgOiBpXS5kdHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcuc3RyZXRjaFNob3J0VmlkZW9UcmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gc29tZSBjYXNlcywgYSBzZWdtZW50J3MgYXVkaW8gdHJhY2sgZHVyYXRpb24gbWF5IGV4Y2VlZCB0aGUgdmlkZW8gdHJhY2sgZHVyYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSd2ZSBhbHJlYWR5IHJlbXV4ZWQgYXVkaW8sIGFuZCB3ZSBrbm93IGhvdyBsb25nIHRoZSBhdWRpbyB0cmFjayBpcywgd2UgbG9vayB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VlIGlmIHRoZSBkZWx0YSB0byB0aGUgbmV4dCBzZWdtZW50IGlzIGxvbmdlciB0aGFuIG1heEJ1ZmZlckhvbGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzbywgcGxheWJhY2sgd291bGQgcG90ZW50aWFsbHkgZ2V0IHN0dWNrLCBzbyB3ZSBhcnRpZmljaWFsbHkgaW5mbGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGR1cmF0aW9uIG9mIHRoZSBsYXN0IGZyYW1lIHRvIG1pbmltaXplIGFueSBwb3RlbnRpYWwgZ2FwIGJldHdlZW4gc2VnbWVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4QnVmZmVySG9sZSA9IGNvbmZpZy5tYXhCdWZmZXJIb2xlLCBnYXBUb2xlcmFuY2UgPSBNYXRoLmZsb29yKG1heEJ1ZmZlckhvbGUgKiB0aW1lU2NhbGUpLCBkZWx0YVRvRnJhbWVFbmQgPSAoYXVkaW9UcmFja0xlbmd0aCA/IGZpcnN0UFRTICsgYXVkaW9UcmFja0xlbmd0aCAqIHRpbWVTY2FsZSA6IHRoaXMubmV4dEF1ZGlvUHRzKSAtIGF2Y1NhbXBsZS5wdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFUb0ZyYW1lRW5kID4gZ2FwVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc3VidHJhY3QgbGFzdEZyYW1lRHVyYXRpb24gZnJvbSBkZWx0YVRvRnJhbWVFbmQgdG8gdHJ5IHRvIHByZXZlbnQgYW55IHZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJhbWUgb3ZlcmxhcC4gbWF4QnVmZmVySG9sZSBzaG91bGQgYmUgPj4gbGFzdEZyYW1lRHVyYXRpb24gYW55d2F5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gZGVsdGFUb0ZyYW1lRW5kIC0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1wNFNhbXBsZUR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiSXQgaXMgYXBwcm94aW1hdGVseSBcIiArIGRlbHRhVG9GcmFtZUVuZCAvIDkwICsgXCIgbXMgdG8gdGhlIG5leHQgc2VnbWVudDsgdXNpbmcgZHVyYXRpb24gXCIgKyBtcDRTYW1wbGVEdXJhdGlvbiAvIDkwICsgXCIgbXMgZm9yIHRoZSBsYXN0IHZpZGVvIGZyYW1lLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uVGltZU9mZnNldCA9IE1hdGgucm91bmQoYXZjU2FtcGxlLnB0cyAtIGF2Y1NhbXBsZS5kdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcG9zaXRpb25UaW1lT2Zmc2V0ID0gTWF0aC5tYXgoMCwgbXA0U2FtcGxlRHVyYXRpb24gKiBNYXRoLnJvdW5kKChhdmNTYW1wbGUucHRzIC0gYXZjU2FtcGxlLmR0cykgLyBtcDRTYW1wbGVEdXJhdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1BUUy9EVFMvaW5pdERUUy9ub3JtUFRTL25vcm1EVFMvcmVsYXRpdmUgUFRTIDogJHthdmNTYW1wbGUucHRzfS8ke2F2Y1NhbXBsZS5kdHN9LyR7aW5pdERUU30vJHtwdHNub3JtfS8ke2R0c25vcm19LyR7KGF2Y1NhbXBsZS5wdHMvNDI5NDk2NzI5NikudG9GaXhlZCgzKX0nKTtcbiAgICAgICAgICAgIG91dHB1dFNhbXBsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2l6ZTogbXA0U2FtcGxlTGVuZ3RoLFxuICAgICAgICAgICAgICAgIC8vIGNvbnN0YW50IGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG1wNFNhbXBsZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGN0czogY29tcG9zaXRpb25UaW1lT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgaXNEZXBlbmRlZE9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwLFxuICAgICAgICAgICAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRzT246IGF2Y1NhbXBsZS5rZXkgPyAyIDogMSxcbiAgICAgICAgICAgICAgICAgICAgaXNOb25TeW5jOiBhdmNTYW1wbGUua2V5ID8gMCA6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IEFWQyBzYW1wbGUgRFRTIHNob3VsZCBiZSBlcXVhbCB0byBsYXN0IHNhbXBsZSBEVFMgKyBsYXN0IHNhbXBsZSBkdXJhdGlvbiAoaW4gUEVTIHRpbWVzY2FsZSlcbiAgICAgICAgdGhpcy5uZXh0QXZjRHRzID0gbGFzdERUUyArIG1wNFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICB2YXIgZHJvcHBlZCA9IHRyYWNrLmRyb3BwZWQ7XG4gICAgICAgIHRyYWNrLmxlbiA9IDA7XG4gICAgICAgIHRyYWNrLm5iTmFsdSA9IDA7XG4gICAgICAgIHRyYWNrLmRyb3BwZWQgPSAwO1xuICAgICAgICBpZiAob3V0cHV0U2FtcGxlcy5sZW5ndGggJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBmbGFncyA9IG91dHB1dFNhbXBsZXNbMF0uZmxhZ3M7XG4gICAgICAgICAgICAvLyBjaHJvbWUgd29ya2Fyb3VuZCwgbWFyayBmaXJzdCBzYW1wbGUgYXMgYmVpbmcgYSBSYW5kb20gQWNjZXNzIFBvaW50IHRvIGF2b2lkIHNvdXJjZWJ1ZmZlciBhcHBlbmQgaXNzdWVcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjk0MTJcbiAgICAgICAgICAgIGZsYWdzLmRlcGVuZHNPbiA9IDI7XG4gICAgICAgICAgICBmbGFncy5pc05vblN5bmMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBvdXRwdXRTYW1wbGVzO1xuICAgICAgICBtb29mID0gbXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQubW9vZih0cmFjay5zZXF1ZW5jZU51bWJlcisrLCBmaXJzdERUUywgdHJhY2spO1xuICAgICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgZGF0YTE6IG1vb2YsXG4gICAgICAgICAgICBkYXRhMjogbWRhdCxcbiAgICAgICAgICAgIHN0YXJ0UFRTOiBmaXJzdFBUUyAvIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIGVuZFBUUzogKGxhc3RQVFMgKyBtcDRTYW1wbGVEdXJhdGlvbikgLyB0aW1lU2NhbGUsXG4gICAgICAgICAgICBzdGFydERUUzogZmlyc3REVFMgLyB0aW1lU2NhbGUsXG4gICAgICAgICAgICBlbmREVFM6IHRoaXMubmV4dEF2Y0R0cyAvIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICBoYXNBdWRpbzogZmFsc2UsXG4gICAgICAgICAgICBoYXNWaWRlbzogdHJ1ZSxcbiAgICAgICAgICAgIG5iOiBvdXRwdXRTYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgICAgIGRyb3BwZWQ6IGRyb3BwZWRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4QXVkaW8gPSBmdW5jdGlvbiAodHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB0cmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgdmFyIG1wNHRpbWVTY2FsZSA9IHRyYWNrLnRpbWVzY2FsZTtcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gaW5wdXRUaW1lU2NhbGUgLyBtcDR0aW1lU2NhbGU7XG4gICAgICAgIHZhciBtcDRTYW1wbGVEdXJhdGlvbiA9IHRyYWNrLmlzQUFDID8gMTAyNCA6IDExNTI7XG4gICAgICAgIHZhciBpbnB1dFNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlRHVyYXRpb24gKiBzY2FsZUZhY3RvcjtcbiAgICAgICAgdmFyIHB0c05vcm1hbGl6ZSA9IHRoaXMuX1BUU05vcm1hbGl6ZTtcbiAgICAgICAgdmFyIGluaXRQVFMgPSB0aGlzLl9pbml0UFRTO1xuICAgICAgICB2YXIgcmF3TVBFRyA9ICF0cmFjay5pc0FBQyAmJiB0aGlzLnR5cGVTdXBwb3J0ZWQubXBlZztcbiAgICAgICAgdmFyIG9mZnNldCwgbXA0U2FtcGxlLCBmaWxsRnJhbWUsIG1kYXQsIG1vb2YsIGZpcnN0UFRTLCBsYXN0UFRTLCBpbnB1dFNhbXBsZXMgPSB0cmFjay5zYW1wbGVzLCBvdXRwdXRTYW1wbGVzID0gW10sIG5leHRBdWRpb1B0cyA9IHRoaXMubmV4dEF1ZGlvUHRzO1xuICAgICAgICAvLyBmb3IgYXVkaW8gc2FtcGxlcywgYWxzbyBjb25zaWRlciBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXMgYmVpbmcgY29udGlndW91cyAoZXZlbiBpZiBhIGxldmVsIHN3aXRjaCBvY2N1cnMpLFxuICAgICAgICAvLyBmb3Igc2FrZSBvZiBjbGFyaXR5OlxuICAgICAgICAvLyBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXJlIGZyYWdzIHdpdGhcbiAgICAgICAgLy8gIC0gbGVzcyB0aGFuIDEwMG1zIGdhcHMgYmV0d2VlbiBuZXcgdGltZSBvZmZzZXQgKGlmIGFjY3VyYXRlKSBhbmQgbmV4dCBleHBlY3RlZCBQVFMgT1JcbiAgICAgICAgLy8gIC0gbGVzcyB0aGFuIDIwIGF1ZGlvIGZyYW1lcyBkaXN0YW5jZVxuICAgICAgICAvLyBjb250aWd1b3VzIGZyYWdtZW50cyBhcmUgY29uc2VjdXRpdmUgZnJhZ21lbnRzIGZyb20gc2FtZSBxdWFsaXR5IGxldmVsIChzYW1lIGxldmVsLCBuZXcgU04gPSBvbGQgU04gKyAxKVxuICAgICAgICAvLyB0aGlzIGhlbHBzIGVuc3VyaW5nIGF1ZGlvIGNvbnRpbnVpdHlcbiAgICAgICAgLy8gYW5kIHRoaXMgYWxzbyBhdm9pZHMgYXVkaW8gZ2xpdGNoZXMvY3V0IHdoZW4gc3dpdGNoaW5nIHF1YWxpdHksIG9yIHJlcG9ydGluZyB3cm9uZyBkdXJhdGlvbiBvbiBmaXJzdCBhdWRpbyBmcmFtZVxuICAgICAgICBjb250aWd1b3VzIHw9IChpbnB1dFNhbXBsZXMubGVuZ3RoICYmIG5leHRBdWRpb1B0cyAmJlxuICAgICAgICAgICAgKChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgTWF0aC5hYnModGltZU9mZnNldCAtIG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlKSA8IDAuMSkgfHxcbiAgICAgICAgICAgICAgICBNYXRoLmFicygoaW5wdXRTYW1wbGVzWzBdLnB0cyAtIG5leHRBdWRpb1B0cyAtIGluaXRQVFMpKSA8IDIwICogaW5wdXRTYW1wbGVEdXJhdGlvbikpO1xuICAgICAgICAvLyBjb21wdXRlIG5vcm1hbGl6ZWQgUFRTXG4gICAgICAgIGlucHV0U2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYW1wbGUpIHtcbiAgICAgICAgICAgIHNhbXBsZS5wdHMgPSBzYW1wbGUuZHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5wdHMgLSBpbml0UFRTLCB0aW1lT2Zmc2V0ICogaW5wdXRUaW1lU2NhbGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBzYW1wbGUgd2l0aCBuZWdhdGl2ZSBQVFMgdGhhdCBhcmUgbm90IHBsYXlhYmxlIGFueXdheVxuICAgICAgICAvLyBpZiB3ZSBkb24ndCByZW1vdmUgdGhlc2UgbmVnYXRpdmUgc2FtcGxlcywgdGhleSB3aWxsIHNoaWZ0IGFsbCBhdWRpbyBzYW1wbGVzIGZvcndhcmQuXG4gICAgICAgIC8vIGxlYWRpbmcgdG8gYXVkaW8gb3ZlcmxhcCBiZXR3ZWVuIGN1cnJlbnQgLyBuZXh0IGZyYWdtZW50XG4gICAgICAgIGlucHV0U2FtcGxlcyA9IGlucHV0U2FtcGxlcy5maWx0ZXIoZnVuY3Rpb24gKHNhbXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNhbXBsZS5wdHMgPj0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGluIGNhc2UgYWxsIHNhbXBsZXMgaGF2ZSBuZWdhdGl2ZSBQVFMsIGFuZCBoYXZlIGJlZW4gZmlsdGVyZWQgb3V0LCByZXR1cm4gbm93XG4gICAgICAgIGlmIChpbnB1dFNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250aWd1b3VzKSB7XG4gICAgICAgICAgICBpZiAoIWFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGZyYWcgYXJlIG1vdCBjb250aWd1b3VzIGFuZCBpZiB3ZSBjYW50IHRydXN0IHRpbWUgb2Zmc2V0LCBsZXQncyB1c2UgZmlyc3Qgc2FtcGxlIFBUUyBhcyBuZXh0IGF1ZGlvIFBUU1xuICAgICAgICAgICAgICAgIG5leHRBdWRpb1B0cyA9IGlucHV0U2FtcGxlc1swXS5wdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aW1lT2Zmc2V0IGlzIGFjY3VyYXRlLCBsZXQncyB1c2UgaXQgYXMgcHJlZGljdGVkIG5leHQgYXVkaW8gUFRTXG4gICAgICAgICAgICAgICAgbmV4dEF1ZGlvUHRzID0gdGltZU9mZnNldCAqIGlucHV0VGltZVNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBhdWRpbyB0cmFjayBpcyBtaXNzaW5nIHNhbXBsZXMsIHRoZSBmcmFtZXMgc2VlbSB0byBnZXQgXCJsZWZ0LXNoaWZ0ZWRcIiB3aXRoaW4gdGhlXG4gICAgICAgIC8vIHJlc3VsdGluZyBtcDQgc2VnbWVudCwgY2F1c2luZyBzeW5jIGlzc3VlcyBhbmQgbGVhdmluZyBnYXBzIGF0IHRoZSBlbmQgb2YgdGhlIGF1ZGlvIHNlZ21lbnQuXG4gICAgICAgIC8vIEluIGFuIGVmZm9ydCB0byBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmcsIHdlIGluamVjdCBmcmFtZXMgaGVyZSB3aGVyZSB0aGVyZSBhcmUgZ2Fwcy5cbiAgICAgICAgLy8gV2hlbiBwb3NzaWJsZSwgd2UgaW5qZWN0IGEgc2lsZW50IGZyYW1lOyB3aGVuIHRoYXQncyBub3QgcG9zc2libGUsIHdlIGR1cGxpY2F0ZSB0aGUgbGFzdFxuICAgICAgICAvLyBmcmFtZS5cbiAgICAgICAgaWYgKHRyYWNrLmlzQUFDKSB7XG4gICAgICAgICAgICB2YXIgbWF4QXVkaW9GcmFtZXNEcmlmdCA9IHRoaXMuY29uZmlnLm1heEF1ZGlvRnJhbWVzRHJpZnQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbmV4dFB0cyA9IG5leHRBdWRpb1B0czsgaSA8IGlucHV0U2FtcGxlcy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyc3QsIGxldCdzIHNlZSBob3cgZmFyIG9mZiB0aGlzIGZyYW1lIGlzIGZyb20gd2hlcmUgd2UgZXhwZWN0IGl0IHRvIGJlXG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpXSwgZGVsdGE7XG4gICAgICAgICAgICAgICAgdmFyIHB0cyA9IHNhbXBsZS5wdHM7XG4gICAgICAgICAgICAgICAgZGVsdGEgPSBwdHMgLSBuZXh0UHRzO1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKDEwMDAgKiBkZWx0YSAvIGlucHV0VGltZVNjYWxlKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBvdmVybGFwcGluZyBieSBtb3JlIHRoYW4gYSBkdXJhdGlvbiwgZHJvcCB0aGlzIHNhbXBsZVxuICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8PSAtbWF4QXVkaW9GcmFtZXNEcmlmdCAqIGlucHV0U2FtcGxlRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJEcm9wcGluZyAxIGF1ZGlvIGZyYW1lIEAgXCIgKyAobmV4dFB0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgXCJzIGR1ZSB0byBcIiArIE1hdGgucm91bmQoZHVyYXRpb24pICsgXCIgbXMgb3ZlcmxhcC5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0U2FtcGxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLmxlbiAtPSBzYW1wbGUudW5pdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHRvdWNoIG5leHRQdHNOb3JtIG9yIGlcbiAgICAgICAgICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYnJhY2Utc3R5bGVcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgbWlzc2luZyBmcmFtZXMgaWY6XG4gICAgICAgICAgICAgICAgLy8gMTogV2UncmUgbW9yZSB0aGFuIG1heEF1ZGlvRnJhbWVzRHJpZnQgZnJhbWUgYXdheVxuICAgICAgICAgICAgICAgIC8vIDI6IE5vdCBtb3JlIHRoYW4gTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiBhd2F5XG4gICAgICAgICAgICAgICAgLy8gMzogY3VycmVudFRpbWUgKGFrYSBuZXh0UHRzTm9ybSkgaXMgbm90IDBcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkZWx0YSA+PSBtYXhBdWRpb0ZyYW1lc0RyaWZ0ICogaW5wdXRTYW1wbGVEdXJhdGlvbiAmJiBkdXJhdGlvbiA8IE1BWF9TSUxFTlRfRlJBTUVfRFVSQVRJT04gJiYgbmV4dFB0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWlzc2luZyA9IE1hdGgucm91bmQoZGVsdGEgLyBpbnB1dFNhbXBsZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJJbmplY3RpbmcgXCIgKyBtaXNzaW5nICsgXCIgYXVkaW8gZnJhbWUgQCBcIiArIChuZXh0UHRzIC8gaW5wdXRUaW1lU2NhbGUpLnRvRml4ZWQoMykgKyBcInMgZHVlIHRvIFwiICsgTWF0aC5yb3VuZCgxMDAwICogZGVsdGEgLyBpbnB1dFRpbWVTY2FsZSkgKyBcIiBtcyBnYXAuXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1pc3Npbmc7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1N0YW1wID0gTWF0aC5tYXgobmV4dFB0cywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWNfaGVscGVyXzEuZGVmYXVsdC5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxsRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdVbmFibGUgdG8gZ2V0IHNpbGVudCBmcmFtZSBmb3IgZ2l2ZW4gYXVkaW8gY29kZWM7IGR1cGxpY2F0aW5nIGxhc3QgZnJhbWUgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBzYW1wbGUudW5pdC5zdWJhcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTYW1wbGVzLnNwbGljZShpLCAwLCB7IHVuaXQ6IGZpbGxGcmFtZSwgcHRzOiBuZXdTdGFtcCwgZHRzOiBuZXdTdGFtcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLmxlbiArPSBmaWxsRnJhbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFB0cyArPSBpbnB1dFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkanVzdCBzYW1wbGUgdG8gbmV4dCBleHBlY3RlZCBwdHNcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlLnB0cyA9IHNhbXBsZS5kdHMgPSBuZXh0UHRzO1xuICAgICAgICAgICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwganVzdCBhZGp1c3QgcHRzXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAoMC4xICogaW5wdXRTYW1wbGVEdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYEludmFsaWQgZnJhbWUgZGVsdGEgJHtNYXRoLnJvdW5kKGRlbHRhICsgaW5wdXRTYW1wbGVEdXJhdGlvbil9IGF0IFBUUyAke01hdGgucm91bmQocHRzIC8gOTApfSAoc2hvdWxkIGJlICR7TWF0aC5yb3VuZChpbnB1dFNhbXBsZUR1cmF0aW9uKX0pLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZS5wdHMgPSBzYW1wbGUuZHRzID0gbmV4dFB0cztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFB0cyArPSBpbnB1dFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBuYlNhbXBsZXNfMSA9IGlucHV0U2FtcGxlcy5sZW5ndGg7IGogPCBuYlNhbXBsZXNfMTsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9TYW1wbGUgPSBpbnB1dFNhbXBsZXNbal07XG4gICAgICAgICAgICB2YXIgdW5pdCA9IGF1ZGlvU2FtcGxlLnVuaXQ7XG4gICAgICAgICAgICB2YXIgcHRzID0gYXVkaW9TYW1wbGUucHRzO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZyhgQXVkaW8vUFRTOiR7TWF0aC5yb3VuZChwdHMvOTApfWApO1xuICAgICAgICAgICAgLy8gaWYgbm90IGZpcnN0IHNhbXBsZVxuICAgICAgICAgICAgaWYgKGxhc3RQVFMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1wNFNhbXBsZS5kdXJhdGlvbiA9IE1hdGgucm91bmQoKHB0cyAtIGxhc3RQVFMpIC8gc2NhbGVGYWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhXzEgPSBNYXRoLnJvdW5kKDEwMDAgKiAocHRzIC0gbmV4dEF1ZGlvUHRzKSAvIGlucHV0VGltZVNjYWxlKSwgbnVtTWlzc2luZ0ZyYW1lcyA9IDA7XG4gICAgICAgICAgICAgICAgLy8gaWYgZnJhZ21lbnQgYXJlIGNvbnRpZ3VvdXMsIGRldGVjdCBob2xlL292ZXJsYXBwaW5nIGJldHdlZW4gZnJhZ21lbnRzXG4gICAgICAgICAgICAgICAgLy8gY29udGlndW91cyBmcmFnbWVudHMgYXJlIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBmcm9tIHNhbWUgcXVhbGl0eSBsZXZlbCAoc2FtZSBsZXZlbCwgbmV3IFNOID0gb2xkIFNOICsgMSlcbiAgICAgICAgICAgICAgICBpZiAoY29udGlndW91cyAmJiB0cmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2cgZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YV8xID4gMCAmJiBkZWx0YV8xIDwgTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bU1pc3NpbmdGcmFtZXMgPSBNYXRoLnJvdW5kKChwdHMgLSBuZXh0QXVkaW9QdHMpIC8gaW5wdXRTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhkZWx0YV8xICsgXCIgbXMgaG9sZSBiZXR3ZWVuIEFBQyBzYW1wbGVzIGRldGVjdGVkLGZpbGxpbmcgaXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bU1pc3NpbmdGcmFtZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxGcmFtZSA9IGFhY19oZWxwZXJfMS5kZWZhdWx0LmdldFNpbGVudEZyYW1lKHRyYWNrLm1hbmlmZXN0Q29kZWMgfHwgdHJhY2suY29kZWMsIHRyYWNrLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsbEZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSB1bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2subGVuICs9IG51bU1pc3NpbmdGcmFtZXMgKiBmaWxsRnJhbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGZyYW1lIG92ZXJsYXAsIG92ZXJsYXBwaW5nIGZvciBtb3JlIHRoYW4gaGFsZiBhIGZyYW1lIGR1cmFpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlbHRhXzEgPCAtMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIG92ZXJsYXBwaW5nIGF1ZGlvIGZyYW1lcy4uLiBicm93c2VyIHdpbGwgZGVhbCB3aXRoIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImRyb3Agb3ZlcmxhcHBpbmcgQUFDIHNhbXBsZSwgZXhwZWN0ZWQvcGFyc2VkL2RlbHRhOlwiICsgKG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgXCJzL1wiICsgKHB0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgXCJzL1wiICsgKC1kZWx0YV8xKSArIFwibXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2subGVuIC09IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBQVFMvRFRTIHRvIGV4cGVjdGVkIFBUUy9EVFNcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cyA9IG5leHRBdWRpb1B0cztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZW1lbWJlciBmaXJzdCBQVFMgb2Ygb3VyIGF1ZGlvU2FtcGxlc1xuICAgICAgICAgICAgICAgIGZpcnN0UFRTID0gcHRzO1xuICAgICAgICAgICAgICAgIGlmICh0cmFjay5sZW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGNvbmNhdGVuYXRlIHRoZSBhdWRpbyBkYXRhIGFuZCBjb25zdHJ1Y3QgdGhlIG1kYXQgaW4gcGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAobmVlZCA4IG1vcmUgYnl0ZXMgdG8gZmlsbCBsZW5ndGggYW5kIG1kYXQgdHlwZSkgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1kYXRTaXplID0gcmF3TVBFRyA/IHRyYWNrLmxlbiA6IHRyYWNrLmxlbiArIDg7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHJhd01QRUcgPyAwIDogODtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1kYXQgPSBuZXcgVWludDhBcnJheShtZGF0U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NVVhfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5SRU1VWF9BTExPQ19FUlJPUiwgZmF0YWw6IGZhbHNlLCBieXRlczogbWRhdFNpemUsIHJlYXNvbjogXCJmYWlsIGFsbG9jYXRpbmcgYXVkaW8gbWRhdCBcIiArIG1kYXRTaXplIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmF3TVBFRykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcobWRhdC5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoMCwgbWRhdFNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWRhdC5zZXQobXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQudHlwZXMubWRhdCwgNCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGF1ZGlvIHNhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU1pc3NpbmdGcmFtZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWNfaGVscGVyXzEuZGVmYXVsdC5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGxGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnVW5hYmxlIHRvIGdldCBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjOyBkdXBsaWNhdGluZyB0aGlzIGZyYW1lIGluc3RlYWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSB1bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWRhdC5zZXQoZmlsbEZyYW1lLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmlsbEZyYW1lLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGZpbGxGcmFtZS5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3RzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMjQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRTYW1wbGVzLnB1c2gobXA0U2FtcGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZGF0LnNldCh1bml0LCBvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHVuaXRMZW4gPSB1bml0LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBvZmZzZXQgKz0gdW5pdExlbjtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdQVFMvRFRTL2luaXREVFMvbm9ybVBUUy9ub3JtRFRTL3JlbGF0aXZlIFBUUyA6ICR7YXVkaW9TYW1wbGUucHRzfS8ke2F1ZGlvU2FtcGxlLmR0c30vJHtpbml0RFRTfS8ke3B0c25vcm19LyR7ZHRzbm9ybX0vJHsoYXVkaW9TYW1wbGUucHRzLzQyOTQ5NjcyOTYpLnRvRml4ZWQoMyl9Jyk7XG4gICAgICAgICAgICBtcDRTYW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgc2l6ZTogdW5pdExlbixcbiAgICAgICAgICAgICAgICBjdHM6IDAsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlZ3JhZFByaW86IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBvdXRwdXRTYW1wbGVzLnB1c2gobXA0U2FtcGxlKTtcbiAgICAgICAgICAgIGxhc3RQVFMgPSBwdHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RTYW1wbGVEdXJhdGlvbiA9IDA7XG4gICAgICAgIHZhciBuYlNhbXBsZXMgPSBvdXRwdXRTYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgLy8gc2V0IGxhc3Qgc2FtcGxlIGR1cmF0aW9uIGFzIGJlaW5nIGlkZW50aWNhbCB0byBwcmV2aW91cyBzYW1wbGVcbiAgICAgICAgaWYgKG5iU2FtcGxlcyA+PSAyKSB7XG4gICAgICAgICAgICBsYXN0U2FtcGxlRHVyYXRpb24gPSBvdXRwdXRTYW1wbGVzW25iU2FtcGxlcyAtIDJdLmR1cmF0aW9uO1xuICAgICAgICAgICAgbXA0U2FtcGxlLmR1cmF0aW9uID0gbGFzdFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYlNhbXBsZXMpIHtcbiAgICAgICAgICAgIC8vIG5leHQgYXVkaW8gc2FtcGxlIFBUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgUFRTICsgZHVyYXRpb25cbiAgICAgICAgICAgIHRoaXMubmV4dEF1ZGlvUHRzID0gbmV4dEF1ZGlvUHRzID0gbGFzdFBUUyArIHNjYWxlRmFjdG9yICogbGFzdFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnQXVkaW8vUFRTL1BUU2VuZDonICsgYXVkaW9TYW1wbGUucHRzLnRvRml4ZWQoMCkgKyAnLycgKyB0aGlzLm5leHRBYWNEdHMudG9GaXhlZCgwKSk7XG4gICAgICAgICAgICB0cmFjay5sZW4gPSAwO1xuICAgICAgICAgICAgdHJhY2suc2FtcGxlcyA9IG91dHB1dFNhbXBsZXM7XG4gICAgICAgICAgICBpZiAocmF3TVBFRykge1xuICAgICAgICAgICAgICAgIG1vb2YgPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9vZiA9IG1wNF9nZW5lcmF0b3JfMS5kZWZhdWx0Lm1vb2YodHJhY2suc2VxdWVuY2VOdW1iZXIrKywgZmlyc3RQVFMgLyBzY2FsZUZhY3RvciwgdHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZmlyc3RQVFMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBuZXh0QXVkaW9QdHMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgICAgIHZhciBhdWRpb0RhdGEgPSB7XG4gICAgICAgICAgICAgICAgZGF0YTE6IG1vb2YsXG4gICAgICAgICAgICAgICAgZGF0YTI6IG1kYXQsXG4gICAgICAgICAgICAgICAgc3RhcnRQVFM6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZFBUUzogZW5kLFxuICAgICAgICAgICAgICAgIHN0YXJ0RFRTOiBzdGFydCxcbiAgICAgICAgICAgICAgICBlbmREVFM6IGVuZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICAgICAgICAgIGhhc0F1ZGlvOiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhc1ZpZGVvOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYjogbmJTYW1wbGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIGF1ZGlvRGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9EYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVtdXhFbXB0eUF1ZGlvID0gZnVuY3Rpb24gKHRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCB2aWRlb0RhdGEpIHtcbiAgICAgICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGUsIG1wNHRpbWVTY2FsZSA9IHRyYWNrLnNhbXBsZXJhdGUgPyB0cmFjay5zYW1wbGVyYXRlIDogaW5wdXRUaW1lU2NhbGUsIHNjYWxlRmFjdG9yID0gaW5wdXRUaW1lU2NhbGUgLyBtcDR0aW1lU2NhbGUsIG5leHRBdWRpb1B0cyA9IHRoaXMubmV4dEF1ZGlvUHRzLCBcbiAgICAgICAgLy8gc3luYyB3aXRoIHZpZGVvJ3MgdGltZXN0YW1wXG4gICAgICAgIHN0YXJ0RFRTID0gKG5leHRBdWRpb1B0cyAhPT0gdW5kZWZpbmVkID8gbmV4dEF1ZGlvUHRzIDogdmlkZW9EYXRhLnN0YXJ0RFRTICogaW5wdXRUaW1lU2NhbGUpICsgdGhpcy5faW5pdERUUywgZW5kRFRTID0gdmlkZW9EYXRhLmVuZERUUyAqIGlucHV0VGltZVNjYWxlICsgdGhpcy5faW5pdERUUywgXG4gICAgICAgIC8vIG9uZSBzYW1wbGUncyBkdXJhdGlvbiB2YWx1ZVxuICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IDEwMjQsIGZyYW1lRHVyYXRpb24gPSBzY2FsZUZhY3RvciAqIHNhbXBsZUR1cmF0aW9uLCBcbiAgICAgICAgLy8gc2FtcGxlcyBjb3VudCBvZiB0aGlzIHNlZ21lbnQncyBkdXJhdGlvblxuICAgICAgICBuYlNhbXBsZXMgPSBNYXRoLmNlaWwoKGVuZERUUyAtIHN0YXJ0RFRTKSAvIGZyYW1lRHVyYXRpb24pLCBcbiAgICAgICAgLy8gc2lsZW50IGZyYW1lXG4gICAgICAgIHNpbGVudEZyYW1lID0gYWFjX2hlbHBlcl8xLmRlZmF1bHQuZ2V0U2lsZW50RnJhbWUodHJhY2subWFuaWZlc3RDb2RlYyB8fCB0cmFjay5jb2RlYywgdHJhY2suY2hhbm5lbENvdW50KTtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ3JlbXV4IGVtcHR5IEF1ZGlvJyk7XG4gICAgICAgIC8vIENhbid0IHJlbXV4IGlmIHdlIGNhbid0IGdlbmVyYXRlIGEgc2lsZW50IGZyYW1lLi4uXG4gICAgICAgIGlmICghc2lsZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci50cmFjZSgnVW5hYmxlIHRvIHJlbXV4RW1wdHlBdWRpbyBzaW5jZSB3ZSB3ZXJlIHVuYWJsZSB0byBnZXQgYSBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFtcCA9IHN0YXJ0RFRTICsgaSAqIGZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICBzYW1wbGVzLnB1c2goeyB1bml0OiBzaWxlbnRGcmFtZSwgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCB9KTtcbiAgICAgICAgICAgIHRyYWNrLmxlbiArPSBzaWxlbnRGcmFtZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IHNhbXBsZXM7XG4gICAgICAgIHRoaXMucmVtdXhBdWRpbyh0cmFjaywgdGltZU9mZnNldCwgY29udGlndW91cyk7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eElEMyA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdHJhY2suc2FtcGxlcy5sZW5ndGgsIHNhbXBsZTtcbiAgICAgICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgIHZhciBpbml0UFRTID0gdGhpcy5faW5pdFBUUztcbiAgICAgICAgdmFyIGluaXREVFMgPSB0aGlzLl9pbml0RFRTO1xuICAgICAgICAvLyBjb25zdW1lIHNhbXBsZXNcbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHNhbXBsZSA9IHRyYWNrLnNhbXBsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgaWQzIHB0cywgZHRzIHRvIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgICAgICAgICAvLyB1c2luZyB0aGlzLl9pbml0UFRTIGFuZCB0aGlzLl9pbml0RFRTIHRvIGNhbGN1bGF0ZSByZWxhdGl2ZSB0aW1lXG4gICAgICAgICAgICAgICAgc2FtcGxlLnB0cyA9ICgoc2FtcGxlLnB0cyAtIGluaXRQVFMpIC8gaW5wdXRUaW1lU2NhbGUpO1xuICAgICAgICAgICAgICAgIHNhbXBsZS5kdHMgPSAoKHNhbXBsZS5kdHMgLSBpbml0RFRTKSAvIGlucHV0VGltZVNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19NRVRBREFUQSwge1xuICAgICAgICAgICAgICAgIHNhbXBsZXM6IHRyYWNrLnNhbXBsZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICB9O1xuICAgIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4VGV4dCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB0cmFjay5zYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiAoYS5wdHMgLSBiLnB0cyk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdHJhY2suc2FtcGxlcy5sZW5ndGgsIHNhbXBsZTtcbiAgICAgICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgIHZhciBpbml0UFRTID0gdGhpcy5faW5pdFBUUztcbiAgICAgICAgLy8gY29uc3VtZSBzYW1wbGVzXG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBzYW1wbGUgPSB0cmFjay5zYW1wbGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAvLyBzZXR0aW5nIHRleHQgcHRzLCBkdHMgdG8gcmVsYXRpdmUgdGltZVxuICAgICAgICAgICAgICAgIC8vIHVzaW5nIHRoaXMuX2luaXRQVFMgYW5kIHRoaXMuX2luaXREVFMgdG8gY2FsY3VsYXRlIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgICAgICAgICBzYW1wbGUucHRzID0gKChzYW1wbGUucHRzIC0gaW5pdFBUUykgLyBpbnB1dFRpbWVTY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVzOiB0cmFjay5zYW1wbGVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5fUFRTTm9ybWFsaXplID0gZnVuY3Rpb24gKHZhbHVlLCByZWZlcmVuY2UpIHtcbiAgICAgICAgdmFyIG9mZnNldDtcbiAgICAgICAgaWYgKHJlZmVyZW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZSA8IHZhbHVlKSB7XG4gICAgICAgICAgICAvLyAtIDJeMzNcbiAgICAgICAgICAgIG9mZnNldCA9IC04NTg5OTM0NTkyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gKyAyXjMzXG4gICAgICAgICAgICBvZmZzZXQgPSA4NTg5OTM0NTkyO1xuICAgICAgICB9XG4gICAgICAgIC8qIFBUUyBpcyAzM2JpdCAoZnJvbSAwIHRvIDJeMzMgLTEpXG4gICAgICAgICAgaWYgZGlmZiBiZXR3ZWVuIHZhbHVlIGFuZCByZWZlcmVuY2UgaXMgYmlnZ2VyIHRoYW4gaGFsZiBvZiB0aGUgYW1wbGl0dWRlICgyXjMyKSB0aGVuIGl0IG1lYW5zIHRoYXRcbiAgICAgICAgICBQVFMgbG9vcGluZyBvY2N1cmVkLiBmaWxsIHRoZSBnYXAgKi9cbiAgICAgICAgd2hpbGUgKE1hdGguYWJzKHZhbHVlIC0gcmVmZXJlbmNlKSA+IDQyOTQ5NjcyOTYpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gTVA0UmVtdXhlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNUDRSZW11eGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3JlbXV4L3Bhc3N0aHJvdWdoLXJlbXV4ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9yZW11eC9wYXNzdGhyb3VnaC1yZW11eGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogcGFzc3Rocm91Z2ggcmVtdXhlclxuKi9cbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBQYXNzVGhyb3VnaFJlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFzc1Rocm91Z2hSZW11eGVyKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB9XG4gICAgUGFzc1Rocm91Z2hSZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgUGFzc1Rocm91Z2hSZW11eGVyLnByb3RvdHlwZS5yZXNldFRpbWVTdGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVtdXggPSBmdW5jdGlvbiAoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0LCByYXdEYXRhKSB7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgICAgIHZhciBzdHJlYW1UeXBlID0gJyc7XG4gICAgICAgIGlmIChhdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICBzdHJlYW1UeXBlICs9ICdhdWRpbyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZGVvVHJhY2spIHtcbiAgICAgICAgICAgIHN0cmVhbVR5cGUgKz0gJ3ZpZGVvJztcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIHtcbiAgICAgICAgICAgIGRhdGExOiByYXdEYXRhLFxuICAgICAgICAgICAgc3RhcnRQVFM6IHRpbWVPZmZzZXQsXG4gICAgICAgICAgICBzdGFydERUUzogdGltZU9mZnNldCxcbiAgICAgICAgICAgIHR5cGU6IHN0cmVhbVR5cGUsXG4gICAgICAgICAgICBoYXNBdWRpbzogISFhdWRpb1RyYWNrLFxuICAgICAgICAgICAgaGFzVmlkZW86ICEhdmlkZW9UcmFjayxcbiAgICAgICAgICAgIG5iOiAxLFxuICAgICAgICAgICAgZHJvcHBlZDogMFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gbm90aWZ5IGVuZCBvZiBwYXJzaW5nXG4gICAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGFzc1Rocm91Z2hSZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFBhc3NUaHJvdWdoUmVtdXhlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy90YXNrLWxvb3AuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3Rhc2stbG9vcC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50X2hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG4vKipcbiAqIFN1Yi1jbGFzcyBzcGVjaWFsaXphdGlvbiBvZiBFdmVudEhhbmRsZXIgYmFzZSBjbGFzcy5cbiAqXG4gKiBUYXNrTG9vcCBhbGxvd3MgdG8gc2NoZWR1bGUgYSB0YXNrIGZ1bmN0aW9uIGJlaW5nIGNhbGxlZCAob3B0aW9ubmFseSByZXBlYXRlZGx5KSBvbiB0aGUgbWFpbiBsb29wLFxuICogc2NoZWR1bGVkIGFzeW5jaHJvbmVvdXNseSwgYXZvaWRpbmcgcmVjdXJzaXZlIGNhbGxzIGluIHRoZSBzYW1lIHRpY2suXG4gKlxuICogVGhlIHRhc2sgaXRzZWxmIGlzIGltcGxlbWVudGVkIGluIGBkb1RpY2tgLiBJdCBjYW4gYmUgcmVxdWVzdGVkIGFuZCBjYWxsZWQgZm9yIHNpbmdsZSBleGVjdXRpb25cbiAqIHVzaW5nIHRoZSBgdGlja2AgbWV0aG9kLlxuICpcbiAqIEl0IHdpbGwgYmUgYXNzdXJlZCB0aGF0IHRoZSB0YXNrIGV4ZWN1dGlvbiBtZXRob2QgKGB0aWNrYCkgb25seSBnZXRzIGNhbGxlZCBvbmNlIHBlciBtYWluIGxvb3AgXCJ0aWNrXCIsXG4gKiBubyBtYXR0ZXIgaG93IG9mdGVuIGl0IGdldHMgcmVxdWVzdGVkIGZvciBleGVjdXRpb24uIEV4ZWN1dGlvbiBpbiBmdXJ0aGVyIHRpY2tzIHdpbGwgYmUgc2NoZWR1bGVkIGFjY29yZGluZ2x5LlxuICpcbiAqIElmIGZ1cnRoZXIgZXhlY3V0aW9uIHJlcXVlc3RzIGhhdmUgYWxyZWFkeSBiZWVuIHNjaGVkdWxlZCBvbiB0aGUgbmV4dCB0aWNrLCBpdCBjYW4gYmUgY2hlY2tlZCB3aXRoIGBoYXNOZXh0VGlja2AsXG4gKiBhbmQgY2FuY2VsbGVkIHdpdGggYGNsZWFyTmV4dFRpY2tgLlxuICpcbiAqIFRoZSB0YXNrIGNhbiBiZSBzY2hlZHVsZWQgYXMgYW4gaW50ZXJ2YWwgcmVwZWF0ZWRseSB3aXRoIGEgcGVyaW9kIGFzIHBhcmFtZXRlciAoc2VlIGBzZXRJbnRlcnZhbGAsIGBjbGVhckludGVydmFsYCkuXG4gKlxuICogU3ViLWNsYXNzZXMgbmVlZCB0byBpbXBsZW1lbnQgdGhlIGBkb1RpY2tgIG1ldGhvZCB3aGljaCB3aWxsIGVmZmVjdGl2ZWx5IGhhdmUgdGhlIHRhc2sgZXhlY3V0aW9uIHJvdXRpbmUuXG4gKlxuICogRnVydGhlciBleHBsYW5hdGlvbnM6XG4gKlxuICogVGhlIGJhc2VjbGFzcyBoYXMgYSBgdGlja2AgbWV0aG9kIHRoYXQgd2lsbCBzY2hlZHVsZSB0aGUgZG9UaWNrIGNhbGwuIEl0IG1heSBiZSBjYWxsZWQgc3luY2hyb25lb3VzbHlcbiAqIG9ubHkgZm9yIGEgc3RhY2stZGVwdGggb2Ygb25lLiBPbiByZS1lbnRyYW50IGNhbGxzLCBzdWItc2VxdWVudCBjYWxscyBhcmUgc2NoZWR1bGVkIGZvciBuZXh0IG1haW4gbG9vcCB0aWNrcy5cbiAqXG4gKiBXaGVuIHRoZSB0YXNrIGV4ZWN1dGlvbiAoYHRpY2tgIG1ldGhvZCkgaXMgY2FsbGVkIGluIHJlLWVudHJhbnQgd2F5IHRoaXMgaXMgZGV0ZWN0ZWQgYW5kXG4gKiB3ZSBhcmUgbGltaXRpbmcgdGhlIHRhc2sgZXhlY3V0aW9uIHBlciBjYWxsIHN0YWNrIHRvIGV4YWN0bHkgb25lLCBidXQgc2NoZWR1bGluZy9wb3N0LXBvbmluZyBmdXJ0aGVyXG4gKiB0YXNrIHByb2Nlc3Npbmcgb24gdGhlIG5leHQgbWFpbiBsb29wIGl0ZXJhdGlvbiAoYWxzbyBrbm93biBhcyBcIm5leHQgdGlja1wiIGluIHRoZSBOb2RlL0pTIHJ1bnRpbWUgbGluZ28pLlxuICovXG52YXIgVGFza0xvb3AgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRhc2tMb29wLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRhc2tMb29wKGhscykge1xuICAgICAgICB2YXIgZXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBldmVudHNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIFtobHNdLmNvbmNhdChldmVudHMpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdGlja0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RpY2tUaW1lciA9IG51bGw7XG4gICAgICAgIF90aGlzLl90aWNrQ2FsbENvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2JvdW5kVGljayA9IF90aGlzLnRpY2suYmluZChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgVGFza0xvb3AucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3lpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNsZWFyIGFsbCB0aW1lcnMgYmVmb3JlIHVucmVnaXN0ZXJpbmcgZnJvbSBldmVudCBidXNcbiAgICAgICAgdGhpcy5jbGVhck5leHRUaWNrKCk7XG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgVGFza0xvb3AucHJvdG90eXBlLmhhc0ludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl90aWNrSW50ZXJ2YWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBUYXNrTG9vcC5wcm90b3R5cGUuaGFzTmV4dFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX3RpY2tUaW1lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaWxsaXMgSW50ZXJ2YWwgdGltZSAobXMpXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgd2hlbiBpbnRlcnZhbCBoYXMgYmVlbiBzY2hlZHVsZWQsIGZhbHNlIHdoZW4gYWxyZWFkeSBzY2hlZHVsZWQgKG5vIGVmZmVjdClcbiAgICAgKi9cbiAgICBUYXNrTG9vcC5wcm90b3R5cGUuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAobWlsbGlzKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGlja0ludGVydmFsKSB7XG4gICAgICAgICAgICB0aGlzLl90aWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLl9ib3VuZFRpY2ssIG1pbGxpcyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIGludGVydmFsIHdhcyBjbGVhcmVkLCBmYWxzZSB3aGVuIG5vbmUgd2FzIHNldCAobm8gZWZmZWN0KVxuICAgICAqL1xuICAgIFRhc2tMb29wLnByb3RvdHlwZS5jbGVhckludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdGlja0ludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3RpY2tJbnRlcnZhbCk7XG4gICAgICAgICAgICB0aGlzLl90aWNrSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgd2hlbiB0aW1lb3V0IHdhcyBjbGVhcmVkLCBmYWxzZSB3aGVuIG5vbmUgd2FzIHNldCAobm8gZWZmZWN0KVxuICAgICAqL1xuICAgIFRhc2tMb29wLnByb3RvdHlwZS5jbGVhck5leHRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdGlja1RpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGlja1RpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tUaW1lciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIGNhbGwgdGhlIHN1YmNsYXNzIGRvVGljayBpbXBsZW1lbnRhdGlvbiBpbiB0aGlzIG1haW4gbG9vcCB0aWNrXG4gICAgICogb3IgaW4gdGhlIG5leHQgb25lICh2aWEgc2V0VGltZW91dCgsMCkpIGluIGNhc2UgaXQgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcbiAgICAgKiBpbiB0aGlzIHRpY2sgKGluIGNhc2UgdGhpcyBpcyBhIHJlLWVudHJhbnQgY2FsbCkuXG4gICAgICovXG4gICAgVGFza0xvb3AucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RpY2tDYWxsQ291bnQrKztcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tDYWxsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZG9UaWNrKCk7XG4gICAgICAgICAgICAvLyByZS1lbnRyYW50IGNhbGwgdG8gdGljayBmcm9tIHByZXZpb3VzIGRvVGljayBjYWxsIHN0YWNrXG4gICAgICAgICAgICAvLyAtPiBzY2hlZHVsZSBhIGNhbGwgb24gdGhlIG5leHQgbWFpbiBsb29wIGl0ZXJhdGlvbiB0byBwcm9jZXNzIHRoaXMgdGFzayBwcm9jZXNzaW5nIHJlcXVlc3RcbiAgICAgICAgICAgIGlmICh0aGlzLl90aWNrQ2FsbENvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBvbmx5IG9uZSB0aW1lciBleGlzdHMgYXQgYW55IHRpbWUgYXQgbWF4XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck5leHRUaWNrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja1RpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZFRpY2ssIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGlja0NhbGxDb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvciBzdWJjbGFzcyB0byBpbXBsZW1lbnQgdGFzayBsb2dpY1xuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIFRhc2tMb29wLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIFRhc2tMb29wO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVGFza0xvb3A7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvYXR0ci1saXN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9hdHRyLWxpc3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKE51bWJlcikge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWCA9IC9eKFxcZCspeChcXGQrKSQvOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG52YXIgQVRUUl9MSVNUX1JFR0VYID0gL1xccyooLis/KVxccyo9KCg/OlxcXCIuKj9cXFwiKXwuKj8pKD86LHwkKS9nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2thbm9uZ2lsL25vZGUtbTN1OHBhcnNlL2Jsb2IvbWFzdGVyL2F0dHJsaXN0LmpzXG52YXIgQXR0ckxpc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXR0ckxpc3QoYXR0cnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGF0dHJzID0gQXR0ckxpc3QucGFyc2VBdHRyTGlzdChhdHRycyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1thdHRyXSA9IGF0dHJzW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsSW50ZWdlciA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICB2YXIgaW50VmFsdWUgPSBwYXJzZUludCh0aGlzW2F0dHJOYW1lXSwgMTApO1xuICAgICAgICBpZiAoaW50VmFsdWUgPiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRWYWx1ZTtcbiAgICB9O1xuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5oZXhhZGVjaW1hbEludGVnZXIgPSBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXNbYXR0ck5hbWVdKSB7XG4gICAgICAgICAgICB2YXIgc3RyaW5nVmFsdWUgPSAodGhpc1thdHRyTmFtZV0gfHwgJzB4Jykuc2xpY2UoMik7XG4gICAgICAgICAgICBzdHJpbmdWYWx1ZSA9ICgoc3RyaW5nVmFsdWUubGVuZ3RoICYgMSkgPyAnMCcgOiAnJykgKyBzdHJpbmdWYWx1ZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG5ldyBVaW50OEFycmF5KHN0cmluZ1ZhbHVlLmxlbmd0aCAvIDIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdWYWx1ZS5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVtpXSA9IHBhcnNlSW50KHN0cmluZ1ZhbHVlLnNsaWNlKGkgKiAyLCBpICogMiArIDIpLCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXR0ckxpc3QucHJvdG90eXBlLmhleGFkZWNpbWFsSW50ZWdlckFzTnVtYmVyID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgIHZhciBpbnRWYWx1ZSA9IHBhcnNlSW50KHRoaXNbYXR0ck5hbWVdLCAxNik7XG4gICAgICAgIGlmIChpbnRWYWx1ZSA+IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludFZhbHVlO1xuICAgIH07XG4gICAgQXR0ckxpc3QucHJvdG90eXBlLmRlY2ltYWxGbG9hdGluZ1BvaW50ID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXNbYXR0ck5hbWVdKTtcbiAgICB9O1xuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5lbnVtZXJhdGVkU3RyaW5nID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzW2F0dHJOYW1lXTtcbiAgICB9O1xuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICB2YXIgcmVzID0gREVDSU1BTF9SRVNPTFVUSU9OX1JFR0VYLmV4ZWModGhpc1thdHRyTmFtZV0pO1xuICAgICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogcGFyc2VJbnQocmVzWzFdLCAxMCksXG4gICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KHJlc1syXSwgMTApXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBBdHRyTGlzdC5wYXJzZUF0dHJMaXN0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHZhciBtYXRjaCwgYXR0cnMgPSB7fTtcbiAgICAgICAgQVRUUl9MSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBBVFRSX0xJU1RfUkVHRVguZXhlYyhpbnB1dCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaFsyXSwgcXVvdGUgPSAnXCInO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YocXVvdGUpID09PSAwICYmXG4gICAgICAgICAgICAgICAgdmFsdWUubGFzdEluZGV4T2YocXVvdGUpID09PSAodmFsdWUubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dHJzW21hdGNoWzFdXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9O1xuICAgIHJldHVybiBBdHRyTGlzdDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBdHRyTGlzdDtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvYmluYXJ5LXNlYXJjaC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2JpbmFyeS1zZWFyY2guanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEJpbmFyeVNlYXJjaCA9IHtcbiAgICAvKipcbiAgICAgICAqIFNlYXJjaGVzIGZvciBhbiBpdGVtIGluIGFuIGFycmF5IHdoaWNoIG1hdGNoZXMgYSBjZXJ0YWluIGNvbmRpdGlvbi5cbiAgICAgICAqIFRoaXMgcmVxdWlyZXMgdGhlIGNvbmRpdGlvbiB0byBvbmx5IG1hdGNoIG9uZSBpdGVtIGluIHRoZSBhcnJheSxcbiAgICAgICAqIGFuZCBmb3IgdGhlIGFycmF5IHRvIGJlIG9yZGVyZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyaXNvbkZ1bmN0aW9uXG4gICAgICAgKiAgICAgIENhbGxlZCBhbmQgcHJvdmlkZWQgYSBjYW5kaWRhdGUgaXRlbSBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAgICAgKiAgICAgIFNob3VsZCByZXR1cm46XG4gICAgICAgKiAgICAgICAgICA+IC0xIGlmIHRoZSBpdGVtIHNob3VsZCBiZSBsb2NhdGVkIGF0IGEgbG93ZXIgaW5kZXggdGhhbiB0aGUgcHJvdmlkZWQgaXRlbS5cbiAgICAgICAqICAgICAgICAgID4gMSBpZiB0aGUgaXRlbSBzaG91bGQgYmUgbG9jYXRlZCBhdCBhIGhpZ2hlciBpbmRleCB0aGFuIHRoZSBwcm92aWRlZCBpdGVtLlxuICAgICAgICogICAgICAgICAgPiAwIGlmIHRoZSBpdGVtIGlzIHRoZSBpdGVtIHlvdSdyZSBsb29raW5nIGZvci5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHsqfSBUaGUgb2JqZWN0IGlmIGl0IGlzIGZvdW5kIG9yIG51bGwgb3RoZXJ3aXNlLlxuICAgICAgICovXG4gICAgc2VhcmNoOiBmdW5jdGlvbiAobGlzdCwgY29tcGFyaXNvbkZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBtaW5JbmRleCA9IDA7XG4gICAgICAgIHZhciBtYXhJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgIHdoaWxlIChtaW5JbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgY3VycmVudEluZGV4ID0gKG1pbkluZGV4ICsgbWF4SW5kZXgpIC8gMiB8IDA7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGxpc3RbY3VycmVudEluZGV4XTtcbiAgICAgICAgICAgIHZhciBjb21wYXJpc29uUmVzdWx0ID0gY29tcGFyaXNvbkZ1bmN0aW9uKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChjb21wYXJpc29uUmVzdWx0ID4gMCkge1xuICAgICAgICAgICAgICAgIG1pbkluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBhcmlzb25SZXN1bHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBCaW5hcnlTZWFyY2g7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2J1ZmZlci1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbW9kdWxlIEJ1ZmZlckhlbHBlclxuICpcbiAqIFByb3ZpZGluZyBtZXRob2RzIGRlYWxpbmcgd2l0aCBidWZmZXIgbGVuZ3RoIHJldHJpZXZhbCBmb3IgZXhhbXBsZS5cbiAqXG4gKiBJbiBnZW5lcmFsLCBhIGhlbHBlciBhcm91bmQgSFRNTDUgTWVkaWFFbGVtZW50IFRpbWVSYW5nZXMgZ2F0aGVyZWQgZnJvbSBgYnVmZmVyZWRgIHByb3BlcnR5LlxuICpcbiAqIEFsc28gQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9idWZmZXJlZFxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCdWZmZXJIZWxwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVmZmVySGVscGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBgbWVkaWFgJ3MgYnVmZmVyZWQgaW5jbHVkZSBgcG9zaXRpb25gXG4gICAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fFNvdXJjZUJ1ZmZlcn0gbWVkaWFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCA9IGZ1bmN0aW9uIChtZWRpYSwgcG9zaXRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXJlZCA9IG1lZGlhLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID49IGJ1ZmZlcmVkLnN0YXJ0KGkpICYmIHBvc2l0aW9uIDw9IGJ1ZmZlcmVkLmVuZChpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGNhdGNoXG4gICAgICAgICAgICAvLyBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIHJlYWQgdGhlICdidWZmZXJlZCcgcHJvcGVydHkgZnJvbSAnU291cmNlQnVmZmVyJzpcbiAgICAgICAgICAgIC8vIFRoaXMgU291cmNlQnVmZmVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IG1lZGlhIHNvdXJjZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvID0gZnVuY3Rpb24gKG1lZGlhLCBwb3MsIG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZidWZmZXJlZCA9IG1lZGlhLmJ1ZmZlcmVkLCBidWZmZXJlZCA9IFtdLCBpID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyZWQucHVzaCh7IHN0YXJ0OiB2YnVmZmVyZWQuc3RhcnQoaSksIGVuZDogdmJ1ZmZlcmVkLmVuZChpKSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyZWRJbmZvKGJ1ZmZlcmVkLCBwb3MsIG1heEhvbGVEdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGNhdGNoXG4gICAgICAgICAgICAvLyBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIHJlYWQgdGhlICdidWZmZXJlZCcgcHJvcGVydHkgZnJvbSAnU291cmNlQnVmZmVyJzpcbiAgICAgICAgICAgIC8vIFRoaXMgU291cmNlQnVmZmVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IG1lZGlhIHNvdXJjZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGxlbjogMCwgc3RhcnQ6IHBvcywgZW5kOiBwb3MsIG5leHRTdGFydDogdW5kZWZpbmVkIH07XG4gICAgfTtcbiAgICBCdWZmZXJIZWxwZXIuYnVmZmVyZWRJbmZvID0gZnVuY3Rpb24gKGJ1ZmZlcmVkLCBwb3MsIG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICB2YXIgYnVmZmVyZWQyID0gW10sIFxuICAgICAgICAvLyBidWZmZXJTdGFydCBhbmQgYnVmZmVyRW5kIGFyZSBidWZmZXIgYm91bmRhcmllcyBhcm91bmQgY3VycmVudCB2aWRlbyBwb3NpdGlvblxuICAgICAgICBidWZmZXJMZW4sIGJ1ZmZlclN0YXJ0LCBidWZmZXJFbmQsIGJ1ZmZlclN0YXJ0TmV4dCwgaTtcbiAgICAgICAgLy8gc29ydCBvbiBidWZmZXIuc3RhcnQvc21hbGxlciBlbmQgKElFIGRvZXMgbm90IGFsd2F5cyByZXR1cm4gc29ydGVkIGJ1ZmZlcmVkIHJhbmdlKVxuICAgICAgICBidWZmZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IGEuc3RhcnQgLSBiLnN0YXJ0O1xuICAgICAgICAgICAgaWYgKGRpZmYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBiLmVuZCAtIGEuZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gdGhlcmUgbWlnaHQgYmUgc29tZSBzbWFsbCBob2xlcyBiZXR3ZWVuIGJ1ZmZlciB0aW1lIHJhbmdlXG4gICAgICAgIC8vIGNvbnNpZGVyIHRoYXQgaG9sZXMgc21hbGxlciB0aGFuIG1heEhvbGVEdXJhdGlvbiBhcmUgaXJyZWxldmFudCBhbmQgYnVpbGQgYW5vdGhlclxuICAgICAgICAvLyBidWZmZXIgdGltZSByYW5nZSByZXByZXNlbnRhdGlvbnMgdGhhdCBkaXNjYXJkcyB0aG9zZSBob2xlc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWYybGVuID0gYnVmZmVyZWQyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChidWYybGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1ZjJlbmQgPSBidWZmZXJlZDJbYnVmMmxlbiAtIDFdLmVuZDtcbiAgICAgICAgICAgICAgICAvLyBpZiBzbWFsbCBob2xlICh2YWx1ZSBiZXR3ZWVuIDAgb3IgbWF4SG9sZUR1cmF0aW9uICkgb3Igb3ZlcmxhcHBpbmcgKG5lZ2F0aXZlKVxuICAgICAgICAgICAgICAgIGlmICgoYnVmZmVyZWRbaV0uc3RhcnQgLSBidWYyZW5kKSA8IG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBtZXJnZSBvdmVybGFwcGluZyB0aW1lIHJhbmdlc1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgbGFzdFJhbmdlLmVuZCBvbmx5IGlmIHNtYWxsZXIgdGhhbiBpdGVtLmVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBlLmcuICBbIDEsIDE1XSB3aXRoICBbIDIsOF0gPT4gWyAxLDE1XSAobm8gbmVlZCB0byBtb2RpZnkgbGFzdFJhbmdlLmVuZClcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlcmVhcyBbIDEsIDhdIHdpdGggIFsgMiwxNV0gPT4gWyAxLDE1XSAoIGxhc3RSYW5nZSBzaG91bGQgc3dpdGNoIGZyb20gWzEsOF0gdG8gWzEsMTVdKVxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyZWRbaV0uZW5kID4gYnVmMmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyZWQyW2J1ZjJsZW4gLSAxXS5lbmQgPSBidWZmZXJlZFtpXS5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJpZyBob2xlXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcmVkMi5wdXNoKGJ1ZmZlcmVkW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCB2YWx1ZVxuICAgICAgICAgICAgICAgIGJ1ZmZlcmVkMi5wdXNoKGJ1ZmZlcmVkW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwLCBidWZmZXJMZW4gPSAwLCBidWZmZXJTdGFydCA9IGJ1ZmZlckVuZCA9IHBvczsgaSA8IGJ1ZmZlcmVkMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gYnVmZmVyZWQyW2ldLnN0YXJ0LCBlbmQgPSBidWZmZXJlZDJbaV0uZW5kO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnYnVmIHN0YXJ0L2VuZDonICsgYnVmZmVyZWQuc3RhcnQoaSkgKyAnLycgKyBidWZmZXJlZC5lbmQoaSkpO1xuICAgICAgICAgICAgaWYgKChwb3MgKyBtYXhIb2xlRHVyYXRpb24pID49IHN0YXJ0ICYmIHBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgIC8vIHBsYXkgcG9zaXRpb24gaXMgaW5zaWRlIHRoaXMgYnVmZmVyIFRpbWVSYW5nZSwgcmV0cmlldmUgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvbiBhbmQgYnVmZmVyIGxlbmd0aFxuICAgICAgICAgICAgICAgIGJ1ZmZlclN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyRW5kID0gZW5kO1xuICAgICAgICAgICAgICAgIGJ1ZmZlckxlbiA9IGJ1ZmZlckVuZCAtIHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChwb3MgKyBtYXhIb2xlRHVyYXRpb24pIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJTdGFydE5leHQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBsZW46IGJ1ZmZlckxlbiwgc3RhcnQ6IGJ1ZmZlclN0YXJ0LCBlbmQ6IGJ1ZmZlckVuZCwgbmV4dFN0YXJ0OiBidWZmZXJTdGFydE5leHQgfTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJIZWxwZXI7XG59KCkpO1xuZXhwb3J0cy5CdWZmZXJIZWxwZXIgPSBCdWZmZXJIZWxwZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICpcbiAqIFRoaXMgY29kZSB3YXMgcG9ydGVkIGZyb20gdGhlIGRhc2guanMgcHJvamVjdCBhdDpcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL0Rhc2gtSW5kdXN0cnktRm9ydW0vZGFzaC5qcy9ibG9iL2RldmVsb3BtZW50L2V4dGVybmFscy9jZWE2MDgtcGFyc2VyLmpzXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXNoLUluZHVzdHJ5LUZvcnVtL2Rhc2guanMvY29tbWl0LzgyNjliMjZhNzYxZTA4NTNiYjIxZDc4NzgwZWQ5NDUxNDRlY2RkNGQjZGlmZi03MWJjMjk1YTJkNmI2YjcwOTNhMWQzMjkwZDUzYTRiMlxuICpcbiAqIFRoZSBvcmlnaW5hbCBjb3B5cmlnaHQgYXBwZWFycyBiZWxvdzpcbiAqXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDE2LCBEQVNIIEluZHVzdHJ5IEZvcnVtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAyLiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG4vKipcbiAgICAgKiAgRXhjZXB0aW9ucyBmcm9tIHJlZ3VsYXIgQVNDSUkuIENvZGVQb2ludHMgYXJlIG1hcHBlZCB0byBVVEYtMTYgY29kZXNcbiAgICAgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyA9IHtcbiAgICAweDJhOiAweGUxLFxuICAgIDB4NWM6IDB4ZTksXG4gICAgMHg1ZTogMHhlZCxcbiAgICAweDVmOiAweGYzLFxuICAgIDB4NjA6IDB4ZmEsXG4gICAgMHg3YjogMHhlNyxcbiAgICAweDdjOiAweGY3LFxuICAgIDB4N2Q6IDB4ZDEsXG4gICAgMHg3ZTogMHhmMSxcbiAgICAweDdmOiAweDI1ODgsXG4gICAgLy8gVEhJUyBCTE9DSyBJTkNMVURFUyBUSEUgMTYgRVhURU5ERUQgKFRXTy1CWVRFKSBMSU5FIDIxIENIQVJBQ1RFUlNcbiAgICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTEgQU5EIExPVyBCRVRXRUVOIDB4MzAgQU5EIDB4M0ZcbiAgICAvLyBUSElTIE1FQU5TIFRIQVQgXFx4NTAgTVVTVCBCRSBBRERFRCBUTyBUSEUgVkFMVUVTXG4gICAgMHg4MDogMHhhZSxcbiAgICAweDgxOiAweGIwLFxuICAgIDB4ODI6IDB4YmQsXG4gICAgMHg4MzogMHhiZixcbiAgICAweDg0OiAweDIxMjIsXG4gICAgMHg4NTogMHhhMixcbiAgICAweDg2OiAweGEzLFxuICAgIDB4ODc6IDB4MjY2YSxcbiAgICAweDg4OiAweGUwLFxuICAgIDB4ODk6IDB4MjAsXG4gICAgMHg4YTogMHhlOCxcbiAgICAweDhiOiAweGUyLFxuICAgIDB4OGM6IDB4ZWEsXG4gICAgMHg4ZDogMHhlZSxcbiAgICAweDhlOiAweGY0LFxuICAgIDB4OGY6IDB4ZmIsXG4gICAgLy8gVEhJUyBCTE9DSyBJTkNMVURFUyBUSEUgMzIgRVhURU5ERUQgKFRXTy1CWVRFKSBMSU5FIDIxIENIQVJBQ1RFUlNcbiAgICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTIgQU5EIExPVyBCRVRXRUVOIDB4MjAgQU5EIDB4M0ZcbiAgICAweDkwOiAweGMxLFxuICAgIDB4OTE6IDB4YzksXG4gICAgMHg5MjogMHhkMyxcbiAgICAweDkzOiAweGRhLFxuICAgIDB4OTQ6IDB4ZGMsXG4gICAgMHg5NTogMHhmYyxcbiAgICAweDk2OiAweDIwMTgsXG4gICAgMHg5NzogMHhhMSxcbiAgICAweDk4OiAweDJhLFxuICAgIDB4OTk6IDB4MjAxOSxcbiAgICAweDlhOiAweDI1MDEsXG4gICAgMHg5YjogMHhhOSxcbiAgICAweDljOiAweDIxMjAsXG4gICAgMHg5ZDogMHgyMDIyLFxuICAgIDB4OWU6IDB4MjAxYyxcbiAgICAweDlmOiAweDIwMWQsXG4gICAgMHhhMDogMHhjMCxcbiAgICAweGExOiAweGMyLFxuICAgIDB4YTI6IDB4YzcsXG4gICAgMHhhMzogMHhjOCxcbiAgICAweGE0OiAweGNhLFxuICAgIDB4YTU6IDB4Y2IsXG4gICAgMHhhNjogMHhlYixcbiAgICAweGE3OiAweGNlLFxuICAgIDB4YTg6IDB4Y2YsXG4gICAgMHhhOTogMHhlZixcbiAgICAweGFhOiAweGQ0LFxuICAgIDB4YWI6IDB4ZDksXG4gICAgMHhhYzogMHhmOSxcbiAgICAweGFkOiAweGRiLFxuICAgIDB4YWU6IDB4YWIsXG4gICAgMHhhZjogMHhiYixcbiAgICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAzMiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xuICAgIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMyBBTkQgTE9XIEJFVFdFRU4gMHgyMCBBTkQgMHgzRlxuICAgIDB4YjA6IDB4YzMsXG4gICAgMHhiMTogMHhlMyxcbiAgICAweGIyOiAweGNkLFxuICAgIDB4YjM6IDB4Y2MsXG4gICAgMHhiNDogMHhlYyxcbiAgICAweGI1OiAweGQyLFxuICAgIDB4YjY6IDB4ZjIsXG4gICAgMHhiNzogMHhkNSxcbiAgICAweGI4OiAweGY1LFxuICAgIDB4Yjk6IDB4N2IsXG4gICAgMHhiYTogMHg3ZCxcbiAgICAweGJiOiAweDVjLFxuICAgIDB4YmM6IDB4NWUsXG4gICAgMHhiZDogMHg1ZixcbiAgICAweGJlOiAweDdjLFxuICAgIDB4YmY6IDB4MjIzYyxcbiAgICAweGMwOiAweGM0LFxuICAgIDB4YzE6IDB4ZTQsXG4gICAgMHhjMjogMHhkNixcbiAgICAweGMzOiAweGY2LFxuICAgIDB4YzQ6IDB4ZGYsXG4gICAgMHhjNTogMHhhNSxcbiAgICAweGM2OiAweGE0LFxuICAgIDB4Yzc6IDB4MjUwMyxcbiAgICAweGM4OiAweGM1LFxuICAgIDB4Yzk6IDB4ZTUsXG4gICAgMHhjYTogMHhkOCxcbiAgICAweGNiOiAweGY4LFxuICAgIDB4Y2M6IDB4MjUwZixcbiAgICAweGNkOiAweDI1MTMsXG4gICAgMHhjZTogMHgyNTE3LFxuICAgIDB4Y2Y6IDB4MjUxYiAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdXAgYW5kIGxlZnRcbn07XG4vKipcbiAqIFV0aWxzXG4gKi9cbnZhciBnZXRDaGFyRm9yQnl0ZSA9IGZ1bmN0aW9uIChieXRlKSB7XG4gICAgdmFyIGNoYXJDb2RlID0gYnl0ZTtcbiAgICBpZiAoc3BlY2lhbENlYTYwOENoYXJzQ29kZXMuaGFzT3duUHJvcGVydHkoYnl0ZSkpIHtcbiAgICAgICAgY2hhckNvZGUgPSBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlc1tieXRlXTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xufTtcbnZhciBOUl9ST1dTID0gMTUsIE5SX0NPTFMgPSAxMDA7XG4vLyBUYWJsZXMgdG8gbG9vayB1cCByb3cgZnJvbSBQQUMgZGF0YVxudmFyIHJvd3NMb3dDaDEgPSB7IDB4MTE6IDEsIDB4MTI6IDMsIDB4MTU6IDUsIDB4MTY6IDcsIDB4MTc6IDksIDB4MTA6IDExLCAweDEzOiAxMiwgMHgxNDogMTQgfTtcbnZhciByb3dzSGlnaENoMSA9IHsgMHgxMTogMiwgMHgxMjogNCwgMHgxNTogNiwgMHgxNjogOCwgMHgxNzogMTAsIDB4MTM6IDEzLCAweDE0OiAxNSB9O1xudmFyIHJvd3NMb3dDaDIgPSB7IDB4MTk6IDEsIDB4MUE6IDMsIDB4MUQ6IDUsIDB4MUU6IDcsIDB4MUY6IDksIDB4MTg6IDExLCAweDFCOiAxMiwgMHgxQzogMTQgfTtcbnZhciByb3dzSGlnaENoMiA9IHsgMHgxOTogMiwgMHgxQTogNCwgMHgxRDogNiwgMHgxRTogOCwgMHgxRjogMTAsIDB4MUI6IDEzLCAweDFDOiAxNSB9O1xudmFyIGJhY2tncm91bmRDb2xvcnMgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnYmxhY2snLCAndHJhbnNwYXJlbnQnXTtcbi8qKlxuICogU2ltcGxlIGxvZ2dlciBjbGFzcyB0byBiZSBhYmxlIHRvIHdyaXRlIHdpdGggdGltZS1zdGFtcHMgYW5kIGZpbHRlciBvbiBsZXZlbC5cbiAqL1xudmFyIGxvZ2dlciA9IHtcbiAgICB2ZXJib3NlRmlsdGVyOiB7ICdEQVRBJzogMywgJ0RFQlVHJzogMywgJ0lORk8nOiAyLCAnV0FSTklORyc6IDIsICdURVhUJzogMSwgJ0VSUk9SJzogMCB9LFxuICAgIHRpbWU6IG51bGwsXG4gICAgdmVyYm9zZUxldmVsOiAwLFxuICAgIHNldFRpbWU6IGZ1bmN0aW9uIChuZXdUaW1lKSB7XG4gICAgICAgIHRoaXMudGltZSA9IG5ld1RpbWU7XG4gICAgfSxcbiAgICBsb2c6IGZ1bmN0aW9uIChzZXZlcml0eSwgbXNnKSB7XG4gICAgICAgIHZhciBtaW5MZXZlbCA9IHRoaXMudmVyYm9zZUZpbHRlcltzZXZlcml0eV07XG4gICAgICAgIGlmICh0aGlzLnZlcmJvc2VMZXZlbCA+PSBtaW5MZXZlbCkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50aW1lICsgJyBbJyArIHNldmVyaXR5ICsgJ10gJyArIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xudmFyIG51bUFycmF5VG9IZXhBcnJheSA9IGZ1bmN0aW9uIChudW1BcnJheSkge1xuICAgIHZhciBoZXhBcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaGV4QXJyYXkucHVzaChudW1BcnJheVtqXS50b1N0cmluZygxNikpO1xuICAgIH1cbiAgICByZXR1cm4gaGV4QXJyYXk7XG59O1xudmFyIFBlblN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBlblN0YXRlKGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpIHtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gZm9yZWdyb3VuZCB8fCAnd2hpdGUnO1xuICAgICAgICB0aGlzLnVuZGVybGluZSA9IHVuZGVybGluZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gaXRhbGljcyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZCB8fCAnYmxhY2snO1xuICAgICAgICB0aGlzLmZsYXNoID0gZmxhc2ggfHwgZmFsc2U7XG4gICAgfVxuICAgIFBlblN0YXRlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gJ3doaXRlJztcbiAgICAgICAgdGhpcy51bmRlcmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9ICdibGFjayc7XG4gICAgICAgIHRoaXMuZmxhc2ggPSBmYWxzZTtcbiAgICB9O1xuICAgIFBlblN0YXRlLnByb3RvdHlwZS5zZXRTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVzKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gWydmb3JlZ3JvdW5kJywgJ3VuZGVybGluZScsICdpdGFsaWNzJywgJ2JhY2tncm91bmQnLCAnZmxhc2gnXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBhdHRyaWJzW2ldO1xuICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3N0eWxlXSA9IHN0eWxlc1tzdHlsZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBlblN0YXRlLnByb3RvdHlwZS5pc0RlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5mb3JlZ3JvdW5kID09PSAnd2hpdGUnICYmICF0aGlzLnVuZGVybGluZSAmJiAhdGhpcy5pdGFsaWNzICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQgPT09ICdibGFjaycgJiYgIXRoaXMuZmxhc2gpO1xuICAgIH07XG4gICAgUGVuU3RhdGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gKCh0aGlzLmZvcmVncm91bmQgPT09IG90aGVyLmZvcmVncm91bmQpICYmXG4gICAgICAgICAgICAodGhpcy51bmRlcmxpbmUgPT09IG90aGVyLnVuZGVybGluZSkgJiZcbiAgICAgICAgICAgICh0aGlzLml0YWxpY3MgPT09IG90aGVyLml0YWxpY3MpICYmXG4gICAgICAgICAgICAodGhpcy5iYWNrZ3JvdW5kID09PSBvdGhlci5iYWNrZ3JvdW5kKSAmJlxuICAgICAgICAgICAgKHRoaXMuZmxhc2ggPT09IG90aGVyLmZsYXNoKSk7XG4gICAgfTtcbiAgICBQZW5TdGF0ZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChuZXdQZW5TdGF0ZSkge1xuICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBuZXdQZW5TdGF0ZS5mb3JlZ3JvdW5kO1xuICAgICAgICB0aGlzLnVuZGVybGluZSA9IG5ld1BlblN0YXRlLnVuZGVybGluZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gbmV3UGVuU3RhdGUuaXRhbGljcztcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gbmV3UGVuU3RhdGUuYmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5mbGFzaCA9IG5ld1BlblN0YXRlLmZsYXNoO1xuICAgIH07XG4gICAgUGVuU3RhdGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKCdjb2xvcj0nICsgdGhpcy5mb3JlZ3JvdW5kICsgJywgdW5kZXJsaW5lPScgKyB0aGlzLnVuZGVybGluZSArICcsIGl0YWxpY3M9JyArIHRoaXMuaXRhbGljcyArXG4gICAgICAgICAgICAnLCBiYWNrZ3JvdW5kPScgKyB0aGlzLmJhY2tncm91bmQgKyAnLCBmbGFzaD0nICsgdGhpcy5mbGFzaCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGVuU3RhdGU7XG59KCkpO1xuLyoqXG4gKiBVbmljb2RlIGNoYXJhY3RlciB3aXRoIHN0eWxpbmcgYW5kIGJhY2tncm91bmQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFN0eWxlZFVuaWNvZGVDaGFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0eWxlZFVuaWNvZGVDaGFyKHVjaGFyLCBmb3JlZ3JvdW5kLCB1bmRlcmxpbmUsIGl0YWxpY3MsIGJhY2tncm91bmQsIGZsYXNoKSB7XG4gICAgICAgIHRoaXMudWNoYXIgPSB1Y2hhciB8fCAnICc7IC8vIHVuaWNvZGUgY2hhcmFjdGVyXG4gICAgICAgIHRoaXMucGVuU3RhdGUgPSBuZXcgUGVuU3RhdGUoZm9yZWdyb3VuZCwgdW5kZXJsaW5lLCBpdGFsaWNzLCBiYWNrZ3JvdW5kLCBmbGFzaCk7XG4gICAgfVxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51Y2hhciA9ICcgJztcbiAgICAgICAgdGhpcy5wZW5TdGF0ZS5yZXNldCgpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLnNldENoYXIgPSBmdW5jdGlvbiAodWNoYXIsIG5ld1BlblN0YXRlKSB7XG4gICAgICAgIHRoaXMudWNoYXIgPSB1Y2hhcjtcbiAgICAgICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld1BlblN0YXRlKTtcbiAgICB9O1xuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5zZXRQZW5TdGF0ZSA9IGZ1bmN0aW9uIChuZXdQZW5TdGF0ZSkge1xuICAgICAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3UGVuU3RhdGUpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gb3RoZXIudWNoYXIgJiYgdGhpcy5wZW5TdGF0ZS5lcXVhbHMob3RoZXIucGVuU3RhdGUpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiAobmV3Q2hhcikge1xuICAgICAgICB0aGlzLnVjaGFyID0gbmV3Q2hhci51Y2hhcjtcbiAgICAgICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld0NoYXIucGVuU3RhdGUpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVjaGFyID09PSAnICcgJiYgdGhpcy5wZW5TdGF0ZS5pc0RlZmF1bHQoKTtcbiAgICB9O1xuICAgIHJldHVybiBTdHlsZWRVbmljb2RlQ2hhcjtcbn0oKSk7XG4vKipcbiAqIENFQS02MDggcm93IGNvbnNpc3Rpbmcgb2YgTlJfQ09MUyBpbnN0YW5jZXMgb2YgU3R5bGVkVW5pY29kZUNoYXIuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFJvdyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSb3coKSB7XG4gICAgICAgIHRoaXMuY2hhcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnMucHVzaChuZXcgU3R5bGVkVW5pY29kZUNoYXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZSA9IG5ldyBQZW5TdGF0ZSgpO1xuICAgIH1cbiAgICBSb3cucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgZXF1YWwgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmVxdWFscyhvdGhlci5jaGFyc1tpXSkpIHtcbiAgICAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcXVhbDtcbiAgICB9O1xuICAgIFJvdy5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpXS5jb3B5KG90aGVyLmNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiAgU2V0IHRoZSBjdXJzb3IgdG8gYSB2YWxpZCBjb2x1bW4uXG4gICAgICAgKi9cbiAgICBSb3cucHJvdG90eXBlLnNldEN1cnNvciA9IGZ1bmN0aW9uIChhYnNQb3MpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zICE9PSBhYnNQb3MpIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gYWJzUG9zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyA8IDApIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0VSUk9SJywgJ05lZ2F0aXZlIGN1cnNvciBwb3NpdGlvbiAnICsgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucG9zID4gTlJfQ09MUykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnRVJST1InLCAnVG9vIGxhcmdlIGN1cnNvciBwb3NpdGlvbiAnICsgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSBOUl9DT0xTO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIE1vdmUgdGhlIGN1cnNvciByZWxhdGl2ZSB0byBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAgICovXG4gICAgUm93LnByb3RvdHlwZS5tb3ZlQ3Vyc29yID0gZnVuY3Rpb24gKHJlbFBvcykge1xuICAgICAgICB2YXIgbmV3UG9zID0gdGhpcy5wb3MgKyByZWxQb3M7XG4gICAgICAgIGlmIChyZWxQb3MgPiAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5wb3MgKyAxOyBpIDwgbmV3UG9zICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tpXS5zZXRQZW5TdGF0ZSh0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDdXJzb3IobmV3UG9zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogQmFja3NwYWNlLCBtb3ZlIG9uZSBzdGVwIGJhY2sgYW5kIGNsZWFyIGNoYXJhY3Rlci5cbiAgICAgICAqL1xuICAgIFJvdy5wcm90b3R5cGUuYmFja1NwYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3IoLTEpO1xuICAgICAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKCcgJywgdGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5pbnNlcnRDaGFyID0gZnVuY3Rpb24gKGJ5dGUpIHtcbiAgICAgICAgaWYgKGJ5dGUgPj0gMHg5MCkgeyAvLyBFeHRlbmRlZCBjaGFyXG4gICAgICAgICAgICB0aGlzLmJhY2tTcGFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFyID0gZ2V0Q2hhckZvckJ5dGUoYnl0ZSk7XG4gICAgICAgIGlmICh0aGlzLnBvcyA+PSBOUl9DT0xTKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdFUlJPUicsICdDYW5ub3QgaW5zZXJ0ICcgKyBieXRlLnRvU3RyaW5nKDE2KSArXG4gICAgICAgICAgICAgICAgJyAoJyArIGNoYXIgKyAnKSBhdCBwb3NpdGlvbiAnICsgdGhpcy5wb3MgKyAnLiBTa2lwcGluZyBpdCEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKGNoYXIsIHRoaXMuY3VyclBlblN0YXRlKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKDEpO1xuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5jbGVhckZyb21Qb3MgPSBmdW5jdGlvbiAoc3RhcnRQb3MpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0UG9zOyBpIDwgTlJfQ09MUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2ldLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJvdy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJGcm9tUG9zKDApO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuY3VyclBlblN0YXRlLnJlc2V0KCk7XG4gICAgfTtcbiAgICBSb3cucHJvdG90eXBlLmNsZWFyVG9FbmRPZlJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhckZyb21Qb3ModGhpcy5wb3MpO1xuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5nZXRUZXh0U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGhpcy5jaGFyc1tpXS51Y2hhcjtcbiAgICAgICAgICAgIGlmIChjaGFyICE9PSAnICcpIHtcbiAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhcnMucHVzaChjaGFyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFycy5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5zZXRQZW5TdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVzKSB7XG4gICAgICAgIHRoaXMuY3VyclBlblN0YXRlLnNldFN0eWxlcyhzdHlsZXMpO1xuICAgICAgICB2YXIgY3VyckNoYXIgPSB0aGlzLmNoYXJzW3RoaXMucG9zXTtcbiAgICAgICAgY3VyckNoYXIuc2V0UGVuU3RhdGUodGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFJvdztcbn0oKSk7XG4vKipcbiAqIEtlZXAgYSBDRUEtNjA4IHNjcmVlbiBvZiAzMngxNSBzdHlsZWQgY2hhcmFjdGVyc1xuICogQGNvbnN0cnVjdG9yXG4qL1xudmFyIENhcHRpb25TY3JlZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FwdGlvblNjcmVlbigpIHtcbiAgICAgICAgdGhpcy5yb3dzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3MucHVzaChuZXcgUm93KCkpO1xuICAgICAgICB9IC8vIE5vdGUgdGhhdCB3ZSB1c2UgemVyby1iYXNlZCBudW1iZXJpbmcgKDAtMTQpXG4gICAgICAgIHRoaXMuY3VyclJvdyA9IE5SX1JPV1MgLSAxO1xuICAgICAgICB0aGlzLm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3NbaV0uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJSb3cgPSBOUl9ST1dTIC0gMTtcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgZXF1YWwgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJvd3NbaV0uZXF1YWxzKG90aGVyLnJvd3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgZXF1YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXF1YWw7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3NbaV0uY29weShvdGhlci5yb3dzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yb3dzW2ldLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuYmFja1NwYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5iYWNrU3BhY2UoKTtcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmNsZWFyVG9FbmRPZlJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuY2xlYXJUb0VuZE9mUm93KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIEluc2VydCBhIGNoYXJhY3RlciAod2l0aG91dCBzdHlsaW5nKSBpbiB0aGUgY3VycmVudCByb3cuXG4gICAgICAgKi9cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5pbnNlcnRDaGFyID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuaW5zZXJ0Q2hhcihjaGFyKTtcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldFBlbiA9IGZ1bmN0aW9uIChzdHlsZXMpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuc2V0UGVuU3R5bGVzKHN0eWxlcyk7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5tb3ZlQ3Vyc29yID0gZnVuY3Rpb24gKHJlbFBvcykge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5tb3ZlQ3Vyc29yKHJlbFBvcyk7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRDdXJzb3IgPSBmdW5jdGlvbiAoYWJzUG9zKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnc2V0Q3Vyc29yOiAnICsgYWJzUG9zKTtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuc2V0Q3Vyc29yKGFic1Bvcyk7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRQQUMgPSBmdW5jdGlvbiAocGFjRGF0YSkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ3BhY0RhdGEgPSAnICsgSlNPTi5zdHJpbmdpZnkocGFjRGF0YSkpO1xuICAgICAgICB2YXIgbmV3Um93ID0gcGFjRGF0YS5yb3cgLSAxO1xuICAgICAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgJiYgbmV3Um93IDwgdGhpcy5uclJvbGxVcFJvd3MgLSAxKSB7XG4gICAgICAgICAgICBuZXdSb3cgPSB0aGlzLm5yUm9sbFVwUm93cyAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgb25seSBhZmZlY3RzIFJvbGwtdXAgQ2FwdGlvbnMgYnkgY2hlY2tpbmcgdGhpcy5uclJvbGxVcFJvd3NcbiAgICAgICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzICYmIHRoaXMuY3VyclJvdyAhPT0gbmV3Um93KSB7XG4gICAgICAgICAgICAvLyBjbGVhciBhbGwgcm93cyBmaXJzdFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd3NbaV0uY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENvcHkgdGhpcy5uclJvbGxVcFJvd3Mgcm93cyBmcm9tIGxhc3RPdXRwdXRTY3JlZW4gYW5kIHBsYWNlIGl0IGluIHRoZSBuZXdSb3cgbG9jYXRpb25cbiAgICAgICAgICAgIC8vIHRvcFJvd0luZGV4IC0gdGhlIHN0YXJ0IG9mIHJvd3MgdG8gY29weSAoaW5jbHVzaXZlIGluZGV4KVxuICAgICAgICAgICAgdmFyIHRvcFJvd0luZGV4ID0gdGhpcy5jdXJyUm93ICsgMSAtICh0aGlzLm5yUm9sbFVwUm93cyk7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNvcHkgaWYgdGhlIGxhc3QgcG9zaXRpb24gd2FzIGFscmVhZHkgc2hvd24uXG4gICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGN1ZVN0YXJ0VGltZSB2YWx1ZSB0byBjaGVjayB0aGlzLlxuICAgICAgICAgICAgdmFyIGxhc3RPdXRwdXRTY3JlZW4gPSB0aGlzLmxhc3RPdXRwdXRTY3JlZW47XG4gICAgICAgICAgICBpZiAobGFzdE91dHB1dFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2TGluZVRpbWUgPSBsYXN0T3V0cHV0U2NyZWVuLnJvd3NbdG9wUm93SW5kZXhdLmN1ZVN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICBpZiAocHJldkxpbmVUaW1lICYmIHByZXZMaW5lVGltZSA8IGxvZ2dlci50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uclJvbGxVcFJvd3M7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dzW25ld1JvdyAtIHRoaXMubnJSb2xsVXBSb3dzICsgaSArIDFdLmNvcHkobGFzdE91dHB1dFNjcmVlbi5yb3dzW3RvcFJvd0luZGV4ICsgaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VyclJvdyA9IG5ld1JvdztcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICBpZiAocGFjRGF0YS5pbmRlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBpbmRlbnQgPSBwYWNEYXRhLmluZGVudDtcbiAgICAgICAgICAgIHZhciBwcmV2UG9zID0gTWF0aC5tYXgoaW5kZW50IC0gMSwgMCk7XG4gICAgICAgICAgICByb3cuc2V0Q3Vyc29yKHBhY0RhdGEuaW5kZW50KTtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSByb3cuY2hhcnNbcHJldlBvc10ucGVuU3RhdGUuZm9yZWdyb3VuZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGVzID0geyBmb3JlZ3JvdW5kOiBwYWNEYXRhLmNvbG9yLCB1bmRlcmxpbmU6IHBhY0RhdGEudW5kZXJsaW5lLCBpdGFsaWNzOiBwYWNEYXRhLml0YWxpY3MsIGJhY2tncm91bmQ6ICdibGFjaycsIGZsYXNoOiBmYWxzZSB9O1xuICAgICAgICB0aGlzLnNldFBlbihzdHlsZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBTZXQgYmFja2dyb3VuZC9leHRyYSBmb3JlZ3JvdW5kLCBidXQgZmlyc3QgZG8gYmFja19zcGFjZSwgYW5kIHRoZW4gaW5zZXJ0IHNwYWNlIChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkuXG4gICAgICAgKi9cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRCa2dEYXRhID0gZnVuY3Rpb24gKGJrZ0RhdGEpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdia2dEYXRhID0gJyArIEpTT04uc3RyaW5naWZ5KGJrZ0RhdGEpKTtcbiAgICAgICAgdGhpcy5iYWNrU3BhY2UoKTtcbiAgICAgICAgdGhpcy5zZXRQZW4oYmtnRGF0YSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhcigweDIwKTsgLy8gU3BhY2VcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldFJvbGxVcFJvd3MgPSBmdW5jdGlvbiAobnJSb3dzKSB7XG4gICAgICAgIHRoaXMubnJSb2xsVXBSb3dzID0gbnJSb3dzO1xuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUucm9sbFVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0RFQlVHJywgJ3JvbGxfdXAgYnV0IG5yUm9sbFVwUm93cyBub3Qgc2V0IHlldCcpO1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBOb3QgcHJvcGVybHkgc2V0dXBcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKCdURVhUJywgdGhpcy5nZXREaXNwbGF5VGV4dCgpKTtcbiAgICAgICAgdmFyIHRvcFJvd0luZGV4ID0gdGhpcy5jdXJyUm93ICsgMSAtIHRoaXMubnJSb2xsVXBSb3dzO1xuICAgICAgICB2YXIgdG9wUm93ID0gdGhpcy5yb3dzLnNwbGljZSh0b3BSb3dJbmRleCwgMSlbMF07XG4gICAgICAgIHRvcFJvdy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJvd3Muc3BsaWNlKHRoaXMuY3VyclJvdywgMCwgdG9wUm93KTtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdSb2xsaW5nIHVwJyk7XG4gICAgICAgIC8vIGxvZ2dlci5sb2coJ1RFWFQnLCB0aGlzLmdldF9kaXNwbGF5X3RleHQoKSlcbiAgICB9O1xuICAgIC8qKlxuICAgICAgKiBHZXQgYWxsIG5vbi1lbXB0eSByb3dzIHdpdGggYXMgdW5pY29kZSB0ZXh0LlxuICAgICAgKi9cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dCA9IGZ1bmN0aW9uIChhc09uZVJvdykge1xuICAgICAgICBhc09uZVJvdyA9IGFzT25lUm93IHx8IGZhbHNlO1xuICAgICAgICB2YXIgZGlzcGxheVRleHQgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHJvd05yID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcm93VGV4dCA9IHRoaXMucm93c1tpXS5nZXRUZXh0U3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAocm93VGV4dCkge1xuICAgICAgICAgICAgICAgIHJvd05yID0gaSArIDE7XG4gICAgICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2goJ1JvdyAnICsgcm93TnIgKyAnOiBcXCcnICsgcm93VGV4dCArICdcXCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2gocm93VGV4dC50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcGxheVRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9ICdbJyArIGRpc3BsYXlUZXh0LmpvaW4oJyB8ICcpICsgJ10nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGRpc3BsYXlUZXh0LmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuZ2V0VGV4dEFuZEZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93cztcbiAgICB9O1xuICAgIHJldHVybiBDYXB0aW9uU2NyZWVuO1xufSgpKTtcbi8vIHZhciBtb2RlcyA9IFsnTU9ERV9ST0xMLVVQJywgJ01PREVfUE9QLU9OJywgJ01PREVfUEFJTlQtT04nLCAnTU9ERV9URVhUJ107XG52YXIgQ2VhNjA4Q2hhbm5lbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDZWE2MDhDaGFubmVsKGNoYW5uZWxOdW1iZXIsIG91dHB1dEZpbHRlcikge1xuICAgICAgICB0aGlzLmNoTnIgPSBjaGFubmVsTnVtYmVyO1xuICAgICAgICB0aGlzLm91dHB1dEZpbHRlciA9IG91dHB1dEZpbHRlcjtcbiAgICAgICAgdGhpcy5tb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJib3NlID0gMDtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xuICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeSA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XG4gICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbiA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XG4gICAgICAgIHRoaXMuY3VyclJvbGxVcFJvdyA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LnJvd3NbTlJfUk9XUyAtIDFdO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gbnVsbDsgLy8gS2VlcHMgdHJhY2sgb2Ygd2hlcmUgYSBjdWUgc3RhcnRlZC5cbiAgICB9XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5yZXNldCgpO1xuICAgICAgICB0aGlzLmN1cnJSb2xsVXBSb3cgPSB0aGlzLmRpc3BsYXllZE1lbW9yeS5yb3dzW05SX1JPV1MgLSAxXTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdEN1ZUVuZFRpbWUgPSBudWxsO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuZ2V0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0RmlsdGVyO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuc2V0SGFuZGxlciA9IGZ1bmN0aW9uIChuZXdIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gbmV3SGFuZGxlcjtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldFBBQyA9IGZ1bmN0aW9uIChwYWNEYXRhKSB7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UEFDKHBhY0RhdGEpO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuc2V0QmtnRGF0YSA9IGZ1bmN0aW9uIChia2dEYXRhKSB7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0QmtnRGF0YShia2dEYXRhKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldE1vZGUgPSBmdW5jdGlvbiAobmV3TW9kZSkge1xuICAgICAgICBpZiAobmV3TW9kZSA9PT0gdGhpcy5tb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlID0gbmV3TW9kZTtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdNT0RFPScgKyBuZXdNb2RlKTtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ01PREVfUE9QLU9OJykge1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMubm9uRGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdNT0RFX1JPTEwtVVAnKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXllZE1lbW9yeS5uclJvbGxVcFJvd3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkubnJSb2xsVXBSb3dzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGUgPSBuZXdNb2RlO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuaW5zZXJ0Q2hhcnMgPSBmdW5jdGlvbiAoY2hhcnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5pbnNlcnRDaGFyKGNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NyZWVuID0gdGhpcy53cml0ZVNjcmVlbiA9PT0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPyAnRElTUCcgOiAnTk9OX0RJU1AnO1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgc2NyZWVuICsgJzogJyArIHRoaXMud3JpdGVTY3JlZW4uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9QQUlOVC1PTicgfHwgdGhpcy5tb2RlID09PSAnTU9ERV9ST0xMLVVQJykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnVEVYVCcsICdESVNQTEFZRUQ6ICcgKyB0aGlzLmRpc3BsYXllZE1lbW9yeS5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NSQ0wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnUkNMIC0gUmVzdW1lIENhcHRpb24gTG9hZGluZycpO1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfUE9QLU9OJyk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0JTID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0JTIC0gQmFja1NwYWNlJyk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1RFWFQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5iYWNrU3BhY2UoKTtcbiAgICAgICAgaWYgKHRoaXMud3JpdGVTY3JlZW4gPT09IHRoaXMuZGlzcGxheWVkTWVtb3J5KSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NBT0YgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0FPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjREVSID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0RFUi0gRGVsZXRlIHRvIEVuZCBvZiBSb3cnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5jbGVhclRvRW5kT2ZSb3coKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JVID0gZnVuY3Rpb24gKG5yUm93cykge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ1JVKCcgKyBuclJvd3MgKyAnKSAtIFJvbGwgVXAnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfUk9MTC1VUCcpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFJvbGxVcFJvd3MobnJSb3dzKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRk9OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0ZPTiAtIEZsYXNoIE9uJyk7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UGVuKHsgZmxhc2g6IHRydWUgfSk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JEQyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdSREMgLSBSZXN1bWUgRGlyZWN0IENhcHRpb25pbmcnKTtcbiAgICAgICAgdGhpcy5zZXRNb2RlKCdNT0RFX1BBSU5ULU9OJyk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1RSID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ1RSJyk7XG4gICAgICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9URVhUJyk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JURCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdSVEQnKTtcbiAgICAgICAgdGhpcy5zZXRNb2RlKCdNT0RFX1RFWFQnKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRURNID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0VETSAtIEVyYXNlIERpc3BsYXllZCBNZW1vcnknKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKHRydWUpO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NDUiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnQ1IgLSBDYXJyaWFnZSBSZXR1cm4nKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5yb2xsVXAoKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKHRydWUpO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NFTk0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnRU5NIC0gRXJhc2UgTm9uLWRpc3BsYXllZCBNZW1vcnknKTtcbiAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRU9DID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0VPQyAtIEVuZCBPZiBDYXB0aW9uJyk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1BPUC1PTicpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5ID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeSA9IHRtcDtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1RFWFQnLCAnRElTUDogJyArIHRoaXMuZGlzcGxheWVkTWVtb3J5LmdldERpc3BsYXlUZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSh0cnVlKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjVE8gPSBmdW5jdGlvbiAobnJDb2xzKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnVE8oJyArIG5yQ29scyArICcpIC0gVGFiIE9mZnNldCcpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLm1vdmVDdXJzb3IobnJDb2xzKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjTUlEUk9XID0gZnVuY3Rpb24gKHNlY29uZEJ5dGUpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IHsgZmxhc2g6IGZhbHNlIH07XG4gICAgICAgIHN0eWxlcy51bmRlcmxpbmUgPSBzZWNvbmRCeXRlICUgMiA9PT0gMTtcbiAgICAgICAgc3R5bGVzLml0YWxpY3MgPSBzZWNvbmRCeXRlID49IDB4MmU7XG4gICAgICAgIGlmICghc3R5bGVzLml0YWxpY3MpIHtcbiAgICAgICAgICAgIHZhciBjb2xvckluZGV4ID0gTWF0aC5mbG9vcihzZWNvbmRCeXRlIC8gMikgLSAweDEwO1xuICAgICAgICAgICAgdmFyIGNvbG9ycyA9IFsnd2hpdGUnLCAnZ3JlZW4nLCAnYmx1ZScsICdjeWFuJywgJ3JlZCcsICd5ZWxsb3cnLCAnbWFnZW50YSddO1xuICAgICAgICAgICAgc3R5bGVzLmZvcmVncm91bmQgPSBjb2xvcnNbY29sb3JJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZXMuZm9yZWdyb3VuZCA9ICd3aGl0ZSc7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdNSURST1c6ICcgKyBKU09OLnN0cmluZ2lmeShzdHlsZXMpKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5zZXRQZW4oc3R5bGVzKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLm91dHB1dERhdGFVcGRhdGUgPSBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgaWYgKGRpc3BhdGNoID09PSB2b2lkIDApIHsgZGlzcGF0Y2ggPSBmYWxzZTsgfVxuICAgICAgICB2YXIgdCA9IGxvZ2dlci50aW1lO1xuICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VlU3RhcnRUaW1lID09PSBudWxsICYmICF0aGlzLmRpc3BsYXllZE1lbW9yeS5pc0VtcHR5KCkpIHsgLy8gU3RhcnQgb2YgYSBuZXcgY3VlXG4gICAgICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5lcXVhbHModGhpcy5sYXN0T3V0cHV0U2NyZWVuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUodGhpcy5jdWVTdGFydFRpbWUsIHQsIHRoaXMubGFzdE91dHB1dFNjcmVlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGF0Y2ggPT09IHRydWUgJiYgdGhpcy5vdXRwdXRGaWx0ZXIuZGlzcGF0Y2hDdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5kaXNwYXRjaEN1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpID8gbnVsbCA6IHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0T3V0cHV0U2NyZWVuLmNvcHkodGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jdWVTcGxpdEF0VGltZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSh0aGlzLmN1ZVN0YXJ0VGltZSwgdCwgdGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDZWE2MDhDaGFubmVsO1xufSgpKTtcbnZhciBDZWE2MDhQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2VhNjA4UGFyc2VyKGZpZWxkLCBvdXQxLCBvdXQyKSB7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZCB8fCAxO1xuICAgICAgICB0aGlzLm91dHB1dHMgPSBbb3V0MSwgb3V0Ml07XG4gICAgICAgIHRoaXMuY2hhbm5lbHMgPSBbbmV3IENlYTYwOENoYW5uZWwoMSwgb3V0MSksIG5ldyBDZWE2MDhDaGFubmVsKDIsIG91dDIpXTtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IC0xOyAvLyBXaWxsIGJlIDEgb3IgMlxuICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDsgLy8gRmlyc3QgYnl0ZSBvZiBsYXN0IGNvbW1hbmRcbiAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7IC8vIFNlY29uZCBieXRlIG9mIGxhc3QgY29tbWFuZFxuICAgICAgICB0aGlzLmJ1ZmZlcmVkRGF0YSA9IFtdO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGFDb3VudGVycyA9IHsgJ3BhZGRpbmcnOiAwLCAnY2hhcic6IDAsICdjbWQnOiAwLCAnb3RoZXInOiAwIH07XG4gICAgfVxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUuZ2V0SGFuZGxlciA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsc1tpbmRleF0uZ2V0SGFuZGxlcigpO1xuICAgIH07XG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5zZXRIYW5kbGVyID0gZnVuY3Rpb24gKGluZGV4LCBuZXdIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHNbaW5kZXhdLnNldEhhbmRsZXIobmV3SGFuZGxlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIEFkZCBkYXRhIGZvciB0aW1lIHQgaW4gZm9ybXMgb2YgbGlzdCBvZiBieXRlcyAodW5zaWduZWQgaW50cykuIFRoZSBieXRlcyBhcmUgdHJlYXRlZCBhcyBwYWlycy5cbiAgICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUuYWRkRGF0YSA9IGZ1bmN0aW9uICh0LCBieXRlTGlzdCkge1xuICAgICAgICB2YXIgY21kRm91bmQsIGEsIGIsIGNoYXJzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IHQ7XG4gICAgICAgIGxvZ2dlci5zZXRUaW1lKHQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVMaXN0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBhID0gYnl0ZUxpc3RbaV0gJiAweDdmO1xuICAgICAgICAgICAgYiA9IGJ5dGVMaXN0W2kgKyAxXSAmIDB4N2Y7XG4gICAgICAgICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMucGFkZGluZyArPSAyO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnREFUQScsICdbJyArIG51bUFycmF5VG9IZXhBcnJheShbYnl0ZUxpc3RbaV0sIGJ5dGVMaXN0W2kgKyAxXV0pICsgJ10gLT4gKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VDbWQoYSwgYik7XG4gICAgICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlTWlkcm93KGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZVBBQyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjaGFyc0ZvdW5kID0gdGhpcy5wYXJzZUNoYXJzKGEsIGIpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyc0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJDaE5yICYmIHRoaXMuY3VyckNoTnIgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW3RoaXMuY3VyckNoTnIgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuaW5zZXJ0Q2hhcnMoY2hhcnNGb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdXQVJOSU5HJywgJ05vIGNoYW5uZWwgZm91bmQgeWV0LiBURVhULU1PREU/Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jbWQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXJzRm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jaGFyICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5vdGhlciArPSAyO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ1dBUk5JTkcnLCAnQ291bGRuXFwndCBwYXJzZSBjbGVhbmVkIGRhdGEgJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICtcbiAgICAgICAgICAgICAgICAgICAgJyBvcmlnOiAnICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSArIDFdXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIFBhcnNlIENvbW1hbmQuXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGVsbHMgaWYgYSBjb21tYW5kIHdhcyBmb3VuZFxuICAgICAgICovXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5wYXJzZUNtZCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBjaE5yID0gbnVsbDtcbiAgICAgICAgdmFyIGNvbmQxID0gKGEgPT09IDB4MTQgfHwgYSA9PT0gMHgxQykgJiYgKGIgPj0gMHgyMCAmJiBiIDw9IDB4MkYpO1xuICAgICAgICB2YXIgY29uZDIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFGKSAmJiAoYiA+PSAweDIxICYmIGIgPD0gMHgyMyk7XG4gICAgICAgIGlmICghKGNvbmQxIHx8IGNvbmQyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhID09PSB0aGlzLmxhc3RDbWRBICYmIGIgPT09IHRoaXMubGFzdENtZEIpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7IC8vIFJlcGVhdGVkIGNvbW1hbmRzIGFyZSBkcm9wcGVkIChvbmNlKVxuICAgICAgICAgICAgbG9nZ2VyLmxvZygnREVCVUcnLCAnUmVwZWF0ZWQgY29tbWFuZCAoJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgJykgaXMgZHJvcHBlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEgPT09IDB4MTQgfHwgYSA9PT0gMHgxNykge1xuICAgICAgICAgICAgY2hOciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaE5yID0gMjtcbiAgICAgICAgfSAvLyAoYSA9PT0gMHgxQyB8fCBhPT09IDB4MWYpXG4gICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XG4gICAgICAgIGlmIChhID09PSAweDE0IHx8IGEgPT09IDB4MUMpIHtcbiAgICAgICAgICAgIGlmIChiID09PSAweDIwKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JDTCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyMSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NCUygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyMikge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NBT0YoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MjMpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjQU9OKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDI0KSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0RFUigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyNSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NSVSgyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MjYpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUlUoMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDI3KSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JVKDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyOCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NGT04oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MjkpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUkRDKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDJBKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1RSKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDJCKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JURCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyQykge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NFRE0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MkQpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjQ1IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MkUpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjRU5NKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDJGKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0VPQygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBhID09IDB4MTcgfHwgYSA9PSAweDFGXG4gICAgICAgICAgICBjaGFubmVsLmNjVE8oYiAtIDB4MjApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBhO1xuICAgICAgICB0aGlzLmxhc3RDbWRCID0gYjtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IGNoTnI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBQYXJzZSBtaWRyb3cgc3R5bGluZyBjb21tYW5kXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VNaWRyb3cgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICB2YXIgY2hOciA9IG51bGw7XG4gICAgICAgIGlmICgoKGEgPT09IDB4MTEpIHx8IChhID09PSAweDE5KSkgJiYgYiA+PSAweDIwICYmIGIgPD0gMHgyZikge1xuICAgICAgICAgICAgaWYgKGEgPT09IDB4MTEpIHtcbiAgICAgICAgICAgICAgICBjaE5yID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoTnIgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoTnIgIT09IHRoaXMuY3VyckNoTnIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdFUlJPUicsICdNaXNtYXRjaCBjaGFubmVsIGluIG1pZHJvdyBwYXJzaW5nJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICAgICAgICAgIGNoYW5uZWwuY2NNSURST1coYik7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdERUJVRycsICdNSURST1cgKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpJyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIFBhcnNlIFByZWFibGUgQWNjZXNzIENvZGVzIChUYWJsZSA1MykuXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGVsbHMgaWYgUEFDIGZvdW5kXG4gICAgICAgKi9cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlUEFDID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIGNoTnIgPSBudWxsO1xuICAgICAgICB2YXIgcm93ID0gbnVsbDtcbiAgICAgICAgdmFyIGNhc2UxID0gKChhID49IDB4MTEgJiYgYSA8PSAweDE3KSB8fCAoYSA+PSAweDE5ICYmIGEgPD0gMHgxRikpICYmIChiID49IDB4NDAgJiYgYiA8PSAweDdGKTtcbiAgICAgICAgdmFyIGNhc2UyID0gKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkgJiYgKGIgPj0gMHg0MCAmJiBiIDw9IDB4NUYpO1xuICAgICAgICBpZiAoIShjYXNlMSB8fCBjYXNlMikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYSA9PT0gdGhpcy5sYXN0Q21kQSAmJiBiID09PSB0aGlzLmxhc3RDbWRCKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFJlcGVhdGVkIGNvbW1hbmRzIGFyZSBkcm9wcGVkIChvbmNlKVxuICAgICAgICB9XG4gICAgICAgIGNoTnIgPSAoYSA8PSAweDE3KSA/IDEgOiAyO1xuICAgICAgICBpZiAoYiA+PSAweDQwICYmIGIgPD0gMHg1Rikge1xuICAgICAgICAgICAgcm93ID0gKGNoTnIgPT09IDEpID8gcm93c0xvd0NoMVthXSA6IHJvd3NMb3dDaDJbYV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIDB4NjAgPD0gYiA8PSAweDdGXG4gICAgICAgICAgICByb3cgPSAoY2hOciA9PT0gMSkgPyByb3dzSGlnaENoMVthXSA6IHJvd3NIaWdoQ2gyW2FdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYWNEYXRhID0gdGhpcy5pbnRlcnByZXRQQUMocm93LCBiKTtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICAgICAgY2hhbm5lbC5zZXRQQUMocGFjRGF0YSk7XG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBhO1xuICAgICAgICB0aGlzLmxhc3RDbWRCID0gYjtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IGNoTnI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBJbnRlcnByZXQgdGhlIHNlY29uZCBieXRlIG9mIHRoZSBwYWMsIGFuZCByZXR1cm4gdGhlIGluZm9ybWF0aW9uLlxuICAgICAgICogQHJldHVybnMge09iamVjdH0gcGFjRGF0YSB3aXRoIHN0eWxlIHBhcmFtZXRlcnMuXG4gICAgICAgKi9cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLmludGVycHJldFBBQyA9IGZ1bmN0aW9uIChyb3csIGJ5dGUpIHtcbiAgICAgICAgdmFyIHBhY0luZGV4ID0gYnl0ZTtcbiAgICAgICAgdmFyIHBhY0RhdGEgPSB7IGNvbG9yOiBudWxsLCBpdGFsaWNzOiBmYWxzZSwgaW5kZW50OiBudWxsLCB1bmRlcmxpbmU6IGZhbHNlLCByb3c6IHJvdyB9O1xuICAgICAgICBpZiAoYnl0ZSA+IDB4NUYpIHtcbiAgICAgICAgICAgIHBhY0luZGV4ID0gYnl0ZSAtIDB4NjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDQwO1xuICAgICAgICB9XG4gICAgICAgIHBhY0RhdGEudW5kZXJsaW5lID0gKHBhY0luZGV4ICYgMSkgPT09IDE7XG4gICAgICAgIGlmIChwYWNJbmRleCA8PSAweGQpIHtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnd2hpdGUnXVtNYXRoLmZsb29yKHBhY0luZGV4IC8gMildO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhY0luZGV4IDw9IDB4Zikge1xuICAgICAgICAgICAgcGFjRGF0YS5pdGFsaWNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSAnd2hpdGUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFjRGF0YS5pbmRlbnQgPSAoTWF0aC5mbG9vcigocGFjSW5kZXggLSAweDEwKSAvIDIpKSAqIDQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhY0RhdGE7IC8vIE5vdGUgdGhhdCByb3cgaGFzIHplcm8gb2Zmc2V0LiBUaGUgc3BlYyB1c2VzIDEuXG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIFBhcnNlIGNoYXJhY3RlcnMuXG4gICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSB3aXRoIDEgdG8gMiBjb2RlcyBjb3JyZXNwb25kaW5nIHRvIGNoYXJzLCBpZiBmb3VuZC4gbnVsbCBvdGhlcndpc2UuXG4gICAgICAgKi9cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlQ2hhcnMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICB2YXIgY2hhbm5lbE5yID0gbnVsbCwgY2hhckNvZGVzID0gbnVsbCwgY2hhckNvZGUxID0gbnVsbDtcbiAgICAgICAgaWYgKGEgPj0gMHgxOSkge1xuICAgICAgICAgICAgY2hhbm5lbE5yID0gMjtcbiAgICAgICAgICAgIGNoYXJDb2RlMSA9IGEgLSA4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbm5lbE5yID0gMTtcbiAgICAgICAgICAgIGNoYXJDb2RlMSA9IGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJDb2RlMSA+PSAweDExICYmIGNoYXJDb2RlMSA8PSAweDEzKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIGNoYXJhY3RlclxuICAgICAgICAgICAgdmFyIG9uZUNvZGUgPSBiO1xuICAgICAgICAgICAgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMSkge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg1MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMikge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg3MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg5MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnU3BlY2lhbCBjaGFyIFxcJycgKyBnZXRDaGFyRm9yQnl0ZShvbmVDb2RlKSArICdcXCcgaW4gY2hhbm5lbCAnICsgY2hhbm5lbE5yKTtcbiAgICAgICAgICAgIGNoYXJDb2RlcyA9IFtvbmVDb2RlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhID49IDB4MjAgJiYgYSA8PSAweDdmKSB7XG4gICAgICAgICAgICBjaGFyQ29kZXMgPSAoYiA9PT0gMCkgPyBbYV0gOiBbYSwgYl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJDb2Rlcykge1xuICAgICAgICAgICAgdmFyIGhleENvZGVzID0gbnVtQXJyYXlUb0hleEFycmF5KGNoYXJDb2Rlcyk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdERUJVRycsICdDaGFyIGNvZGVzID0gICcgKyBoZXhDb2Rlcy5qb2luKCcsJykpO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhckNvZGVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAqIFBhcnNlIGV4dGVuZGVkIGJhY2tncm91bmQgYXR0cmlidXRlcyBhcyB3ZWxsIGFzIG5ldyBmb3JlZ3JvdW5kIGNvbG9yIGJsYWNrLlxuICAgICAgKiBAcmV0dXJuc3tCb29sZWFufSBUZWxscyBpZiBiYWNrZ3JvdW5kIGF0dHJpYnV0ZXMgYXJlIGZvdW5kXG4gICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBia2dEYXRhLCBpbmRleCwgY2hOciwgY2hhbm5lbDtcbiAgICAgICAgdmFyIGNhc2UxID0gKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkgJiYgKGIgPj0gMHgyMCAmJiBiIDw9IDB4MmYpO1xuICAgICAgICB2YXIgY2FzZTIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFmKSAmJiAoYiA+PSAweDJkICYmIGIgPD0gMHgyZik7XG4gICAgICAgIGlmICghKGNhc2UxIHx8IGNhc2UyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJrZ0RhdGEgPSB7fTtcbiAgICAgICAgaWYgKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkge1xuICAgICAgICAgICAgaW5kZXggPSBNYXRoLmZsb29yKChiIC0gMHgyMCkgLyAyKTtcbiAgICAgICAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvcnNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGIgJSAyID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gYmtnRGF0YS5iYWNrZ3JvdW5kICsgJ19zZW1pJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiID09PSAweDJkKSB7XG4gICAgICAgICAgICBia2dEYXRhLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmtnRGF0YS5mb3JlZ3JvdW5kID0gJ2JsYWNrJztcbiAgICAgICAgICAgIGlmIChiID09PSAweDJmKSB7XG4gICAgICAgICAgICAgICAgYmtnRGF0YS51bmRlcmxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNoTnIgPSAoYSA8IDB4MTgpID8gMSA6IDI7XG4gICAgICAgIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICAgICAgY2hhbm5lbC5zZXRCa2dEYXRhKGJrZ0RhdGEpO1xuICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBSZXNldCBzdGF0ZSBvZiBwYXJzZXIgYW5kIGl0cyBjaGFubmVscy5cbiAgICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyIHRoZSBnZW5lcmF0aW9uIG9mIGEgY3VlLCBhbmQgdGhlIHN0YXJ0IG9mIGEgbmV3IG9uZSBpZiBkaXNwbGF5U2NyZWVucyBhcmUgbm90IGVtcHR5LlxuICAgICAgICovXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5jdWVTcGxpdEF0VGltZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLmN1ZVNwbGl0QXRUaW1lKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2VhNjA4UGFyc2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IENlYTYwOFBhcnNlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlscy9jb2RlY3MuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2NvZGVjcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIGZyb20gaHR0cDovL21wNHJhLm9yZy9jb2RlY3MuaHRtbFxudmFyIHNhbXBsZUVudHJ5Q29kZXNJU08gPSB7XG4gICAgYXVkaW86IHtcbiAgICAgICAgJ2EzZHMnOiB0cnVlLFxuICAgICAgICAnYWMtMyc6IHRydWUsXG4gICAgICAgICdhYy00JzogdHJ1ZSxcbiAgICAgICAgJ2FsYWMnOiB0cnVlLFxuICAgICAgICAnYWxhdyc6IHRydWUsXG4gICAgICAgICdkcmExJzogdHJ1ZSxcbiAgICAgICAgJ2R0cysnOiB0cnVlLFxuICAgICAgICAnZHRzLSc6IHRydWUsXG4gICAgICAgICdkdHNjJzogdHJ1ZSxcbiAgICAgICAgJ2R0c2UnOiB0cnVlLFxuICAgICAgICAnZHRzaCc6IHRydWUsXG4gICAgICAgICdlYy0zJzogdHJ1ZSxcbiAgICAgICAgJ2VuY2EnOiB0cnVlLFxuICAgICAgICAnZzcxOSc6IHRydWUsXG4gICAgICAgICdnNzI2JzogdHJ1ZSxcbiAgICAgICAgJ200YWUnOiB0cnVlLFxuICAgICAgICAnbWhhMSc6IHRydWUsXG4gICAgICAgICdtaGEyJzogdHJ1ZSxcbiAgICAgICAgJ21obTEnOiB0cnVlLFxuICAgICAgICAnbWhtMic6IHRydWUsXG4gICAgICAgICdtbHBhJzogdHJ1ZSxcbiAgICAgICAgJ21wNGEnOiB0cnVlLFxuICAgICAgICAncmF3ICc6IHRydWUsXG4gICAgICAgICdPcHVzJzogdHJ1ZSxcbiAgICAgICAgJ3NhbXInOiB0cnVlLFxuICAgICAgICAnc2F3Yic6IHRydWUsXG4gICAgICAgICdzYXdwJzogdHJ1ZSxcbiAgICAgICAgJ3NldmMnOiB0cnVlLFxuICAgICAgICAnc3FjcCc6IHRydWUsXG4gICAgICAgICdzc212JzogdHJ1ZSxcbiAgICAgICAgJ3R3b3MnOiB0cnVlLFxuICAgICAgICAndWxhdyc6IHRydWVcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICAgICdhdmMxJzogdHJ1ZSxcbiAgICAgICAgJ2F2YzInOiB0cnVlLFxuICAgICAgICAnYXZjMyc6IHRydWUsXG4gICAgICAgICdhdmM0JzogdHJ1ZSxcbiAgICAgICAgJ2F2Y3AnOiB0cnVlLFxuICAgICAgICAnZHJhYyc6IHRydWUsXG4gICAgICAgICdkdmF2JzogdHJ1ZSxcbiAgICAgICAgJ2R2aGUnOiB0cnVlLFxuICAgICAgICAnZW5jdic6IHRydWUsXG4gICAgICAgICdoZXYxJzogdHJ1ZSxcbiAgICAgICAgJ2h2YzEnOiB0cnVlLFxuICAgICAgICAnbWpwMic6IHRydWUsXG4gICAgICAgICdtcDR2JzogdHJ1ZSxcbiAgICAgICAgJ212YzEnOiB0cnVlLFxuICAgICAgICAnbXZjMic6IHRydWUsXG4gICAgICAgICdtdmMzJzogdHJ1ZSxcbiAgICAgICAgJ212YzQnOiB0cnVlLFxuICAgICAgICAncmVzdic6IHRydWUsXG4gICAgICAgICdydjYwJzogdHJ1ZSxcbiAgICAgICAgJ3MyNjMnOiB0cnVlLFxuICAgICAgICAnc3ZjMSc6IHRydWUsXG4gICAgICAgICdzdmMyJzogdHJ1ZSxcbiAgICAgICAgJ3ZjLTEnOiB0cnVlLFxuICAgICAgICAndnAwOCc6IHRydWUsXG4gICAgICAgICd2cDA5JzogdHJ1ZVxuICAgIH1cbn07XG5mdW5jdGlvbiBpc0NvZGVjVHlwZShjb2RlYywgdHlwZSkge1xuICAgIHZhciB0eXBlQ29kZXMgPSBzYW1wbGVFbnRyeUNvZGVzSVNPW3R5cGVdO1xuICAgIHJldHVybiAhIXR5cGVDb2RlcyAmJiB0eXBlQ29kZXNbY29kZWMuc2xpY2UoMCwgNCldID09PSB0cnVlO1xufVxuZXhwb3J0cy5pc0NvZGVjVHlwZSA9IGlzQ29kZWNUeXBlO1xuZnVuY3Rpb24gaXNDb2RlY1N1cHBvcnRlZEluTXA0KGNvZGVjLCB0eXBlKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoKHR5cGUgfHwgJ3ZpZGVvJykgKyBcIi9tcDQ7Y29kZWNzPVxcXCJcIiArIGNvZGVjICsgXCJcXFwiXCIpO1xufVxuZXhwb3J0cy5pc0NvZGVjU3VwcG9ydGVkSW5NcDQgPSBpc0NvZGVjU3VwcG9ydGVkSW5NcDQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvY3Vlcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2N1ZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHZ0dHBhcnNlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi92dHRwYXJzZXIgKi8gXCIuL3NyYy91dGlscy92dHRwYXJzZXIuanNcIik7XG5mdW5jdGlvbiBuZXdDdWUodHJhY2ssIHN0YXJ0VGltZSwgZW5kVGltZSwgY2FwdGlvblNjcmVlbikge1xuICAgIHZhciByb3c7XG4gICAgdmFyIGN1ZTtcbiAgICB2YXIgaW5kZW50aW5nO1xuICAgIHZhciBpbmRlbnQ7XG4gICAgdmFyIHRleHQ7XG4gICAgdmFyIFZUVEN1ZSA9IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcbiAgICBmb3IgKHZhciByID0gMDsgciA8IGNhcHRpb25TY3JlZW4ucm93cy5sZW5ndGg7IHIrKykge1xuICAgICAgICByb3cgPSBjYXB0aW9uU2NyZWVuLnJvd3Nbcl07XG4gICAgICAgIGluZGVudGluZyA9IHRydWU7XG4gICAgICAgIGluZGVudCA9IDA7XG4gICAgICAgIHRleHQgPSAnJztcbiAgICAgICAgaWYgKCFyb3cuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHJvdy5jaGFycy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgICAgIGlmIChyb3cuY2hhcnNbY10udWNoYXIubWF0Y2goL1xccy8pICYmIGluZGVudGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbmRlbnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgKz0gcm93LmNoYXJzW2NdLnVjaGFyO1xuICAgICAgICAgICAgICAgICAgICBpbmRlbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUbyBiZSB1c2VkIGZvciBjbGVhbmluZy11cCBvcnBoYW5lZCByb2xsLXVwIGNhcHRpb25zXG4gICAgICAgICAgICByb3cuY3VlU3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgLy8gR2l2ZSBhIHNsaWdodCBidW1wIHRvIHRoZSBlbmRUaW1lIGlmIGl0J3MgZXF1YWwgdG8gc3RhcnRUaW1lIHRvIGF2b2lkIGEgU3ludGF4RXJyb3IgaW4gSUVcbiAgICAgICAgICAgIGlmIChzdGFydFRpbWUgPT09IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICBlbmRUaW1lICs9IDAuMDAwMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ZSA9IG5ldyBWVFRDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCB2dHRwYXJzZXJfMS5maXhMaW5lQnJlYWtzKHRleHQudHJpbSgpKSk7XG4gICAgICAgICAgICBpZiAoaW5kZW50ID49IDE2KSB7XG4gICAgICAgICAgICAgICAgaW5kZW50LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmRlbnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFZUVEN1ZS5saW5lIGdldCdzIGZsYWtleSB3aGVuIHVzaW5nIGNvbnRyb2xzLCBzbyBsZXQncyBub3cgaW5jbHVkZSBsaW5lIDEzJjE0XG4gICAgICAgICAgICAvLyBhbHNvLCBkcm9wIGxpbmUgMSBzaW5jZSBpdCdzIHRvIGNsb3NlIHRvIHRoZSB0b3BcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvLykpIHtcbiAgICAgICAgICAgICAgICBjdWUubGluZSA9IHIgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VlLmxpbmUgPSAociA+IDcgPyByIC0gMiA6IHIgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ZS5hbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgICAgIC8vIENsYW1wIHRoZSBwb3NpdGlvbiBiZXR3ZWVuIDAgYW5kIDEwMCAtIGlmIG91dCBvZiB0aGVzZSBib3VuZHMsIEZpcmVmb3ggdGhyb3dzIGFuIGV4Y2VwdGlvbiBhbmQgY2FwdGlvbnMgYnJlYWtcbiAgICAgICAgICAgIGN1ZS5wb3NpdGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgMTAwICogKGluZGVudCAvIDMyKSArIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvLykgPyA1MCA6IDApKSk7XG4gICAgICAgICAgICB0cmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMubmV3Q3VlID0gbmV3Q3VlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvZGlzY29udGludWl0aWVzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBiaW5hcnlfc2VhcmNoXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2JpbmFyeS1zZWFyY2ggKi8gXCIuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZnVuY3Rpb24gZmluZEZpcnN0RnJhZ1dpdGhDQyhmcmFnbWVudHMsIGNjKSB7XG4gICAgdmFyIGZpcnN0RnJhZyA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFnbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRGcmFnID0gZnJhZ21lbnRzW2ldO1xuICAgICAgICBpZiAoY3VycmVudEZyYWcgJiYgY3VycmVudEZyYWcuY2MgPT09IGNjKSB7XG4gICAgICAgICAgICBmaXJzdEZyYWcgPSBjdXJyZW50RnJhZztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaXJzdEZyYWc7XG59XG5leHBvcnRzLmZpbmRGaXJzdEZyYWdXaXRoQ0MgPSBmaW5kRmlyc3RGcmFnV2l0aENDO1xuZnVuY3Rpb24gZmluZEZyYWdXaXRoQ0MoZnJhZ21lbnRzLCBDQykge1xuICAgIHJldHVybiBiaW5hcnlfc2VhcmNoXzEuZGVmYXVsdC5zZWFyY2goZnJhZ21lbnRzLCBmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgICAgIGlmIChjYW5kaWRhdGUuY2MgPCBDQykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FuZGlkYXRlLmNjID4gQ0MpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmZpbmRGcmFnV2l0aENDID0gZmluZEZyYWdXaXRoQ0M7XG5mdW5jdGlvbiBzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzKGxhc3RGcmFnLCBsYXN0TGV2ZWwsIGRldGFpbHMpIHtcbiAgICB2YXIgc2hvdWxkQWxpZ24gPSBmYWxzZTtcbiAgICBpZiAobGFzdExldmVsICYmIGxhc3RMZXZlbC5kZXRhaWxzICYmIGRldGFpbHMpIHtcbiAgICAgICAgaWYgKGRldGFpbHMuZW5kQ0MgPiBkZXRhaWxzLnN0YXJ0Q0MgfHwgKGxhc3RGcmFnICYmIGxhc3RGcmFnLmNjIDwgZGV0YWlscy5zdGFydENDKSkge1xuICAgICAgICAgICAgc2hvdWxkQWxpZ24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRBbGlnbjtcbn1cbmV4cG9ydHMuc2hvdWxkQWxpZ25PbkRpc2NvbnRpbnVpdGllcyA9IHNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXM7XG4vLyBGaW5kIHRoZSBmaXJzdCBmcmFnIGluIHRoZSBwcmV2aW91cyBsZXZlbCB3aGljaCBtYXRjaGVzIHRoZSBDQyBvZiB0aGUgZmlyc3QgZnJhZyBvZiB0aGUgbmV3IGxldmVsXG5mdW5jdGlvbiBmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWcocHJldkRldGFpbHMsIGN1ckRldGFpbHMpIHtcbiAgICB2YXIgcHJldkZyYWdzID0gcHJldkRldGFpbHMuZnJhZ21lbnRzO1xuICAgIHZhciBjdXJGcmFncyA9IGN1ckRldGFpbHMuZnJhZ21lbnRzO1xuICAgIGlmICghY3VyRnJhZ3MubGVuZ3RoIHx8ICFwcmV2RnJhZ3MubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ05vIGZyYWdtZW50cyB0byBhbGlnbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcmV2U3RhcnRGcmFnID0gZmluZEZpcnN0RnJhZ1dpdGhDQyhwcmV2RnJhZ3MsIGN1ckZyYWdzWzBdLmNjKTtcbiAgICBpZiAoIXByZXZTdGFydEZyYWcgfHwgKHByZXZTdGFydEZyYWcgJiYgIXByZXZTdGFydEZyYWcuc3RhcnRQVFMpKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ05vIGZyYWcgaW4gcHJldmlvdXMgbGV2ZWwgdG8gYWxpZ24gb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gcHJldlN0YXJ0RnJhZztcbn1cbmV4cG9ydHMuZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnID0gZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnO1xuZnVuY3Rpb24gYWRqdXN0UHRzKHNsaWRpbmcsIGRldGFpbHMpIHtcbiAgICBkZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBmcmFnLnN0YXJ0ICsgc2xpZGluZztcbiAgICAgICAgICAgIGZyYWcuc3RhcnQgPSBmcmFnLnN0YXJ0UFRTID0gc3RhcnQ7XG4gICAgICAgICAgICBmcmFnLmVuZFBUUyA9IHN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRldGFpbHMuUFRTS25vd24gPSB0cnVlO1xufVxuZXhwb3J0cy5hZGp1c3RQdHMgPSBhZGp1c3RQdHM7XG4vKipcbiAqIFVzaW5nIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBsYXN0IGxldmVsLCB0aGlzIGZ1bmN0aW9uIGNvbXB1dGVzIFBUUycgb2YgdGhlIG5ldyBmcmFnbWVudHMgc28gdGhhdCB0aGV5IGZvcm0gYVxuICogY29udGlndW91cyBzdHJlYW0gd2l0aCB0aGUgbGFzdCBmcmFnbWVudHMuXG4gKiBUaGUgUFRTIG9mIGEgZnJhZ21lbnQgbGV0cyBIbHMuanMga25vdyB3aGVyZSBpdCBmaXRzIGludG8gYSBzdHJlYW0gLSBieSBrbm93aW5nIGV2ZXJ5IFBUUywgd2Uga25vdyB3aGljaCBmcmFnbWVudCB0b1xuICogZG93bmxvYWQgYXQgYW55IGdpdmVuIHRpbWUuIFBUUyBpcyBub3JtYWxseSBjb21wdXRlZCB3aGVuIHRoZSBmcmFnbWVudCBpcyBkZW11eGVkLCBzbyB0YWtpbmcgdGhpcyBzdGVwIHNhdmVzIHVzIHRpbWVcbiAqIGFuZCBhbiBleHRyYSBkb3dubG9hZC5cbiAqIEBwYXJhbSBsYXN0RnJhZ1xuICogQHBhcmFtIGxhc3RMZXZlbFxuICogQHBhcmFtIGRldGFpbHNcbiAqL1xuZnVuY3Rpb24gYWxpZ25TdHJlYW0obGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykge1xuICAgIGFsaWduRGlzY29udGludWl0aWVzKGxhc3RGcmFnLCBkZXRhaWxzLCBsYXN0TGV2ZWwpO1xuICAgIGlmICghZGV0YWlscy5QVFNLbm93biAmJiBsYXN0TGV2ZWwpIHtcbiAgICAgICAgLy8gSWYgdGhlIFBUUyB3YXNuJ3QgZmlndXJlZCBvdXQgdmlhIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UgdGhhdCBtZWFucyB0aGVyZSB3YXMgbm8gQ0MgaW5jcmVhc2Ugd2l0aGluIHRoZSBsZXZlbC5cbiAgICAgICAgLy8gQWxpZ25pbmcgdmlhIFByb2dyYW0gRGF0ZSBUaW1lIHNob3VsZCB0aGVyZWZvcmUgYmUgcmVsaWFibGUsIHNpbmNlIFBEVCBzaG91bGQgYmUgdGhlIHNhbWUgd2l0aGluIHRoZSBzYW1lXG4gICAgICAgIC8vIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UuXG4gICAgICAgIGFsaWduUERUKGRldGFpbHMsIGxhc3RMZXZlbC5kZXRhaWxzKTtcbiAgICB9XG59XG5leHBvcnRzLmFsaWduU3RyZWFtID0gYWxpZ25TdHJlYW07XG4vKipcbiAqIENvbXB1dGVzIHRoZSBQVFMgaWYgYSBuZXcgbGV2ZWwncyBmcmFnbWVudHMgdXNpbmcgdGhlIFBUUyBvZiBhIGZyYWdtZW50IGluIHRoZSBsYXN0IGxldmVsIHdoaWNoIHNoYXJlcyB0aGUgc2FtZVxuICogZGlzY29udGludWl0eSBzZXF1ZW5jZS5cbiAqIEBwYXJhbSBsYXN0TGV2ZWwgLSBUaGUgZGV0YWlscyBvZiB0aGUgbGFzdCBsb2FkZWQgbGV2ZWxcbiAqIEBwYXJhbSBkZXRhaWxzIC0gVGhlIGRldGFpbHMgb2YgdGhlIG5ldyBsZXZlbFxuICovXG5mdW5jdGlvbiBhbGlnbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgZGV0YWlscywgbGFzdExldmVsKSB7XG4gICAgaWYgKHNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXMobGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykpIHtcbiAgICAgICAgdmFyIHJlZmVyZW5jZUZyYWcgPSBmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWcobGFzdExldmVsLmRldGFpbHMsIGRldGFpbHMpO1xuICAgICAgICBpZiAocmVmZXJlbmNlRnJhZykge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnQWRqdXN0aW5nIFBUUyB1c2luZyBsYXN0IGxldmVsIGR1ZSB0byBDQyBpbmNyZWFzZSB3aXRoaW4gY3VycmVudCBsZXZlbCcpO1xuICAgICAgICAgICAgYWRqdXN0UHRzKHJlZmVyZW5jZUZyYWcuc3RhcnQsIGRldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5hbGlnbkRpc2NvbnRpbnVpdGllcyA9IGFsaWduRGlzY29udGludWl0aWVzO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgUFRTIG9mIGEgbmV3IGxldmVsJ3MgZnJhZ21lbnRzIHVzaW5nIHRoZSBkaWZmZXJlbmNlIGluIFByb2dyYW0gRGF0ZSBUaW1lIGZyb20gdGhlIGxhc3QgbGV2ZWwuXG4gKiBAcGFyYW0gZGV0YWlscyAtIFRoZSBkZXRhaWxzIG9mIHRoZSBuZXcgbGV2ZWxcbiAqIEBwYXJhbSBsYXN0RGV0YWlscyAtIFRoZSBkZXRhaWxzIG9mIHRoZSBsYXN0IGxvYWRlZCBsZXZlbFxuICovXG5mdW5jdGlvbiBhbGlnblBEVChkZXRhaWxzLCBsYXN0RGV0YWlscykge1xuICAgIGlmIChsYXN0RGV0YWlscyAmJiBsYXN0RGV0YWlscy5mcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghZGV0YWlscy5oYXNQcm9ncmFtRGF0ZVRpbWUgfHwgIWxhc3REZXRhaWxzLmhhc1Byb2dyYW1EYXRlVGltZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGxhc3QgbGV2ZWwgc2xpZGluZyBpcyAxMDAwIGFuZCBpdHMgZmlyc3QgZnJhZyBQUk9HUkFNLURBVEUtVElNRSBpcyAyMDE3LTA4LTIwIDE6MTA6MDAgQU1cbiAgICAgICAgLy8gYW5kIGlmIG5ldyBkZXRhaWxzIGZpcnN0IGZyYWcgUFJPR1JBTSBEQVRFLVRJTUUgaXMgMjAxNy0wOC0yMCAxOjEwOjA4IEFNXG4gICAgICAgIC8vIHRoZW4gd2UgY2FuIGRlZHVjZSB0aGF0IHBsYXlsaXN0IEIgc2xpZGluZyBpcyAxMDAwKzggPSAxMDA4c1xuICAgICAgICB2YXIgbGFzdFBEVCA9IGxhc3REZXRhaWxzLmZyYWdtZW50c1swXS5wcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgIHZhciBuZXdQRFQgPSBkZXRhaWxzLmZyYWdtZW50c1swXS5wcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgIC8vIGRhdGUgZGlmZiBpcyBpbiBtcy4gZnJhZy5zdGFydCBpcyBpbiBzZWNvbmRzXG4gICAgICAgIHZhciBzbGlkaW5nID0gKG5ld1BEVCAtIGxhc3RQRFQpIC8gMTAwMCArIGxhc3REZXRhaWxzLmZyYWdtZW50c1swXS5zdGFydDtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShzbGlkaW5nKSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImFkanVzdGluZyBQVFMgdXNpbmcgcHJvZ3JhbURhdGVUaW1lIGRlbHRhLCBzbGlkaW5nOlwiICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgIGFkanVzdFB0cyhzbGlkaW5nLCBkZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuYWxpZ25QRFQgPSBhbGlnblBEVDtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9ld21hLWJhbmR3aWR0aC1lc3RpbWF0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogRVdNQSBCYW5kd2lkdGggRXN0aW1hdG9yXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKiBUcmFja3MgYmFuZHdpZHRoIHNhbXBsZXMgYW5kIGVzdGltYXRlcyBhdmFpbGFibGUgYmFuZHdpZHRoLlxuICogQmFzZWQgb24gdGhlIG1pbmltdW0gb2YgdHdvIGV4cG9uZW50aWFsbHktd2VpZ2h0ZWQgbW92aW5nIGF2ZXJhZ2VzIHdpdGhcbiAqIGRpZmZlcmVudCBoYWxmLWxpdmVzLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXdtYV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZXdtYSAqLyBcIi4vc3JjL3V0aWxzL2V3bWEuanNcIik7XG52YXIgRXdtYUJhbmRXaWR0aEVzdGltYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFd21hQmFuZFdpZHRoRXN0aW1hdG9yKGhscywgc2xvdywgZmFzdCwgZGVmYXVsdEVzdGltYXRlKSB7XG4gICAgICAgIHRoaXMuaGxzID0gaGxzO1xuICAgICAgICB0aGlzLmRlZmF1bHRFc3RpbWF0ZV8gPSBkZWZhdWx0RXN0aW1hdGU7XG4gICAgICAgIHRoaXMubWluV2VpZ2h0XyA9IDAuMDAxO1xuICAgICAgICB0aGlzLm1pbkRlbGF5TXNfID0gNTA7XG4gICAgICAgIHRoaXMuc2xvd18gPSBuZXcgZXdtYV8xLmRlZmF1bHQoc2xvdyk7XG4gICAgICAgIHRoaXMuZmFzdF8gPSBuZXcgZXdtYV8xLmRlZmF1bHQoZmFzdCk7XG4gICAgfVxuICAgIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIChkdXJhdGlvbk1zLCBudW1CeXRlcykge1xuICAgICAgICBkdXJhdGlvbk1zID0gTWF0aC5tYXgoZHVyYXRpb25NcywgdGhpcy5taW5EZWxheU1zXyk7XG4gICAgICAgIHZhciBiYW5kd2lkdGggPSA4MDAwICogbnVtQnl0ZXMgLyBkdXJhdGlvbk1zLCBcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2luc3RhbnQgYnc6JysgTWF0aC5yb3VuZChiYW5kd2lkdGgpKTtcbiAgICAgICAgLy8gd2Ugd2VpZ2h0IHNhbXBsZSB1c2luZyBsb2FkaW5nIGR1cmF0aW9uLi4uLlxuICAgICAgICB3ZWlnaHQgPSBkdXJhdGlvbk1zIC8gMTAwMDtcbiAgICAgICAgdGhpcy5mYXN0Xy5zYW1wbGUod2VpZ2h0LCBiYW5kd2lkdGgpO1xuICAgICAgICB0aGlzLnNsb3dfLnNhbXBsZSh3ZWlnaHQsIGJhbmR3aWR0aCk7XG4gICAgfTtcbiAgICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5jYW5Fc3RpbWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZhc3QgPSB0aGlzLmZhc3RfO1xuICAgICAgICByZXR1cm4gKGZhc3QgJiYgZmFzdC5nZXRUb3RhbFdlaWdodCgpID49IHRoaXMubWluV2VpZ2h0Xyk7XG4gICAgfTtcbiAgICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5nZXRFc3RpbWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRXN0aW1hdGUoKSkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Nsb3cgZXN0aW1hdGU6JysgTWF0aC5yb3VuZCh0aGlzLnNsb3dfLmdldEVzdGltYXRlKCkpKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdmYXN0IGVzdGltYXRlOicrIE1hdGgucm91bmQodGhpcy5mYXN0Xy5nZXRFc3RpbWF0ZSgpKSk7XG4gICAgICAgICAgICAvLyBUYWtlIHRoZSBtaW5pbXVtIG9mIHRoZXNlIHR3byBlc3RpbWF0ZXMuICBUaGlzIHNob3VsZCBoYXZlIHRoZSBlZmZlY3Qgb2ZcbiAgICAgICAgICAgIC8vIGFkYXB0aW5nIGRvd24gcXVpY2tseSwgYnV0IHVwIG1vcmUgc2xvd2x5LlxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZmFzdF8uZ2V0RXN0aW1hdGUoKSwgdGhpcy5zbG93Xy5nZXRFc3RpbWF0ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRFc3RpbWF0ZV87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICByZXR1cm4gRXdtYUJhbmRXaWR0aEVzdGltYXRvcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBFd21hQmFuZFdpZHRoRXN0aW1hdG9yO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2V3bWEuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9ld21hLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBjb21wdXRlIGFuIEV4cG9uZW50aWFsIFdlaWdodGVkIG1vdmluZyBhdmVyYWdlXG4gKiAtIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vdmluZ19hdmVyYWdlI0V4cG9uZW50aWFsX21vdmluZ19hdmVyYWdlXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFV01BID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8vICBBYm91dCBoYWxmIG9mIHRoZSBlc3RpbWF0ZWQgdmFsdWUgd2lsbCBiZSBmcm9tIHRoZSBsYXN0IHxoYWxmTGlmZXwgc2FtcGxlcyBieSB3ZWlnaHQuXG4gICAgZnVuY3Rpb24gRVdNQShoYWxmTGlmZSkge1xuICAgICAgICAvLyBMYXJnZXIgdmFsdWVzIG9mIGFscGhhIGV4cGlyZSBoaXN0b3JpY2FsIGRhdGEgbW9yZSBzbG93bHkuXG4gICAgICAgIHRoaXMuYWxwaGFfID0gaGFsZkxpZmUgPyBNYXRoLmV4cChNYXRoLmxvZygwLjUpIC8gaGFsZkxpZmUpIDogMDtcbiAgICAgICAgdGhpcy5lc3RpbWF0ZV8gPSAwO1xuICAgICAgICB0aGlzLnRvdGFsV2VpZ2h0XyA9IDA7XG4gICAgfVxuICAgIEVXTUEucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uICh3ZWlnaHQsIHZhbHVlKSB7XG4gICAgICAgIHZhciBhZGpBbHBoYSA9IE1hdGgucG93KHRoaXMuYWxwaGFfLCB3ZWlnaHQpO1xuICAgICAgICB0aGlzLmVzdGltYXRlXyA9IHZhbHVlICogKDEgLSBhZGpBbHBoYSkgKyBhZGpBbHBoYSAqIHRoaXMuZXN0aW1hdGVfO1xuICAgICAgICB0aGlzLnRvdGFsV2VpZ2h0XyArPSB3ZWlnaHQ7XG4gICAgfTtcbiAgICBFV01BLnByb3RvdHlwZS5nZXRUb3RhbFdlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG90YWxXZWlnaHRfO1xuICAgIH07XG4gICAgRVdNQS5wcm90b3R5cGUuZ2V0RXN0aW1hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFscGhhXykge1xuICAgICAgICAgICAgdmFyIHplcm9GYWN0b3IgPSAxIC0gTWF0aC5wb3codGhpcy5hbHBoYV8sIHRoaXMudG90YWxXZWlnaHRfKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlXyAvIHplcm9GYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZV87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFV01BO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEVXTUE7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGdldFNlbGZTY29wZSgpIHtcbiAgICAvLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExMjM3MjU5LzU4OTQ5M1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYgKi9cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0U2VsZlNjb3BlID0gZ2V0U2VsZlNjb3BlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvbG9nZ2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdldF9zZWxmX3Njb3BlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldC1zZWxmLXNjb3BlICovIFwiLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanNcIik7XG5mdW5jdGlvbiBub29wKCkgeyB9XG52YXIgZmFrZUxvZ2dlciA9IHtcbiAgICB0cmFjZTogbm9vcCxcbiAgICBkZWJ1Zzogbm9vcCxcbiAgICBsb2c6IG5vb3AsXG4gICAgd2Fybjogbm9vcCxcbiAgICBpbmZvOiBub29wLFxuICAgIGVycm9yOiBub29wXG59O1xudmFyIGV4cG9ydGVkTG9nZ2VyID0gZmFrZUxvZ2dlcjtcbi8vIGxldCBsYXN0Q2FsbFRpbWU7XG4vLyBmdW5jdGlvbiBmb3JtYXRNc2dXaXRoVGltZUluZm8odHlwZSwgbXNnKSB7XG4vLyAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4vLyAgIGNvbnN0IGRpZmYgPSBsYXN0Q2FsbFRpbWUgPyAnKycgKyAobm93IC0gbGFzdENhbGxUaW1lKSA6ICcwJztcbi8vICAgbGFzdENhbGxUaW1lID0gbm93O1xuLy8gICBtc2cgPSAobmV3IERhdGUobm93KSkudG9JU09TdHJpbmcoKSArICcgfCBbJyArICB0eXBlICsgJ10gPiAnICsgbXNnICsgJyAoICcgKyBkaWZmICsgJyBtcyApJztcbi8vICAgcmV0dXJuIG1zZztcbi8vIH1cbmZ1bmN0aW9uIGZvcm1hdE1zZyh0eXBlLCBtc2cpIHtcbiAgICBtc2cgPSAnWycgKyB0eXBlICsgJ10gPiAnICsgbXNnO1xuICAgIHJldHVybiBtc2c7XG59XG52YXIgZ2xvYmFsID0gZ2V0X3NlbGZfc2NvcGVfMS5nZXRTZWxmU2NvcGUoKTtcbmZ1bmN0aW9uIGNvbnNvbGVQcmludEZuKHR5cGUpIHtcbiAgICB2YXIgZnVuYyA9IGdsb2JhbC5jb25zb2xlW3R5cGVdO1xuICAgIGlmIChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJnc1swXSkge1xuICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBmb3JtYXRNc2codHlwZSwgYXJnc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jLmFwcGx5KGdsb2JhbC5jb25zb2xlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG5vb3A7XG59XG5mdW5jdGlvbiBleHBvcnRMb2dnZXJGdW5jdGlvbnMoZGVidWdDb25maWcpIHtcbiAgICB2YXIgZnVuY3Rpb25zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZnVuY3Rpb25zW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBmdW5jdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBleHBvcnRlZExvZ2dlclt0eXBlXSA9IGRlYnVnQ29uZmlnW3R5cGVdID8gZGVidWdDb25maWdbdHlwZV0uYmluZChkZWJ1Z0NvbmZpZykgOiBjb25zb2xlUHJpbnRGbih0eXBlKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZW5hYmxlTG9ncyA9IGZ1bmN0aW9uIChkZWJ1Z0NvbmZpZykge1xuICAgIGlmIChkZWJ1Z0NvbmZpZyA9PT0gdHJ1ZSB8fCB0eXBlb2YgZGVidWdDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGV4cG9ydExvZ2dlckZ1bmN0aW9ucyhkZWJ1Z0NvbmZpZywgXG4gICAgICAgIC8vIFJlbW92ZSBvdXQgZnJvbSBsaXN0IGhlcmUgdG8gaGFyZC1kaXNhYmxlIGEgbG9nLWxldmVsXG4gICAgICAgIC8vICd0cmFjZScsXG4gICAgICAgICdkZWJ1ZycsICdsb2cnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJyk7XG4gICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gdXNlIGJpbmQgb24gY29uc29sZSBvYmplY3QgYW55d2F5XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIGRlZmF1bHQgaWYgbmVlZGVkXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHBvcnRlZExvZ2dlci5sb2coKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXhwb3J0ZWRMb2dnZXIgPSBmYWtlTG9nZ2VyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleHBvcnRlZExvZ2dlciA9IGZha2VMb2dnZXI7XG4gICAgfVxufTtcbmV4cG9ydHMubG9nZ2VyID0gZXhwb3J0ZWRMb2dnZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvbWVkaWFrZXlzLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL21lZGlha2V5cy1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLmJpbmQod2luZG93Lm5hdmlnYXRvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59KSgpO1xuZXhwb3J0cy5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgPSByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3M7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIE1lZGlhU291cmNlIGhlbHBlclxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBnZXRNZWRpYVNvdXJjZSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5NZWRpYVNvdXJjZSB8fCB3aW5kb3cuV2ViS2l0TWVkaWFTb3VyY2U7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRNZWRpYVNvdXJjZSA9IGdldE1lZGlhU291cmNlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL291dHB1dC1maWx0ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9vdXRwdXQtZmlsdGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBPdXRwdXRGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT3V0cHV0RmlsdGVyKHRpbWVsaW5lQ29udHJvbGxlciwgdHJhY2tOYW1lKSB7XG4gICAgICAgIHRoaXMudGltZWxpbmVDb250cm9sbGVyID0gdGltZWxpbmVDb250cm9sbGVyO1xuICAgICAgICB0aGlzLnRyYWNrTmFtZSA9IHRyYWNrTmFtZTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmVuZFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLnNjcmVlbiA9IG51bGw7XG4gICAgfVxuICAgIE91dHB1dEZpbHRlci5wcm90b3R5cGUuZGlzcGF0Y2hDdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZWxpbmVDb250cm9sbGVyLmFkZEN1ZXModGhpcy50cmFja05hbWUsIHRoaXMuc3RhcnRUaW1lLCB0aGlzLmVuZFRpbWUsIHRoaXMuc2NyZWVuKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgIH07XG4gICAgT3V0cHV0RmlsdGVyLnByb3RvdHlwZS5uZXdDdWUgPSBmdW5jdGlvbiAoc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRUaW1lID09PSBudWxsIHx8IHRoaXMuc3RhcnRUaW1lID4gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZFRpbWUgPSBlbmRUaW1lO1xuICAgICAgICB0aGlzLnNjcmVlbiA9IHNjcmVlbjtcbiAgICAgICAgdGhpcy50aW1lbGluZUNvbnRyb2xsZXIuY3JlYXRlQ2FwdGlvbnNUcmFjayh0aGlzLnRyYWNrTmFtZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0cHV0RmlsdGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE91dHB1dEZpbHRlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlscy90ZXh0dHJhY2stdXRpbHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL3RleHR0cmFjay11dGlscy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHNlbmRBZGRUcmFja0V2ZW50KHRyYWNrLCB2aWRlb0VsKSB7XG4gICAgdmFyIGV2ZW50ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgICBldmVudCA9IG5ldyB3aW5kb3cuRXZlbnQoJ2FkZHRyYWNrJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZm9yIElFMTFcbiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdhZGR0cmFjaycsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICAgIGV2ZW50LnRyYWNrID0gdHJhY2s7XG4gICAgdmlkZW9FbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cbmV4cG9ydHMuc2VuZEFkZFRyYWNrRXZlbnQgPSBzZW5kQWRkVHJhY2tFdmVudDtcbmZ1bmN0aW9uIGNsZWFyQ3VycmVudEN1ZXModHJhY2spIHtcbiAgICBpZiAodHJhY2sgJiYgdHJhY2suY3Vlcykge1xuICAgICAgICB3aGlsZSAodHJhY2suY3Vlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0cmFjay5yZW1vdmVDdWUodHJhY2suY3Vlc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmNsZWFyQ3VycmVudEN1ZXMgPSBjbGVhckN1cnJlbnRDdWVzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL3RpbWUtcmFuZ2VzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL3RpbWUtcmFuZ2VzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqICBUaW1lUmFuZ2VzIHRvIHN0cmluZyBoZWxwZXJcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRpbWVSYW5nZXMgPSB7XG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHZhciBsb2cgPSAnJywgbGVuID0gci5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxvZyArPSAnWycgKyByLnN0YXJ0KGkpLnRvRml4ZWQoMykgKyAnLCcgKyByLmVuZChpKS50b0ZpeGVkKDMpICsgJ10nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2c7XG4gICAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRpbWVSYW5nZXM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvdnR0Y3VlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy92dHRjdWUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDEzIHZ0dC5qcyBDb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZmF1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuVlRUQ3VlKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuVlRUQ3VlO1xuICAgIH1cbiAgICB2YXIgYXV0b0tleXdvcmQgPSAnYXV0byc7XG4gICAgdmFyIGRpcmVjdGlvblNldHRpbmcgPSB7XG4gICAgICAgICcnOiB0cnVlLFxuICAgICAgICBscjogdHJ1ZSxcbiAgICAgICAgcmw6IHRydWVcbiAgICB9O1xuICAgIHZhciBhbGlnblNldHRpbmcgPSB7XG4gICAgICAgIHN0YXJ0OiB0cnVlLFxuICAgICAgICBtaWRkbGU6IHRydWUsXG4gICAgICAgIGVuZDogdHJ1ZSxcbiAgICAgICAgbGVmdDogdHJ1ZSxcbiAgICAgICAgcmlnaHQ6IHRydWVcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZpbmREaXJlY3Rpb25TZXR0aW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpciA9IGRpcmVjdGlvblNldHRpbmdbdmFsdWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIHJldHVybiBkaXIgPyB2YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRBbGlnblNldHRpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWxpZ24gPSBhbGlnblNldHRpbmdbdmFsdWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIHJldHVybiBhbGlnbiA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXh0ZW5kKG9iaikge1xuICAgICAgICB2YXIgaSA9IDE7XG4gICAgICAgIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY29iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gY29iaikge1xuICAgICAgICAgICAgICAgIG9ialtwXSA9IGNvYmpbcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgZnVuY3Rpb24gVlRUQ3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgdGV4dCkge1xuICAgICAgICB2YXIgY3VlID0gdGhpcztcbiAgICAgICAgdmFyIGlzSUU4ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoL01TSUVcXHM4XFwuMC8pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHZhciBiYXNlT2JqID0ge307XG4gICAgICAgIGlmIChpc0lFOCkge1xuICAgICAgICAgICAgY3VlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3VzdG9tJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXNlT2JqLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaGltIGltcGxlbWVudGF0aW9uIHNwZWNpZmljIHByb3BlcnRpZXMuIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vdCBpblxuICAgICAgICAgKiB0aGUgc3BlYy5cbiAgICAgICAgICovXG4gICAgICAgIC8vIExldHMgdXMga25vdyB3aGVuIHRoZSBWVFRDdWUncyBkYXRhIGhhcyBjaGFuZ2VkIGluIHN1Y2ggYSB3YXkgdGhhdCB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIHJlY29tcHV0ZSBpdHMgZGlzcGxheSBzdGF0ZS4gVGhpcyBsZXRzIHVzIGNvbXB1dGUgaXRzIGRpc3BsYXkgc3RhdGVcbiAgICAgICAgLy8gbGF6aWx5LlxuICAgICAgICBjdWUuaGFzQmVlblJlc2V0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWVFRDdWUgYW5kIFRleHRUcmFja0N1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAqIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3dlYnZ0dC8jdnR0Y3VlLWludGVyZmFjZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9pZCA9ICcnO1xuICAgICAgICB2YXIgX3BhdXNlT25FeGl0ID0gZmFsc2U7XG4gICAgICAgIHZhciBfc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgICAgICB2YXIgX2VuZFRpbWUgPSBlbmRUaW1lO1xuICAgICAgICB2YXIgX3RleHQgPSB0ZXh0O1xuICAgICAgICB2YXIgX3JlZ2lvbiA9IG51bGw7XG4gICAgICAgIHZhciBfdmVydGljYWwgPSAnJztcbiAgICAgICAgdmFyIF9zbmFwVG9MaW5lcyA9IHRydWU7XG4gICAgICAgIHZhciBfbGluZSA9ICdhdXRvJztcbiAgICAgICAgdmFyIF9saW5lQWxpZ24gPSAnc3RhcnQnO1xuICAgICAgICB2YXIgX3Bvc2l0aW9uID0gNTA7XG4gICAgICAgIHZhciBfcG9zaXRpb25BbGlnbiA9ICdtaWRkbGUnO1xuICAgICAgICB2YXIgX3NpemUgPSA1MDtcbiAgICAgICAgdmFyIF9hbGlnbiA9ICdtaWRkbGUnO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnaWQnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfaWQgPSAnJyArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdwYXVzZU9uRXhpdCcsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wYXVzZU9uRXhpdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9wYXVzZU9uRXhpdCA9ICEhdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3N0YXJ0VGltZScsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdGFydFRpbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdGFydCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfc3RhcnRUaW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdlbmRUaW1lJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2VuZFRpbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmQgdGltZSBtdXN0IGJlIHNldCB0byBhIG51bWJlci4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2VuZFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3RleHQnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIF90ZXh0ID0gJycgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3JlZ2lvbicsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfcmVnaW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICd2ZXJ0aWNhbCcsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92ZXJ0aWNhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nID0gZmluZERpcmVjdGlvblNldHRpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIEhhdmUgdG8gY2hlY2sgZm9yIGZhbHNlIGJlY2F1c2UgdGhlIHNldHRpbmcgYW4gYmUgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3ZlcnRpY2FsID0gc2V0dGluZztcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3NuYXBUb0xpbmVzJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3NuYXBUb0xpbmVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX3NuYXBUb0xpbmVzID0gISF2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2xpbmUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbGluZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInICYmIHZhbHVlICE9PSBhdXRvS2V5d29yZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgbnVtYmVyIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9saW5lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdsaW5lQWxpZ24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbGluZUFsaWduO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9saW5lQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAncG9zaXRpb24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcG9zaXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9zaXRpb24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdwb3NpdGlvbkFsaWduJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc2l0aW9uQWxpZ247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRBbGlnblNldHRpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICghc2V0dGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3Bvc2l0aW9uQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnc2l6ZScsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3NpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2FsaWduJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2FsaWduO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9hbGlnbiA9IHNldHRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdGhlciA8dHJhY2s+IHNwZWMgZGVmaW5lZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICAvLyBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtdmlkZW8tZWxlbWVudC5odG1sI3RleHQtdHJhY2stY3VlLWRpc3BsYXktc3RhdGVcbiAgICAgICAgY3VlLmRpc3BsYXlTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzSUU4KSB7XG4gICAgICAgICAgICByZXR1cm4gY3VlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZUVEN1ZSBtZXRob2RzXG4gICAgICovXG4gICAgVlRUQ3VlLnByb3RvdHlwZS5nZXRDdWVBc0hUTUwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEFzc3VtZSBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSBpcyBvbiB0aGUgZ2xvYmFsLlxuICAgICAgICB2YXIgV2ViVlRUID0gd2luZG93LldlYlZUVDtcbiAgICAgICAgcmV0dXJuIFdlYlZUVC5jb252ZXJ0Q3VlVG9ET01UcmVlKHdpbmRvdywgdGhpcy50ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBWVFRDdWU7XG59KSgpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL3Z0dHBhcnNlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvdnR0cGFyc2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLypcbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvdnR0LmpzL2Jsb2IvbWFzdGVyL2Rpc3QvdnR0LmpzI0wxNzE2XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB2dHRjdWVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdnR0Y3VlICovIFwiLi9zcmMvdXRpbHMvdnR0Y3VlLmpzXCIpO1xudmFyIFN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbiBTdHJpbmdEZWNvZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlY29kZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIC0gZXhwZWN0ZWQgc3RyaW5nIGRhdGEuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmZ1bmN0aW9uIFZUVFBhcnNlcigpIHtcbiAgICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgICB0aGlzLnN0YXRlID0gJ0lOSVRJQUwnO1xuICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoKTtcbiAgICB0aGlzLnJlZ2lvbkxpc3QgPSBbXTtcbn1cbi8vIFRyeSB0byBwYXJzZSBpbnB1dCBhcyBhIHRpbWUgc3RhbXAuXG5mdW5jdGlvbiBwYXJzZVRpbWVTdGFtcChpbnB1dCkge1xuICAgIGZ1bmN0aW9uIGNvbXB1dGVTZWNvbmRzKGgsIG0sIHMsIGYpIHtcbiAgICAgICAgcmV0dXJuIChoIHwgMCkgKiAzNjAwICsgKG0gfCAwKSAqIDYwICsgKHMgfCAwKSArIChmIHwgMCkgLyAxMDAwO1xuICAgIH1cbiAgICB2YXIgbSA9IGlucHV0Lm1hdGNoKC9eKFxcZCspOihcXGR7Mn0pKDpcXGR7Mn0pP1xcLihcXGR7M30pLyk7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobVszXSkge1xuICAgICAgICAvLyBUaW1lc3RhbXAgdGFrZXMgdGhlIGZvcm0gb2YgW2hvdXJzXTpbbWludXRlc106W3NlY29uZHNdLlttaWxsaXNlY29uZHNdXG4gICAgICAgIHJldHVybiBjb21wdXRlU2Vjb25kcyhtWzFdLCBtWzJdLCBtWzNdLnJlcGxhY2UoJzonLCAnJyksIG1bNF0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChtWzFdID4gNTkpIHtcbiAgICAgICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFtob3Vyc106W21pbnV0ZXNdLlttaWxsaXNlY29uZHNdXG4gICAgICAgIC8vIEZpcnN0IHBvc2l0aW9uIGlzIGhvdXJzIGFzIGl0J3Mgb3ZlciA1OS5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKG1bMV0sIG1bMl0sIDAsIG1bNF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFttaW51dGVzXTpbc2Vjb25kc10uW21pbGxpc2Vjb25kc11cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKDAsIG1bMV0sIG1bMl0sIG1bNF0pO1xuICAgIH1cbn1cbi8vIEEgc2V0dGluZ3Mgb2JqZWN0IGhvbGRzIGtleS92YWx1ZSBwYWlycyBhbmQgd2lsbCBpZ25vcmUgYW55dGhpbmcgYnV0IHRoZSBmaXJzdFxuLy8gYXNzaWdubWVudCB0byBhIHNwZWNpZmljIGtleS5cbmZ1bmN0aW9uIFNldHRpbmdzKCkge1xuICAgIHRoaXMudmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblNldHRpbmdzLnByb3RvdHlwZSA9IHtcbiAgICAvLyBPbmx5IGFjY2VwdCB0aGUgZmlyc3QgYXNzaWdubWVudCB0byBhbnkga2V5LlxuICAgIHNldDogZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldChrKSAmJiB2ICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNba10gPSB2O1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIGZvciBhIGtleSwgb3IgYSBkZWZhdWx0IHZhbHVlLlxuICAgIC8vIElmICdkZWZhdWx0S2V5JyBpcyBwYXNzZWQgdGhlbiAnZGZsdCcgaXMgYXNzdW1lZCB0byBiZSBhbiBvYmplY3Qgd2l0aFxuICAgIC8vIGEgbnVtYmVyIG9mIHBvc3NpYmxlIGRlZmF1bHQgdmFsdWVzIGFzIHByb3BlcnRpZXMgd2hlcmUgJ2RlZmF1bHRLZXknIGlzXG4gICAgLy8gdGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIGNob3Nlbjsgb3RoZXJ3aXNlIGl0J3MgYXNzdW1lZCB0byBiZVxuICAgIC8vIGEgc2luZ2xlIHZhbHVlLlxuICAgIGdldDogZnVuY3Rpb24gKGssIGRmbHQsIGRlZmF1bHRLZXkpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMudmFsdWVzW2tdIDogZGZsdFtkZWZhdWx0S2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oYXMoaykgPyB0aGlzLnZhbHVlc1trXSA6IGRmbHQ7XG4gICAgfSxcbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIGhhdmUgYSB2YWx1ZSBmb3IgYSBrZXkuXG4gICAgaGFzOiBmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayBpbiB0aGlzLnZhbHVlcztcbiAgICB9LFxuICAgIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIG9uZSBvZiB0aGUgZ2l2ZW4gYWx0ZXJuYXRpdmVzLlxuICAgIGFsdDogZnVuY3Rpb24gKGssIHYsIGEpIHtcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBhLmxlbmd0aDsgKytuKSB7XG4gICAgICAgICAgICBpZiAodiA9PT0gYVtuXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGssIHYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIChzaWduZWQpIGludGVnZXIuXG4gICAgaW50ZWdlcjogZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgaWYgKC9eLT9cXGQrJC8udGVzdCh2KSkgeyAvLyBpbnRlZ2VyXG4gICAgICAgICAgICB0aGlzLnNldChrLCBwYXJzZUludCh2LCAxMCkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIHBlcmNlbnRhZ2UuXG4gICAgcGVyY2VudDogZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIGlmICgobSA9IHYubWF0Y2goL14oW1xcZF17MSwzfSkoXFwuW1xcZF0qKT8lJC8pKSkge1xuICAgICAgICAgICAgdiA9IHBhcnNlRmxvYXQodik7XG4gICAgICAgICAgICBpZiAodiA+PSAwICYmIHYgPD0gMTAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoaywgdik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgaW5wdXQgaW50byBncm91cHMgc2VwYXJhdGVkIGJ5ICdncm91cERlbGltJywgYW5kXG4vLyBpbnRlcnByZXRlIGVhY2ggZ3JvdXAgYXMgYSBrZXkvdmFsdWUgcGFpciBzZXBhcmF0ZWQgYnkgJ2tleVZhbHVlRGVsaW0nLlxuZnVuY3Rpb24gcGFyc2VPcHRpb25zKGlucHV0LCBjYWxsYmFjaywga2V5VmFsdWVEZWxpbSwgZ3JvdXBEZWxpbSkge1xuICAgIHZhciBncm91cHMgPSBncm91cERlbGltID8gaW5wdXQuc3BsaXQoZ3JvdXBEZWxpbSkgOiBbaW5wdXRdO1xuICAgIGZvciAodmFyIGkgaW4gZ3JvdXBzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ3JvdXBzW2ldICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGt2ID0gZ3JvdXBzW2ldLnNwbGl0KGtleVZhbHVlRGVsaW0pO1xuICAgICAgICBpZiAoa3YubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgayA9IGt2WzBdO1xuICAgICAgICB2YXIgdiA9IGt2WzFdO1xuICAgICAgICBjYWxsYmFjayhrLCB2KTtcbiAgICB9XG59XG52YXIgZGVmYXVsdHMgPSBuZXcgdnR0Y3VlXzEuZGVmYXVsdCgwLCAwLCAwKTtcbi8vICdtaWRkbGUnIHdhcyBjaGFuZ2VkIHRvICdjZW50ZXInIGluIHRoZSBzcGVjOiBodHRwczovL2dpdGh1Yi5jb20vdzNjL3dlYnZ0dC9wdWxsLzI0NFxuLy8gIFNhZmFyaSBkb2Vzbid0IHlldCBzdXBwb3J0IHRoaXMgY2hhbmdlLCBidXQgRkYgYW5kIENocm9tZSBkby5cbnZhciBjZW50ZXIgPSBkZWZhdWx0cy5hbGlnbiA9PT0gJ21pZGRsZScgPyAnbWlkZGxlJyA6ICdjZW50ZXInO1xuZnVuY3Rpb24gcGFyc2VDdWUoaW5wdXQsIGN1ZSwgcmVnaW9uTGlzdCkge1xuICAgIC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCBpbnB1dCBpZiB3ZSBuZWVkIHRvIHRocm93IGFuIGVycm9yLlxuICAgIHZhciBvSW5wdXQgPSBpbnB1dDtcbiAgICAvLyA0LjEgV2ViVlRUIHRpbWVzdGFtcFxuICAgIGZ1bmN0aW9uIGNvbnN1bWVUaW1lU3RhbXAoKSB7XG4gICAgICAgIHZhciB0cyA9IHBhcnNlVGltZVN0YW1wKGlucHV0KTtcbiAgICAgICAgaWYgKHRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCB0aW1lc3RhbXA6ICcgKyBvSW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0aW1lIHN0YW1wIGZyb20gaW5wdXQuXG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXlteXFxzYS16QS1aLV0rLywgJycpO1xuICAgICAgICByZXR1cm4gdHM7XG4gICAgfVxuICAgIC8vIDQuNC4yIFdlYlZUVCBjdWUgc2V0dGluZ3NcbiAgICBmdW5jdGlvbiBjb25zdW1lQ3VlU2V0dGluZ3MoaW5wdXQsIGN1ZSkge1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKTtcbiAgICAgICAgcGFyc2VPcHRpb25zKGlucHV0LCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgc3dpdGNoIChrKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVnaW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbGFzdCByZWdpb24gd2UgcGFyc2VkIHdpdGggdGhlIHNhbWUgcmVnaW9uIGlkLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcmVnaW9uTGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lvbkxpc3RbaV0uaWQgPT09IHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoaywgcmVnaW9uTGlzdFtpXS5yZWdpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3ZlcnRpY2FsJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFsncmwnLCAnbHInXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFscyA9IHYuc3BsaXQoJywnKSwgdmFsczAgPSB2YWxzWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5pbnRlZ2VyKGssIHZhbHMwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnBlcmNlbnQoaywgdmFsczApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoJ3NuYXBUb0xpbmVzJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2YWxzMCwgWydhdXRvJ10pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFsdCgnbGluZUFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCddKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwb3NpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIHZhbHMgPSB2LnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdmFsc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuYWx0KCdwb3NpdGlvbkFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCcsICdsaW5lLWxlZnQnLCAnbGluZS1yaWdodCcsICdhdXRvJ10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NpemUnOlxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5wZXJjZW50KGssIHYpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhbGlnbic6XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbJ3N0YXJ0JywgY2VudGVyLCAnZW5kJywgJ2xlZnQnLCAncmlnaHQnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAvOi8sIC9cXHMvKTtcbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdCB2YWx1ZXMgZm9yIGFueSBtaXNzaW5nIGZpZWxkcy5cbiAgICAgICAgY3VlLnJlZ2lvbiA9IHNldHRpbmdzLmdldCgncmVnaW9uJywgbnVsbCk7XG4gICAgICAgIGN1ZS52ZXJ0aWNhbCA9IHNldHRpbmdzLmdldCgndmVydGljYWwnLCAnJyk7XG4gICAgICAgIHZhciBsaW5lID0gc2V0dGluZ3MuZ2V0KCdsaW5lJywgJ2F1dG8nKTtcbiAgICAgICAgaWYgKGxpbmUgPT09ICdhdXRvJyAmJiBkZWZhdWx0cy5saW5lID09PSAtMSkge1xuICAgICAgICAgICAgLy8gc2V0IG51bWVyaWMgbGluZSBudW1iZXIgZm9yIFNhZmFyaVxuICAgICAgICAgICAgbGluZSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGN1ZS5saW5lID0gbGluZTtcbiAgICAgICAgY3VlLmxpbmVBbGlnbiA9IHNldHRpbmdzLmdldCgnbGluZUFsaWduJywgJ3N0YXJ0Jyk7XG4gICAgICAgIGN1ZS5zbmFwVG9MaW5lcyA9IHNldHRpbmdzLmdldCgnc25hcFRvTGluZXMnLCB0cnVlKTtcbiAgICAgICAgY3VlLnNpemUgPSBzZXR0aW5ncy5nZXQoJ3NpemUnLCAxMDApO1xuICAgICAgICBjdWUuYWxpZ24gPSBzZXR0aW5ncy5nZXQoJ2FsaWduJywgY2VudGVyKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc2V0dGluZ3MuZ2V0KCdwb3NpdGlvbicsICdhdXRvJyk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2F1dG8nICYmIGRlZmF1bHRzLnBvc2l0aW9uID09PSA1MCkge1xuICAgICAgICAgICAgLy8gc2V0IG51bWVyaWMgcG9zaXRpb24gZm9yIFNhZmFyaVxuICAgICAgICAgICAgcG9zaXRpb24gPSBjdWUuYWxpZ24gPT09ICdzdGFydCcgfHwgY3VlLmFsaWduID09PSAnbGVmdCcgPyAwIDogY3VlLmFsaWduID09PSAnZW5kJyB8fCBjdWUuYWxpZ24gPT09ICdyaWdodCcgPyAxMDAgOiA1MDtcbiAgICAgICAgfVxuICAgICAgICBjdWUucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2tpcFdoaXRlc3BhY2UoKSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXlxccysvLCAnJyk7XG4gICAgfVxuICAgIC8vIDQuMSBXZWJWVFQgY3VlIHRpbWluZ3MuXG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICBjdWUuc3RhcnRUaW1lID0gY29uc3VtZVRpbWVTdGFtcCgpOyAvLyAoMSkgY29sbGVjdCBjdWUgc3RhcnQgdGltZVxuICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgaWYgKGlucHV0LnN1YnN0cigwLCAzKSAhPT0gJy0tPicpIHsgLy8gKDMpIG5leHQgY2hhcmFjdGVycyBtdXN0IG1hdGNoICctLT4nXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIHRpbWUgc3RhbXAgKHRpbWUgc3RhbXBzIG11c3QgYmUgc2VwYXJhdGVkIGJ5IFxcJy0tPlxcJyk6ICcgK1xuICAgICAgICAgICAgb0lucHV0KTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dC5zdWJzdHIoMyk7XG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICBjdWUuZW5kVGltZSA9IGNvbnN1bWVUaW1lU3RhbXAoKTsgLy8gKDUpIGNvbGxlY3QgY3VlIGVuZCB0aW1lXG4gICAgLy8gNC4xIFdlYlZUVCBjdWUgc2V0dGluZ3MgbGlzdC5cbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgIGNvbnN1bWVDdWVTZXR0aW5ncyhpbnB1dCwgY3VlKTtcbn1cbmZ1bmN0aW9uIGZpeExpbmVCcmVha3MoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvPGJyKD86IFxcLyk/Pi9naSwgJ1xcbicpO1xufVxuZXhwb3J0cy5maXhMaW5lQnJlYWtzID0gZml4TGluZUJyZWFrcztcblZUVFBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGF0YSB0aGVuIHdlIHdvbid0IGRlY29kZSBpdCwgYnV0IHdpbGwganVzdCB0cnkgdG8gcGFyc2VcbiAgICAgICAgLy8gd2hhdGV2ZXIgaXMgaW4gYnVmZmVyIGFscmVhZHkuIFRoaXMgbWF5IG9jY3VyIGluIGNpcmN1bXN0YW5jZXMsIGZvclxuICAgICAgICAvLyBleGFtcGxlIHdoZW4gZmx1c2goKSBpcyBjYWxsZWQuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZGVjb2RlIHRoZSBkYXRhIHRoYXQgd2UgcmVjZWl2ZWQuXG4gICAgICAgICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKGRhdGEsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNvbGxlY3ROZXh0TGluZSgpIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBzZWxmLmJ1ZmZlcjtcbiAgICAgICAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgICAgICAgYnVmZmVyID0gZml4TGluZUJyZWFrcyhidWZmZXIpO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA8IGJ1ZmZlci5sZW5ndGggJiYgYnVmZmVyW3Bvc10gIT09ICdcXHInICYmIGJ1ZmZlcltwb3NdICE9PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICsrcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxpbmUgPSBidWZmZXIuc3Vic3RyKDAsIHBvcyk7XG4gICAgICAgICAgICAvLyBBZHZhbmNlIHRoZSBidWZmZXIgZWFybHkgaW4gY2FzZSB3ZSBmYWlsIGJlbG93LlxuICAgICAgICAgICAgaWYgKGJ1ZmZlcltwb3NdID09PSAnXFxyJykge1xuICAgICAgICAgICAgICAgICsrcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1ZmZlcltwb3NdID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICsrcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5idWZmZXIgPSBidWZmZXIuc3Vic3RyKHBvcyk7XG4gICAgICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjIgV2ViVlRUIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICAgICAgZnVuY3Rpb24gcGFyc2VIZWFkZXIoaW5wdXQpIHtcbiAgICAgICAgICAgIHBhcnNlT3B0aW9ucyhpbnB1dCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUmVnaW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMuMyBXZWJWVFQgcmVnaW9uIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwYXJzZSByZWdpb24nLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcnNlUmVnaW9uKHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgLzovKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA1LjEgV2ViVlRUIGZpbGUgcGFyc2luZy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdJTklUSUFMJykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHN0YXJ0IHBhcnNpbmcgdW50aWwgd2UgaGF2ZSB0aGUgZmlyc3QgbGluZS5cbiAgICAgICAgICAgICAgICBpZiAoIS9cXHJcXG58XFxuLy50ZXN0KHNlbGYuYnVmZmVyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGluZSA9IGNvbGxlY3ROZXh0TGluZSgpO1xuICAgICAgICAgICAgICAgIC8vIHN0cmlwIG9mIFVURi04IEJPTSBpZiBhbnlcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CeXRlX29yZGVyX21hcmsjVVRGLThcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGxpbmUubWF0Y2goL14ow6/Cu8K/KT9XRUJWVFQoWyBcXHRdLiopPyQvKTtcbiAgICAgICAgICAgICAgICBpZiAoIW0gfHwgIW1bMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgV2ViVlRUIHNpZ25hdHVyZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdIRUFERVInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAoc2VsZi5idWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCBwYXJzZSBhIGxpbmUgdW50aWwgd2UgaGF2ZSB0aGUgZnVsbCBsaW5lLlxuICAgICAgICAgICAgICAgIGlmICghL1xcclxcbnxcXG4vLnRlc3Qoc2VsZi5idWZmZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlDb2xsZWN0ZWRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBjb2xsZWN0TmV4dExpbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VsZi5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdIRUFERVInOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTMtMTggLSBBbGxvdyBhIGhlYWRlciAobWV0YWRhdGEpIHVuZGVyIHRoZSBXRUJWVFQgbGluZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvOi8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSGVhZGVyKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbiBlbXB0eSBsaW5lIHRlcm1pbmF0ZXMgdGhlIGhlYWRlciBhbmQgc3RhcnRzIHRoZSBib2R5IChjdWVzKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdOT1RFJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBOT1RFIGJsb2Nrcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0lEJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0aGUgc3RhcnQgb2YgTk9URSBibG9ja3MuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15OT1RFKCR8WyBcXHRdKS8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnTk9URSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxOS0yOSAtIEFsbG93IGFueSBudW1iZXIgb2YgbGluZSB0ZXJtaW5hdG9ycywgdGhlbiBpbml0aWFsaXplIG5ldyBjdWUgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG5ldyB2dHRjdWVfMS5kZWZhdWx0KDAsIDAsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnQ1VFJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMwLTM5IC0gQ2hlY2sgaWYgc2VsZiBsaW5lIGNvbnRhaW5zIGFuIG9wdGlvbmFsIGlkZW50aWZpZXIgb3IgdGltaW5nIGRhdGEuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKCctLT4nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1ZS5pZCA9IGxpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgbGluZSBhcyBzdGFydCBvZiBhIGN1ZS5cbiAgICAgICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDVUUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNDAgLSBDb2xsZWN0IGN1ZSB0aW1pbmdzIGFuZCBzZXR0aW5ncy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VDdWUobGluZSwgc2VsZi5jdWUsIHNlbGYucmVnaW9uTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IgaWdub3JlIHJlc3Qgb2YgdGhlIGN1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdCQURDVUUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdDVUVURVhUJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDVUVURVhUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNTdWJzdHJpbmcgPSBsaW5lLmluZGV4T2YoJy0tPicpICE9PSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM0IC0gSWYgd2UgaGF2ZSBhbiBlbXB0eSBsaW5lIHRoZW4gcmVwb3J0IHRoZSBjdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzNSAtIElmIHdlIGhhdmUgdGhlIHNwZWNpYWwgc3Vic3RyaW5nICctLT4nIHRoZW4gcmVwb3J0IHRoZSBjdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgZG8gbm90IGNvbGxlY3QgdGhlIGxpbmUgYXMgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmUgYXMgYSBuZXcgY3VlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lIHx8IGhhc1N1YnN0cmluZyAmJiAoYWxyZWFkeUNvbGxlY3RlZExpbmUgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBkb25lIHBhcnNpbmcgc2VsZiBjdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub25jdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbmN1ZShzZWxmLmN1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1ZS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VlLnRleHQgKz0gbGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdCQURDVUUnOiAvLyBCQURDVUVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDU0LTYyIC0gQ29sbGVjdCBhbmQgZGlzY2FyZCB0aGUgcmVtYWluaW5nIGN1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IHBhcnNpbmcgYSBjdWUsIHJlcG9ydCB3aGF0IHdlIGhhdmUuXG4gICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ0NVRVRFWFQnICYmIHNlbGYuY3VlICYmIHNlbGYub25jdWUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgICAgICAgIC8vIEVudGVyIEJBRFdFQlZUVCBzdGF0ZSBpZiBoZWFkZXIgd2FzIG5vdCBwYXJzZWQgY29ycmVjdGx5IG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gYW5vdGhlciBleGNlcHRpb24gb2NjdXJyZWQgc28gZW50ZXIgQkFEQ1VFIHN0YXRlLlxuICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuc3RhdGUgPT09ICdJTklUSUFMJyA/ICdCQURXRUJWVFQnIDogJ0JBRENVRSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBGaW5pc2ggZGVjb2RpbmcgdGhlIHN0cmVhbS5cbiAgICAgICAgICAgIHNlbGYuYnVmZmVyICs9IHNlbGYuZGVjb2Rlci5kZWNvZGUoKTtcbiAgICAgICAgICAgIC8vIFN5bnRoZXNpemUgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBjdWUgb3IgcmVnaW9uLlxuICAgICAgICAgICAgaWYgKHNlbGYuY3VlIHx8IHNlbGYuc3RhdGUgPT09ICdIRUFERVInKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5idWZmZXIgKz0gJ1xcblxcbic7XG4gICAgICAgICAgICAgICAgc2VsZi5wYXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UndmUgZmx1c2hlZCwgcGFyc2VkLCBhbmQgd2UncmUgc3RpbGwgb24gdGhlIElOSVRJQUwgc3RhdGUgdGhlblxuICAgICAgICAgICAgLy8gdGhhdCBtZWFucyB3ZSBkb24ndCBoYXZlIGVub3VnaCBvZiB0aGUgc3RyZWFtIHRvIHBhcnNlIHRoZSBmaXJzdFxuICAgICAgICAgICAgLy8gbGluZS5cbiAgICAgICAgICAgIGlmIChzZWxmLnN0YXRlID09PSAnSU5JVElBTCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBXZWJWVFQgc2lnbmF0dXJlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLm9uZmx1c2gpIHtcbiAgICAgICAgICAgIHNlbGYub25mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBWVFRQYXJzZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvd2VidnR0LXBhcnNlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL3dlYnZ0dC1wYXJzZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB2dHRwYXJzZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdnR0cGFyc2VyICovIFwiLi9zcmMvdXRpbHMvdnR0cGFyc2VyLmpzXCIpO1xudmFyIGlkM18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvaWQzICovIFwiLi9zcmMvZGVtdXgvaWQzLmpzXCIpO1xuLy8gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUUxMVxudmFyIHN0YXJ0c1dpdGggPSBmdW5jdGlvbiAoaW5wdXRTdHJpbmcsIHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgICByZXR1cm4gaW5wdXRTdHJpbmcuc3Vic3RyKHBvc2l0aW9uIHx8IDAsIHNlYXJjaFN0cmluZy5sZW5ndGgpID09PSBzZWFyY2hTdHJpbmc7XG59O1xudmFyIGN1ZVN0cmluZzJtaWxsaXMgPSBmdW5jdGlvbiAodGltZVN0cmluZykge1xuICAgIHZhciB0cyA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc3Vic3RyKC0zKSk7XG4gICAgdmFyIHNlY3MgPSBwYXJzZUludCh0aW1lU3RyaW5nLnN1YnN0cigtNiwgMikpO1xuICAgIHZhciBtaW5zID0gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHIoLTksIDIpKTtcbiAgICB2YXIgaG91cnMgPSB0aW1lU3RyaW5nLmxlbmd0aCA+IDkgPyBwYXJzZUludCh0aW1lU3RyaW5nLnN1YnN0cigwLCB0aW1lU3RyaW5nLmluZGV4T2YoJzonKSkpIDogMDtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0cykgfHwgIU51bWJlci5pc0Zpbml0ZShzZWNzKSB8fCAhTnVtYmVyLmlzRmluaXRlKG1pbnMpIHx8ICFOdW1iZXIuaXNGaW5pdGUoaG91cnMpKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgdHMgKz0gMTAwMCAqIHNlY3M7XG4gICAgdHMgKz0gNjAgKiAxMDAwICogbWlucztcbiAgICB0cyArPSA2MCAqIDYwICogMTAwMCAqIGhvdXJzO1xuICAgIHJldHVybiB0cztcbn07XG4vLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoXG52YXIgaGFzaCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgdmFyIGhhc2ggPSA1MzgxO1xuICAgIHZhciBpID0gdGV4dC5sZW5ndGg7XG4gICAgd2hpbGUgKGkpIHtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzMpIF4gdGV4dC5jaGFyQ29kZUF0KC0taSk7XG4gICAgfVxuICAgIHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoKTtcbn07XG52YXIgY2FsY3VsYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKHZ0dENDcywgY2MsIHByZXNlbnRhdGlvblRpbWUpIHtcbiAgICB2YXIgY3VyckNDID0gdnR0Q0NzW2NjXTtcbiAgICB2YXIgcHJldkNDID0gdnR0Q0NzW2N1cnJDQy5wcmV2Q0NdO1xuICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGRpc2NvbnRpbnVpdHkgb3IgY3VlcyBoYXZlIGJlZW4gcHJvY2Vzc2VkIHNpbmNlIHRoZSBsYXN0IGRpc2NvbnRpbnVpdHlcbiAgICAvLyBPZmZzZXQgPSBjdXJyZW50IGRpc2NvbnRpbnVpdHkgdGltZVxuICAgIGlmICghcHJldkNDIHx8ICghcHJldkNDLm5ldyAmJiBjdXJyQ0MubmV3KSkge1xuICAgICAgICB2dHRDQ3MuY2NPZmZzZXQgPSB2dHRDQ3MucHJlc2VudGF0aW9uT2Zmc2V0ID0gY3VyckNDLnN0YXJ0O1xuICAgICAgICBjdXJyQ0MubmV3ID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVGhlcmUgaGF2ZSBiZWVuIGRpc2NvbnRpbnVpdGllcyBzaW5jZSBjdWVzIHdlcmUgbGFzdCBwYXJzZWQuXG4gICAgLy8gT2Zmc2V0ID0gdGltZSBlbGFwc2VkXG4gICAgd2hpbGUgKHByZXZDQyAmJiBwcmV2Q0MubmV3KSB7XG4gICAgICAgIHZ0dENDcy5jY09mZnNldCArPSBjdXJyQ0Muc3RhcnQgLSBwcmV2Q0Muc3RhcnQ7XG4gICAgICAgIGN1cnJDQy5uZXcgPSBmYWxzZTtcbiAgICAgICAgY3VyckNDID0gcHJldkNDO1xuICAgICAgICBwcmV2Q0MgPSB2dHRDQ3NbY3VyckNDLnByZXZDQ107XG4gICAgfVxuICAgIHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQgPSBwcmVzZW50YXRpb25UaW1lO1xufTtcbnZhciBXZWJWVFRQYXJzZXIgPSB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uICh2dHRCeXRlQXJyYXksIHN5bmNQVFMsIHZ0dENDcywgY2MsIGNhbGxCYWNrLCBlcnJvckNhbGxCYWNrKSB7XG4gICAgICAgIC8vIENvbnZlcnQgYnl0ZUFycmF5IGludG8gc3RyaW5nLCByZXBsYWNpbmcgYW55IHNvbWV3aGF0IGV4b3RpYyBsaW5lZmVlZHMgd2l0aCBcIlxcblwiLCB0aGVuIHNwbGl0IG9uIHRoYXQgY2hhcmFjdGVyLlxuICAgICAgICB2YXIgcmUgPSAvXFxyXFxufFxcblxccnxcXG58XFxyL2c7XG4gICAgICAgIC8vIFVpbnQ4QXJyYXkucHJvdG90eXBlLnJlZHVjZSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gSUUxMVxuICAgICAgICB2YXIgdnR0TGluZXMgPSBpZDNfMS51dGY4QXJyYXlUb1N0cihuZXcgVWludDhBcnJheSh2dHRCeXRlQXJyYXkpKS50cmltKCkucmVwbGFjZShyZSwgJ1xcbicpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdmFyIGN1ZVRpbWUgPSAnMDA6MDAuMDAwJztcbiAgICAgICAgdmFyIG1wZWdUcyA9IDA7XG4gICAgICAgIHZhciBsb2NhbFRpbWUgPSAwO1xuICAgICAgICB2YXIgcHJlc2VudGF0aW9uVGltZSA9IDA7XG4gICAgICAgIHZhciBjdWVzID0gW107XG4gICAgICAgIHZhciBwYXJzaW5nRXJyb3I7XG4gICAgICAgIHZhciBpbkhlYWRlciA9IHRydWU7XG4gICAgICAgIC8vIGxldCBWVFRDdWUgPSBWVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcbiAgICAgICAgLy8gQ3JlYXRlIHBhcnNlciBvYmplY3QgdXNpbmcgVlRUQ3VlIHdpdGggVGV4dFRyYWNrQ3VlIGZhbGxiYWNrIG9uIGNlcnRhaW4gYnJvd3NlcnMuXG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgdnR0cGFyc2VyXzEuZGVmYXVsdCgpO1xuICAgICAgICBwYXJzZXIub25jdWUgPSBmdW5jdGlvbiAoY3VlKSB7XG4gICAgICAgICAgICAvLyBBZGp1c3QgY3VlIHRpbWluZzsgY2xhbXAgY3VlcyB0byBzdGFydCBubyBlYXJsaWVyIHRoYW4gLSBhbmQgZHJvcCBjdWVzIHRoYXQgZG9uJ3QgZW5kIGFmdGVyIC0gMCBvbiB0aW1lbGluZS5cbiAgICAgICAgICAgIHZhciBjdXJyQ0MgPSB2dHRDQ3NbY2NdO1xuICAgICAgICAgICAgdmFyIGN1ZU9mZnNldCA9IHZ0dENDcy5jY09mZnNldDtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvZmZzZXRzIGZvciBuZXcgZGlzY29udGludWl0aWVzXG4gICAgICAgICAgICBpZiAoY3VyckNDICYmIGN1cnJDQy5uZXcpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBsb2NhbCB0aW1lIGlzIHByb3ZpZGVkLCBvZmZzZXQgPSBkaXNjb250aW51aXR5IHN0YXJ0IHRpbWUgLSBsb2NhbCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIGN1ZU9mZnNldCA9IHZ0dENDcy5jY09mZnNldCA9IGN1cnJDQy5zdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZU9mZnNldCh2dHRDQ3MsIGNjLCBwcmVzZW50YXRpb25UaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJlc2VudGF0aW9uVGltZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgTVBFR1RTLCBvZmZzZXQgPSBwcmVzZW50YXRpb24gdGltZSArIGRpc2NvbnRpbnVpdHkgb2Zmc2V0XG4gICAgICAgICAgICAgICAgY3VlT2Zmc2V0ID0gcHJlc2VudGF0aW9uVGltZSAtIHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdWUuc3RhcnRUaW1lICs9IGN1ZU9mZnNldCAtIGxvY2FsVGltZTtcbiAgICAgICAgICAgIGN1ZS5lbmRUaW1lICs9IGN1ZU9mZnNldCAtIGxvY2FsVGltZTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBoYXNoIGlkIGZvciBhIGN1ZSBiYXNlZCBvbiBzdGFydC9lbmQgdGltZXMgYW5kIHRleHQuXG4gICAgICAgICAgICAvLyBUaGlzIGhlbHBzIHRpbWVsaW5lLWNvbnRyb2xsZXIgdG8gYXZvaWQgc2hvd2luZyByZXBlYXRlZCBjYXB0aW9ucy5cbiAgICAgICAgICAgIGN1ZS5pZCA9IGhhc2goY3VlLnN0YXJ0VGltZS50b1N0cmluZygpKSArIGhhc2goY3VlLmVuZFRpbWUudG9TdHJpbmcoKSkgKyBoYXNoKGN1ZS50ZXh0KTtcbiAgICAgICAgICAgIC8vIEZpeCBlbmNvZGluZyBvZiBzcGVjaWFsIGNoYXJhY3RlcnMuIFRPRE86IFRlc3Qgd2l0aCBhbGwgc29ydHMgb2Ygd2VpcmQgY2hhcmFjdGVycy5cbiAgICAgICAgICAgIGN1ZS50ZXh0ID0gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZVVSSUNvbXBvbmVudChjdWUudGV4dCkpO1xuICAgICAgICAgICAgaWYgKGN1ZS5lbmRUaW1lID4gMCkge1xuICAgICAgICAgICAgICAgIGN1ZXMucHVzaChjdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwYXJzZXIub25wYXJzaW5nZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcGFyc2luZ0Vycm9yID0gZTtcbiAgICAgICAgfTtcbiAgICAgICAgcGFyc2VyLm9uZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocGFyc2luZ0Vycm9yICYmIGVycm9yQ2FsbEJhY2spIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxCYWNrKHBhcnNpbmdFcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbEJhY2soY3Vlcyk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEdvIHRocm91Z2ggY29udGVudHMgbGluZSBieSBsaW5lLlxuICAgICAgICB2dHRMaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICBpZiAoaW5IZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBYLVRJTUVTVEFNUC1NQVAgaW4gaGVhZGVyLlxuICAgICAgICAgICAgICAgIGlmIChzdGFydHNXaXRoKGxpbmUsICdYLVRJTUVTVEFNUC1NQVA9JykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSBmb3VuZCwgbm8gbW9yZSBhcmUgYWxsb3dlZCBhbnl3YXksIHNvIHN0b3Agc2VhcmNoaW5nLlxuICAgICAgICAgICAgICAgICAgICBpbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IExPQ0FMIGFuZCBNUEVHVFMuXG4gICAgICAgICAgICAgICAgICAgIGxpbmUuc3Vic3RyKDE2KS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0c1dpdGgodGltZXN0YW1wLCAnTE9DQUw6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVUaW1lID0gdGltZXN0YW1wLnN1YnN0cig2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0c1dpdGgodGltZXN0YW1wLCAnTVBFR1RTOicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXBlZ1RzID0gcGFyc2VJbnQodGltZXN0YW1wLnN1YnN0cig3KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHN1YnRpdGxlIG9mZnNldCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3luY1BUUyArICgodnR0Q0NzW2NjXS5zdGFydCAqIDkwMDAwKSB8fCAwKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW5jUFRTICs9IDg1ODk5MzQ1OTI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGp1c3QgTVBFR1RTIGJ5IHN5bmMgUFRTLlxuICAgICAgICAgICAgICAgICAgICAgICAgbXBlZ1RzIC09IHN5bmNQVFM7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGN1ZSB0aW1lIHRvIHNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsVGltZSA9IGN1ZVN0cmluZzJtaWxsaXMoY3VlVGltZSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBNUEVHVFMgdG8gc2Vjb25kcyBmcm9tIDkwa0h6LlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VudGF0aW9uVGltZSA9IG1wZWdUcyAvIDkwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsVGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgWC1USU1FU1RBTVAtTUFQOiBcIiArIGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgWC1USU1FU1RBTVAtTUFQOiBcIiArIGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB3aXRob3V0IHBhcnNpbmcgWC1USU1FU1RBTVAtTUFQIGxpbmUuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGluZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5IZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQYXJzZSBsaW5lIGJ5IGRlZmF1bHQuXG4gICAgICAgICAgICBwYXJzZXIucGFyc2UobGluZSArICdcXG4nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlci5mbHVzaCgpO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBXZWJWVFRQYXJzZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL3hoci1sb2FkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy94aHItbG9hZGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogWEhSIGJhc2VkIGxvZ2dlclxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZSwgWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG52YXIgWGhyTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhockxvYWRlcihjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcueGhyU2V0dXApIHtcbiAgICAgICAgICAgIHRoaXMueGhyU2V0dXAgPSBjb25maWcueGhyU2V0dXA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICB9O1xuICAgIFhockxvYWRlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsb2FkZXIgPSB0aGlzLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlciAmJiBsb2FkZXIucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgICAgIHRoaXMucmVxdWVzdFRpbWVvdXQgPSBudWxsO1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmV0cnlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5yZXRyeVRpbWVvdXQgPSBudWxsO1xuICAgIH07XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbmZpZywgY2FsbGJhY2tzKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgICAgICAgdGhpcy5zdGF0cyA9IHsgdHJlcXVlc3Q6IHBlcmZvcm1hbmNlLm5vdygpLCByZXRyeTogMCB9O1xuICAgICAgICB0aGlzLnJldHJ5RGVsYXkgPSBjb25maWcucmV0cnlEZWxheTtcbiAgICAgICAgdGhpcy5sb2FkSW50ZXJuYWwoKTtcbiAgICB9O1xuICAgIFhockxvYWRlci5wcm90b3R5cGUubG9hZEludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeGhyLCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB4aHIgPSB0aGlzLmxvYWRlciA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB2YXIgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgICAgICBzdGF0cy50Zmlyc3QgPSAwO1xuICAgICAgICBzdGF0cy5sb2FkZWQgPSAwO1xuICAgICAgICB2YXIgeGhyU2V0dXAgPSB0aGlzLnhoclNldHVwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHhoclNldHVwKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyU2V0dXAoeGhyLCBjb250ZXh0LnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeCB4aHJTZXR1cDogKHhociwgdXJsKSA9PiB7eGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LUxhbmd1YWdlXCIsIFwidGVzdFwiKTt9XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCB3b3JraW5nLCBhcyB4aHIuc2V0UmVxdWVzdEhlYWRlciBleHBlY3RzIHhoci5yZWFkeVN0YXRlID09PSBPUEVOXG4gICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCBjb250ZXh0LnVybCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHhoclNldHVwKHhociwgY29udGV4dC51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgheGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgY29udGV4dC51cmwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJRTExIHRocm93cyBhbiBleGNlcHRpb24gb24geGhyLm9wZW4gaWYgYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gSFRUUCByZXNvdXJjZSBvdmVyIEhUVFBTXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkVycm9yKHsgY29kZTogeGhyLnN0YXR1cywgdGV4dDogZS5tZXNzYWdlIH0sIGNvbnRleHQsIHhocik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQucmFuZ2VFbmQpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdSYW5nZScsICdieXRlcz0nICsgY29udGV4dC5yYW5nZVN0YXJ0ICsgJy0nICsgKGNvbnRleHQucmFuZ2VFbmQgLSAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMucmVhZHlzdGF0ZWNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25wcm9ncmVzcyA9IHRoaXMubG9hZHByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBjb250ZXh0LnJlc3BvbnNlVHlwZTtcbiAgICAgICAgLy8gc2V0dXAgdGltZW91dCBiZWZvcmUgd2UgcGVyZm9ybSByZXF1ZXN0XG4gICAgICAgIHRoaXMucmVxdWVzdFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcyksIHRoaXMuY29uZmlnLnRpbWVvdXQpO1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH07XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB4aHIgPSBldmVudC5jdXJyZW50VGFyZ2V0LCByZWFkeVN0YXRlID0geGhyLnJlYWR5U3RhdGUsIHN0YXRzID0gdGhpcy5zdGF0cywgY29udGV4dCA9IHRoaXMuY29udGV4dCwgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIC8vIGRvbid0IHByb2NlZWQgaWYgeGhyIGhhcyBiZWVuIGFib3J0ZWRcbiAgICAgICAgaWYgKHN0YXRzLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyA+PSBIRUFERVJTX1JFQ0VJVkVEXG4gICAgICAgIGlmIChyZWFkeVN0YXRlID49IDIpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIHhociB0aW1lb3V0IGFuZCByZWFybSBpdCBpZiByZWFkeVN0YXRlIGxlc3MgdGhhbiA0XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHN0YXRzLnRmaXJzdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRzLnRmaXJzdCA9IE1hdGgubWF4KHBlcmZvcm1hbmNlLm5vdygpLCBzdGF0cy50cmVxdWVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNfMSA9IHhoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgLy8gaHR0cCBzdGF0dXMgYmV0d2VlbiAyMDAgdG8gMjk5IGFyZSBhbGwgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNfMSA+PSAyMDAgJiYgc3RhdHVzXzEgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHMudGxvYWQgPSBNYXRoLm1heChzdGF0cy50Zmlyc3QsIHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB2b2lkIDAsIGxlbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0cy5sb2FkZWQgPSBzdGF0cy50b3RhbCA9IGxlbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0geyB1cmw6IHhoci5yZXNwb25zZVVSTCwgZGF0YTogZGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblN1Y2Nlc3MocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCB4aHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgbWF4IG5iIG9mIHJldHJpZXMgcmVhY2hlZCBvciBpZiBodHRwIHN0YXR1cyBiZXR3ZWVuIDQwMCBhbmQgNDk5IChzdWNoIGVycm9yIGNhbm5vdCBiZSByZWNvdmVyZWQsIHJldHJ5aW5nIGlzIHVzZWxlc3MpLCByZXR1cm4gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRzLnJldHJ5ID49IGNvbmZpZy5tYXhSZXRyeSB8fCAoc3RhdHVzXzEgPj0gNDAwICYmIHN0YXR1c18xIDwgNDk5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKHN0YXR1c18xICsgXCIgd2hpbGUgbG9hZGluZyBcIiArIGNvbnRleHQudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRXJyb3IoeyBjb2RlOiBzdGF0dXNfMSwgdGV4dDogeGhyLnN0YXR1c1RleHQgfSwgY29udGV4dCwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihzdGF0dXNfMSArIFwiIHdoaWxlIGxvYWRpbmcgXCIgKyBjb250ZXh0LnVybCArIFwiLCByZXRyeWluZyBpbiBcIiArIHRoaXMucmV0cnlEZWxheSArIFwiLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWJvcnRzIGFuZCByZXNldHMgaW50ZXJuYWwgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2NoZWR1bGUgcmV0cnlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkSW50ZXJuYWwuYmluZCh0aGlzKSwgdGhpcy5yZXRyeURlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldHJ5RGVsYXkgPSBNYXRoLm1pbigyICogdGhpcy5yZXRyeURlbGF5LCBjb25maWcubWF4UmV0cnlEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0cy5yZXRyeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVhZHlTdGF0ZSA+PSAyIEFORCByZWFkeVN0YXRlICE9PTQgKHJlYWR5U3RhdGUgPSBIRUFERVJTX1JFQ0VJVkVEIHx8IExPQURJTkcpIHJlYXJtIHRpbWVvdXQgYXMgeGhyIG5vdCBmaW5pc2hlZCB5ZXRcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLCBjb25maWcudGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhockxvYWRlci5wcm90b3R5cGUubG9hZHRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwidGltZW91dCB3aGlsZSBsb2FkaW5nIFwiICsgdGhpcy5jb250ZXh0LnVybCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVGltZW91dCh0aGlzLnN0YXRzLCB0aGlzLmNvbnRleHQsIG51bGwpO1xuICAgIH07XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5sb2FkcHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHhociA9IGV2ZW50LmN1cnJlbnRUYXJnZXQsIHN0YXRzID0gdGhpcy5zdGF0cztcbiAgICAgICAgc3RhdHMubG9hZGVkID0gZXZlbnQubG9hZGVkO1xuICAgICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgc3RhdHMudG90YWwgPSBldmVudC50b3RhbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb25Qcm9ncmVzcyA9IHRoaXMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3M7XG4gICAgICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAgICAgICAvLyB0aGlyZCBhcmcgaXMgdG8gcHJvdmlkZSBvbiBwcm9ncmVzcyBkYXRhXG4gICAgICAgICAgICBvblByb2dyZXNzKHN0YXRzLCB0aGlzLmNvbnRleHQsIG51bGwsIHhocik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBYaHJMb2FkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gWGhyTG9hZGVyO1xuXG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pW1wiZGVmYXVsdFwiXTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGxzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsInZhciBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgYmFzZUl0ZXJhdGVlID0gcmVxdWlyZSgnLi9fYmFzZUl0ZXJhdGVlJyksXG4gICAgYmFzZVBpY2tCeSA9IHJlcXVpcmUoJy4vX2Jhc2VQaWNrQnknKSxcbiAgICBnZXRBbGxLZXlzSW4gPSByZXF1aXJlKCcuL19nZXRBbGxLZXlzSW4nKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgYG9iamVjdGAgcHJvcGVydGllcyBgcHJlZGljYXRlYCByZXR1cm5zXG4gKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gKlxuICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICovXG5mdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHZhciBwcm9wcyA9IGFycmF5TWFwKGdldEFsbEtleXNJbihvYmplY3QpLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgcmV0dXJuIFtwcm9wXTtcbiAgfSk7XG4gIHByZWRpY2F0ZSA9IGJhc2VJdGVyYXRlZShwcmVkaWNhdGUpO1xuICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwaWNrQnk7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJ2YXIgYmFzZUl0ZXJhdGVlID0gcmVxdWlyZSgnLi9fYmFzZUl0ZXJhdGVlJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyksXG4gICAga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGJhc2VJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgIH1cbiAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlRmluZDtcbiIsInZhciBiYXNlSXNNYXRjaCA9IHJlcXVpcmUoJy4vX2Jhc2VJc01hdGNoJyksXG4gICAgZ2V0TWF0Y2hEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWF0Y2hEYXRhJyksXG4gICAgbWF0Y2hlc1N0cmljdENvbXBhcmFibGUgPSByZXF1aXJlKCcuL19tYXRjaGVzU3RyaWN0Q29tcGFyYWJsZScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlTWF0Y2hlcztcbiIsInZhciBTdGFjayA9IHJlcXVpcmUoJy4vX1N0YWNrJyksXG4gICAgYmFzZUlzRXF1YWwgPSByZXF1aXJlKCcuL19iYXNlSXNFcXVhbCcpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiAhbGVuZ3RoO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNNYXRjaDtcbiIsIi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVDbGVhcjtcbiIsInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZURlbGV0ZTtcbiIsInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVHZXQ7XG4iLCJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZUhhcztcbiIsInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZVNldDtcbiIsInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0NsZWFyO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrRGVsZXRlO1xuIiwiLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrR2V0O1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0hhcztcbiIsInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKSxcbiAgICBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrU2V0O1xuIiwidmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKCcuL2lzRnVuY3Rpb24nKSxcbiAgICBpc01hc2tlZCA9IHJlcXVpcmUoJy4vX2lzTWFza2VkJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgdG9Tb3VyY2UgPSByZXF1aXJlKCcuL190b1NvdXJjZScpO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc05hdGl2ZTtcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJhd1RhZztcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwidmFyIGNvcmVKc0RhdGEgPSByZXF1aXJlKCcuL19jb3JlSnNEYXRhJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNNYXNrZWQ7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb3JlSnNEYXRhO1xuIiwiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VmFsdWU7XG4iLCJ2YXIgSGFzaCA9IHJlcXVpcmUoJy4vX0hhc2gnKSxcbiAgICBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlQ2xlYXI7XG4iLCJ2YXIgaGFzaENsZWFyID0gcmVxdWlyZSgnLi9faGFzaENsZWFyJyksXG4gICAgaGFzaERlbGV0ZSA9IHJlcXVpcmUoJy4vX2hhc2hEZWxldGUnKSxcbiAgICBoYXNoR2V0ID0gcmVxdWlyZSgnLi9faGFzaEdldCcpLFxuICAgIGhhc2hIYXMgPSByZXF1aXJlKCcuL19oYXNoSGFzJyksXG4gICAgaGFzaFNldCA9IHJlcXVpcmUoJy4vX2hhc2hTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gSGFzaDtcbiIsInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaENsZWFyO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoRGVsZXRlO1xuIiwidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaEdldDtcbiIsInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hIYXM7XG4iLCJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hTZXQ7XG4iLCJ2YXIgZ2V0TWFwRGF0YSA9IHJlcXVpcmUoJy4vX2dldE1hcERhdGEnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVEZWxldGU7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNLZXlhYmxlO1xuIiwidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZUdldDtcbiIsInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlSGFzO1xuIiwidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZVNldDtcbiIsInZhciBTdGFjayA9IHJlcXVpcmUoJy4vX1N0YWNrJyksXG4gICAgZXF1YWxBcnJheXMgPSByZXF1aXJlKCcuL19lcXVhbEFycmF5cycpLFxuICAgIGVxdWFsQnlUYWcgPSByZXF1aXJlKCcuL19lcXVhbEJ5VGFnJyksXG4gICAgZXF1YWxPYmplY3RzID0gcmVxdWlyZSgnLi9fZXF1YWxPYmplY3RzJyksXG4gICAgZ2V0VGFnID0gcmVxdWlyZSgnLi9fZ2V0VGFnJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzQnVmZmVyID0gcmVxdWlyZSgnLi9pc0J1ZmZlcicpLFxuICAgIGlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vaXNUeXBlZEFycmF5Jyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc0VxdWFsRGVlcDtcbiIsInZhciBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyksXG4gICAgc2V0Q2FjaGVBZGQgPSByZXF1aXJlKCcuL19zZXRDYWNoZUFkZCcpLFxuICAgIHNldENhY2hlSGFzID0gcmVxdWlyZSgnLi9fc2V0Q2FjaGVIYXMnKTtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldENhY2hlO1xuIiwiLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0Q2FjaGVBZGQ7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0Q2FjaGVIYXM7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5U29tZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhY2hlSGFzO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIFVpbnQ4QXJyYXkgPSByZXF1aXJlKCcuL19VaW50OEFycmF5JyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyksXG4gICAgZXF1YWxBcnJheXMgPSByZXF1aXJlKCcuL19lcXVhbEFycmF5cycpLFxuICAgIG1hcFRvQXJyYXkgPSByZXF1aXJlKCcuL19tYXBUb0FycmF5JyksXG4gICAgc2V0VG9BcnJheSA9IHJlcXVpcmUoJy4vX3NldFRvQXJyYXknKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XSc7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcXVhbEJ5VGFnO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gVWludDhBcnJheTtcbiIsIi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwVG9BcnJheTtcbiIsIi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VG9BcnJheTtcbiIsInZhciBnZXRBbGxLZXlzID0gcmVxdWlyZSgnLi9fZ2V0QWxsS2V5cycpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDE7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcXVhbE9iamVjdHM7XG4iLCJ2YXIgYmFzZUdldEFsbEtleXMgPSByZXF1aXJlKCcuL19iYXNlR2V0QWxsS2V5cycpLFxuICAgIGdldFN5bWJvbHMgPSByZXF1aXJlKCcuL19nZXRTeW1ib2xzJyksXG4gICAga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEFsbEtleXM7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlGaWx0ZXI7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUaW1lcztcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzQXJndW1lbnRzO1xuIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0dWJGYWxzZTtcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNUeXBlZEFycmF5O1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VVbmFyeTtcbiIsInZhciBmcmVlR2xvYmFsID0gcmVxdWlyZSgnLi9fZnJlZUdsb2JhbCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgaWYgKHR5cGVzKSB7XG4gICAgICByZXR1cm4gdHlwZXM7XG4gICAgfVxuXG4gICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5vZGVVdGlsO1xuIiwidmFyIGlzUHJvdG90eXBlID0gcmVxdWlyZSgnLi9faXNQcm90b3R5cGUnKSxcbiAgICBuYXRpdmVLZXlzID0gcmVxdWlyZSgnLi9fbmF0aXZlS2V5cycpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUtleXM7XG4iLCJ2YXIgb3ZlckFyZyA9IHJlcXVpcmUoJy4vX292ZXJBcmcnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdGl2ZUtleXM7XG4iLCJ2YXIgRGF0YVZpZXcgPSByZXF1aXJlKCcuL19EYXRhVmlldycpLFxuICAgIE1hcCA9IHJlcXVpcmUoJy4vX01hcCcpLFxuICAgIFByb21pc2UgPSByZXF1aXJlKCcuL19Qcm9taXNlJyksXG4gICAgU2V0ID0gcmVxdWlyZSgnLi9fU2V0JyksXG4gICAgV2Vha01hcCA9IHJlcXVpcmUoJy4vX1dlYWtNYXAnKSxcbiAgICBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUYWc7XG4iLCJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyksXG4gICAgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGFWaWV3O1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKSxcbiAgICByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXQ7XG4iLCJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyksXG4gICAgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWFrTWFwO1xuIiwidmFyIGlzU3RyaWN0Q29tcGFyYWJsZSA9IHJlcXVpcmUoJy4vX2lzU3RyaWN0Q29tcGFyYWJsZScpLFxuICAgIGtleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TWF0Y2hEYXRhO1xuIiwidmFyIGJhc2VJc0VxdWFsID0gcmVxdWlyZSgnLi9fYmFzZUlzRXF1YWwnKSxcbiAgICBnZXQgPSByZXF1aXJlKCcuL2dldCcpLFxuICAgIGhhc0luID0gcmVxdWlyZSgnLi9oYXNJbicpLFxuICAgIGlzS2V5ID0gcmVxdWlyZSgnLi9faXNLZXknKSxcbiAgICBpc1N0cmljdENvbXBhcmFibGUgPSByZXF1aXJlKCcuL19pc1N0cmljdENvbXBhcmFibGUnKSxcbiAgICBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSA9IHJlcXVpcmUoJy4vX21hdGNoZXNTdHJpY3RDb21wYXJhYmxlJyksXG4gICAgdG9LZXkgPSByZXF1aXJlKCcuL190b0tleScpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZU1hdGNoZXNQcm9wZXJ0eTtcbiIsInZhciBiYXNlR2V0ID0gcmVxdWlyZSgnLi9fYmFzZUdldCcpO1xuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAqXG4gKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAqIC8vID0+ICdkZWZhdWx0J1xuICovXG5mdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0O1xuIiwidmFyIG1lbW9pemVDYXBwZWQgPSByZXF1aXJlKCcuL19tZW1vaXplQ2FwcGVkJyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdHJpbmdUb1BhdGg7XG4iLCJ2YXIgbWVtb2l6ZSA9IHJlcXVpcmUoJy4vbWVtb2l6ZScpO1xuXG4vKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG52YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICBjYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9KTtcblxuICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZUNhcHBlZDtcbiIsInZhciBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplO1xuIiwidmFyIGJhc2VUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VUb1N0cmluZycpO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9TdHJpbmc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVG9TdHJpbmc7XG4iLCJ2YXIgYmFzZUhhc0luID0gcmVxdWlyZSgnLi9fYmFzZUhhc0luJyksXG4gICAgaGFzUGF0aCA9IHJlcXVpcmUoJy4vX2hhc1BhdGgnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gKlxuICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc0luO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUhhc0luO1xuIiwidmFyIGNhc3RQYXRoID0gcmVxdWlyZSgnLi9fY2FzdFBhdGgnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc0xlbmd0aCA9IHJlcXVpcmUoJy4vaXNMZW5ndGgnKSxcbiAgICB0b0tleSA9IHJlcXVpcmUoJy4vX3RvS2V5Jyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBmYWxzZTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gIH1cbiAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc1BhdGg7XG4iLCIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlkZW50aXR5O1xuIiwidmFyIGJhc2VQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2Jhc2VQcm9wZXJ0eScpLFxuICAgIGJhc2VQcm9wZXJ0eURlZXAgPSByZXF1aXJlKCcuL19iYXNlUHJvcGVydHlEZWVwJyksXG4gICAgaXNLZXkgPSByZXF1aXJlKCcuL19pc0tleScpLFxuICAgIHRvS2V5ID0gcmVxdWlyZSgnLi9fdG9LZXknKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBbXG4gKiAgIHsgJ2EnOiB7ICdiJzogMiB9IH0sXG4gKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAqIF07XG4gKlxuICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICogLy8gPT4gWzIsIDFdXG4gKlxuICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAqIC8vID0+IFsxLCAyXVxuICovXG5mdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHByb3BlcnR5O1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlUHJvcGVydHk7XG4iLCJ2YXIgYmFzZUdldCA9IHJlcXVpcmUoJy4vX2Jhc2VHZXQnKTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVByb3BlcnR5RGVlcDtcbiIsInZhciBiYXNlRmluZEluZGV4ID0gcmVxdWlyZSgnLi9fYmFzZUZpbmRJbmRleCcpLFxuICAgIGJhc2VJdGVyYXRlZSA9IHJlcXVpcmUoJy4vX2Jhc2VJdGVyYXRlZScpLFxuICAgIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vdG9JbnRlZ2VyJyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAxLjEuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciB1c2VycyA9IFtcbiAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gKiBdO1xuICpcbiAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICogLy8gPT4gMFxuICpcbiAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICogLy8gPT4gMVxuICpcbiAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gKiAvLyA9PiAwXG4gKlxuICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICogLy8gPT4gMlxuICovXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gIH1cbiAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZEluZGV4O1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUZpbmRJbmRleDtcbiIsInZhciB0b0Zpbml0ZSA9IHJlcXVpcmUoJy4vdG9GaW5pdGUnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b0ludGVnZXIoMy4yKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDBcbiAqXG4gKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAqIC8vID0+IDNcbiAqL1xuZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0ludGVnZXI7XG4iLCJ2YXIgdG9OdW1iZXIgPSByZXF1aXJlKCcuL3RvTnVtYmVyJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwODtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gIH1cbiAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvRmluaXRlO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5pZy1jb250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgcGFkZGluZy10b3A6IDU2LjI1JTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XFxufVxcblxcbi5pZy1wbGF5ZXIsXFxuLmlnLWFkcyxcXG4uaWctdWkge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcbn1cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwidmFyIGJhc2VHZXQgPSByZXF1aXJlKCcuL19iYXNlR2V0JyksXG4gICAgYmFzZVNldCA9IHJlcXVpcmUoJy4vX2Jhc2VTZXQnKSxcbiAgICBjYXN0UGF0aCA9IHJlcXVpcmUoJy4vX2Nhc3RQYXRoJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICByZXN1bHQgPSB7fTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBwYXRoID0gcGF0aHNbaW5kZXhdLFxuICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICBiYXNlU2V0KHJlc3VsdCwgY2FzdFBhdGgocGF0aCwgb2JqZWN0KSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VQaWNrQnk7XG4iLCJ2YXIgYXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25WYWx1ZScpLFxuICAgIGNhc3RQYXRoID0gcmVxdWlyZSgnLi9fY2FzdFBhdGgnKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvS2V5ID0gcmVxdWlyZSgnLi9fdG9LZXknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVNldDtcbiIsInZhciBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKSxcbiAgICBlcSA9IHJlcXVpcmUoJy4vZXEnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ25WYWx1ZTtcbiIsInZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUFzc2lnblZhbHVlO1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVQcm9wZXJ0eTtcbiIsInZhciBiYXNlR2V0QWxsS2V5cyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRBbGxLZXlzJyksXG4gICAgZ2V0U3ltYm9sc0luID0gcmVxdWlyZSgnLi9fZ2V0U3ltYm9sc0luJyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRBbGxLZXlzSW47XG4iLCJ2YXIgYXJyYXlQdXNoID0gcmVxdWlyZSgnLi9fYXJyYXlQdXNoJyksXG4gICAgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgZ2V0U3ltYm9scyA9IHJlcXVpcmUoJy4vX2dldFN5bWJvbHMnKSxcbiAgICBzdHViQXJyYXkgPSByZXF1aXJlKCcuL3N0dWJBcnJheScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHdoaWxlIChvYmplY3QpIHtcbiAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN5bWJvbHNJbjtcbiIsInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG4iLCJ2YXIgYXJyYXlMaWtlS2V5cyA9IHJlcXVpcmUoJy4vX2FycmF5TGlrZUtleXMnKSxcbiAgICBiYXNlS2V5c0luID0gcmVxdWlyZSgnLi9fYmFzZUtleXNJbicpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzSW47XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgaXNQcm90b3R5cGUgPSByZXF1aXJlKCcuL19pc1Byb3RvdHlwZScpLFxuICAgIG5hdGl2ZUtleXNJbiA9IHJlcXVpcmUoJy4vX25hdGl2ZUtleXNJbicpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VLZXlzSW47XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuYXRpdmVLZXlzSW47XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAc3JjL01vZHVsZSc7XG5pbXBvcnQgeyBJQ29udHJvbGxlciB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIE1vZHVsZSBpbXBsZW1lbnRzIElDb250cm9sbGVyIHtcbiAgcHVibGljIGFzeW5jIGJvb3QoKSB7fVxuXG4gIHB1YmxpYyBsb2FkKCkge1xuICAgIHRoaXMuaW5zdGFuY2UucGxheWVyLmxvYWQoKTtcbiAgICB0aGlzLmluc3RhbmNlLm1lZGlhLmxvYWQoKTtcbiAgfVxuXG4gIHB1YmxpYyB1bmxvYWQoKSB7XG4gICAgaWYgKHRoaXMuaW5zdGFuY2UubWVkaWEpIHtcbiAgICAgIHRoaXMuaW5zdGFuY2UubWVkaWEudW5sb2FkKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmluc3RhbmNlLnBsYXllcikge1xuICAgICAgdGhpcy5pbnN0YW5jZS5wbGF5ZXIudW5sb2FkKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHBsYXkoKSB7XG4gICAgaWYgKHRoaXMuaG9va3MuY2FuRXhlY3V0ZSgncGxheScpKSB7XG4gICAgICB0aGlzLmluc3RhbmNlLm1lZGlhLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgaWYgKHRoaXMuaG9va3MuY2FuRXhlY3V0ZSgncGF1c2UnKSkge1xuICAgICAgdGhpcy5pbnN0YW5jZS5tZWRpYS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZWVrVG8odGltZTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuaG9va3MuY2FuRXhlY3V0ZSgnc2Vla1RvJywgdGltZSkpIHtcbiAgICAgIHRoaXMuaW5zdGFuY2UubWVkaWEuc2Vla1RvKHRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5ob29rcy5jYW5FeGVjdXRlKCdzZXRWb2x1bWUnLCB2b2x1bWUpKSB7XG4gICAgICB0aGlzLmluc3RhbmNlLm1lZGlhLnNldFZvbHVtZSh2b2x1bWUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJ0BzcmMvY29udHJvbGxlci9Db250cm9sbGVyJztcblxuZXhwb3J0IGNsYXNzIEJhc2VDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHB1YmxpYyBuYW1lID0gJ2Jhc2UnO1xufVxuIiwiaW1wb3J0IHsgQmFzZUNvbnRyb2xsZXIgfSBmcm9tICdAc3JjL2NvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXInO1xuaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tICdAc3JjL0luc3RhbmNlJztcbmltcG9ydCB7IENvbmZpZywgTW9kdWxlTG9hZGVyLCBNb2R1bGVMb2FkZXJUeXBlcyB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgQmFzZUNvbnRyb2xsZXJMb2FkZXIgPSB7XG4gIHR5cGU6IE1vZHVsZUxvYWRlclR5cGVzLkNPTlRST0xMRVIsXG5cbiAgY3JlYXRlOiAoaW5zdGFuY2U6IEluc3RhbmNlKSA9PiBuZXcgQmFzZUNvbnRyb2xsZXIoaW5zdGFuY2UpLFxuXG4gIGlzU3VwcG9ydGVkOiAoY29uZmlnOiBDb25maWcpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gY29uZmlnLnNvdXJjZXMubGVuZ3RoID4gMDtcbiAgfSxcbn0gYXMgTW9kdWxlTG9hZGVyPEJhc2VDb250cm9sbGVyPjtcbiIsImltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSAnQHNyYy9JbnN0YW5jZSc7XG5pbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAc3JjL01vZHVsZSc7XG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tICdAc3JjL3R5cGVzJztcblxuY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbmV4cG9ydCBjbGFzcyBCZW5jaG1hcmtFeHRlbnNpb24gZXh0ZW5kcyBNb2R1bGUge1xuICBwdWJsaWMgbmFtZSA9ICdiZW5jaG1hcmsnO1xuXG4gIHB1YmxpYyBzdGFydHVwVGltZUV4dGVuc2lvbjogbnVtYmVyO1xuXG4gIHB1YmxpYyBzdGFydHVwVGltZVBsYXllcjogbnVtYmVyO1xuXG4gIHB1YmxpYyBzdGFydHVwVGltZUluc3RhbmNlOiBudW1iZXI7XG5cbiAgcHVibGljIHN0YXJ0dXBUaW1lV2l0aEF1dG9wbGF5OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEluc3RhbmNlKSB7XG4gICAgc3VwZXIoaW5zdGFuY2UpO1xuXG4gICAgdGhpcy5zdGFydHVwVGltZUV4dGVuc2lvbiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgdGhpcy5vbmNlKEV2ZW50cy5QTEFZRVJfU1RBVEVfUkVBRFksICgpID0+IHtcbiAgICAgIHRoaXMuc3RhcnR1cFRpbWVQbGF5ZXIgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICB9KTtcblxuICAgIHRoaXMub25jZShFdmVudHMuUkVBRFksICgpID0+IHtcbiAgICAgIHRoaXMuc3RhcnR1cFRpbWVJbnN0YW5jZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIH0pO1xuXG4gICAgaWYgKGluc3RhbmNlLmNhbkF1dG9wbGF5KCkpIHtcbiAgICAgIHRoaXMub25jZShFdmVudHMuUExBWUVSX1NUQVRFX1BMQVlJTkcsICgpID0+IHtcbiAgICAgICAgdGhpcy5zdGFydHVwVGltZVdpdGhBdXRvcGxheSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBCZW5jaG1hcmtFeHRlbnNpb24gfSBmcm9tICdAc3JjL2V4dGVuc2lvbnMvQmVuY2htYXJrRXh0ZW5zaW9uL0JlbmNobWFya0V4dGVuc2lvbic7XG5pbXBvcnQgeyBJbnN0YW5jZSB9IGZyb20gJ0BzcmMvSW5zdGFuY2UnO1xuaW1wb3J0IHsgQ29uZmlnLCBNb2R1bGVMb2FkZXIsIE1vZHVsZUxvYWRlclR5cGVzIH0gZnJvbSAnQHNyYy90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBCZW5jaG1hcmtFeHRlbnNpb25Mb2FkZXIgPSB7XG4gIHR5cGU6IE1vZHVsZUxvYWRlclR5cGVzLkVYVEVOU0lPTixcblxuICBjcmVhdGU6IGFzeW5jIChpbnN0YW5jZTogSW5zdGFuY2UpID0+IG5ldyBCZW5jaG1hcmtFeHRlbnNpb24oaW5zdGFuY2UpLFxuXG4gIGlzU3VwcG9ydGVkOiAoY29uZmlnOiBDb25maWcpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbn0gYXMgTW9kdWxlTG9hZGVyPEJlbmNobWFya0V4dGVuc2lvbj47XG4iLCJpbXBvcnQgeyBJbnN0YW5jZSB9IGZyb20gJ0BzcmMvSW5zdGFuY2UnO1xuaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQHNyYy9Nb2R1bGUnO1xuaW1wb3J0IHtcbiAgQWRCcmVhayxcbiAgQWRCcmVha0V2ZW50RGF0YSxcbiAgQWRCcmVha3NFdmVudERhdGEsXG4gIEFkVHlwZSxcbiAgRXZlbnRzLFxuICBIb29rLFxuICBIb29rQWN0aW9ucyxcbiAgVGltZVVwZGF0ZUV2ZW50RGF0YSxcbn0gZnJvbSAnQHNyYy90eXBlcyc7XG5pbXBvcnQgZmluZCBmcm9tICdsb2Rhc2gvZmluZCc7XG5cbmV4cG9ydCBjbGFzcyBGcmVlV2hlZWxFeHRlbnNpb24gZXh0ZW5kcyBNb2R1bGUge1xuICBwdWJsaWMgbmFtZSA9ICdmcmVld2hlZWwnO1xuXG4gIHByaXZhdGUgc2RrOiBhbnk7XG5cbiAgcHJpdmF0ZSBtZWRpYUVsZW1lbnQ6IEhUTUxNZWRpYUVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBhZE1hbmFnZXI6IGFueTtcblxuICBwcml2YXRlIGFkQ29udGV4dDogYW55O1xuXG4gIHByaXZhdGUgYWRzUmVxdWVzdGVkOiBib29sZWFuO1xuXG4gIHByaXZhdGUgYWRCcmVha3M6IEFkQnJlYWtbXSA9IFtdO1xuXG4gIHByaXZhdGUgY3VycmVudEFkQnJlYWs6IEFkQnJlYWs7XG5cbiAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEluc3RhbmNlKSB7XG4gICAgc3VwZXIoaW5zdGFuY2UpO1xuXG4gICAgaWYgKCEod2luZG93IGFzIGFueSkudHYuZnJlZXdoZWVsLlNESykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2RrID0gKHdpbmRvdyBhcyBhbnkpLnR2LmZyZWV3aGVlbC5TREs7XG4gICAgdGhpcy5zZGsuc2V0TG9nTGV2ZWwodGhpcy5zZGsuTE9HX0xFVkVMX1FVSUVUKTtcblxuICAgIGluc3RhbmNlLmNvbnRyb2xsZXIuaG9va3MuY3JlYXRlKHtcbiAgICAgIG5hbWU6ICdwbGF5JyxcbiAgICAgIG1ldGhvZDogdGhpcy5vbkhvb2tDb250cm9sbGVyUGxheS5iaW5kKHRoaXMpLFxuICAgIH0pO1xuXG4gICAgaW5zdGFuY2UuY29udHJvbGxlci5ob29rcy5jcmVhdGUoe1xuICAgICAgbmFtZTogJ3BhdXNlJyxcbiAgICAgIG1ldGhvZDogdGhpcy5vbkhvb2tDb250cm9sbGVyUGF1c2UuYmluZCh0aGlzKSxcbiAgICB9KTtcblxuICAgIGluc3RhbmNlLmNvbnRyb2xsZXIuaG9va3MuY3JlYXRlKHtcbiAgICAgIG5hbWU6ICdzZXRWb2x1bWUnLFxuICAgICAgbWV0aG9kOiB0aGlzLm9uSG9va0NvbnRyb2xsZXJTZXRWb2x1bWUuYmluZCh0aGlzKSxcbiAgICB9KTtcblxuICAgIHRoaXMub25jZShFdmVudHMuUkVBRFksIHRoaXMub25SZWFkeS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm9uKEV2ZW50cy5QTEFZRVJfU1RBVEVfVElNRVVQREFURSwgdGhpcy5vblBsYXllclRpbWVVcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwdWJsaWMgb25Ib29rQ29udHJvbGxlclBsYXkoKTogSG9va0FjdGlvbnMge1xuICAgIGlmICghdGhpcy5hZHNSZXF1ZXN0ZWQpIHtcbiAgICAgIHRoaXMuYWRDb250ZXh0LnN1Ym1pdFJlcXVlc3QoKTtcbiAgICAgIHJldHVybiBIb29rQWN0aW9ucy5BQk9SVDtcbiAgICB9XG5cbiAgICByZXR1cm4gSG9va0FjdGlvbnMuQ09OVElOVUU7XG4gIH1cblxuICBwdWJsaWMgb25Ib29rQ29udHJvbGxlclBhdXNlKCk6IEhvb2tBY3Rpb25zIHtcbiAgICBpZiAodGhpcy5jdXJyZW50QWRCcmVhaykge1xuICAgICAgdGhpcy5tZWRpYUVsZW1lbnQucGF1c2UoKTtcbiAgICAgIHJldHVybiBIb29rQWN0aW9ucy5BQk9SVDtcbiAgICB9XG5cbiAgICByZXR1cm4gSG9va0FjdGlvbnMuQ09OVElOVUU7XG4gIH1cblxuICBwdWJsaWMgb25Ib29rQ29udHJvbGxlclNldFZvbHVtZSh2b2x1bWU6IG51bWJlcik6IEhvb2tBY3Rpb25zIHtcbiAgICB0aGlzLm1lZGlhRWxlbWVudC52b2x1bWUgPSB2b2x1bWU7XG4gICAgcmV0dXJuIEhvb2tBY3Rpb25zLkNPTlRJTlVFO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZU1lZGlhRWxlbWVudCgpIHtcbiAgICB0aGlzLm1lZGlhRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChFdmVudHMuQURCUkVBS19TVEFURV9QTEFZKTtcbiAgICB9KTtcblxuICAgIHRoaXMubWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KEV2ZW50cy5BREJSRUFLX1NUQVRFX1BBVVNFKTtcbiAgICB9KTtcblxuICAgIHRoaXMubWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoRXZlbnRzLkFEQlJFQUtfU1RBVEVfUExBWUlORyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KEV2ZW50cy5BREJSRUFLX1NUQVRFX1RJTUVVUERBVEUsIHtcbiAgICAgICAgY3VycmVudFRpbWU6IHRoaXMubWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lLFxuICAgICAgfSBhcyBUaW1lVXBkYXRlRXZlbnREYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBvblJlYWR5KCkge1xuICAgIC8vIENyZWF0ZSBhZHMgc3BlY2lmaWMgbWVkaWEgZWxlbWVudC5cbiAgICB0aGlzLmNyZWF0ZU1lZGlhRWxlbWVudCgpO1xuXG4gICAgdGhpcy5pbnN0YW5jZS5hZHNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5tZWRpYUVsZW1lbnQpO1xuXG4gICAgY29uc3QgeyBBZE1hbmFnZXIgfTogeyBBZE1hbmFnZXI6IGFueSB9ID0gdGhpcy5zZGs7XG4gICAgdGhpcy5hZE1hbmFnZXIgPSBuZXcgQWRNYW5hZ2VyKCk7XG4gICAgdGhpcy5hZENvbnRleHQgPSB0aGlzLmFkTWFuYWdlci5uZXdDb250ZXh0KCk7XG5cbiAgICB0aGlzLmFkQ29udGV4dC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgdGhpcy5zZGsuRVZFTlRfUkVRVUVTVF9DT01QTEVURSxcbiAgICAgIHRoaXMub25BZFJlcXVlc3RDb21wbGV0ZS5iaW5kKHRoaXMpLFxuICAgICk7XG4gICAgdGhpcy5hZENvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHRoaXMuc2RrLkVWRU5UX1NMT1RfU1RBUlRFRCxcbiAgICAgIHRoaXMub25TbG90U3RhcnRlZC5iaW5kKHRoaXMpLFxuICAgICk7XG4gICAgdGhpcy5hZENvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHRoaXMuc2RrLkVWRU5UX1NMT1RfRU5ERUQsXG4gICAgICB0aGlzLm9uU2xvdEVuZGVkLmJpbmQodGhpcyksXG4gICAgKTtcblxuICAgIGNvbnN0IGZyZWV3aGVlbCA9IHRoaXMuaW5zdGFuY2UuY29uZmlnLmZyZWV3aGVlbDtcbiAgICB0aGlzLmFkTWFuYWdlci5zZXROZXR3b3JrKGZyZWV3aGVlbC5uZXR3b3JrKTtcbiAgICB0aGlzLmFkTWFuYWdlci5zZXRTZXJ2ZXIoZnJlZXdoZWVsLnNlcnZlcik7XG4gICAgdGhpcy5hZENvbnRleHQuc2V0VmlkZW9Bc3NldChcbiAgICAgIGZyZWV3aGVlbC52aWRlb0Fzc2V0LFxuICAgICAgZnJlZXdoZWVsLmR1cmF0aW9uLFxuICAgICAgZnJlZXdoZWVsLm5ldHdvcmssXG4gICAgKTtcbiAgICB0aGlzLmFkQ29udGV4dC5zZXRTaXRlU2VjdGlvbihmcmVld2hlZWwuc2l0ZVNlY3Rpb24pO1xuICAgIHRoaXMuYWRDb250ZXh0LnNldFByb2ZpbGUoZnJlZXdoZWVsLnByb2ZpbGUpO1xuXG4gICAgZnJlZXdoZWVsLmN1ZXBvaW50cy5mb3JFYWNoKGN1ZXBvaW50ID0+IHtcbiAgICAgIGlmIChjdWVwb2ludCA9PT0gQWRUeXBlLlBSRVJPTEwpIHtcbiAgICAgICAgdGhpcy5hZENvbnRleHQuYWRkVGVtcG9yYWxTbG90KCdwcmVyb2xsJywgdGhpcy5zZGsuQURVTklUX1BSRVJPTEwsIDApO1xuICAgICAgfSBlbHNlIGlmIChjdWVwb2ludCA9PT0gQWRUeXBlLlBPU1RST0xMKSB7XG4gICAgICAgIHRoaXMuYWRDb250ZXh0LmFkZFRlbXBvcmFsU2xvdChcbiAgICAgICAgICAncG9zdHJvbGwnLFxuICAgICAgICAgIHRoaXMuc2RrLkFEVU5JVF9QT1NUUk9MTCxcbiAgICAgICAgICBmcmVld2hlZWwuZHVyYXRpb24sXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0aW1lID0gY3VlcG9pbnQgYXMgbnVtYmVyO1xuICAgICAgICB0aGlzLmFkQ29udGV4dC5hZGRUZW1wb3JhbFNsb3QoXG4gICAgICAgICAgYG1pZHJvbGwtJHt0aW1lfWAsXG4gICAgICAgICAgdGhpcy5zZGsuQURVTklUX01JRFJPTEwsXG4gICAgICAgICAgdGltZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaW5zdGFuY2UuYWRzQ29udGFpbmVyLmlkID0gJ2ZyZWV3aGVlbEFkc0NvbnRhaW5lcic7XG4gICAgdGhpcy5hZENvbnRleHQucmVnaXN0ZXJWaWRlb0Rpc3BsYXlCYXNlKHRoaXMuaW5zdGFuY2UuYWRzQ29udGFpbmVyLmlkKTtcbiAgfVxuXG4gIHB1YmxpYyBvbkFkUmVxdWVzdENvbXBsZXRlKGV2ZW50KSB7XG4gICAgdGhpcy5hZHNSZXF1ZXN0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGV2ZW50LnN1Y2Nlc3MpIHtcbiAgICAgIGNvbnN0IHNsb3RzID0gdGhpcy5hZENvbnRleHQuZ2V0VGVtcG9yYWxTbG90cygpO1xuICAgICAgdGhpcy5hZEJyZWFrcyA9IHNsb3RzLm1hcChcbiAgICAgICAgc2xvdCA9PlxuICAgICAgICAgICh7XG4gICAgICAgICAgICBpZDogc2xvdC5nZXRDdXN0b21JZCgpLFxuICAgICAgICAgICAgdHlwZTogc2xvdC5nZXRBZFVuaXQoKSxcbiAgICAgICAgICAgIHN0YXJ0c0F0OiBzbG90LmdldFRpbWVQb3NpdGlvbigpLFxuICAgICAgICAgICAgaGFzQmVlbldhdGNoZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZnJlZXdoZWVsU2xvdDogc2xvdCxcbiAgICAgICAgICB9IGFzIEFkQnJlYWspLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoRXZlbnRzLkFEQlJFQUtTLCB7XG4gICAgICBhZEJyZWFrczogdGhpcy5hZEJyZWFrcyxcbiAgICB9IGFzIEFkQnJlYWtzRXZlbnREYXRhKTtcblxuICAgIGNvbnN0IHByZXJvbGw6IEFkQnJlYWsgPSBmaW5kKHRoaXMuYWRCcmVha3MsIHsgdHlwZTogQWRUeXBlLlBSRVJPTEwgfSk7XG4gICAgaWYgKHByZXJvbGwpIHtcbiAgICAgIHRoaXMucGxheUFkQnJlYWsocHJlcm9sbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5zdGFuY2UubWVkaWEucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvblNsb3RTdGFydGVkKGV2ZW50KSB7XG4gICAgY29uc3Qgc2xvdDogYW55ID0gZXZlbnQuc2xvdDtcblxuICAgIHRoaXMuaW5zdGFuY2UubWVkaWEucGF1c2UoKTtcblxuICAgIGNvbnN0IGFkQnJlYWsgPSB0aGlzLnNsb3RUb0FkQnJlYWsoc2xvdCk7XG4gICAgdGhpcy5jdXJyZW50QWRCcmVhayA9IGFkQnJlYWs7XG5cbiAgICB0aGlzLmVtaXQoRXZlbnRzLkFEQlJFQUtfU1RBUlRFRCwge1xuICAgICAgYWRCcmVhayxcbiAgICB9IGFzIEFkQnJlYWtFdmVudERhdGEpO1xuICB9XG5cbiAgcHVibGljIG9uU2xvdEVuZGVkKGV2ZW50KSB7XG4gICAgY29uc3Qgc2xvdDogYW55ID0gZXZlbnQuc2xvdDtcblxuICAgIGNvbnN0IGFkQnJlYWsgPSB0aGlzLnNsb3RUb0FkQnJlYWsoc2xvdCk7XG4gICAgYWRCcmVhay5oYXNCZWVuV2F0Y2hlZCA9IHRydWU7XG5cbiAgICB0aGlzLmN1cnJlbnRBZEJyZWFrID0gbnVsbDtcblxuICAgIHRoaXMuZW1pdChFdmVudHMuQURCUkVBS19FTkRFRCwge1xuICAgICAgYWRCcmVhayxcbiAgICB9IGFzIEFkQnJlYWtFdmVudERhdGEpO1xuXG4gICAgdGhpcy5pbnN0YW5jZS5tZWRpYS5wbGF5KCk7XG5cbiAgICB0aGlzLmluc3RhbmNlLmFkc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgcHVibGljIG9uUGxheWVyVGltZVVwZGF0ZSh7IGN1cnJlbnRUaW1lIH06IFRpbWVVcGRhdGVFdmVudERhdGEpIHtcbiAgICBjb25zdCBtaWRyb2xsOiBBZEJyZWFrID0gZmluZChcbiAgICAgIHRoaXMuYWRCcmVha3MsXG4gICAgICBhZEJyZWFrID0+XG4gICAgICAgIGFkQnJlYWsudHlwZSA9PT0gQWRUeXBlLk1JRFJPTEwgJiZcbiAgICAgICAgYWRCcmVhay5zdGFydHNBdCA8PSBjdXJyZW50VGltZSAmJlxuICAgICAgICAhYWRCcmVhay5oYXNCZWVuV2F0Y2hlZCxcbiAgICApO1xuXG4gICAgaWYgKG1pZHJvbGwpIHtcbiAgICAgIHRoaXMucGxheUFkQnJlYWsobWlkcm9sbCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNsb3RUb0FkQnJlYWsoc2xvdDogYW55KTogQWRCcmVhayB7XG4gICAgcmV0dXJuIGZpbmQodGhpcy5hZEJyZWFrcywge1xuICAgICAgaWQ6IHNsb3QuZ2V0Q3VzdG9tSWQoKSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBwbGF5QWRCcmVhayhhZEJyZWFrOiBBZEJyZWFrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGFkQnJlYWsuZnJlZXdoZWVsU2xvdC5wbGF5KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuaW5zdGFuY2UubWVkaWEucGxheSgpO1xuICAgIH1cbiAgICB0aGlzLmluc3RhbmNlLmFkc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgfVxufVxuIiwiaW1wb3J0IHsgRnJlZVdoZWVsRXh0ZW5zaW9uIH0gZnJvbSAnQHNyYy9leHRlbnNpb25zL0ZyZWVXaGVlbEV4dGVuc2lvbi9GcmVlV2hlZWxFeHRlbnNpb24nO1xuaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tICdAc3JjL0luc3RhbmNlJztcbmltcG9ydCB7IENvbmZpZywgTW9kdWxlTG9hZGVyLCBNb2R1bGVMb2FkZXJUeXBlcyB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgRnJlZVdoZWVsRXh0ZW5zaW9uTG9hZGVyID0ge1xuICB0eXBlOiBNb2R1bGVMb2FkZXJUeXBlcy5FWFRFTlNJT04sXG5cbiAgY3JlYXRlOiBhc3luYyAoaW5zdGFuY2U6IEluc3RhbmNlKSA9PiBuZXcgRnJlZVdoZWVsRXh0ZW5zaW9uKGluc3RhbmNlKSxcblxuICBpc1N1cHBvcnRlZDogKGNvbmZpZzogQ29uZmlnKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIGNvbmZpZy5mcmVld2hlZWwgJiYgY29uZmlnLmZyZWV3aGVlbC5jbGllbnRTaWRlO1xuICB9LFxufSBhcyBNb2R1bGVMb2FkZXI8RnJlZVdoZWVsRXh0ZW5zaW9uPjtcbiIsImltcG9ydCB7IE1lZGlhIH0gZnJvbSAnQHNyYy9tZWRpYS9NZWRpYSc7XG5cbmV4cG9ydCBjbGFzcyBCYXNlTWVkaWEgZXh0ZW5kcyBNZWRpYSB7XG4gIHB1YmxpYyBuYW1lID0gJ2Jhc2UnO1xuXG4gIHB1YmxpYyBhc3luYyBsb2FkKCkge1xuICAgIGF3YWl0IHN1cGVyLmxvYWQoKTtcblxuICAgIHRoaXMuaW5zdGFuY2UucGxheWVyLnNldFNvdXJjZSh0aGlzLmluc3RhbmNlLmZvcm1hdC5zcmMpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJbnN0YW5jZSB9IGZyb20gJ0BzcmMvSW5zdGFuY2UnO1xuaW1wb3J0IHsgQmFzZU1lZGlhIH0gZnJvbSAnQHNyYy9tZWRpYS9CYXNlTWVkaWEvQmFzZU1lZGlhJztcbmltcG9ydCB7XG4gIEZvcm1hdCxcbiAgRm9ybWF0VHlwZXMsXG4gIE1vZHVsZUxvYWRlcixcbiAgTW9kdWxlTG9hZGVyVHlwZXMsXG59IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgQmFzZU1lZGlhTG9hZGVyID0ge1xuICB0eXBlOiBNb2R1bGVMb2FkZXJUeXBlcy5NRURJQSxcblxuICBjcmVhdGU6IChpbnN0YW5jZTogSW5zdGFuY2UpID0+IG5ldyBCYXNlTWVkaWEoaW5zdGFuY2UpLFxuXG4gIGlzU3VwcG9ydGVkOiAoZm9ybWF0OiBGb3JtYXQpOiBib29sZWFuID0+IHtcbiAgICBpZiAoZm9ybWF0LnR5cGUgPT09IEZvcm1hdFR5cGVzLk1QNCB8fCBmb3JtYXQudHlwZSA9PT0gRm9ybWF0VHlwZXMuTU9WKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufSBhcyBNb2R1bGVMb2FkZXI8QmFzZU1lZGlhPjtcbiIsImZ1bmN0aW9uIE1lZGlhU291cmNlRW5naW5lX2lzQnJvd3NlclN1cHBvcnRlZCgpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhKHdpbmRvdyBhcyBhbnkpLk1lZGlhU291cmNlICYmICEhTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkO1xufVxuXG5mdW5jdGlvbiBEcm1FbmdpbmVfaXNCcm93c2VyU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICBjb25zdCBiYXNpYyA9XG4gICAgISEod2luZG93IGFzIGFueSkuTWVkaWFLZXlzICYmXG4gICAgISEod2luZG93IGFzIGFueSkubmF2aWdhdG9yICYmXG4gICAgISEod2luZG93IGFzIGFueSkubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyAmJlxuICAgICEhKHdpbmRvdyBhcyBhbnkpLk1lZGlhS2V5U3lzdGVtQWNjZXNzICYmXG4gICAgISEod2luZG93IGFzIGFueSkuTWVkaWFLZXlTeXN0ZW1BY2Nlc3MucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb247XG5cbiAgcmV0dXJuIGJhc2ljO1xufVxuXG5leHBvcnQgY29uc3QgaXNCcm93c2VyU3VwcG9ydGVkID0gKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBiYXNpYyA9XG4gICAgISEod2luZG93IGFzIGFueSkuUHJvbWlzZSAmJlxuICAgICEhKHdpbmRvdyBhcyBhbnkpLlVpbnQ4QXJyYXkgJiZcbiAgICAhIUFycmF5LnByb3RvdHlwZS5mb3JFYWNoO1xuXG4gIHJldHVybiAoXG4gICAgYmFzaWMgJiZcbiAgICBNZWRpYVNvdXJjZUVuZ2luZV9pc0Jyb3dzZXJTdXBwb3J0ZWQoKSAmJlxuICAgIERybUVuZ2luZV9pc0Jyb3dzZXJTdXBwb3J0ZWQoKVxuICApO1xufTtcbiIsImNvbnN0IGtleVN5c3RlbXMgPSBbXG4gIFsnd2lkZXZpbmUnLCAnY29tLndpZGV2aW5lLmFscGhhJ10sXG5cbiAgWydwbGF5cmVhZHknLCAnY29tLm1pY3Jvc29mdC5wbGF5cmVhZHknXSxcbiAgWydwbGF5cmVhZHknLCAnY29tLnlvdXR1YmUucGxheXJlYWR5J10sXG5cbiAgWydjbGVhcmtleScsICd3ZWJraXQtb3JnLnczLmNsZWFya2V5J10sXG4gIFsnY2xlYXJrZXknLCAnb3JnLnczLmNsZWFya2V5J10sXG5cbiAgWydwcmltZXRpbWUnLCAnY29tLmFkb2JlLnByaW1ldGltZSddLFxuICBbJ3ByaW1ldGltZScsICdjb20uYWRvYmUuYWNjZXNzJ10sXG5cbiAgWydmYWlycGxheScsICdjb20uYXBwbGUuZmFpcnBsYXknXSxcbl07XG5cbmV4cG9ydCBjb25zdCBnZXREcm1TdXBwb3J0ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgaWYgKHZpZGVvLm1lZGlhS2V5cykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGlzS2V5U3lzdGVtU3VwcG9ydGVkID0gYXN5bmMga2V5U3lzdGVtID0+IHtcbiAgICBpZiAoXG4gICAgICAhd2luZG93Lm5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgfHxcbiAgICAgIHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyAhPT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB3aW5kb3cubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhrZXlTeXN0ZW0sIFtcbiAgICAgICAge1xuICAgICAgICAgIGluaXREYXRhVHlwZXM6IFsnY2VuYyddLFxuICAgICAgICAgIHZpZGVvQ2FwYWJpbGl0aWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAndmlkZW8vbXA0O2NvZGVjcz1cImF2YzEuNDJFMDFFXCInLFxuICAgICAgICAgICAgICByb2J1c3RuZXNzOiAnU1dfU0VDVVJFX0NSWVBUTycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZHJtU3VwcG9ydCA9IHt9O1xuICBjb25zdCBrZXlTeXN0ZW1zU3VwcG9ydGVkID0gW107XG5cbiAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAga2V5U3lzdGVtcy5tYXAoYXN5bmMgKFtkcm0sIGtleVN5c3RlbV0pID0+IHtcbiAgICAgIGNvbnN0IHN1cHBvcnRlZCA9IGF3YWl0IGlzS2V5U3lzdGVtU3VwcG9ydGVkKGtleVN5c3RlbSk7XG5cbiAgICAgIGlmIChzdXBwb3J0ZWQpIHtcbiAgICAgICAga2V5U3lzdGVtc1N1cHBvcnRlZC5wdXNoKGtleVN5c3RlbSk7XG5cbiAgICAgICAgaWYgKCFkcm1TdXBwb3J0W2RybV0pIHtcbiAgICAgICAgICBkcm1TdXBwb3J0W2RybV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBkcm1TdXBwb3J0LFxuICAgIGtleVN5c3RlbXNTdXBwb3J0ZWQsXG4gIH07XG59O1xuIiwiaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tICdAc3JjL0luc3RhbmNlJztcbmltcG9ydCB7IGlzQnJvd3NlclN1cHBvcnRlZCB9IGZyb20gJ0BzcmMvbWVkaWEvRGFzaE1lZGlhL2lzQnJvd3NlclN1cHBvcnRlZCc7XG5pbXBvcnQgeyBNZWRpYSB9IGZyb20gJ0BzcmMvbWVkaWEvTWVkaWEnO1xuaW1wb3J0IHtcbiAgRm9ybWF0LFxuICBGb3JtYXRUeXBlcyxcbiAgTW9kdWxlTG9hZGVyLFxuICBNb2R1bGVMb2FkZXJUeXBlcyxcbn0gZnJvbSAnQHNyYy90eXBlcyc7XG5pbXBvcnQgeyBnZXREcm1TdXBwb3J0IH0gZnJvbSAnQHNyYy91dGlscy9nZXREcm1TdXBwb3J0JztcblxuZXhwb3J0IGNvbnN0IERhc2hNZWRpYUxvYWRlciA9IHtcbiAgdHlwZTogTW9kdWxlTG9hZGVyVHlwZXMuTUVESUEsXG5cbiAgY3JlYXRlOiAoaW5zdGFuY2U6IEluc3RhbmNlKSA9PlxuICAgIGltcG9ydCgnQHNyYy9tZWRpYS9EYXNoTWVkaWEvRGFzaE1lZGlhJykudGhlbihcbiAgICAgICh7IERhc2hNZWRpYSB9KSA9PiBuZXcgRGFzaE1lZGlhKGluc3RhbmNlKSxcbiAgICApLFxuXG4gIGlzU3VwcG9ydGVkOiBhc3luYyAoZm9ybWF0OiBGb3JtYXQpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoZm9ybWF0LnR5cGUgIT09IEZvcm1hdFR5cGVzLkRBU0gpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQnJvd3NlclN1cHBvcnRlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5kcm0pIHtcbiAgICAgIGNvbnN0IHN1cHBvcnQ6IGFueSA9IGF3YWl0IGdldERybVN1cHBvcnQoKTtcbiAgICAgIGlmICghc3VwcG9ydC5kcm1TdXBwb3J0LndpZGV2aW5lICYmICFzdXBwb3J0LmRybVN1cHBvcnQucGxheXJlYWR5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbn0gYXMgTW9kdWxlTG9hZGVyPE1lZGlhPjtcbiIsImltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSAnQHNyYy9JbnN0YW5jZSc7XG5pbXBvcnQgeyBNZWRpYSB9IGZyb20gJ0BzcmMvbWVkaWEvTWVkaWEnO1xuaW1wb3J0IHsgSFRNTDVQbGF5ZXIgfSBmcm9tICdAc3JjL3BsYXllci9IVE1MNVBsYXllci9IVE1MNVBsYXllcic7XG5pbXBvcnQgeyBFdmVudHMsIEZvcm1hdCB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuaW1wb3J0IEhsc0pzIGZyb20gJ2hscy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBIbHNNZWRpYSBleHRlbmRzIE1lZGlhIHtcbiAgcHVibGljIG5hbWUgPSAnaGxzanMnO1xuXG4gIHB1YmxpYyBwbGF5ZXI6IGFueTtcblxuICBwdWJsaWMgYXN5bmMgbG9hZCgpIHtcbiAgICBhd2FpdCBzdXBlci5sb2FkKCk7XG5cbiAgICB0aGlzLnBsYXllciA9IG5ldyBIbHNKcyh7XG4gICAgICBhdXRvU3RhcnRMb2FkOiBmYWxzZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IG1lZGlhRWxlbWVudDogSFRNTE1lZGlhRWxlbWVudCA9ICh0aGlzLmluc3RhbmNlLnBsYXllciBhcyBIVE1MNVBsYXllcilcbiAgICAgIC5tZWRpYUVsZW1lbnQ7XG5cbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuICAgIHRoaXMub25jZShFdmVudHMuUExBWUVSX1NUQVRFX1JFQURZLCByZXNvbHZlUHJvbWlzZSk7XG5cbiAgICB0aGlzLnBsYXllci5hdHRhY2hNZWRpYShtZWRpYUVsZW1lbnQpO1xuXG4gICAgdGhpcy5wbGF5ZXIubG9hZFNvdXJjZSh0aGlzLmluc3RhbmNlLmZvcm1hdC5zcmMpO1xuXG4gICAgdGhpcy5wbGF5ZXIuc3RhcnRMb2FkKCk7XG5cbiAgICBhd2FpdCBwcm9taXNlO1xuICB9XG5cbiAgcHVibGljIHVubG9hZCgpIHtcbiAgICB0aGlzLnBsYXllci5kZXN0cm95KCk7XG4gICAgdGhpcy5wbGF5ZXIgPSBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJbnN0YW5jZSB9IGZyb20gJ0BzcmMvSW5zdGFuY2UnO1xuaW1wb3J0IHsgSGxzTWVkaWEgfSBmcm9tICdAc3JjL21lZGlhL0hsc01lZGlhL0hsc01lZGlhJztcbmltcG9ydCB7XG4gIEZvcm1hdCxcbiAgRm9ybWF0VHlwZXMsXG4gIE1vZHVsZUxvYWRlcixcbiAgTW9kdWxlTG9hZGVyVHlwZXMsXG59IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgSGxzTWVkaWFMb2FkZXIgPSB7XG4gIHR5cGU6IE1vZHVsZUxvYWRlclR5cGVzLk1FRElBLFxuXG4gIGNyZWF0ZTogKGluc3RhbmNlOiBJbnN0YW5jZSkgPT4gbmV3IEhsc01lZGlhKGluc3RhbmNlKSxcblxuICBpc1N1cHBvcnRlZDogKGZvcm1hdDogRm9ybWF0KTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKGZvcm1hdC50eXBlICE9PSBGb3JtYXRUeXBlcy5ITFMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBDaGVjayBpZiB3ZSBzdXBwb3J0IEhMUyFcblxuICAgIHJldHVybiB0cnVlO1xuICB9LFxufSBhcyBNb2R1bGVMb2FkZXI8SGxzTWVkaWE+O1xuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQHNyYy9Nb2R1bGUnO1xuaW1wb3J0IHsgSVBsYXllciB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgTW9kdWxlIGltcGxlbWVudHMgSVBsYXllciB7XG4gIHB1YmxpYyBsb2FkKCkge31cblxuICBwdWJsaWMgdW5sb2FkKCkge31cblxuICBwdWJsaWMgcGxheSgpIHt9XG5cbiAgcHVibGljIHBhdXNlKCkge31cblxuICBwdWJsaWMgc2Vla1RvKHRpbWU6IG51bWJlcikge31cblxuICBwdWJsaWMgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7fVxuXG4gIHB1YmxpYyBzZXRTb3VyY2Uoc3JjOiBzdHJpbmcpIHt9XG59XG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICdAc3JjL3BsYXllci9QbGF5ZXInO1xuaW1wb3J0IHsgRXZlbnRzLCBUaW1lVXBkYXRlRXZlbnREYXRhLCBWb2x1bWVDaGFuZ2VFdmVudERhdGEgfSBmcm9tICdAc3JjL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEhUTUw1UGxheWVyIGV4dGVuZHMgUGxheWVyIHtcbiAgcHVibGljIG5hbWUgPSAnaHRtbDUnO1xuXG4gIHB1YmxpYyBtZWRpYUVsZW1lbnQ6IEhUTUxNZWRpYUVsZW1lbnQ7XG5cbiAgcHVibGljIGxvYWQoKSB7XG4gICAgc3VwZXIubG9hZCgpO1xuXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgIHRoaXMubWVkaWFFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMubWVkaWFFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmluc3RhbmNlLnBsYXllckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1lZGlhRWxlbWVudCk7XG5cbiAgICBpZiAodGhpcy5pbnN0YW5jZS5jb25maWcuc2hvd05hdGl2ZUNvbnRyb2xzKSB7XG4gICAgICB0aGlzLm1lZGlhRWxlbWVudC5jb250cm9scyA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChFdmVudHMuUExBWUVSX1NUQVRFX1BMQVkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoRXZlbnRzLlBMQVlFUl9TVEFURV9QQVVTRSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KEV2ZW50cy5QTEFZRVJfU1RBVEVfUExBWUlORyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChFdmVudHMuUExBWUVSX1NUQVRFX0VOREVEKTtcbiAgICB9KTtcblxuICAgIHRoaXMubWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtlZCcsICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChFdmVudHMuUExBWUVSX1NUQVRFX1NFRUtFRCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KEV2ZW50cy5QTEFZRVJfU1RBVEVfVElNRVVQREFURSwge1xuICAgICAgICBjdXJyZW50VGltZTogdGhpcy5tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUsXG4gICAgICB9IGFzIFRpbWVVcGRhdGVFdmVudERhdGEpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoRXZlbnRzLlBMQVlFUl9TVEFURV9SRUFEWSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd3YWl0aW5nJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KEV2ZW50cy5QTEFZRVJfU1RBVEVfV0FJVElORyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd2b2x1bWVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoRXZlbnRzLlBMQVlFUl9TVEFURV9WT0xVTUVDSEFOR0UsIHtcbiAgICAgICAgdm9sdW1lOiB0aGlzLm1lZGlhRWxlbWVudC52b2x1bWUsXG4gICAgICB9IGFzIFZvbHVtZUNoYW5nZUV2ZW50RGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgdW5sb2FkKCkge1xuICAgIGlmICh0aGlzLm1lZGlhRWxlbWVudCkge1xuICAgICAgdGhpcy5tZWRpYUVsZW1lbnQucGF1c2UoKTtcbiAgICAgIHRoaXMubWVkaWFFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICB0aGlzLm1lZGlhRWxlbWVudC5sb2FkKCk7XG4gICAgICB0aGlzLm1lZGlhRWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG4gICAgc3VwZXIudW5sb2FkKCk7XG4gIH1cblxuICBwdWJsaWMgc2V0U291cmNlKHNyYzogc3RyaW5nKSB7XG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuc3JjID0gc3JjO1xuICB9XG5cbiAgcHVibGljIHBsYXkoKSB7XG4gICAgdGhpcy5tZWRpYUVsZW1lbnQucGxheSgpO1xuICB9XG5cbiAgcHVibGljIHBhdXNlKCkge1xuICAgIHRoaXMubWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gIH1cblxuICBwdWJsaWMgc2Vla1RvKHRpbWU6IG51bWJlcikge1xuICAgIHRoaXMubWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGltZTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLm1lZGlhRWxlbWVudC52b2x1bWUgPSB2b2x1bWU7XG4gIH1cbn1cbiIsImltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSAnQHNyYy9JbnN0YW5jZSc7XG5pbXBvcnQgeyBIVE1MNVBsYXllciB9IGZyb20gJ0BzcmMvcGxheWVyL0hUTUw1UGxheWVyL0hUTUw1UGxheWVyJztcbmltcG9ydCB7IE1vZHVsZUxvYWRlciwgTW9kdWxlTG9hZGVyVHlwZXMgfSBmcm9tICdAc3JjL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IEhUTUw1UGxheWVyTG9hZGVyID0ge1xuICB0eXBlOiBNb2R1bGVMb2FkZXJUeXBlcy5QTEFZRVIsXG5cbiAgY3JlYXRlOiAoaW5zdGFuY2U6IEluc3RhbmNlKSA9PiBuZXcgSFRNTDVQbGF5ZXIoaW5zdGFuY2UpLFxuXG4gIGlzU3VwcG9ydGVkOiAoKTogYm9vbGVhbiA9PiB0cnVlLFxufSBhcyBNb2R1bGVMb2FkZXI8SFRNTDVQbGF5ZXI+O1xuIiwiaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tICdAc3JjL0luc3RhbmNlJztcbmltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BzcmMvTW9kdWxlJztcbmltcG9ydCB7IEV2ZW50cywgRnVsbHNjcmVlbkV2ZW50RGF0YSB9IGZyb20gJ0BzcmMvdHlwZXMnO1xuaW1wb3J0ICogYXMgc2NyZWVuZnVsbCBmcm9tICdzY3JlZW5mdWxsJztcblxuZXhwb3J0IGNsYXNzIEZ1bGxzY3JlZW5FeHRlbnNpb24gZXh0ZW5kcyBNb2R1bGUge1xuICBwdWJsaWMgbmFtZSA9ICdmdWxsc2NyZWVuJztcblxuICBjb25zdHJ1Y3RvcihpbnN0YW5jZTogSW5zdGFuY2UpIHtcbiAgICBzdXBlcihpbnN0YW5jZSk7XG5cbiAgICBpZiAoc2NyZWVuZnVsbC5lbmFibGVkKSB7XG4gICAgICB0aGlzLmVtaXQoRXZlbnRzLkZVTExTQ1JFRU5fU1VQUE9SVEVEKTtcblxuICAgICAgc2NyZWVuZnVsbC5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoRXZlbnRzLkZVTExTQ1JFRU5fQ0hBTkdFLCB7XG4gICAgICAgICAgZnVsbHNjcmVlbjogc2NyZWVuZnVsbC5pc0Z1bGxzY3JlZW4sXG4gICAgICAgIH0gYXMgRnVsbHNjcmVlbkV2ZW50RGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVGdWxsc2NyZWVuKCkge1xuICAgIGlmIChzY3JlZW5mdWxsLmVuYWJsZWQpIHtcbiAgICAgIHNjcmVlbmZ1bGwudG9nZ2xlKHRoaXMuaW5zdGFuY2UuY29udGFpbmVyKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEZ1bGxzY3JlZW5FeHRlbnNpb24gfSBmcm9tICdAc3JjL2V4dGVuc2lvbnMvRnVsbHNjcmVlbkV4dGVuc2lvbi9GdWxsc2NyZWVuRXh0ZW5zaW9uJztcbmltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSAnQHNyYy9JbnN0YW5jZSc7XG5pbXBvcnQgeyBNb2R1bGVMb2FkZXIsIE1vZHVsZUxvYWRlclR5cGVzIH0gZnJvbSAnQHNyYy90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBGdWxsc2NyZWVuRXh0ZW5zaW9uTG9hZGVyID0ge1xuICB0eXBlOiBNb2R1bGVMb2FkZXJUeXBlcy5FWFRFTlNJT04sXG5cbiAgY3JlYXRlOiBhc3luYyAoaW5zdGFuY2U6IEluc3RhbmNlKSA9PiBuZXcgRnVsbHNjcmVlbkV4dGVuc2lvbihpbnN0YW5jZSksXG5cbiAgaXNTdXBwb3J0ZWQ6ICgpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbn0gYXMgTW9kdWxlTG9hZGVyPEZ1bGxzY3JlZW5FeHRlbnNpb24+O1xuIiwiaW1wb3J0IHsgQmFzZUNvbnRyb2xsZXJMb2FkZXIgfSBmcm9tICdAc3JjL2NvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXIvQmFzZUNvbnRyb2xsZXJMb2FkZXInO1xuaW1wb3J0IHsgQmVuY2htYXJrRXh0ZW5zaW9uTG9hZGVyIH0gZnJvbSAnQHNyYy9leHRlbnNpb25zL0JlbmNobWFya0V4dGVuc2lvbi9CZW5jaG1hcmtFeHRlbnNpb25Mb2FkZXInO1xuaW1wb3J0IHsgRnJlZVdoZWVsRXh0ZW5zaW9uTG9hZGVyIH0gZnJvbSAnQHNyYy9leHRlbnNpb25zL0ZyZWVXaGVlbEV4dGVuc2lvbi9GcmVlV2hlZWxFeHRlbnNpb25Mb2FkZXInO1xuaW1wb3J0IHsgSW5zdGFuY2UgfSBmcm9tICdAc3JjL0luc3RhbmNlJztcbmltcG9ydCB7IEJhc2VNZWRpYUxvYWRlciB9IGZyb20gJ0BzcmMvbWVkaWEvQmFzZU1lZGlhL0Jhc2VNZWRpYUxvYWRlcic7XG5pbXBvcnQgeyBEYXNoTWVkaWFMb2FkZXIgfSBmcm9tICdAc3JjL21lZGlhL0Rhc2hNZWRpYS9EYXNoTWVkaWFMb2FkZXInO1xuaW1wb3J0IHsgSGxzTWVkaWFMb2FkZXIgfSBmcm9tICdAc3JjL21lZGlhL0hsc01lZGlhL0hsc01lZGlhTG9hZGVyJztcbmltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BzcmMvTW9kdWxlJztcbmltcG9ydCB7IEhUTUw1UGxheWVyTG9hZGVyIH0gZnJvbSAnQHNyYy9wbGF5ZXIvSFRNTDVQbGF5ZXIvSFRNTDVQbGF5ZXJMb2FkZXInO1xuaW1wb3J0IHsgRnVsbHNjcmVlbkV4dGVuc2lvbkxvYWRlciB9IGZyb20gJ0BzcmMvZXh0ZW5zaW9ucy9GdWxsc2NyZWVuRXh0ZW5zaW9uL0Z1bGxzY3JlZW5FeHRlbnNpb25Mb2FkZXInO1xuaW1wb3J0IHtcbiAgRXZlbnRDYWxsYmFjayxcbiAgRXZlbnREYXRhLFxuICBJTW9kdWxlLFxuICBNb2R1bGVMb2FkZXIsXG4gIE1vZHVsZUxvYWRlclR5cGVzLFxufSBmcm9tICdAc3JjL3R5cGVzJztcblxuY29uc3QgbW9kdWxlczogQXJyYXk8TW9kdWxlTG9hZGVyPE1vZHVsZT4+ID0gW1xuICBCYXNlQ29udHJvbGxlckxvYWRlcixcblxuICBCYXNlTWVkaWFMb2FkZXIsXG4gIERhc2hNZWRpYUxvYWRlcixcbiAgSGxzTWVkaWFMb2FkZXIsXG5cbiAgSFRNTDVQbGF5ZXJMb2FkZXIsXG5cbiAgQmVuY2htYXJrRXh0ZW5zaW9uTG9hZGVyLFxuICBGcmVlV2hlZWxFeHRlbnNpb25Mb2FkZXIsXG4gIEZ1bGxzY3JlZW5FeHRlbnNpb25Mb2FkZXIsXG5dO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRmlyc3RTdXBwb3J0ZWQ8VD4oXG4gIHR5cGU6IE1vZHVsZUxvYWRlclR5cGVzLFxuICBpbnN0YW5jZTogSW5zdGFuY2UsXG4gIGlzU3VwcG9ydGVkQXJncz86IGFueSxcbik6IFByb21pc2U8VD4ge1xuICBjb25zdCBpdGVtcyA9IG1vZHVsZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS50eXBlID09PSB0eXBlKTtcblxuICBmb3IgKGNvbnN0IGxvYWRlciBvZiBpdGVtcykge1xuICAgIGlmIChhd2FpdCBsb2FkZXIuaXNTdXBwb3J0ZWQoaXNTdXBwb3J0ZWRBcmdzKSkge1xuICAgICAgcmV0dXJuICgoYXdhaXQgbG9hZGVyLmNyZWF0ZShpbnN0YW5jZSkpIGFzIHVua25vd24pIGFzIFQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBbGxTdXBwb3J0ZWQ8VD4oXG4gIHR5cGU6IE1vZHVsZUxvYWRlclR5cGVzLFxuICBpbnN0YW5jZTogSW5zdGFuY2UsXG4gIGlzU3VwcG9ydGVkQXJncz86IGFueSxcbik6IFByb21pc2U8VFtdPiB7XG4gIGNvbnN0IGl0ZW1zID0gbW9kdWxlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09IHR5cGUpO1xuXG4gIGNvbnN0IGluc3RhbmNlczogVFtdID0gW107XG5cbiAgZm9yIChjb25zdCBsb2FkZXIgb2YgaXRlbXMpIHtcbiAgICBpZiAoYXdhaXQgbG9hZGVyLmlzU3VwcG9ydGVkKGlzU3VwcG9ydGVkQXJncykpIHtcbiAgICAgIGluc3RhbmNlcy5wdXNoKCgoYXdhaXQgbG9hZGVyLmNyZWF0ZShpbnN0YW5jZSkpIGFzIHVua25vd24pIGFzIFQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbnN0YW5jZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRNb2R1bGVMb2FkZXIobW9kOiBNb2R1bGVMb2FkZXI8TW9kdWxlPikge1xuICBtb2R1bGVzLnB1c2gobW9kKTtcbn1cbiIsImltcG9ydCB7IEVycm9yQ29kZXMgfSBmcm9tICdAc3JjL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFBsYXllckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwdWJsaWMgY29kZTogRXJyb3JDb2RlcztcblxuICBjb25zdHJ1Y3Rvcihjb2RlOiBFcnJvckNvZGVzKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gIH1cbn1cbiIsImltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSAnQHNyYy9JbnN0YW5jZSc7XG5pbXBvcnQgeyBNZWRpYSB9IGZyb20gJ0BzcmMvbWVkaWEvTWVkaWEnO1xuaW1wb3J0IHsgY3JlYXRlRmlyc3RTdXBwb3J0ZWQgfSBmcm9tICdAc3JjL01vZHVsZUxvYWRlcic7XG5pbXBvcnQgeyBGb3JtYXQsIE1vZHVsZUxvYWRlclR5cGVzIH0gZnJvbSAnQHNyYy90eXBlcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RNZWRpYShcbiAgaW5zdGFuY2U6IEluc3RhbmNlLFxuICBzb3VyY2VzOiBGb3JtYXRbXSxcbik6IFByb21pc2U8W0Zvcm1hdCwgTWVkaWFdPiB7XG4gIGZvciAoY29uc3QgZm9ybWF0IG9mIHNvdXJjZXMpIHtcbiAgICBjb25zdCBtZWRpYSA9IGF3YWl0IGNyZWF0ZUZpcnN0U3VwcG9ydGVkPE1lZGlhPihcbiAgICAgIE1vZHVsZUxvYWRlclR5cGVzLk1FRElBLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBmb3JtYXQsXG4gICAgKTtcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIHJldHVybiBbZm9ybWF0LCBtZWRpYV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtudWxsLCBudWxsXTtcbn1cbiIsIi8qIGdsb2JhbCBCbG9iICovXG4vLyBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkLiBEbyBub3QgZWRpdCB0aGlzIGZpbGUgZGlyZWN0bHkuXG4vLyBDb21tYW5kOiAnbnBtIHJ1biBnZW5lcmF0ZScgc2hvdWxkIGJlIHVzZWQgdG8gdXBkYXRlIHRoZSBjb250ZW50LlxuXG4vKipcbiAqIEB0eXBlIHtCbG9ifVxuICovXG52YXIgQVVESU8gPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoWzI1NSwgMjI3LCAyNCwgMTk2LCAwLCAwLCAwLCAzLCA3MiwgMSwgNjQsIDAsIDAsIDQsIDEzMiwgMTYsIDMxLCAyMjcsIDE5MiwgMjI1LCA3NiwgMjU1LCA2NywgMTIsIDI1NSwgMjIxLCAyNywgMjU1LCAyMjgsIDk3LCA3MywgNjMsIDI1NSwgMTk1LCAxMzEsIDY5LCAxOTIsIDIzMiwgMjIzLCAyNTUsIDI1NSwgMjA3LCAxMDIsIDIzOSwgMjU1LCAyNTUsIDI1NSwgMTAxLCAxNTgsIDIwNiwgNzAsIDIwLCA1OSwgMjU1LCAyNTQsIDk1LCA3MCwgMTQ5LCA2NiwgNCwgMTYsIDEyOCwgMCwgMiwgMiwgMzIsIDI0MCwgMTM4LCAyNTUsIDM2LCAxMDYsIDE4MywgMjU1LCAyMjcsIDI0LCAxOTYsIDU5LCAxMSwgMzQsIDYyLCA4MCwgNDksIDEzNSwgNDAsIDAsIDI1MywgMjksIDE5MSwgMjA5LCAyMDAsIDE0MSwgNzEsIDcsIDI1NSwgMjUyLCAxNTIsIDc0LCAxNSwgMTMwLCAzMywgMTg1LCA2LCA2MywgMjU1LCAyNTIsIDE5NSwgNzAsIDIwMywgODYsIDUzLCAxNSwgMjU1LCAyNTUsIDI0NywgMTAzLCA3NiwgMTIxLCA2NCwgMzIsIDQ3LCAyNTUsIDM0LCAyMjcsIDE5NCwgMjA5LCAxMzgsIDc2LCA2NSwgNzcsIDY5LCA1MSwgNDYsIDU3LCA1NSwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAyNTUsIDIyNywgMjQsIDE5NiwgNzMsIDEzLCAxNTMsIDIxMCwgMTAwLCA4MSwgMTM1LCA1NiwgMCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzAsIDE3MCwgMTcwLCAxNzBdKV0sIHsgdHlwZTogJ2F1ZGlvL21wZWcnIH0pO1xuXG4vKipcbiAqIEB0eXBlIHtCbG9ifVxuICovXG52YXIgVklERU8gPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDI4LCAxMDIsIDExNiwgMTIxLCAxMTIsIDEwNSwgMTE1LCAxMTEsIDEwOSwgMCwgMCwgMiwgMCwgMTA1LCAxMTUsIDExMSwgMTA5LCAxMDUsIDExNSwgMTExLCA1MCwgMTA5LCAxMTIsIDUyLCA0OSwgMCwgMCwgMCwgOCwgMTAyLCAxMTQsIDEwMSwgMTAxLCAwLCAwLCAyLCAyMzksIDEwOSwgMTAwLCA5NywgMTE2LCAzMywgMTYsIDUsIDMyLCAxNjQsIDI3LCAyNTUsIDE5MiwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgNTUsIDE2NywgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMTEyLCAzMywgMTYsIDUsIDMyLCAxNjQsIDI3LCAyNTUsIDE5MiwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgNTUsIDE2NywgMTI4LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxMTIsIDAsIDAsIDIsIDE5NCwgMTA5LCAxMTEsIDExMSwgMTE4LCAwLCAwLCAwLCAxMDgsIDEwOSwgMTE4LCAxMDQsIDEwMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMywgMjMyLCAwLCAwLCAwLCA0NywgMCwgMSwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgNjQsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDMsIDAsIDAsIDEsIDIzNiwgMTE2LCAxMTQsIDk3LCAxMDcsIDAsIDAsIDAsIDkyLCAxMTYsIDEwNywgMTA0LCAxMDAsIDAsIDAsIDAsIDMsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDIsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDQ3LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCA2NCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMzYsIDEwMSwgMTAwLCAxMTYsIDExNSwgMCwgMCwgMCwgMjgsIDEwMSwgMTA4LCAxMTUsIDExNiwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgNDcsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDEsIDEwMCwgMTA5LCAxMDAsIDEwNSwgOTcsIDAsIDAsIDAsIDMyLCAxMDksIDEwMCwgMTA0LCAxMDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDE3MiwgNjgsIDAsIDAsIDgsIDAsIDg1LCAxOTYsIDAsIDAsIDAsIDAsIDAsIDQ1LCAxMDQsIDEwMCwgMTA4LCAxMTQsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDExNSwgMTExLCAxMTcsIDExMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgODMsIDExMSwgMTE3LCAxMTAsIDEwMCwgNzIsIDk3LCAxMTAsIDEwMCwgMTA4LCAxMDEsIDExNCwgMCwgMCwgMCwgMSwgMTUsIDEwOSwgMTA1LCAxMTAsIDEwMiwgMCwgMCwgMCwgMTYsIDExNSwgMTA5LCAxMDQsIDEwMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMzYsIDEwMCwgMTA1LCAxMTAsIDEwMiwgMCwgMCwgMCwgMjgsIDEwMCwgMTE0LCAxMDEsIDEwMiwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMTIsIDExNywgMTE0LCAxMDgsIDMyLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAyMTEsIDExNSwgMTE2LCA5OCwgMTA4LCAwLCAwLCAwLCAxMDMsIDExNSwgMTE2LCAxMTUsIDEwMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgODcsIDEwOSwgMTEyLCA1MiwgOTcsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDIsIDAsIDE2LCAwLCAwLCAwLCAwLCAxNzIsIDY4LCAwLCAwLCAwLCAwLCAwLCA1MSwgMTAxLCAxMTUsIDEwMCwgMTE1LCAwLCAwLCAwLCAwLCAzLCAxMjgsIDEyOCwgMTI4LCAzNCwgMCwgMiwgMCwgNCwgMTI4LCAxMjgsIDEyOCwgMjAsIDY0LCAyMSwgMCwgMCwgMCwgMCwgMSwgMjQ0LCAwLCAwLCAxLCAyNDMsIDI0OSwgNSwgMTI4LCAxMjgsIDEyOCwgMiwgMTgsIDE2LCA2LCAxMjgsIDEyOCwgMTI4LCAxLCAyLCAwLCAwLCAwLCAyNCwgMTE1LCAxMTYsIDExNiwgMTE1LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAyLCAwLCAwLCA0LCAwLCAwLCAwLCAwLCAyOCwgMTE1LCAxMTYsIDExNSwgOTksIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDIsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDI4LCAxMTUsIDExNiwgMTE1LCAxMjIsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDIsIDAsIDAsIDEsIDExNSwgMCwgMCwgMSwgMTE2LCAwLCAwLCAwLCAyMCwgMTE1LCAxMTYsIDk5LCAxMTEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDQ0LCAwLCAwLCAwLCA5OCwgMTE3LCAxMDAsIDExNiwgOTcsIDAsIDAsIDAsIDkwLCAxMDksIDEwMSwgMTE2LCA5NywgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMzMsIDEwNCwgMTAwLCAxMDgsIDExNCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMTA5LCAxMDAsIDEwNSwgMTE0LCA5NywgMTEyLCAxMTIsIDEwOCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgNDUsIDEwNSwgMTA4LCAxMTUsIDExNiwgMCwgMCwgMCwgMzcsIDE2OSwgMTE2LCAxMTEsIDExMSwgMCwgMCwgMCwgMjksIDEwMCwgOTcsIDExNiwgOTcsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDc2LCA5NywgMTE4LCAxMDIsIDUzLCA1NCwgNDYsIDUyLCA0OCwgNDYsIDQ5LCA0OCwgNDldKV0sIHsgdHlwZTogJ3ZpZGVvL21wNCcgfSk7XG5cbi8qIGdsb2JhbCBVUkwgKi9cbmZ1bmN0aW9uIHNldHVwRGVmYXVsdFZhbHVlcyhvcHRpb25zKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICBtdXRlZDogZmFsc2UsXG4gICAgdGltZW91dDogMjUwLFxuICAgIGlubGluZTogZmFsc2VcbiAgfSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0UGxheWJhY2soX3JlZiwgZWxlbWVudENhbGxiYWNrKSB7XG4gIHZhciBtdXRlZCA9IF9yZWYubXV0ZWQsXG4gICAgICB0aW1lb3V0ID0gX3JlZi50aW1lb3V0LFxuICAgICAgaW5saW5lID0gX3JlZi5pbmxpbmU7XG5cbiAgdmFyIF9lbGVtZW50Q2FsbGJhY2sgPSBlbGVtZW50Q2FsbGJhY2soKSxcbiAgICAgIGVsZW1lbnQgPSBfZWxlbWVudENhbGxiYWNrLmVsZW1lbnQsXG4gICAgICBzb3VyY2UgPSBfZWxlbWVudENhbGxiYWNrLnNvdXJjZTtcblxuICB2YXIgcGxheVJlc3VsdCA9IHZvaWQgMDtcbiAgdmFyIHRpbWVvdXRJZCA9IHZvaWQgMDtcbiAgdmFyIHNlbmRPdXRwdXQgPSB2b2lkIDA7XG5cbiAgZWxlbWVudC5tdXRlZCA9IG11dGVkO1xuICBpZiAobXV0ZWQgPT09IHRydWUpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnbXV0ZWQnKTtcbiAgfVxuICAvLyBpbmRpY2F0ZXMgdGhhdCB0aGUgdmlkZW8gaXMgdG8gYmUgcGxheWVkIFwiaW5saW5lXCIsXG4gIC8vIHRoYXQgaXMgd2l0aGluIHRoZSBlbGVtZW50J3MgcGxheWJhY2sgYXJlYS5cbiAgaWYgKGlubGluZSA9PT0gdHJ1ZSkge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICdwbGF5c2lubGluZScpO1xuICB9XG5cbiAgZWxlbWVudC5zcmMgPSBzb3VyY2U7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgcGxheVJlc3VsdCA9IGVsZW1lbnQucGxheSgpO1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VuZE91dHB1dChmYWxzZSwgbmV3IEVycm9yKCdUaW1lb3V0ICcgKyB0aW1lb3V0ICsgJyBtcyBoYXMgYmVlbiByZWFjaGVkJykpO1xuICAgIH0sIHRpbWVvdXQpO1xuICAgIHNlbmRPdXRwdXQgPSBmdW5jdGlvbiBzZW5kT3V0cHV0KHJlc3VsdCkge1xuICAgICAgdmFyIGVycm9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIHJlc29sdmUoeyByZXN1bHQ6IHJlc3VsdCwgZXJyb3I6IGVycm9yIH0pO1xuICAgIH07XG5cbiAgICBpZiAocGxheVJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwbGF5UmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2VuZE91dHB1dCh0cnVlKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChwbGF5RXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHNlbmRPdXRwdXQoZmFsc2UsIHBsYXlFcnJvcik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VuZE91dHB1dCh0cnVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vL1xuLy8gQVBJXG4vL1xuXG5mdW5jdGlvbiB2aWRlbyhvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBzZXR1cERlZmF1bHRWYWx1ZXMob3B0aW9ucyk7XG4gIHJldHVybiBzdGFydFBsYXliYWNrKG9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSxcbiAgICAgIHNvdXJjZTogVVJMLmNyZWF0ZU9iamVjdFVSTChWSURFTylcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXVkaW8ob3B0aW9ucykge1xuICBvcHRpb25zID0gc2V0dXBEZWZhdWx0VmFsdWVzKG9wdGlvbnMpO1xuICByZXR1cm4gc3RhcnRQbGF5YmFjayhvcHRpb25zLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyksXG4gICAgICBzb3VyY2U6IFVSTC5jcmVhdGVPYmplY3RVUkwoQVVESU8pXG4gICAgfTtcbiAgfSk7XG59XG5cbnZhciBpbmRleCA9IHsgYXVkaW86IGF1ZGlvLCB2aWRlbzogdmlkZW8gfTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG4iLCJpbXBvcnQgeyBFbnYgfSBmcm9tICdAc3JjL3R5cGVzJztcbmltcG9ydCBjYW5BdXRvcGxheUxpYiBmcm9tICdjYW4tYXV0b3BsYXknO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW52KCk6IFByb21pc2U8RW52PiB7XG4gIGNvbnN0IHVzZXJBZ2VudDogc3RyaW5nID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICBjb25zdCBjYW5BdXRvcGxheTogYm9vbGVhbiA9IChhd2FpdCBjYW5BdXRvcGxheUxpYi52aWRlbygpKS5yZXN1bHQ7XG5cbiAgY29uc3QgaXNTYWZhcmk6IGJvb2xlYW4gPVxuICAgIC9zYWZhcmkvaS50ZXN0KHVzZXJBZ2VudCkgJiYgdXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID09PSAtMTtcblxuICBjb25zdCBpc0VkZ2U6IGJvb2xlYW4gPSAvZWRnZS9pLnRlc3QodXNlckFnZW50KTtcblxuICBjb25zdCBpc0lFOiBib29sZWFuID1cbiAgICBCb29sZWFuKHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB8fCAvdHJpZGVudC4qcnY6MVxcZC9pLnRlc3QodXNlckFnZW50KTtcblxuICBjb25zdCBpc0Nocm9tZTogYm9vbGVhbiA9IC9jaHJvbWUvaS50ZXN0KHVzZXJBZ2VudCkgJiYgIWlzRWRnZTtcblxuICBjb25zdCBpc01vYmlsZTogYm9vbGVhbiA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxXaW5kb3dzIFBob25lfElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KFxuICAgIHVzZXJBZ2VudCxcbiAgKTtcblxuICBjb25zdCBpc0lPUzogYm9vbGVhbiA9IC9pUGFkfGlQaG9uZXxpUG9kL2kudGVzdCh1c2VyQWdlbnQpO1xuXG4gIGNvbnN0IGlzRmFjZWJvb2s6IGJvb2xlYW4gPVxuICAgIC9GQkFOL2kudGVzdCh1c2VyQWdlbnQpICYmIC9GQkFWL2kudGVzdCh1c2VyQWdlbnQpO1xuXG4gIGNvbnN0IGVudjogRW52ID0ge1xuICAgIGlzU2FmYXJpLFxuICAgIGlzRWRnZSxcbiAgICBpc0lFLFxuICAgIGlzQ2hyb21lLFxuICAgIGlzTW9iaWxlLFxuICAgIGlzSU9TLFxuICAgIGlzRmFjZWJvb2ssXG4gICAgY2FuQXV0b3BsYXksXG4gIH07XG5cbiAgcmV0dXJuIGVudjtcbn1cbiIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICdAc3JjL2NvbnRyb2xsZXIvQ29udHJvbGxlcic7XG5pbXBvcnQgeyBNZWRpYSB9IGZyb20gJ0BzcmMvbWVkaWEvTWVkaWEnO1xuaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQHNyYy9Nb2R1bGUnO1xuaW1wb3J0IHsgY3JlYXRlQWxsU3VwcG9ydGVkLCBjcmVhdGVGaXJzdFN1cHBvcnRlZCB9IGZyb20gJ0BzcmMvTW9kdWxlTG9hZGVyJztcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJ0BzcmMvcGxheWVyL1BsYXllcic7XG5pbXBvcnQgeyBQbGF5ZXJFcnJvciB9IGZyb20gJ0BzcmMvUGxheWVyRXJyb3InO1xuaW1wb3J0IHsgc2VsZWN0TWVkaWEgfSBmcm9tICdAc3JjL3NlbGVjdE1lZGlhJztcbmltcG9ydCAnQHNyYy9zdHlsZXMuY3NzJztcbmltcG9ydCB7XG4gIENvbmZpZyxcbiAgRW52LFxuICBFcnJvckNvZGVzLFxuICBFcnJvckV2ZW50RGF0YSxcbiAgRXZlbnRDYWxsYmFjayxcbiAgRXZlbnREYXRhLFxuICBFdmVudHMsXG4gIEZvcm1hdCxcbiAgSUluc3RhbmNlLFxuICBNb2R1bGVMb2FkZXJUeXBlcyxcbn0gZnJvbSAnQHNyYy90eXBlcyc7XG5pbXBvcnQgeyBnZXRFbnYgfSBmcm9tICdAc3JjL3V0aWxzL2dldEVudic7XG5pbXBvcnQgKiBhcyBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5cbmV4cG9ydCBjbGFzcyBJbnN0YW5jZSBpbXBsZW1lbnRzIElJbnN0YW5jZSB7XG4gIC8qKlxuICAgKiBUaGUgaW5pdGlhbCBwbGF5ZXIgY29uZmlnLlxuICAgKiBAdHlwZSB7Q29uZmlnfVxuICAgKi9cbiAgcHVibGljIGNvbmZpZzogQ29uZmlnO1xuXG4gIC8qKlxuICAgKiBUaGUgcm9vdCBjb250YWluZXIuXG4gICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIHB1YmxpYyBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBDb250YWluZXIgc3BlY2lmaWNhbGx5IGZvciB0aGUgdmlkZW8gZWxlbWVudC5cbiAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgcHVibGljIHBsYXllckNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgcHVibGljIGFkc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgcHVibGljIHVpQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICBwdWJsaWMgZW52OiBFbnY7XG5cbiAgcHVibGljIGNvbnRyb2xsZXI6IENvbnRyb2xsZXI7XG5cbiAgcHVibGljIHBsYXllcjogUGxheWVyO1xuXG4gIHB1YmxpYyBtZWRpYTogTWVkaWE7XG5cbiAgcHVibGljIGZvcm1hdDogRm9ybWF0O1xuXG4gIHB1YmxpYyBleHRlbnNpb25zOiBNb2R1bGVbXTtcblxuICAvKipcbiAgICogQWxsb3cgdGhlIGluc3RhbmNlIHRvIGVtaXQgYW5kIGxpc3RlbiB0byBldmVudHMuXG4gICAqIEB0eXBlIHtFdmVudEVtaXR0ZXJ9XG4gICAqL1xuICBwcml2YXRlIGVtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCwgY29uZmlnOiBDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIHRoaXMuY3JlYXRlQ29udGFpbmVycyhlbGVtZW50KTtcblxuICAgIHRoaXMuaW5pdChjb25maWcpO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZUNvbnRhaW5lcnMoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2lnLWNvbnRhaW5lcicpO1xuXG4gICAgdGhpcy5wbGF5ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnBsYXllckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdpZy1wbGF5ZXInKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnBsYXllckNvbnRhaW5lcik7XG5cbiAgICB0aGlzLmFkc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuYWRzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2lnLWFkcycpO1xuICAgIHRoaXMuYWRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hZHNDb250YWluZXIpO1xuXG4gICAgdGhpcy51aUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMudWlDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaWctdWknKTtcbiAgICB0aGlzLnVpQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy51aUNvbnRhaW5lcik7XG5cbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBpbml0KGNvbmZpZzogQ29uZmlnKSB7XG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIHRoaXMuZW52ID0gYXdhaXQgZ2V0RW52KCk7XG5cbiAgICAvLyBOb3cgdGhhdCB3ZSBrbm93IHdlIGNhbiBhdXRvcGxheSwgYWN0dWFsbHkgZG8gaXQuXG4gICAgaWYgKHRoaXMuY2FuQXV0b3BsYXkoKSkge1xuICAgICAgdGhpcy5vbmNlKEV2ZW50cy5QTEFZRVJfU1RBVEVfUkVBRFksICgpID0+IHRoaXMucGxheSgpKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBhd2FpdCBjcmVhdGVGaXJzdFN1cHBvcnRlZDxDb250cm9sbGVyPihcbiAgICAgIE1vZHVsZUxvYWRlclR5cGVzLkNPTlRST0xMRVIsXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy5jb25maWcsXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLmNvbnRyb2xsZXIuYm9vdCgpO1xuXG4gICAgdGhpcy5leHRlbnNpb25zID0gYXdhaXQgY3JlYXRlQWxsU3VwcG9ydGVkPE1vZHVsZT4oXG4gICAgICBNb2R1bGVMb2FkZXJUeXBlcy5FWFRFTlNJT04sXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy5jb25maWcsXG4gICAgKTtcblxuICAgIHRoaXMucGxheWVyID0gYXdhaXQgY3JlYXRlRmlyc3RTdXBwb3J0ZWQ8UGxheWVyPihcbiAgICAgIE1vZHVsZUxvYWRlclR5cGVzLlBMQVlFUixcbiAgICAgIHRoaXMsXG4gICAgKTtcblxuICAgIGNvbnN0IFtmb3JtYXQsIG1lZGlhXSA9IGF3YWl0IHNlbGVjdE1lZGlhKHRoaXMsIGNvbmZpZy5zb3VyY2VzKTtcblxuICAgIGlmICghZm9ybWF0KSB7XG4gICAgICB0aGlzLnNldEVycm9yKG5ldyBQbGF5ZXJFcnJvcihFcnJvckNvZGVzLk5PX1NVUFBPUlRFRF9GT1JNQVRfRk9VTkQpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDtcbiAgICB0aGlzLm1lZGlhID0gbWVkaWE7XG5cbiAgICBhd2FpdCB0aGlzLmNvbnRyb2xsZXIubG9hZCgpO1xuXG4gICAgdGhpcy5lbWl0KEV2ZW50cy5SRUFEWSk7XG4gIH1cblxuICBwdWJsaWMgb24gPSAobmFtZTogc3RyaW5nLCBjYWxsYmFjazogRXZlbnRDYWxsYmFjaykgPT5cbiAgICB0aGlzLmVtaXR0ZXIub24obmFtZSwgY2FsbGJhY2spO1xuXG4gIHB1YmxpYyBvbmNlID0gKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spID0+XG4gICAgdGhpcy5lbWl0dGVyLm9uY2UobmFtZSwgY2FsbGJhY2spO1xuXG4gIHB1YmxpYyBlbWl0ID0gKG5hbWU6IHN0cmluZywgZXZlbnREYXRhPzogRXZlbnREYXRhKSA9PlxuICAgIHRoaXMuZW1pdHRlci5lbWl0KG5hbWUsIGV2ZW50RGF0YSk7XG5cbiAgcHVibGljIHBsYXkoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLnBsYXkoKTtcbiAgfVxuXG4gIHB1YmxpYyBwYXVzZSgpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIucGF1c2UoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZWVrVG8odGltZTogbnVtYmVyKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLnNlZWtUbyh0aW1lKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gIH1cblxuICBwdWJsaWMgc2V0RXJyb3IoZXJyb3I6IFBsYXllckVycm9yKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLnVubG9hZCgpO1xuICAgIHRoaXMuZW1pdChFdmVudHMuRVJST1IsIHtcbiAgICAgIGVycm9yLFxuICAgIH0gYXMgRXJyb3JFdmVudERhdGEpO1xuICB9XG5cbiAgcHVibGljIGNhbkF1dG9wbGF5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5hdXRvcGxheSAmJiB0aGlzLmVudi5jYW5BdXRvcGxheTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIHRoaXMuZW1pdChFdmVudHMuREVTVFJPWSk7XG5cbiAgICB0aGlzLmVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLmNvbnRyb2xsZXIudW5sb2FkKCk7XG5cbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBudWxsO1xuICAgIHRoaXMucGxheWVyID0gbnVsbDtcbiAgICB0aGlzLmZvcm1hdCA9IG51bGw7XG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG5cbiAgICBjb25zdCBkaXY6IEhUTUxFbGVtZW50ID0gdGhpcy5jb250YWluZXI7XG4gICAgd2hpbGUgKGRpdi5maXJzdENoaWxkKSB7XG4gICAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJbnN0YW5jZSB9IGZyb20gJ0BzcmMvSW5zdGFuY2UnO1xuaW1wb3J0IHsgYWRkTW9kdWxlTG9hZGVyIH0gZnJvbSAnQHNyYy9Nb2R1bGVMb2FkZXInO1xuaW1wb3J0IHsgZXhwb3NlRW51bSB9IGZyb20gJ0BzcmMvdXRpbHMvZXhwb3NlRW51bSc7XG5pbXBvcnQgeyBDb25maWcsIE1vZHVsZUxvYWRlclR5cGVzIH0gZnJvbSAnLi90eXBlcyc7XG5cbmRlY2xhcmUgdmFyICBfX3dlYnBhY2tfcHVibGljX3BhdGhfXzpzdHJpbmc7XG5cbmV4cG9ydCBjb25zdCBJbmRpZ29QbGF5ZXIgPSB7XG4gIFZFUlNJT046ICdleHBlcmltZW50YWwnLFxuICBzZXRDaHVua3NQYXRoKGNodW5rc1BhdGg6IHN0cmluZykge1xuICAgIF9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gY2h1bmtzUGF0aDtcbiAgfSxcbiAgaW5pdChlbGVtZW50OiBIVE1MRWxlbWVudCwgY29uZmlnOiBDb25maWcpIHtcbiAgICByZXR1cm4gbmV3IEluc3RhbmNlKGVsZW1lbnQsIGNvbmZpZyk7XG4gIH0sXG4gIGFkZE1vZHVsZUxvYWRlcixcbiAgTW9kdWxlTG9hZGVyVHlwZXM6IGV4cG9zZUVudW0oTW9kdWxlTG9hZGVyVHlwZXMpLFxufTtcbiIsImltcG9ydCBwaWNrQnkgZnJvbSAnbG9kYXNoL3BpY2tCeSc7XG5cbmV4cG9ydCBjb25zdCBleHBvc2VFbnVtOiBhbnkgPSBvYmogPT5cbiAgcGlja0J5KG9iaiwgdHlwZSA9PiB0eXBlb2YgdHlwZSA9PT0gJ251bWJlcicpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==